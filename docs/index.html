<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>zsh</title>

<meta name="description" content="zsh">
<meta name="keywords" content="zsh">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#g_t_76ee_5f55" rel="start" title="目录">
<link href="#g_t_6982_5ff5_7d22_5f15" rel="index" title="概念索引">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<link href="#Z-Shell-_624b_518c" rel="next" title="Z Shell 手册">
<link href="dir.html#Top" rel="prev" title="(dir)">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter-printindex {text-decoration: none}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
td.printindex-index-entry {vertical-align: top}
td.printindex-index-section {vertical-align: top; padding-left: 1em}
th.entries-header-printindex {text-align:left}
th.sections-header-printindex {text-align:left; padding-left: 1em}
ul.mark-bullet {list-style-type: disc}
ul.toc-numbered-mark {list-style: none}
.emph {
	font-weight:bold;
	color:red;

}

-->
</style>


</head>

<body lang="en">



<div class="top-level-extent" id="g_t_76ee_5f55">
<h1 class="top" id="Z-Shell-Shou-Ce-"><span>Z Shell 手册<a class="copiable-link" href="#Z-Shell-Shou-Ce-"> &para;</a></span></h1>

<div class="element-contents" id="SEC_Contents">
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="toc-numbered-mark">
  <li><a id="toc-Z-Shell-Shou-Ce--1" href="#Z-Shell-_624b_518c">1 Z Shell 手册</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Cong-zsh_002etexi-Zhi-Zuo-WenDang-" href="#Cong-zsh_002etexi-Zhi-Zuo-WenDang-">1.1 从 zsh.texi 制作文档</a></li>
  </ul></li>
  <li><a id="toc-Jian-Jie-" href="#g_t_7b80_4ecb">2 简介</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Zuo-Zhe-" href="#g_t_4f5c_8005">2.1 作者</a></li>
    <li><a id="toc-Ke-Yong-Xing-" href="#g_t_53ef_7528_6027">2.2 可用性</a></li>
    <li><a id="toc-You-Jian-Lie-Biao-" href="#g_t_90ae_4ef6_5217_8868">2.3 邮件列表</a></li>
    <li><a id="toc-Zsh-Chang-Jian-Wen-Ti-" href="#Zsh-_5e38_89c1_95ee_9898">2.4 Zsh 常见问题</a></li>
    <li><a id="toc-Zsh-Wang-Ye-" href="#Zsh-_7f51_9875">2.5 Zsh 网页</a></li>
    <li><a id="toc-Zsh-Yong-Hu-Zhi-Nan-" href="#Zsh-_7528_6237_6307_5357">2.6 Zsh 用户指南</a></li>
    <li><a id="toc-LingQing-Can-Jian-" href="#g_t_53e6_8bf7_53c2_89c1">2.7 另请参见</a></li>
  </ul></li>
  <li><a id="toc-Lu-Xian-Tu-" href="#g_t_8def_7ebf_56fe">3 路线图</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Dang-shell-Qi-Dong-Shi-" href="#Dang-shell-Qi-Dong-Shi-">3.1 当 shell 启动时</a></li>
    <li><a id="toc-Hu-Dong-Shi-Shi-Yong-" href="#Hu-Dong-Shi-Shi-Yong-">3.2 互动式使用</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Bu-Quan-" href="#Bu-Quan-">3.2.1 补全</a></li>
      <li><a id="toc-Kuo-Zhan-Xing-Bian-Ji-Qi-" href="#Kuo-Zhan-Xing-Bian-Ji-Qi-">3.2.2 扩展行编辑器</a></li>
    </ul></li>
    <li><a id="toc-Xuan-Xiang-" href="#Xuan-Xiang-">3.3 选项</a></li>
    <li><a id="toc-Mo-Shi-Pi-Pei-" href="#Mo-Shi-Pi-Pei-">3.4 模式匹配</a></li>
    <li><a id="toc-Guan-Yu-Yu-Fa-De-YiBan-Xing-Ping-Lun-" href="#Guan-Yu-Yu-Fa-De-YiBan-Xing-Ping-Lun-">3.5 关于语法的一般性评论</a></li>
    <li><a id="toc-Bian-Cheng-" href="#Bian-Cheng-">3.6 编程</a></li>
  </ul></li>
  <li><a id="toc-Diao-Yong-" href="#g_t_8c03_7528">4 调用</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Diao-Yong--1" href="#Diao-Yong--1">4.1 调用</a></li>
    <li><a id="toc-Jian-Rong-Xing-" href="#g_t_517c_5bb9_6027">4.2 兼容性</a></li>
    <li><a id="toc-Shou-Xian-De-Shell" href="#g_t_53d7_9650_7684-Shell">4.3 受限的 Shell</a></li>
  </ul></li>
  <li><a id="toc-WenJian-" href="#g_t_6587_4ef6">5 文件</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Qi-Dong-_002fGuan-Bi-WenJian-" href="#Qi-Dong-_002fGuan-Bi-WenJian-">5.1 启动/关闭文件</a></li>
    <li><a id="toc-WenJian--1" href="#WenJian--1">5.2 文件</a></li>
  </ul></li>
  <li><a id="toc-Shell-Yu-Fa-" href="#Shell-_8bed_6cd5">6 Shell 语法</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Jian-Dan-Ming-Ling-He-Guan-Dao-" href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">6.1 简单命令和管道</a></li>
    <li><a id="toc-Qian-Zhi-Ming-Ling-Xiu-Shi-Fu-" href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">6.2 前置命令修饰符</a></li>
    <li><a id="toc-Fu-Za-Ming-Ling-" href="#g_t_590d_6742_547d_4ee4">6.3 复杂命令</a></li>
    <li><a id="toc-Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-" href="#g_t_590d_6742_547d_4ee4_7684_66ff_4ee3_5f62_5f0f">6.4 复杂命令的替代形式</a></li>
    <li><a id="toc-Bao-Liu-Zi-" href="#g_t_4fdd_7559_5b57">6.5 保留字</a></li>
    <li><a id="toc-Cuo-Wu-" href="#g_t_9519_8bef">6.6 错误</a></li>
    <li><a id="toc-Zhu-Shi-" href="#g_t_6ce8_91ca">6.7 注释</a></li>
    <li><a id="toc-Bie-Ming-" href="#g_t_522b_540d">6.8 别名</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Bie-Ming-De-Wen-Ti-" href="#Bie-Ming-De-Wen-Ti-">6.8.1 别名的问题</a></li>
    </ul></li>
    <li><a id="toc-Yin-Yong-" href="#g_t_5f15_7528">6.9 引用</a></li>
  </ul></li>
  <li><a id="toc-Zhong-Ding-Xiang-" href="#g_t_91cd_5b9a_5411">7 重定向</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shi-Yong-Can-Shu-Da-Kai-WenJian-Miao-Shu-Fu-" href="#Shi-Yong-Can-Shu-Da-Kai-WenJian-Miao-Shu-Fu-">7.1 使用参数打开文件描述符</a></li>
    <li><a id="toc-Multios" href="#Multios">7.2 Multios</a></li>
    <li><a id="toc-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-" href="#Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-">7.3 没有命令的重定向</a></li>
  </ul></li>
  <li><a id="toc-Ming-Ling-Zhi-Xing-" href="#g_t_547d_4ee4_6267_884c">8 命令执行</a></li>
  <li><a id="toc-Han-Shu-" href="#g_t_51fd_6570">9 函数</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Zi-Dong-Jia-Zai-Han-Shu-" href="#Zi-Dong-Jia-Zai-Han-Shu-">9.1 自动加载函数</a></li>
    <li><a id="toc-Ni-Ming-Han-Shu-" href="#Ni-Ming-Han-Shu-">9.2 匿名函数</a></li>
    <li><a id="toc-Te-Shu-Han-Shu-" href="#Te-Shu-Han-Shu-">9.3 特殊函数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Gou-Zi-Han-Shu-" href="#Gou-Zi-Han-Shu-">9.3.1 钩子函数</a></li>
      <li><a id="toc-Xian-Jing-Han-Shu-" href="#Xian-Jing-Han-Shu-">9.3.2 陷阱函数</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Zuo-Ye-He-Xin-Hao-" href="#g_t_4f5c_4e1a_548c_4fe1_53f7">10 作业和信号</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Zuo-Ye-" href="#Zuo-Ye-">10.1 作业</a></li>
    <li><a id="toc-Xin-Hao-" href="#Xin-Hao-">10.2 信号</a></li>
  </ul></li>
  <li><a id="toc-Suan-Zhu-Qiu-Zhi-" href="#g_t_7b97_672f_6c42_503c">11 算术求值</a></li>
  <li><a id="toc-Tiao-Jian-Biao-Da-Shi-" href="#g_t_6761_4ef6_8868_8fbe_5f0f">12 条件表达式</a></li>
  <li><a id="toc-Ti-ShiFu-Kuo-Zhan-" href="#g_t_63d0_793a_7b26_6269_5c55">13 提示符扩展</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Kuo-Zhan-Ti-ShiFu-Xu-Lie-" href="#Kuo-Zhan-Ti-ShiFu-Xu-Lie-">13.1 扩展提示符序列</a></li>
    <li><a id="toc-Jian-Dan-De-Ti-ShiFu-Zhuan-Yi-" href="#Jian-Dan-De-Ti-ShiFu-Zhuan-Yi-">13.2 简单的提示符转义</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Te-Shu-Zi-Fu-" href="#Te-Shu-Zi-Fu-">13.2.1 特殊字符</a></li>
      <li><a id="toc-Deng-Lu-Xin-Xi-" href="#Deng-Lu-Xin-Xi-">13.2.2 登录信息</a></li>
      <li><a id="toc-shell-Zhuang-Tai-" href="#shell-Zhuang-Tai-">13.2.3 shell 状态</a></li>
      <li><a id="toc-Ri-Qi-He-Shi-Jian-" href="#Ri-Qi-He-Shi-Jian-">13.2.4 日期和时间</a></li>
      <li><a id="toc-Shi-Jue-Xiao-Guo-" href="#Shi-Jue-Xiao-Guo-">13.2.5 视觉效果</a></li>
    </ul></li>
    <li><a id="toc-Ti-ShiFu-ZhongDe-Tiao-Jian-Zi-Zi-Fu-Chuan-" href="#Ti-ShiFu-ZhongDe-Tiao-Jian-Zi-Zi-Fu-Chuan-">13.3 提示符中的条件子字符串</a></li>
  </ul></li>
  <li><a id="toc-Kuo-Zhan-" href="#g_t_6269_5c55">14 扩展</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Li-Shi-Kuo-Zhan-" href="#g_t_5386_53f2_6269_5c55">14.1 历史扩展</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Gai-Shu-" href="#g_t_6982_8ff0">14.1.1 概述</a></li>
      <li><a id="toc-Shi-Jian-Zhi-ShiQi-" href="#g_t_4e8b_4ef6_6307_793a_5668">14.1.2 事件指示器</a></li>
      <li><a id="toc-Dan-Ci-Zhi-ShiQi-" href="#g_t_5355_8bcd_6307_793a_5668">14.1.3 单词指示器</a></li>
      <li><a id="toc-Xiu-Shi-Fu-" href="#g_t_4fee_9970_7b26">14.1.4 修饰符</a></li>
    </ul></li>
    <li><a id="toc-Jin-Cheng-Ti-Huan-" href="#g_t_8fdb_7a0b_66ff_6362">14.2 进程替换</a></li>
    <li><a id="toc-Can-Shu-Kuo-Zhan-" href="#g_t_53c2_6570_6269_5c55">14.3 参数扩展</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Can-Shu-Kuo-Zhan-Biao-Zhi-" href="#Can-Shu-Kuo-Zhan-Biao-Zhi-">14.3.1 参数扩展标志</a></li>
      <li><a id="toc-Rules" href="#Rules">14.3.2 Rules</a></li>
      <li><a id="toc-ShiLi" href="#ShiLi">14.3.3 示例</a></li>
    </ul></li>
    <li><a id="toc-Ming-Ling-Ti-Huan-" href="#g_t_547d_4ee4_66ff_6362">14.4 命令替换</a></li>
    <li><a id="toc-Suan-Zhu-Kuo-Zhan-" href="#g_t_7b97_672f_6269_5c55">14.5 算术扩展</a></li>
    <li><a id="toc-Gua-Hao-Kuo-Zhan-" href="#g_t_62ec_53f7_6269_5c55">14.6 括号扩展</a></li>
    <li><a id="toc-WenJian-Ming-Kuo-Zhan-" href="#g_t_6587_4ef6_540d_6269_5c55">14.7 文件名扩展</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Dong-Tai-Ming-Ming-Mu-Lu-" href="#g_t_52a8_6001_547d_540d_76ee_5f55">14.7.1 动态命名目录</a></li>
      <li><a id="toc-Jing-Tai-Ming-Ming-Mu-Lu-" href="#g_t_9759_6001_547d_540d_76ee_5f55">14.7.2 静态命名目录</a></li>
      <li><a id="toc-_0060_003d_0027-Kuo-Zhan-" href="#g_t_0060_003d_0027-_6269_5c55">14.7.3 &lsquo;=&rsquo; 扩展</a></li>
      <li><a id="toc-Zhu-Yi-" href="#g_t_6ce8_610f">14.7.4 注意</a></li>
    </ul></li>
    <li><a id="toc-WenJian-Ming-Sheng-Cheng-" href="#g_t_6587_4ef6_540d_751f_6210">14.8 文件名生成</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Glob-Cao-Zuo-Fu-" href="#Glob-Cao-Zuo-Fu-">14.8.1 Glob 操作符</a></li>
      <li><a id="toc-Lei-ksh-Glob-Cao-Zuo-Fu-" href="#Lei-ksh-Glob-Cao-Zuo-Fu-">14.8.2 类ksh Glob 操作符</a></li>
      <li><a id="toc-You-Xian-Ji-" href="#You-Xian-Ji-">14.8.3 优先级</a></li>
      <li><a id="toc-Globbing-Biao-Zhi-" href="#Globbing-Biao-Zhi-">14.8.4 Globbing 标志</a></li>
      <li><a id="toc-Jin-Si-Pi-Pei-" href="#Jin-Si-Pi-Pei-">14.8.5 近似匹配</a></li>
      <li><a id="toc-Di-Gui-Globbing" href="#Di-Gui-Globbing">14.8.6 递归 Globbing</a></li>
      <li><a id="toc-Glob-Xian-Ding-Fu-" href="#Glob-Xian-Ding-Fu-">14.8.7 Glob 限定符</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Can-Shu-" href="#g_t_53c2_6570">15 参数</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming-" href="#Shuo-Ming-">15.1 说明</a></li>
    <li><a id="toc-Shu-Zu-Can-Shu-" href="#g_t_6570_7ec4_53c2_6570">15.2 数组参数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Shu-Zu-Xia-Biao-" href="#Shu-Zu-Xia-Biao-">15.2.1 数组下标</a></li>
      <li><a id="toc-Shu-Zu-Yuan-Su-Fu-Zhi-" href="#Shu-Zu-Yuan-Su-Fu-Zhi-">15.2.2 数组元素赋值</a></li>
      <li><a id="toc-Xia-Biao-Biao-Zhi-" href="#Xia-Biao-Biao-Zhi-">15.2.3 下标标志</a></li>
      <li><a id="toc-Xia-Biao-Jie-Xi-" href="#Xia-Biao-Jie-Xi-">15.2.4 下标解析</a></li>
    </ul></li>
    <li><a id="toc-Wei-Zhi-Can-Shu-" href="#g_t_4f4d_7f6e_53c2_6570">15.3 位置参数</a></li>
    <li><a id="toc-Ju-Bu-Can-Shu-" href="#g_t_5c40_90e8_53c2_6570">15.4 局部参数</a></li>
    <li><a id="toc-You-Shell-She-Zhi-De-Can-Shu-" href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">15.5 由 Shell 设置的参数</a></li>
    <li><a id="toc-Shell-Shi-Yong-De-Can-Shu-" href="#Shell-_4f7f_7528_7684_53c2_6570">15.6 Shell 使用的参数</a></li>
  </ul></li>
  <li><a id="toc-Xuan-Xiang--1" href="#g_t_9009_9879">16 选项</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Zhi-Ding-Xuan-Xiang-" href="#g_t_6307_5b9a_9009_9879">16.1 指定选项</a></li>
    <li><a id="toc-Xuan-Xiang-Shuo-Ming-" href="#g_t_9009_9879_8bf4_660e">16.2 选项说明</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Gai-Bian-Mu-Lu-" href="#Gai-Bian-Mu-Lu-">16.2.1 改变目录</a></li>
      <li><a id="toc-Bu-Quan--1" href="#Bu-Quan--1">16.2.2 补全</a></li>
      <li><a id="toc-Kuo-Zhan-He-Globbing" href="#Kuo-Zhan-He-Globbing">16.2.3 扩展和 Globbing</a></li>
      <li><a id="toc-Li-Shi-" href="#Li-Shi-">16.2.4 历史</a></li>
      <li><a id="toc-Chu-Shi-She-Zhi-" href="#Chu-Shi-She-Zhi-">16.2.5 初始设置</a></li>
      <li><a id="toc-Shu-Ru-_002fShu-Chu-" href="#Shu-Ru-_002fShu-Chu-">16.2.6 输入/输出</a></li>
      <li><a id="toc-Zuo-Ye-Kong-Zhi-" href="#Zuo-Ye-Kong-Zhi-">16.2.7 作业控制</a></li>
      <li><a id="toc-Ti-Shi" href="#Ti-Shi">16.2.8 提示</a></li>
      <li><a id="toc-Jiao-Ben-He-Han-Shu-" href="#Jiao-Ben-He-Han-Shu-">16.2.9 脚本和函数</a></li>
      <li><a id="toc-Shell-Fang-Zhen-" href="#Shell-Fang-Zhen-">16.2.10 Shell 仿真</a></li>
      <li><a id="toc-Shell-Zhuang-Tai-" href="#Shell-Zhuang-Tai-">16.2.11 Shell 状态</a></li>
      <li><a id="toc-Zle" href="#Zle">16.2.12 Zle</a></li>
    </ul></li>
    <li><a id="toc-Option-Bie-Ming-" href="#Option-_522b_540d">16.3 Option 别名</a></li>
    <li><a id="toc-Dan-Zi-Mu-Xuan-Xiang-" href="#g_t_5355_5b57_6bcd_9009_9879">16.4 单字母选项</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Mo-Ren-Ji-_0028set_0029" href="#Mo-Ren-Ji-_0028set_0029">16.4.1 默认集(set)</a></li>
      <li><a id="toc-sh_002fksh-Mo-Ni-Ji-" href="#sh_002fksh-Mo-Ni-Ji-">16.4.2 sh/ksh 模拟集</a></li>
      <li><a id="toc-LingQing-Zhu-Yi-" href="#LingQing-Zhu-Yi-">16.4.3 另请注意</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Shell-Nei-Zhi-Ming-Ling-" href="#Shell-_5185_7f6e_547d_4ee4">17 Shell 内置命令</a></li>
  <li><a id="toc-Zsh-Xing-Bian-Ji-Qi-" href="#Zsh-_884c_7f16_8f91_5668">18 Zsh 行编辑器</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--1" href="#Shuo-Ming--1">18.1 说明</a></li>
    <li><a id="toc-Jian-Ying-She-" href="#g_t_952e_6620_5c04">18.2 键映射</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Du-Qu-Ming-Ling-" href="#Du-Qu-Ming-Ling-">18.2.1 读取命令</a></li>
      <li><a id="toc-Ben-Di-Jian-Ying-She-" href="#Ben-Di-Jian-Ying-She-">18.2.2 本地键映射</a></li>
    </ul></li>
    <li><a id="toc-Zle-Nei-Zhi-Ming-Ling-" href="#Zle-_5185_7f6e_547d_4ee4">18.3 Zle 内置命令</a></li>
    <li><a id="toc-Zle-Xiao-Bu-Jian-" href="#Zle-_5c0f_90e8_4ef6">18.4 Zle 小部件</a></li>
    <li><a id="toc-Yong-Hu-Ding-Yi-Xiao-Bu-Jian-" href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">18.5 用户定义小部件</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Te-Shu-Xiao-Bu-Jian-" href="#Te-Shu-Xiao-Bu-Jian-">18.5.1 特殊小部件</a></li>
    </ul></li>
    <li><a id="toc-Biao-Zhun-Xiao-Bu-Jian-" href="#g_t_6807_51c6_5c0f_90e8_4ef6">18.6 标准小部件</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Yi-Dong-" href="#g_t_79fb_52a8">18.6.1 移动</a></li>
      <li><a id="toc-Li-Shi-Kong-Zhi-" href="#g_t_5386_53f2_63a7_5236">18.6.2 历史控制</a></li>
      <li><a id="toc-Xiu-Gai-WenBen-" href="#g_t_4fee_6539_6587_672c">18.6.3 修改文本</a></li>
      <li><a id="toc-Shi-Can-" href="#g_t_5b9e_53c2">18.6.4 实参</a></li>
      <li><a id="toc-Bu-Quan--2" href="#g_t_8865_5168">18.6.5 补全</a></li>
      <li><a id="toc-Za-Xiang-" href="#g_t_6742_9879">18.6.6 杂项</a></li>
      <li><a id="toc-WenBen-Dui-Xiang-" href="#g_t_6587_672c_5bf9_8c61">18.6.7 文本对象</a></li>
    </ul></li>
    <li><a id="toc-Zi-Fu-Gao-Liang-" href="#g_t_5b57_7b26_9ad8_4eae">18.7 字符高亮</a></li>
  </ul></li>
  <li><a id="toc-Bu-Quan-Xiao-Bu-Jian-" href="#g_t_8865_5168_5c0f_90e8_4ef6">19 补全小部件</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--2" href="#Shuo-Ming--2">19.1 说明</a></li>
    <li><a id="toc-Bu-Quan-Te-Shu-Can-Shu-" href="#g_t_8865_5168_7279_6b8a_53c2_6570">19.2 补全特殊参数</a></li>
    <li><a id="toc-Bu-Quan-Nei-Zhi-Ming-Ling-" href="#g_t_8865_5168_5185_7f6e_547d_4ee4">19.3 补全内置命令</a></li>
    <li><a id="toc-Bu-Quan-Tiao-Jian-Dai-Ma-" href="#g_t_8865_5168_6761_4ef6_4ee3_7801">19.4 补全条件代码</a></li>
    <li><a id="toc-Bu-Quan-Pi-Pei-Kong-Zhi-" href="#g_t_8865_5168_5339_914d_63a7_5236">19.5 补全匹配控制</a></li>
    <li><a id="toc-Bu-Quan-Xiao-Bu-Jian-Ju-Li" href="#g_t_8865_5168_5c0f_90e8_4ef6_4e3e_4f8b">19.6 补全小部件举例</a></li>
  </ul></li>
  <li><a id="toc-Bu-Quan-Xi-Tong-" href="#g_t_8865_5168_7cfb_7edf">20 补全系统</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--3" href="#Shuo-Ming--3">20.1 说明</a></li>
    <li><a id="toc-Chu-Shi-Hua-" href="#g_t_521d_59cb_5316">20.2 初始化</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-compinit-De-Shi-Yong-" href="#compinit-De-Shi-Yong-">20.2.1 compinit 的使用</a></li>
      <li><a id="toc-Zi-Dong-Jia-Zai-De-WenJian-" href="#Zi-Dong-Jia-Zai-De-WenJian-">20.2.2 自动加载的文件</a></li>
      <li><a id="toc-Han-Shu--1" href="#Han-Shu--1">20.2.3 函数</a></li>
    </ul></li>
    <li><a id="toc-Bu-Quan-Xi-Tong-Pei-Zhi-" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">20.3 补全系统配置</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Gai-Shu--1" href="#Gai-Shu--1">20.3.1 概述</a></li>
      <li><a id="toc-Biao-Zhun-Biao-Ji-" href="#Biao-Zhun-Biao-Ji-">20.3.2 标准标记</a></li>
      <li><a id="toc-Biao-Zhun-Yang-Shi-" href="#Biao-Zhun-Yang-Shi-">20.3.3 标准样式</a></li>
    </ul></li>
    <li><a id="toc-Kong-Zhi-Han-Shu-" href="#g_t_63a7_5236_51fd_6570">20.4 控制函数</a></li>
    <li><a id="toc-Ke-Bang-Ding-Ming-Ling-" href="#g_t_53ef_7ed1_5b9a_547d_4ee4">20.5 可绑定命令</a></li>
    <li><a id="toc-Shi-Yong-Han-Shu-" href="#g_t_8865_5168_51fd_6570">20.6 实用函数</a></li>
    <li><a id="toc-Bu-Quan-Xi-Tong-Bian-Liang-" href="#g_t_8865_5168_7cfb_7edf_53d8_91cf">20.7 补全系统变量</a></li>
    <li><a id="toc-Bu-Quan-Mu-Lu-" href="#g_t_8865_5168_76ee_5f55">20.8 补全目录</a></li>
  </ul></li>
  <li><a id="toc-Yong-compctl-Bu-Quan-" href="#g_t_7528-compctl-_8865_5168">21 用 compctl 补全</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Bu-Quan-De-Lei-Xing-" href="#Bu-Quan-De-Lei-Xing-">21.1 补全的类型</a></li>
    <li><a id="toc-Shuo-Ming--4" href="#Shuo-Ming--4">21.2 说明</a></li>
    <li><a id="toc-Ming-Ling-Biao-Zhi-" href="#g_t_547d_4ee4_6807_5fd7">21.3 命令标志</a></li>
    <li><a id="toc-Xuan-Xiang-Biao-Zhi-" href="#g_t_9009_9879_6807_5fd7">21.4 选项标志</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Jian-Dan-Biao-Zhi-" href="#g_t_7b80_5355_6807_5fd7">21.4.1 简单标志</a></li>
      <li><a id="toc-Dai-Can-Shu-De-Biao-Zhi-" href="#g_t_5e26_53c2_6570_7684_6807_5fd7">21.4.2 带参数的标志</a></li>
      <li><a id="toc-Kong-Zhi-Biao-Zhi-" href="#g_t_63a7_5236_6807_5fd7">21.4.3 控制标志</a></li>
    </ul></li>
    <li><a id="toc-Bei-Xuan-Bu-Quan-" href="#g_t_5907_9009_8865_5168">21.5 备选补全</a></li>
    <li><a id="toc-Kuo-Zhan-Bu-Quan-" href="#g_t_6269_5c55_8865_5168">21.6 扩展补全</a></li>
    <li><a id="toc-Ju-Li" href="#g_t_4e3e_4f8b">21.7 举例</a></li>
  </ul></li>
  <li><a id="toc-Zsh-Mo-Kuai-" href="#Zsh-_6a21_5757">22 Zsh 模块</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--5" href="#Shuo-Ming--5">22.1 说明</a></li>
    <li><a id="toc-zsh_002fattr-Mo-Kuai-" href="#zsh_002fattr-_6a21_5757">22.2 zsh/attr 模块</a></li>
    <li><a id="toc-zsh_002fcap-Mo-Kuai-" href="#zsh_002fcap-_6a21_5757">22.3 zsh/cap 模块</a></li>
    <li><a id="toc-zsh_002fclone-Mo-Kuai-" href="#zsh_002fclone-_6a21_5757">22.4 zsh/clone 模块</a></li>
    <li><a id="toc-zsh_002fcompctl-Mo-Kuai-" href="#zsh_002fcompctl-_6a21_5757">22.5 zsh/compctl 模块</a></li>
    <li><a id="toc-zsh_002fcomplete-Mo-Kuai-" href="#zsh_002fcomplete-_6a21_5757">22.6 zsh/complete 模块</a></li>
    <li><a id="toc-zsh_002fcomplist-Mo-Kuai-" href="#zsh_002fcomplist-_6a21_5757">22.7 zsh/complist 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Cai-Se-Bu-Quan-Lie-Biao-" href="#Cai-Se-Bu-Quan-Lie-Biao-">22.7.1 彩色补全列表</a></li>
      <li><a id="toc-Zai-Bu-Quan-Lie-Biao-ZhongGun-Dong-" href="#Zai-Bu-Quan-Lie-Biao-ZhongGun-Dong-">22.7.2 在补全列表中滚动</a></li>
      <li><a id="toc-Cai-Dan-Xuan-Ze-" href="#Cai-Dan-Xuan-Ze-">22.7.3 菜单选择</a></li>
    </ul></li>
    <li><a id="toc-zsh_002fcomputil-Mo-Kuai-" href="#zsh_002fcomputil-_6a21_5757">22.8 zsh/computil 模块</a></li>
    <li><a id="toc-zsh_002fcurses-Mo-Kuai-" href="#zsh_002fcurses-_6a21_5757">22.9 zsh/curses 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Nei-Zhi-Cheng-Xu-" href="#Nei-Zhi-Cheng-Xu-">22.9.1 内置程序</a></li>
      <li><a id="toc-Can-Shu--1" href="#Can-Shu--1">22.9.2 参数</a></li>
    </ul></li>
    <li><a id="toc-zsh_002fdatetime-Mo-Kuai-" href="#zsh_002fdatetime-_6a21_5757">22.10 zsh/datetime 模块</a></li>
    <li><a id="toc-zsh_002fdb_002fgdbm-Mo-Kuai-" href="#zsh_002fdb_002fgdbm-_6a21_5757">22.11 zsh/db/gdbm 模块</a></li>
    <li><a id="toc-zsh_002fdeltochar-Mo-Kuai-" href="#zsh_002fdeltochar-_6a21_5757">22.12 zsh/deltochar 模块</a></li>
    <li><a id="toc-zsh_002fexample-Mo-Kuai-" href="#zsh_002fexample-_6a21_5757">22.13 zsh/example 模块</a></li>
    <li><a id="toc-zsh_002ffiles-Mo-Kuai-" href="#zsh_002ffiles-_6a21_5757">22.14 zsh/files 模块</a></li>
    <li><a id="toc-zsh_002flanginfo-Mo-Kuai-" href="#zsh_002flanginfo-_6a21_5757">22.15 zsh/langinfo 模块</a></li>
    <li><a id="toc-zsh_002fmapfile-Mo-Kuai-" href="#zsh_002fmapfile-_6a21_5757">22.16 zsh/mapfile 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Ju-Xian-Xing-" href="#Ju-Xian-Xing-">22.16.1 局限性</a></li>
    </ul></li>
    <li><a id="toc-zsh_002fmathfunc-Mo-Kuai-" href="#zsh_002fmathfunc-_6a21_5757">22.17 zsh/mathfunc 模块</a></li>
    <li><a id="toc-zsh_002fnearcolor-Mo-Kuai-" href="#zsh_002fnearcolor-_6a21_5757">22.18 zsh/nearcolor 模块</a></li>
    <li><a id="toc-zsh_002fnewuser-Mo-Kuai-" href="#zsh_002fnewuser-_6a21_5757">22.19 zsh/newuser 模块</a></li>
    <li><a id="toc-zsh_002fparameter-Mo-Kuai-" href="#zsh_002fparameter-_6a21_5757">22.20 zsh/parameter 模块</a></li>
    <li><a id="toc-zsh_002fpcre-Mo-Kuai-" href="#zsh_002fpcre-_6a21_5757">22.21 zsh/pcre 模块</a></li>
    <li><a id="toc-zsh_002fparam_002fprivate-Mo-Kuai-" href="#zsh_002fparam_002fprivate-_6a21_5757">22.22 zsh/param/private 模块</a></li>
    <li><a id="toc-zsh_002fregex-Mo-Kuai-" href="#zsh_002fregex-_6a21_5757">22.23 zsh/regex 模块</a></li>
    <li><a id="toc-zsh_002fsched-Mo-Kuai-" href="#zsh_002fsched-_6a21_5757">22.24 zsh/sched 模块</a></li>
    <li><a id="toc-zsh_002fnet_002fsocket-Mo-Kuai-" href="#zsh_002fnet_002fsocket-_6a21_5757">22.25 zsh/net/socket 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Chu-Zhan-Lian-Jie-" href="#Chu-Zhan-Lian-Jie-">22.25.1 出站连接</a></li>
      <li><a id="toc-Ru-Zhan-Lian-Jie-" href="#Ru-Zhan-Lian-Jie-">22.25.2 入站连接</a></li>
    </ul></li>
    <li><a id="toc-zsh_002fstat-Mo-Kuai-" href="#zsh_002fstat-_6a21_5757">22.26 zsh/stat 模块</a></li>
    <li><a id="toc-zsh_002fsystem-Mo-Kuai-" href="#zsh_002fsystem-_6a21_5757">22.27 zsh/system 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Nei-Zhi-Ming-Ling-" href="#Nei-Zhi-Ming-Ling-">22.27.1 内置命令</a></li>
      <li><a id="toc-Shu-XueHan-Shu-" href="#Shu-XueHan-Shu-">22.27.2 数学函数</a></li>
      <li><a id="toc-Can-Shu--2" href="#Can-Shu--2">22.27.3 参数</a></li>
    </ul></li>
    <li><a id="toc-zsh_002fnet_002ftcp-Mo-Kuai-" href="#zsh_002fnet_002ftcp-_6a21_5757">22.28 zsh/net/tcp 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Chu-Zhan-Lian-Jie--1" href="#Chu-Zhan-Lian-Jie--1">22.28.1 出站连接</a></li>
      <li><a id="toc-Ru-Zhan-Lian-Jie--1" href="#Ru-Zhan-Lian-Jie--1">22.28.2 入站连接</a></li>
      <li><a id="toc-Guan-Bi-Lian-Jie-" href="#Guan-Bi-Lian-Jie-">22.28.3 关闭连接</a></li>
      <li><a id="toc-Ju-Li-1" href="#Ju-Li-1">22.28.4 举例</a></li>
    </ul></li>
    <li><a id="toc-zsh_002ftermcap-Mo-Kuai-" href="#zsh_002ftermcap-_6a21_5757">22.29 zsh/termcap 模块</a></li>
    <li><a id="toc-zsh_002fterminfo-Mo-Kuai-" href="#zsh_002fterminfo-_6a21_5757">22.30 zsh/terminfo 模块</a></li>
    <li><a id="toc-zsh_002fwatch-Mo-Kuai-" href="#zsh_002fwatch-_6a21_5757">22.31 zsh/watch 模块</a></li>
    <li><a id="toc-zsh_002fzftp-Mo-Kuai-" href="#zsh_002fzftp-_6a21_5757">22.32 zsh/zftp 模块</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Zi-Ming-Ling-" href="#Zi-Ming-Ling-">22.32.1 子命令</a></li>
      <li><a id="toc-Can-Shu--3" href="#Can-Shu--3">22.32.2 参数</a></li>
      <li><a id="toc-Han-Shu--2" href="#Han-Shu--2">22.32.3 函数</a></li>
      <li><a id="toc-Wen-Ti-" href="#Wen-Ti-">22.32.4 问题</a></li>
    </ul></li>
    <li><a id="toc-zsh_002fzle-Mo-Kuai-" href="#zsh_002fzle-_6a21_5757">22.33 zsh/zle 模块</a></li>
    <li><a id="toc-zsh_002fzleparameter-Mo-Kuai-" href="#zsh_002fzleparameter-_6a21_5757">22.34 zsh/zleparameter 模块</a></li>
    <li><a id="toc-zsh_002fzprof-Mo-Kuai-" href="#zsh_002fzprof-_6a21_5757">22.35 zsh/zprof 模块</a></li>
    <li><a id="toc-zsh_002fzpty-Mo-Kuai-" href="#zsh_002fzpty-_6a21_5757">22.36 zsh/zpty 模块</a></li>
    <li><a id="toc-zsh_002fzselect-Mo-Kuai-" href="#zsh_002fzselect-_6a21_5757">22.37 zsh/zselect 模块</a></li>
    <li><a id="toc-zsh_002fzutil-Mo-Kuai-" href="#zsh_002fzutil-_6a21_5757">22.38 zsh/zutil 模块</a></li>
  </ul></li>
  <li><a id="toc-Ri-Li-Han-Shu-Xi-Tong-" href="#g_t_65e5_5386_51fd_6570_7cfb_7edf">23 日历函数系统</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--6" href="#Shuo-Ming--6">23.1 说明</a></li>
    <li><a id="toc-WenJian-He-Ri-Qi-Ge-Shi-" href="#g_t_65e5_5386_6587_4ef6_548c_65e5_671f_683c_5f0f">23.2 文件和日期格式</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Ri-Li-WenJian-Ge-Shi-" href="#Ri-Li-WenJian-Ge-Shi-">23.2.1 日历文件格式</a></li>
      <li><a id="toc-Ri-Qi-Ge-Shi-" href="#Ri-Qi-Ge-Shi-">23.2.2 日期格式</a></li>
      <li><a id="toc-Xiang-Guan-Shi-Jian-Ge-Shi-" href="#Xiang-Guan-Shi-Jian-Ge-Shi-">23.2.3 相关时间格式</a></li>
      <li><a id="toc-Ju-Li-2" href="#Ju-Li-2">23.2.4 举例</a></li>
    </ul></li>
    <li><a id="toc-Yong-Hu-Han-Shu-" href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">23.3 用户函数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Ri-Li-Xi-Tong-Han-Shu-" href="#Ri-Li-Xi-Tong-Han-Shu-">23.3.1 日历系统函数</a></li>
      <li><a id="toc-Glob-Xian-Ding-Fu--1" href="#Glob-Xian-Ding-Fu--1">23.3.2 Glob 限定符</a></li>
    </ul></li>
    <li><a id="toc-Yang-Shi-" href="#g_t_65e5_5386_6837_5f0f">23.4 样式</a></li>
    <li><a id="toc-Shi-Yong-Han-Shu--1" href="#g_t_65e5_5386_5b9e_7528_51fd_6570">23.5 实用函数</a></li>
    <li><a id="toc-Cuo-Wu--1" href="#g_t_65e5_5386_95ee_9898">23.6 错误</a></li>
  </ul></li>
  <li><a id="toc-TCP-Han-Shu-Xi-Tong-" href="#TCP-_51fd_6570_7cfb_7edf">24 TCP 函数系统</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--7" href="#Shuo-Ming--7">24.1 说明</a></li>
    <li><a id="toc-TCP-Yong-Hu-Han-Shu-" href="#TCP-_51fd_6570">24.2 TCP 用户函数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Ji-Ben-I_002fO" href="#Ji-Ben-I_002fO">24.2.1 基本 I/O</a></li>
      <li><a id="toc-Hui-Hua-Guan-Li-" href="#Hui-Hua-Guan-Li-">24.2.2 会话管理</a></li>
      <li><a id="toc-Gao-Ji-I_002fO" href="#Gao-Ji-I_002fO">24.2.3 高级 I/O</a></li>
      <li><a id="toc-_0060One_002dshot_0027-WenJian-Chuan-Shu-" href="#g_t_0060One_002dshot_0027-WenJian-Chuan-Shu-">24.2.4 &lsquo;One-shot&rsquo; 文件传输</a></li>
    </ul></li>
    <li><a id="toc-TCP-Yong-Hu-Ding-Yi-Han-Shu-" href="#TCP-Yong-Hu-Ding-Yi-Han-Shu-">24.3 TCP 用户定义函数</a></li>
    <li><a id="toc-TCP-Shi-Yong-Han-Shu-" href="#TCP-Shi-Yong-Han-Shu-">24.4 TCP 实用函数</a></li>
    <li><a id="toc-TCP-Yong-Hu-Can-Shu-" href="#TCP-_53c2_6570">24.5 TCP 用户参数</a></li>
    <li><a id="toc-TCP-Yong-Hu-Ding-Yi-Can-Shu-" href="#TCP-Yong-Hu-Ding-Yi-Can-Shu-">24.6 TCP 用户定义参数</a></li>
    <li><a id="toc-TCP-Shi-Yong-Can-Shu-" href="#TCP-Shi-Yong-Can-Shu-">24.7 TCP 实用参数</a></li>
    <li><a id="toc-TCP-ShiLi" href="#TCP-_793a_4f8b">24.8 TCP 示例</a></li>
    <li><a id="toc-TCP-Wen-Ti-" href="#TCP-_95ee_9898">24.9 TCP 问题</a></li>
  </ul></li>
  <li><a id="toc-Zftp-Han-Shu-Xi-Tong-" href="#Zftp-_51fd_6570_7cfb_7edf">25 Zftp 函数系统</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--8" href="#Shuo-Ming--8">25.1 说明</a></li>
    <li><a id="toc-An-Zhuang-" href="#g_t_5b89_88c5">25.2 安装</a></li>
    <li><a id="toc-Han-Shu--3" href="#Zftp-_51fd_6570">25.3 函数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Da-Kai-Lian-Jie-" href="#Da-Kai-Lian-Jie-">25.3.1 打开连接</a></li>
      <li><a id="toc-Mu-Lu-Guan-Li-" href="#Mu-Lu-Guan-Li-">25.3.2 目录管理</a></li>
      <li><a id="toc-Zhuang-Tai-Ming-Ling-" href="#Zhuang-Tai-Ming-Ling-">25.3.3 状态命令</a></li>
      <li><a id="toc-Jian-Suo-WenJian-" href="#Jian-Suo-WenJian-">25.3.4 检索文件</a></li>
      <li><a id="toc-Fa-Song-WenJian-" href="#Fa-Song-WenJian-">25.3.5 发送文件</a></li>
      <li><a id="toc-Guan-Bi-Lian-Jie--1" href="#Guan-Bi-Lian-Jie--1">25.3.6 关闭连接</a></li>
      <li><a id="toc-Hui-Hua-Guan-Li--1" href="#Hui-Hua-Guan-Li--1">25.3.7 会话管理</a></li>
      <li><a id="toc-Shu-Qian-" href="#Shu-Qian-">25.3.8 书签</a></li>
      <li><a id="toc-Qi-Ta-Han-Shu-" href="#Qi-Ta-Han-Shu-">25.3.9 其它函数</a></li>
    </ul></li>
    <li><a id="toc-Za-Xiang-Gong-Neng-" href="#g_t_6742_9879_529f_80fd">25.4 杂项功能</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Pei-Zhi-" href="#Pei-Zhi-">25.4.1 配置</a></li>
      <li><a id="toc-Yuan-Cheng-globbing" href="#Yuan-Cheng-globbing">25.4.2 远程 globbing</a></li>
      <li><a id="toc-Zi-Dong-He-Lin-Shi-Zhong-Xin-Da-Kai-" href="#Zi-Dong-He-Lin-Shi-Zhong-Xin-Da-Kai-">25.4.3 自动和临时重新打开</a></li>
      <li><a id="toc-Bu-Quan--3" href="#Bu-Quan--3">25.4.4 补全</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Yong-Hu-Gong-Xian-" href="#g_t_7528_6237_8d21_732e">26 用户贡献</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Shuo-Ming--9" href="#Shuo-Ming--9">26.1 说明</a></li>
    <li><a id="toc-Shi-Yong-Cheng-Xu-" href="#g_t_5b9e_7528_7a0b_5e8f">26.2 实用程序</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Fang-Wen-Zai-Xian-Bang-Zhu-" href="#Fang-Wen-Zai-Xian-Bang-Zhu-">26.2.1 访问在线帮助</a></li>
      <li><a id="toc-Zhong-Xin-Bian-Yi-Han-Shu-" href="#Zhong-Xin-Bian-Yi-Han-Shu-">26.2.2 重新编译函数</a></li>
      <li><a id="toc-Jian-Pan-Ding-Yi-" href="#Jian-Pan-Ding-Yi-">26.2.3 键盘定义</a></li>
      <li><a id="toc-Zhuan-Chu-shell-Zhuang-Tai-" href="#Zhuan-Chu-shell-Zhuang-Tai-">26.2.4 转储 shell 状态</a></li>
      <li><a id="toc-Cao-Zuo-Gou-Zi-Han-Shu-" href="#Cao-Zuo-Gou-Zi-Han-Shu-">26.2.5 操作勾子函数</a></li>
    </ul></li>
    <li><a id="toc-Ji-Zhu-Zui-Jin-De-Mu-Lu-" href="#g_t_6700_65b0_76ee_5f55">26.3 记住最近的目录</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-An-Zhuang--1" href="#An-Zhuang--1">26.3.1 安装</a></li>
      <li><a id="toc-Yong-Fa-" href="#Yong-Fa-">26.3.2 用法</a></li>
      <li><a id="toc-Xuan-Xiang--2" href="#Xuan-Xiang--2">26.3.3 选项</a></li>
      <li><a id="toc-Pei-Zhi--1" href="#Pei-Zhi--1">26.3.4 配置</a></li>
      <li><a id="toc-Yu-Dong-Tai-Mu-Lu-Ming-Ming-YiQi-Shi-Yong-" href="#Yu-Dong-Tai-Mu-Lu-Ming-Ming-YiQi-Shi-Yong-">26.3.5 与动态目录命名一起使用</a></li>
      <li><a id="toc-Mu-Lu-Chu-Li-Xi-Jie-" href="#Mu-Lu-Chu-Li-Xi-Jie-">26.3.6 目录处理细节</a></li>
    </ul></li>
    <li><a id="toc-Mu-Lu-De-Jian-Lue-Dong-Tai-Yin-Yong-" href="#g_t_5176_5b83_76ee_5f55_51fd_6570">26.4 目录的简略动态引用</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Yong-Fa--1" href="#Yong-Fa--1">26.4.1 用法</a></li>
      <li><a id="toc-Pei-Zhi--2" href="#Pei-Zhi--2">26.4.2 配置</a></li>
      <li><a id="toc-Bu-Quan-ShiLi" href="#Bu-Quan-ShiLi">26.4.3 补全示例</a></li>
    </ul></li>
    <li><a id="toc-Cong-Ban-Ben-Kong-Zhi-Xi-Tong-ZhongShou-Ji-Xin-Xi-" href="#g_t_7248_672c_63a7_5236_4fe1_606f">26.5 从版本控制系统中收集信息</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Kuai-Su-Kai-Shi-" href="#vcs_005finfo-_5feb_901f_5f00_59cb">26.5.1 快速开始</a></li>
      <li><a id="toc-Pei-Zhi--3" href="#vcs_005finfo-_914d_7f6e">26.5.2 配置</a></li>
      <li><a id="toc-Qi-Te-Xian-Xiang-" href="#vcs_005finfo-_5947_7279_73b0_8c61">26.5.3 奇特现象</a></li>
      <li><a id="toc-Quilt-Zhi-Chi-" href="#vcs_005finfo-Quilt-_652f_6301">26.5.4 Quilt 支持</a></li>
      <li><a id="toc-Han-Shu-Shuo-Ming-_0028Gong-Gong-API_0029" href="#vcs_005finfo-API">26.5.5 函数说明（公共 API）</a></li>
      <li><a id="toc-Bian-Liang-Shuo-Ming-" href="#vcs_005finfo-_53d8_91cf">26.5.6 变量说明</a></li>
      <li><a id="toc-vcs_005finfo-ZhongDe-Gou-Zi-" href="#vcs_005finfo-_52fe_5b50">26.5.7 vcs_info 中的勾子</a></li>
      <li><a id="toc-ShiLi-1" href="#vcs_005finfo-_793a_4f8b">26.5.8 示例</a></li>
    </ul></li>
    <li><a id="toc-Ti-ShiFu-Zhu-Ti-" href="#g_t_63d0_793a_7b26_4e3b_9898">26.6 提示符主题</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-An-Zhuang--2" href="#An-Zhuang--2">26.6.1 安装</a></li>
      <li><a id="toc-Zhu-Ti-Xuan-Ze-" href="#Zhu-Ti-Xuan-Ze-">26.6.2 主题选择</a></li>
      <li><a id="toc-Shi-Yong-Zhu-Ti-" href="#Shi-Yong-Zhu-Ti-">26.6.3 实用主题</a></li>
      <li><a id="toc-Bian-Xie-Zhu-Ti-" href="#Bian-Xie-Zhu-Ti-">26.6.4 编写主题</a></li>
    </ul></li>
    <li><a id="toc-ZLE-Han-Shu-" href="#ZLE-_51fd_6570">26.7 ZLE 函数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Xiao-Bu-Jian-" href="#Xiao-Bu-Jian-">26.7.1 小部件</a></li>
      <li><a id="toc-Shi-Yong-Han-Shu--2" href="#Shi-Yong-Han-Shu--2">26.7.2 实用函数</a></li>
      <li><a id="toc-Yang-Shi--1" href="#Yang-Shi--1">26.7.3 样式</a></li>
    </ul></li>
    <li><a id="toc-Yi-Chang-Chu-Li-" href="#g_t_5f02_5e38_5904_7406">26.8 异常处理</a></li>
    <li><a id="toc-MIME-Han-Shu-" href="#MIME-_51fd_6570">26.9 MIME 函数</a></li>
    <li><a id="toc-Shu-XueHan-Shu--1" href="#g_t_6570_5b66_51fd_6570">26.10 数学函数</a></li>
    <li><a id="toc-Yong-Hu-Pei-Zhi-Han-Shu-" href="#g_t_7528_6237_914d_7f6e_51fd_6570">26.11 用户配置函数</a></li>
    <li><a id="toc-Qi-Ta-Han-Shu--1" href="#g_t_5176_5b83_51fd_6570">26.12 其它函数</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Shuo-Ming--10" href="#Shuo-Ming--10">26.12.1 说明</a></li>
      <li><a id="toc-Yang-Shi--2" href="#Yang-Shi--2">26.12.2 样式</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Gai-Nian-Suo-Yin-" href="#g_t_6982_5ff5_7d22_5f15" rel="index">概念索引</a></li>
  <li><a id="toc-Bian-Liang-Suo-Yin-" href="#g_t_53d8_91cf_7d22_5f15" rel="index">变量索引</a></li>
  <li><a id="toc-Xuan-Xiang-Suo-Yin-" href="#g_t_9009_9879_7d22_5f15" rel="index">选项索引</a></li>
  <li><a id="toc-Han-Shu-Suo-Yin-" href="#g_t_51fd_6570_7d22_5f15" rel="index">函数索引</a></li>
  <li><a id="toc-Bian-Ji-Qi-Han-Shu-Suo-Yin-" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15" rel="index">编辑器函数索引</a></li>
  <li><a id="toc-Yang-Shi-He-Biao-Qian-Suo-Yin-" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15" rel="index">样式和标签索引</a></li>
</ul>
</div>
</div>
<hr>
<div class="chapter-level-extent" id="Z-Shell-_624b_518c">

<h2 class="chapter" id="Z-Shell-Shou-Ce--1"><span>1 Z Shell 手册<a class="copiable-link" href="#Z-Shell-Shou-Ce--1"> &para;</a></span></h2>
<p>本文档是根据 Zsh 发行版 <code class="t">Doc</code> 子目录中的 texinfo 文件 <code class="t">zsh.texi</code> 制作的。
</p>
<div class="section-level-extent" id="Cong-zsh_002etexi-Zhi-Zuo-WenDang-">
<h3 class="section"><span>1.1 从 zsh.texi 制作文档<a class="copiable-link" href="#Cong-zsh_002etexi-Zhi-Zuo-WenDang-"> &para;</a></span></h3>
<p>texinfo 源文件可转换成多种格式：
</p>
<dl class="table">
<dt>Info 手册</dt>
<dd><p>Info 格式允许从众多索引中搜索主题、命令、函数等。命令 &lsquo;<code class="t">makeinfo zsh.texi</code>&rsquo;用于生成 Info 文档。
</p>
</dd>
<dt>印刷手册</dt>
<dd><p>命令&lsquo;<code class="t">texi2dvi zsh.texi</code>&rsquo; 将输出 <code class="t">zsh.dvi</code>，然后使用 <cite class="cite">dvips</cite> 和可选的 <cite class="cite">gs</cite>
（Ghostscript）对其进行处理，以生成格式精美的打印手册。
</p>
</dd>
<dt>HTML 手册</dt>
<dd><p>本手册的 HTML 版本可通过 Zsh 网站获取：
</p>
<p><code class="t"><a class="uref" href="https://zsh.sourceforge.io/Doc/">https://zsh.sourceforge.io/Doc/</a></code>。
</p>
<p>(HTML 版本通过 <cite class="cite">texi2html</cite> 生成，可从
<code class="t"><a class="uref" href="http://www.nongnu.org/texi2html/">http://www.nongnu.org/texi2html/</a></code> 获取。命令为&lsquo;<code class="t">texi2html --output .
--ifinfo --split=chapter --node-files zsh.texi</code>&rsquo;。 如有必要，请升级至 1.78 版
texi2html）
</p>
</dd>
</dl>

<p>对于那些没有处理 texinfo 所需的工具的用户，可从 zsh 归档站点或其镜像站点获取预编译文档（PostScript、dvi、PDF、info 和
HTML 格式），文件名为 <code class="t">zsh-doc.tar.gz</code>。(站点列表请参见<a class="ref" href="#g_t_53ef_7528_6027">可用性</a>）。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_7b80_4ecb">

<h2 class="chapter" id="Jian-Jie-"><span>2 简介<a class="copiable-link" href="#Jian-Jie-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Dao-Yan-"></a>
<p>Zsh 是一种 UNIX 命令解释器（shell），可用作交互式登录 shell 和 shell 脚本命令处理器。 在标准 shell 中，zsh 与
<cite class="cite">ksh</cite> 最为相似，但包含许多增强功能。 在默认运行模式下，zsh 与 POSIX 或其他 shell 不兼容：请参阅 <a class="ref" href="#g_t_517c_5bb9_6027">兼容性</a>
章节。
</p>
<p>Zsh 具有命令行编辑、内置拼写校正、可编程命令补全、shell 函数（带自动加载功能）、历史记录机制以及大量其他功能。
</p><hr>
<div class="section-level-extent" id="g_t_4f5c_8005">

<h3 class="section" id="Zuo-Zhe-"><span>2.1 作者<a class="copiable-link" href="#Zuo-Zhe-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Zuo-Zhe-"></a>
<p>Zsh 最初由 Paul Falstad 编写。 Zsh 现在由 zsh-workers 邮件列表 <code class="t">&lt;zsh-workers@zsh.org&gt;</code>
的成员维护。 目前由 Peter Stephenson <code class="t">&lt;pws@zsh.org&gt;</code>负责协调开发工作。 您可以通过
<code class="t">&lt;coordinator@zsh.org&gt;</code> 与协调人联系，但有关代码的事宜一般应在邮件列表中进行讨论。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_53ef_7528_6027">

<h3 class="section" id="Ke-Yong-Xing-"><span>2.2 可用性<a class="copiable-link" href="#Ke-Yong-Xing-"> &para;</a></span></h3>
<p>Zsh 可从以下 HTTP 和匿名 FTP 站点获取。
</p>
<a class="index-entry-id" id="index-zsh-De-FTP-Zhan-Dian-"></a>
<a class="index-entry-id" id="index-Tong-Guo-FTP-Huo-Qu-zsh"></a>
<a class="index-entry-id" id="index-zsh-De-Ke-Yong-Xing-"></a>
<p><code class="t"><a class="uref" href="ftp://ftp.zsh.org/pub/">ftp://ftp.zsh.org/pub/</a></code><br> <code class="t"><a class="uref" href="https://www.zsh.org/pub/">https://www.zsh.org/pub/</a></code>
</p>
<p>最新源代码可通过 Git 从 Sourceforge 获取。 详情请参见
<code class="t"><a class="uref" href="https://sourceforge.net/projects/zsh/">https://sourceforge.net/projects/zsh/</a></code>。 有关存档的说明摘要，请参见
<code class="t"><a class="uref" href="https://zsh.sourceforge.io/">https://zsh.sourceforge.io/</a></code>。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_90ae_4ef6_5217_8868">

<h3 class="section" id="You-Jian-Lie-Biao-"><span>2.3 邮件列表<a class="copiable-link" href="#You-Jian-Lie-Biao-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-You-Jian-Lie-Biao-"></a>
<p>Zsh 有多个邮件列表：
</p>
<dl class="table">
<dt><code class="t">&lt;zsh-announce@zsh.org&gt;</code></dt>
<dd><p>有关版本发布、shell 重大变更以及每月发布的 Zsh 常见问题的公告。 （审核）
</p>
</dd>
<dt><code class="t">&lt;zsh-users@zsh.org&gt;</code></dt>
<dd><p>用户讨论。
</p>
</dd>
<dt><code class="t">&lt;zsh-workers@zsh.org&gt;</code></dt>
<dd><p>黑客、开发、错误报告和补丁。
</p>
</dd>
<dt><code class="t">&lt;zsh-security@zsh.org&gt;</code></dt>
<dd><p>私人邮件列表（一般公众无法订阅），用于讨论具有安全影响的错误报告，即潜在漏洞。
</p>
<p>如果您发现 zsh 本身存在安全问题，请发送邮件至此地址。
</p>
</dd>
</dl>

<p>如需订阅或取消订阅，请向邮件列表的相关管理地址发送邮件。
</p>
<dl class="table">
<dt><code class="t">&lt;zsh-announce-subscribe@zsh.org&gt;</code></dt>
<dt><code class="t">&lt;zsh-users-subscribe@zsh.org&gt;</code></dt>
<dt><code class="t">&lt;zsh-workers-subscribe@zsh.org&gt;</code></dt>
<dt><code class="t">&lt;zsh-announce-unsubscribe@zsh.org&gt;</code></dt>
<dt><code class="t">&lt;zsh-users-unsubscribe@zsh.org&gt;</code></dt>
<dt><code class="t">&lt;zsh-workers-unsubscribe@zsh.org&gt;</code></dt>
</dl>
<br>

<p>您只需加入其中一个邮件列表，因为它们是嵌套的。 所有提交到 <cite class="cite">zsh-announce</cite> 的内容都会自动转发给
<cite class="cite">zsh-users</cite>。 所有向 <cite class="cite">zsh-users</cite> 提交的内容都会自动转发给 <cite class="cite">zsh-workers</cite>。
</p>
<p>如果您在订阅/退订任何邮件列表时遇到问题，请发送邮件至 <code class="t">&lt;listmaster@zsh.org&gt;</code>。
</p>
<p>邮件列表已存档；可通过上述管理地址访问存档。 此外，<code class="t"><a class="uref" href="https://www.zsh.org/mla/">https://www.zsh.org/mla/</a></code>还提供超文本档案。
</p><hr>
</div>
<div class="section-level-extent" id="Zsh-_5e38_89c1_95ee_9898">

<h3 class="section" id="Zsh-Chang-Jian-Wen-Ti-"><span>2.4 Zsh 常见问题<a class="copiable-link" href="#Zsh-Chang-Jian-Wen-Ti-"> &para;</a></span></h3>
<p>Zsh 有一个常见问题（FAQ）列表，由 Peter Stephenson <code class="t">&lt;pws@zsh.org&gt;</code> 维护。 它定期发布到
<cite class="cite">comp.unix.shell</cite> 新闻组和 <cite class="cite">zsh-announce</cite> 邮件列表。 最新版本可在任何 Zsh FTP 站点或
<code class="t"><a class="uref" href="https://www.zsh.org/FAQ/">https://www.zsh.org/FAQ/</a></code> 上找到。 常见问题相关事宜的联系地址是
<code class="t">&lt;faqmaster@zsh.org&gt;</code>。
</p><hr>
</div>
<div class="section-level-extent" id="Zsh-_7f51_9875">

<h3 class="section" id="Zsh-Wang-Ye-"><span>2.5 Zsh 网页<a class="copiable-link" href="#Zsh-Wang-Ye-"> &para;</a></span></h3>
<p>Zsh 有一个网页，位于 <code class="t"><a class="uref" href="https://www.zsh.org/">https://www.zsh.org/</a></code>。 网站相关事宜的联系地址是
<code class="t">&lt;webmaster@zsh.org&gt;</code>。
</p><hr>
</div>
<div class="section-level-extent" id="Zsh-_7528_6237_6307_5357">

<h3 class="section" id="Zsh-Yong-Hu-Zhi-Nan-"><span>2.6 Zsh 用户指南<a class="copiable-link" href="#Zsh-Yong-Hu-Zhi-Nan-"> &para;</a></span></h3>
<p>目前正在编写用户指南。 该指南旨在对手册进行补充，对手册中可能存在的卡巴拉式、等级式或完全神秘化（例如，&quot;等级式 &quot;一词并不存在）的问题进行解释和提示。
您可以通过 <code class="t"><a class="uref" href="https://zsh.sourceforge.io/Guide/">https://zsh.sourceforge.io/Guide/</a></code> 查看该手册的当前状态。
在撰写本文时，关于启动文件及其内容以及新的补全系统的章节已基本完成。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_53e6_8bf7_53c2_89c1">

<h3 class="section" id="LingQing-Can-Jian-"><span>2.7 另请参见<a class="copiable-link" href="#LingQing-Can-Jian-"> &para;</a></span></h3>
<p>sh(1), csh(1), tcsh(1), rc(1), bash(1), ksh(1)
</p>
<p><cite class="cite">IEEE Standard for information Technology - Portable Operating System
Interface (POSIX) - Part 2: Shell and Utilities</cite>, IEEE Inc, 1993, ISBN
1-55937-255-9.
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_8def_7ebf_56fe">

<h2 class="chapter" id="Lu-Xian-Tu-"><span>3 路线图<a class="copiable-link" href="#Lu-Xian-Tu-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Lu-Xian-Tu-"></a>
<p>Zsh 手册，就像 shell 本身一样，庞大而复杂。 手册的这一部分为新用户可能特别感兴趣的 shell
领域提供了一些提示，并指出了在手册其余部分在文档中的位置。
</p>

<div class="section-level-extent" id="Dang-shell-Qi-Dong-Shi-">
<h3 class="section"><span>3.1 当 shell 启动时<a class="copiable-link" href="#Dang-shell-Qi-Dong-Shi-"> &para;</a></span></h3>

<p>shell 启动时会从各种文件中读取命令。 可以创建或编辑这些文件来定制 shell。 参见 <a class="ref" href="#g_t_6587_4ef6">文件</a>。
</p>
<p>如果当前用户不存在个人初始化文件，则会运行一个函数来帮助您更改一些最常用的设置。 如果管理员禁用了 <code class="t">zsh/newuser</code>
模块，该函数将不会出现。 该函数的设计不言自明。 你可以使用&lsquo;<code class="t">autoload -Uz zsh-newuser-install;
zsh-newuser-install -f</code>&rsquo;手动运行它。 另请参阅 <a class="ref" href="#g_t_7528_6237_914d_7f6e_51fd_6570">用户配置函数</a>。
</p>

</div>
<div class="section-level-extent" id="Hu-Dong-Shi-Shi-Yong-">
<h3 class="section"><span>3.2 互动式使用<a class="copiable-link" href="#Hu-Dong-Shi-Shi-Yong-"> &para;</a></span></h3>

<p>与 shell 的交互使用内置的 Zsh 行编辑器（ZLE）。 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>中对此有详细介绍。
</p>
<p>用户必须做出的第一个决定是使用 Emacs 还是 Vi 编辑模式，因为两者的编辑键大不相同。 对于初学者来说，Emacs 编辑模式可能更为自然，可以使用
<code class="t">bindkey -e</code> 命令明确选择。
</p>
<p>历史记录机制可用于检索以前键入的行（最简单的方法是使用向上或向下箭头键）；请注意，与其他 shell 不同，zsh 在退出 shell
时不会保存这些行，除非您设置了适当的变量，而且默认情况下保留的历史行数很少（30 行）。请参阅 <a class="ref" href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a> 中对 shell
变量（在文档中称为参数）<code class="t">HISTFILE</code>、<code class="t">HISTSIZE</code> 和 <code class="t">SAVEHIST</code> 的描述。 需要注意的是，目前只有在 shell
处于交互状态时才能读写保存历史的文件，也就是说，它无法通过脚本工作。
</p>
<p>shell 现在支持 UTF-8 字符集（以及操作系统支持的其他字符集）。 这（大部分）由 shell 透明处理，但终端模拟器的支持程度不一。
shell FAQ <code class="t"><a class="uref" href="https://www.zsh.org/FAQ/">https://www.zsh.org/FAQ/</a></code>中对此有一些讨论。 请特别注意，要处理组合字符，需要设置
<code class="t">COMBINING_CHARS</code> 选项。 由于 shell 现在对字符集的定义更加敏感，因此如果您是从旧版本的 shell 升级，则应确保设置了
<code class="t">LANG</code>（影响 shell 运行的所有方面）或 <code class="t">LC_CTYPE</code>（仅影响字符集的处理）这两个变量。(只影响字符集的处理）设置为适当的值。
即使使用的是单字节字符集，包括 ASCII 扩展字符集，如 <code class="t">ISO-8859-1</code> 或 <code class="t">ISO-8859-15</code>，也是如此。 请参阅
<a class="ref" href="#g_t_53c2_6570">参数</a> 中 <code class="t">LC_CTYPE</code> 的描述。
</p>

<div class="subsection-level-extent" id="Bu-Quan-">
<h4 class="subsection"><span>3.2.1 补全<a class="copiable-link" href="#Bu-Quan-"> &para;</a></span></h4>

<p>补全是许多 shell 中都有的一项功能。它允许用户只键入单词的一部分（通常是前缀），然后由 shell 来补全其余部分。 zsh
中的补全系统是可编程的。 例如，可以设置 shell 在 <code class="t">~/.abook/addressbook</code> 的邮件命令参数中补全电子邮件地址；在 scp
的参数中补全用户名、主机名甚至远程路径，等等。 任何可以用 zsh 写入或粘合在一起的内容都可以成为行编辑器提供的可能补全内容的来源。
</p>
<p>Zsh 有两个补全系统，一个是旧的补全系统，即 <code class="t">compctl</code>（以作为其完整且唯一用户界面的内置命令命名），另一个是新的补全系统，即
<code class="t">compsys</code>，由内置函数库和用户自定义函数库组成。 这两个系统在指定补全行为的界面上有所不同。
新系统的可定制性更强，并为许多常用命令提供了补全功能，因此更受欢迎。
</p>
<p>必须在 shell 启动时明确启用补全系统。 更多信息，请参阅 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a>。
</p>

</div>
<div class="subsection-level-extent" id="Kuo-Zhan-Xing-Bian-Ji-Qi-">
<h4 class="subsection"><span>3.2.2 扩展行编辑器<a class="copiable-link" href="#Kuo-Zhan-Xing-Bian-Ji-Qi-"> &para;</a></span></h4>

<p>除补全功能外，行编辑器还可通过 shell 函数进行高度扩展。 shell 提供了一些有用的功能，如:
</p>
<dl class="table">
<dt><code class="t">insert-composed-char</code></dt>
<dd><p>编写键盘上没有的字符
</p>
</dd>
<dt><code class="t">match-words-by-style</code></dt>
<dd><p>在按字移动或删除时，配置行编辑器认为什么是字
</p>
</dd>
<dt><code class="t">history-beginning-search-backward-end</code>, 等等。</dt>
<dd><p>搜索 shell 历史记录的其他方法
</p>
</dd>
<dt><code class="t">replace-string</code>, <code class="t">replace-pattern</code></dt>
<dd><p>在命令行中全局替换字符串或模式的函数
</p>
</dd>
<dt><code class="t">edit-command-line</code></dt>
<dd><p>使用外部编辑器编辑命令行。
</p>
</dd>
</dl>

<p>请参阅 <a class="ref" href="#ZLE-_51fd_6570">ZLE 函数</a>，了解这些函数的描述。
</p>

</div>
</div>
<div class="section-level-extent" id="Xuan-Xiang-">
<h3 class="section"><span>3.3 选项<a class="copiable-link" href="#Xuan-Xiang-"> &para;</a></span></h3>

<p>shell 有大量用于改变其行为的选项。 这些选项涵盖了 shell 的方方面面；浏览完整的文档是熟悉众多选项的唯一好方法。 参见 <a class="ref" href="#g_t_9009_9879">选项</a>。
</p>

</div>
<div class="section-level-extent" id="Mo-Shi-Pi-Pei-">
<h3 class="section"><span>3.4 模式匹配<a class="copiable-link" href="#Mo-Shi-Pi-Pei-"> &para;</a></span></h3>

<p>shell 有一套丰富的模式，可用于文件匹配（在文档中称为 &lsquo;文件名生成&rsquo;，由于历史原因也称为 &lsquo;globbing&rsquo;）和编程。 这些模式在
<a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中有所描述。
</p>
<p>Of particular interest are the following patterns that are not commonly
supported by other systems of pattern matching:
</p>
<dl class="table">
<dt><code class="t">**</code></dt>
<dd><p>用于匹配多个目录
</p>
</dd>
<dt><code class="t">|</code></dt>
<dd><p>用于匹配两个备选方案中的任何一个
</p>
</dd>
<dt><code class="t">~</code>, <code class="t">^</code></dt>
<dd><p>当设置 <code class="t">EXTENDED_GLOB</code> 选项时，能够从匹配中排除模式
</p>
</dd>
<dt><code class="t">(</code><var class="var">...</var><code class="t">)</code></dt>
<dd><p>glob 限定符，包含在模式末尾的括号中，可按类型（如目录）或属性（如大小）选择文件。
</p>
</dd>
</dl>


</div>
<div class="section-level-extent" id="Guan-Yu-Yu-Fa-De-YiBan-Xing-Ping-Lun-">
<h3 class="section"><span>3.5 关于语法的一般性评论<a class="copiable-link" href="#Guan-Yu-Yu-Fa-De-YiBan-Xing-Ping-Lun-"> &para;</a></span></h3>

<p>尽管 zsh 的语法在某些方面与 Korn shell 相似，因此更接近于最初的 UNIX shell，即 Bourne
shell，但其默认行为并不完全与这些 shell 一致。 一般 shell 语法在 <a class="ref" href="#Shell-_8bed_6cd5">Shell 语法</a> 中介绍。
</p>
<p>一个常见的区别是，替换到命令行中的变量不会被分割成单词。 参见 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a> 中 shell 选项 <code class="t">SH_WORD_SPLIT</code>
的描述。 在 zsh 中，您可以明确请求分割（例如 <code class="t">${=foo}</code>），或者在希望变量扩展为多个单词时使用数组。 请参见
<a class="ref" href="#g_t_6570_7ec4_53c2_6570">数组参数</a>。
</p>

</div>
<div class="section-level-extent" id="Bian-Cheng-">
<h3 class="section"><span>3.6 编程<a class="copiable-link" href="#Bian-Cheng-"> &para;</a></span></h3>

<p>为 shell 添加增强功能的最便捷方法通常是编写 shell 函数，并安排其自动加载。 函数在 <a class="ref" href="#g_t_51fd_6570">函数</a> 中有所描述。 从 C shell
及其近似 shell 转变而来的用户应该注意到，别名在 zsh 中使用较少，因为它们不执行参数替换，而只是简单的文本替换。
</p>
<p>除了上述用于行编辑器的功能外，Shell 还提供了一些常规功能，这些功能在 <a class="ref" href="#g_t_7528_6237_8d21_732e">用户贡献</a> 中进行了描述。 这些功能包括:
</p>
<dl class="table">
<dt><code class="t">promptinit</code></dt>
<dd><p>提示符主题系统，可轻松更改提示符，请参阅 <a class="ref" href="#g_t_63d0_793a_7b26_4e3b_9898">提示符主题</a>
</p>
</dd>
<dt><code class="t">zsh-mime-setup</code></dt>
<dd><p>一种 MIME 处理系统，它能像图形文件管理器那样，根据文件的后缀发送命令
</p>
</dd>
<dt><code class="t">zcalc</code></dt>
<dd><p>计算器
</p>
</dd>
<dt><code class="t">zargs</code></dt>
<dd><p><code class="t">xargs</code> 的另一个版本，使 <code class="t">find</code> 命令变得多余
</p>
</dd>
<dt><code class="t">zmv</code></dt>
<dd><p>重命名文件的命令。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_8c03_7528">

<h2 class="chapter" id="Diao-Yong-"><span>4 调用<a class="copiable-link" href="#Diao-Yong-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Diao-Yong-"></a>

<div class="section-level-extent" id="Diao-Yong--1">
<h3 class="section"><span>4.1 调用<a class="copiable-link" href="#Diao-Yong--1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-shell-Xuan-Xiang-"></a>
<a class="index-entry-id" id="index-Xuan-Xiang-_002c-shell"></a>
<a class="index-entry-id" id="index-shell-Biao-Zhi-"></a>
<a class="index-entry-id" id="index-Biao-Zhi-_002c-shell"></a>
<p>调用 shell 时，shell 会解释以下标志，以确定 shell
从何处读取命令：<a class="uref" href="comments/invocation.html#invocation-overview">[译注:调用]</a>
</p>
<dl class="table">
<dt><code class="t">-c</code></dt>
<dd><p>将第一个参数作为要执行的命令，而不是从脚本或标准输入中读取命令。 如果还有其他参数，第一个参数会被赋值给
<code class="t">$0</code>，而不是作为位置参数使用。<a class="uref" href="comments/invocation.html#invocation-flag-c">[译注:调用.标志.c]</a>
</p>
</dd>
<dt><code class="t">-i</code></dt>
<dd><p>强制 shell 为交互式。 仍可指定要执行的脚本。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>强制 shell 从标准输入端读取命令。 如果没有 <code class="t">-s</code> 标志，且给出了参数，则第一个参数将被视为要执行的脚本的路径名。
</p>
</dd>
</dl>

<p>如果选项处理后还有剩余参数，且未提供 <code class="t">-c</code> 或 <code class="t">-s</code> 选项，则第一个参数将作为包含要执行的 shell 命令的脚本文件名。
如果设置了选项 <code class="t">PATH_SCRIPT</code>，且文件名不包含目录路径（即文件名中没有&lsquo;<code class="t">/</code>&rsquo;），那么首先会搜索当前目录，然后在变量
<code class="t">PATH</code> 给出的命令路径中查找脚本。 如果未设置该选项或文件名中包含&lsquo;<code class="t">/</code>&rsquo;，则直接使用该脚本。
</p>
<p>在前一或两个参数按上述方式分配后，其余参数将分配给位置参数。
</p>
<p>有关调用和 <code class="t">set</code> 内置函数通用的其他选项，请参见 <a class="ref" href="#g_t_9009_9879">选项</a>。
</p>
<p>可以向 shell 传递长选项&lsquo;<code class="t">-</code><code class="t">-emulate</code>&rsquo;，后跟仿真模式（用单独的字）。 仿真模式为 <code class="t">emulate</code>
内置命令所描述的模式，参见 <a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a>。&lsquo;<code class="t">-</code><code class="t">-emulate</code>&rsquo;选项必须先于其他选项（否则可能被覆盖），但后面的选项会被执行，因此可以用来修改请求的仿真模式。
需要注意的是，与 shell 中的 <code class="t">emulate</code> 命令相比，在使用该选项时，会采取一些额外的步骤来确保仿真的顺利进行：例如，不会在 shell
中定义与 POSIX 使用相冲突的变量，如 <code class="t">path</code>。
</p>
<p>可以使用 <code class="t">-o</code> 选项指定选项名称。 <code class="t">-o</code> 的作用与单字母选项类似，但选项名称需要使用下面的字符串。 例如
</p>
<div class="example">
<pre class="example-preformatted">zsh -x -o shwordsplit scr
</pre></div>

<p>运行脚本 <code class="t">scr</code>，用相应的字母&lsquo;<code class="t">-x</code>&rsquo;设置 <code class="t">XTRACE</code> 选项，用名称设置 <code class="t">SH_WORD_SPLIT</code> 选项。 使用
<code class="t">+o</code> 代替 <code class="t">-o</code>，可以按名称 <em class="emph">关闭</em> 选项。 <code class="t">-o</code> 可以与前面的单字母选项叠加，例如，&lsquo;<code class="t">-xo
shwordsplit</code>&rsquo;或&lsquo;<code class="t">-xoshwordsplit</code>&rsquo;等同于&lsquo;<code class="t">-x -o shwordsplit</code>&rsquo;。
</p>
<a class="index-entry-id" id="index-Chang-Xuan-Xiang-"></a>
<p>选项名称也可以用 GNU 长选项风格指定，即&lsquo;<code class="t">-</code><code class="t">-</code><var class="var">option-name</var>&rsquo;。
这样做时，选项名称中的&lsquo;<code class="t">-</code>&rsquo;字符是允许的：它们会被翻译成&lsquo;<code class="t">_</code>&rsquo;，因此会被忽略。 因此，举例来说，&lsquo;<code class="t">zsh
-</code><code class="t">-sh-word-split</code>&rsquo;调用的是打开 <code class="t">SH_WORD_SPLIT</code> 选项的 zsh。
与其他选项语法一样，可以通过用&lsquo;<code class="t">+</code>&rsquo;替换开头的&lsquo;<code class="t">-</code>&rsquo;来关闭选项；因此&lsquo;<code class="t">+-sh-word-split</code>&rsquo;等同于&lsquo;<code class="t">-</code><code class="t">-no-sh-word-split</code>&rsquo;。
与其他选项语法不同，GNU 风格的长选项不能与任何其他选项堆叠，因此，例如 &lsquo;<code class="t">-x-shwordsplit</code>&rsquo;是一个错误，而不是像 &lsquo;<code class="t">-x
-</code><code class="t">-shwordsplit</code>&rsquo;那样处理。
</p>
<a class="index-entry-id" id="index-_002d_002dversion"></a>
<a class="index-entry-id" id="index-_002d_002dhelp"></a>
<p>特殊的 GNU 风格选项&lsquo;<code class="t">-</code><code class="t">-version</code>&rsquo;会被处理；它会向标准输出发送 shell 的版本信息，然后成功退出。
&lsquo;<code class="t">-</code><code class="t">-help</code>&rsquo; 也会被处理；它会向标准输出发送调用 shell 时可以使用的选项列表，然后成功退出。
</p>
<p>选项处理可以通过两种方式完成，即允许将后面以&lsquo;<code class="t">-</code>&rsquo; 或 &lsquo;<code class="t">+</code>&rsquo;开头的参数视为普通参数。
首先，单独的参数&lsquo;<code class="t">-</code>&rsquo;（或&lsquo;<code class="t">+</code>&rsquo;）本身会结束选项处理。 其次，特殊选项&lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; (或
&lsquo;<code class="t">+-</code>&rsquo;)可以单独指定（这是 POSIX 的标准用法），也可以与前面的选项堆叠（因此&lsquo;<code class="t">-x-</code>&rsquo;等同于&lsquo;<code class="t">-x -</code><code class="t">-</code>&rsquo;）。
选项不允许堆叠在&lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;之后（因此&lsquo;<code class="t">-x-f</code>&rsquo;是错误的），但请注意上文讨论的 GNU
风格选项形式，其中&lsquo;<code class="t">-</code><code class="t">-shwordsplit</code>&rsquo;是允许的，并且不会结束选项处理。
</p>
<p>除非启用了 <cite class="cite">sh</cite>/<cite class="cite">ksh</cite> 模拟单字母选项效果，否则选项&lsquo;<code class="t">-b</code>&rsquo; (或 &lsquo;<code class="t">+b</code>&rsquo;) 会结束选项处理。
&lsquo;<code class="t">-b</code>&rsquo;类似于&lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;，只是在&lsquo;<code class="t">-b</code>&rsquo; 之后可以堆叠更多的单字母选项，并按正常方式生效。
</p>

<hr>
</div>
<div class="section-level-extent" id="g_t_517c_5bb9_6027">

<h3 class="section" id="Jian-Rong-Xing-"><span>4.2 兼容性<a class="copiable-link" href="#Jian-Rong-Xing-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Jian-Rong-Xing-"></a>
<a class="index-entry-id" id="index-sh-Jian-Rong-Xing-"></a>
<a class="index-entry-id" id="index-ksh-Jian-Rong-Xing-"></a>
<p>当 Zsh 分别以 <code class="t">sh</code> 或 <code class="t">ksh</code> 的方式调用时，它会尝试模拟 <cite class="cite">sh</cite> 或
<cite class="cite">ksh</cite>；更确切地说，它会查看调用名称的第一个字母，不包括任何首字母&lsquo;<code class="t">r</code>&rsquo;（假定代表
&quot;受限&quot;），如果是&lsquo;<code class="t">b</code>&rsquo;、&lsquo;<code class="t">s</code>&rsquo;或&lsquo;<code class="t">k</code>&rsquo;，它就会模拟 <cite class="cite">sh</cite> 或 <cite class="cite">ksh</cite>。 此外，如果以 <code class="t">su</code>
的方式调用 shell（在某些系统中，通过 <code class="t">su</code> 命令执行 shell 时会出现这种情况），shell 会尝试从 <code class="t">SHELL</code>
环境变量中找到一个替代名称，并以此为基础进行仿真。
</p>
<p>在 <cite class="cite">sh</cite> 和 <cite class="cite">ksh</cite> 兼容模式下，以下参数并不特殊，也不会被 shell 初始化: <code class="t">ARGC</code>, <code class="t">argv</code>,
<code class="t">cdpath</code>, <code class="t">fignore</code>, <code class="t">fpath</code>, <code class="t">HISTCHARS</code>, <code class="t">mailpath</code>,
<code class="t">MANPATH</code>, <code class="t">manpath</code>, <code class="t">path</code>, <code class="t">prompt</code>, <code class="t">PROMPT</code>, <code class="t">PROMPT2</code>,
<code class="t">PROMPT3</code>, <code class="t">PROMPT4</code>, <code class="t">psvar</code>, <code class="t">status</code>.
</p>
<a class="index-entry-id" id="index-ENV_002c-use-of"></a>
<p>通常的 zsh 启动/关闭脚本不会被执行。 登录 shell 引入（source） <code class="t">/etc/profile</code>，然后是
<code class="t">$HOME/.profile</code>。 如果在调用时设置了 <code class="t">ENV</code> 环境变量，则 <code class="t">$ENV</code> 会在 profile
脚本之后引入（sourced）。 在将 <code class="t">ENV</code> 的值解释为路径名之前，会对其进行参数扩展、命令替换和算术扩展。
请注意，<code class="t">PRIVILEGED</code> 选项也会影响启动文件的执行。
</p>
<p>如果以 <code class="t">sh</code> 或 <code class="t">ksh</code> 调用 shell，则会设置以下选项: <code class="t">NO_BAD_PATTERN</code>,
<code class="t">NO_BANG_HIST</code>, <code class="t">NO_BG_NICE</code>, <code class="t">NO_EQUALS</code>, <code class="t">NO_FUNCTION_ARGZERO</code>,
<code class="t">GLOB_SUBST</code>, <code class="t">NO_GLOBAL_EXPORT</code>, <code class="t">NO_HUP</code>, <code class="t">INTERACTIVE_COMMENTS</code>,
<code class="t">KSH_ARRAYS</code>, <code class="t">NO_MULTIOS</code>, <code class="t">NO_NOMATCH</code>, <code class="t">NO_NOTIFY</code>,
<code class="t">POSIX_BUILTINS</code>, <code class="t">NO_PROMPT_PERCENT</code>, <code class="t">RM_STAR_SILENT</code>,
<code class="t">SH_FILE_EXPANSION</code>, <code class="t">SH_GLOB</code>, <code class="t">SH_OPTION_LETTERS</code>,
<code class="t">SH_WORD_SPLIT</code>.  此外，如果以 <code class="t">sh</code> 的方式调用 zsh，则会设置 <code class="t">BSD_ECHO</code> 和
<code class="t">IGNORE_BRACES</code> 选项。 如果以 <code class="t">ksh</code> 的方式调用 zsh，还会设置
<code class="t">KSH_OPTION_PRINT</code>、<code class="t">LOCAL_OPTIONS</code>、<code class="t">PROMPT_BANG</code>、<code class="t">PROMPT_SUBST</code> 和
<code class="t">SINGLE_LINE_ZLE</code> 选项。
</p>
<p>请注意，尽管在出现不兼容问题时，zsh 会尽力解决，但并不保证完全模拟其他 shell，也不保证符合 POSIX。有关 zsh 与其他 shell
之间差异的更多信息，请参阅 shell 常见问题 第 2 章 <code class="t"><a class="uref" href="https://www.zsh.org/FAQ/">https://www.zsh.org/FAQ/</a></code>。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_53d7_9650_7684-Shell">

<h3 class="section" id="Shou-Xian-De-Shell"><span>4.3 受限的 Shell<a class="copiable-link" href="#Shou-Xian-De-Shell"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Shou-Xian-De-shell"></a>
<a class="index-entry-id" id="index-RESTRICTED"></a>
<p>当用于调用 zsh 的命令基名以字母&lsquo;<code class="t">r</code>&rsquo;开头，或在调用时提供了&lsquo;<code class="t">-r</code>&rsquo;命令行选项时，shell 将成为受限模式。
仿真模式是在去掉调用名称中的字母 &lsquo;<code class="t">r</code>&rsquo; 后确定的。 在受限模式下，以下功能将被禁用：
</p>
<ul class="itemize mark-bullet">
<li>使用 <code class="t">cd</code> 内置命令更改目录
</li><li>更改或取消设置 <code class="t">EGID</code>, <code class="t">EUID</code>, <code class="t">GID</code>, <code class="t">HISTFILE</code>, <code class="t">HISTSIZE</code>, <code class="t">IFS</code>,
<code class="t">LD_AOUT_LIBRARY_PATH</code>, <code class="t">LD_AOUT_PRELOAD</code>, <code class="t">LD_LIBRARY_PATH</code>,
<code class="t">LD_PRELOAD</code>, <code class="t">MODULE_PATH</code>, <code class="t">module_path</code>, <code class="t">PATH</code>, <code class="t">path</code>,
<code class="t">SHELL</code>, <code class="t">UID</code> 和 <code class="t">USERNAME</code> 参数
</li><li>指定包含 <code class="t">/</code> 的命令名称
</li><li>使用 <code class="t">hash</code> 指定命令路径名
</li><li>将输出重定向到文件
</li><li>使用 <code class="t">exec</code> 内置命令将 shell 替换为另一条命令
</li><li>使用 <code class="t">jobs -Z</code> 覆盖 shell 进程的参数和环境空间
</li><li>使用 <code class="t">ARGV0</code> 参数覆盖外部命令的 <code class="t">argv[0]</code>
</li><li>使用 <code class="t">set +r</code> 或 <code class="t">unsetopt RESTRICTED</code> 关闭受限模式
</li></ul>

<p>这些限制会在处理启动文件后执行。 启动文件应设置 <code class="t">PATH</code>，指向可在受限环境中安全调用的命令目录。
启动文件还可以通过禁用选定的内置命令来添加更多限制。
</p>
<p>受限模式也可以通过设置 <code class="t">RESTRICTED</code> 选项随时激活。 即使 shell 仍未处理完所有启动文件，也能立即启用上述所有限制。
</p>
<p>shell的 <em class="emph">受限模式</em> 是一种过时的限制用户行为的方法：现代系统有更好、更安全、更可靠的方法来限制用户行为，例如 <em class="emph">chroot
jails</em>、<em class="emph">containers</em> 和 <em class="emph">zones</em>。
</p>
<p>限制的 shell 很难安全地实现。 该功能可能会在未来的 zsh 版本中删除。
</p>
<p>需要注意的是，这些限制只适用于 shell，而不适用于 shell 运行的命令（某些 shell 内置命令除外）。 虽然受限的 shell
只能运行通过预定义的&lsquo;<code class="t">PATH</code>&rsquo;变量访问的受限命令列表，但并不能阻止这些命令运行任何其他命令。
</p>
<p>例如，如果 <em class="emph">允许</em> 命令列表中有&lsquo;<code class="t">env</code>&rsquo;，则允许用户运行任何命令，因为 &lsquo;<code class="t">env</code>&rsquo; 不是 shell
内置命令，可以运行任意可执行文件。
</p>
<p>因此，在实施受限的 shell 框架时，必须充分了解每个 <em class="emph">允许</em> 的命令或功能（可视为 <em class="emph">模块</em>）可以执行哪些操作。
</p>
<p>许多命令的行为都会受到环境变量的影响。 除上述少数命令外，zsh 并不限制环境变量的设置。
</p>
<p>如果 &lsquo;<code class="t">perl</code>&rsquo;、&lsquo;<code class="t">python</code>&rsquo;、
&lsquo;<code class="t">bash</code>&rsquo;或其他通用解释脚本被视为受限命令，用户可以通过设置特制的&lsquo;<code class="t">PERL5LIB</code>&rsquo;、&lsquo;<code class="t">PYTHONPATH</code>&rsquo;、
&lsquo;<code class="t">BASHENV</code>&rsquo; （等）环境变量来规避限制。在 GNU 系统中，通过设置
&lsquo;<code class="t">GCONV_PATH</code>&rsquo;环境变量，任何命令都可以在执行字符集转换时运行任意代码（包括 zsh 本身）。 以上只是几个例子。
</p>
<p>请记住，与其他一些 shell 不同，&lsquo;<code class="t">readonly</code>&rsquo;在 zsh 中并不是一种安全功能，因为它可以被撤销，所以不能用来缓解上述问题。
</p>
<p>受限的 shell 只有在允许的命令较少且编写谨慎以避免授予用户超出预期的访问权限时才会起作用。 限制用户可以加载的 zsh
模块也很重要，因为其中一些模块（如&lsquo;<code class="t">zsh/system</code>&rsquo;、&lsquo;<code class="t">zsh/mapfile</code>&rsquo;和
&lsquo;<code class="t">zsh/files</code>&rsquo;）可以绕过大部分限制。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_6587_4ef6">

<h2 class="chapter" id="WenJian-"><span>5 文件<a class="copiable-link" href="#WenJian-"> &para;</a></span></h2>

<div class="section-level-extent" id="Qi-Dong-_002fGuan-Bi-WenJian-">
<h3 class="section"><span>5.1 启动/关闭文件<a class="copiable-link" href="#Qi-Dong-_002fGuan-Bi-WenJian-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-WenJian-_002c-Qi-Dong-"></a>
<a class="index-entry-id" id="index-Qi-Dong-WenJian-"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Guan-Bi-"></a>
<a class="index-entry-id" id="index-Guan-Bi-WenJian-"></a>
<a class="index-entry-id" id="index-RCS_002c-use-of"></a>
<a class="index-entry-id" id="index-GLOBAL_005fRCS_002c-use-of"></a>
<a class="index-entry-id" id="index-NO_005fRCS_002c-use-of"></a>
<a class="index-entry-id" id="index-NO_005fGLOBAL_005fRCS_002c-use-of"></a>
<a class="index-entry-id" id="index-ZDOTDIR_002c-use-of"></a>
<a class="index-entry-id" id="index-zshenv"></a>
<p>命令首先从 <code class="t">/etc/zshenv</code>中读取；该选项不可覆盖。 <code class="t">RCS</code> 和 <code class="t">GLOBAL_RCS</code>
选项可修改后续行为；前者影响所有启动文件，后者仅影响全局启动文件（此处显示的文件路径以 <code class="t">/</code> 开头）。
如果在任何时候未设置<em class="emph">[译注:”未设置“在很多时候也是”取消设置“的意思，这时显然是”取消设置“的意思]</em>其中一个选项，则不会读取相应类型的后续启动文件。
<code class="t">$ZDOTDIR</code> 中的文件也有可能重新启用 <code class="t">GLOBAL_RCS</code>。<code class="t">RCS</code> 和 <code class="t">GLOBAL_RCS</code> 均为默认设置。
</p>
<p>然后从 <code class="t">$ZDOTDIR/.zshenv</code> 中读取命令。
<a class="index-entry-id" id="index-LOGIN_002c-use-of"></a>
<a class="index-entry-id" id="index-zprofile"></a>
如果 shell 是登录 shell，命令将从 <code class="t">/etc/zprofile</code> 读取，然后再从 <code class="t">$ZDOTDIR/.zprofile</code> 读取。
<a class="index-entry-id" id="index-zshrc"></a>
然后，如果 shell 是交互式的，命令将从 <code class="t">/etc/zshrc</code> 读取，然后再从 <code class="t">$ZDOTDIR/.zshrc</code> 读取。
<a class="index-entry-id" id="index-zlogin"></a>
最后，如果 shell 是登录 shell，则会读取 <code class="t">/etc/zlogin</code> 和 <code class="t">$ZDOTDIR/.zlogin</code> 。
</p>
<a class="index-entry-id" id="index-zlogout"></a>
<p>当登录 shell 退出时，将读取 <code class="t">$ZDOTDIR/.zlogout</code> 和 <code class="t">/etc/zlogout</code> 文件。 这可以通过
<code class="t">exit</code> 或 <code class="t">logout</code> 命令显式退出，也可以通过从终端读取文件结尾隐式退出。 不过，如果由于 <code class="t">exec</code>
操作了另一个进程而导致 shell 终止，则不会读取注销文件。 这些文件也会受到 <code class="t">RCS</code> 和 <code class="t">GLOBAL_RCS</code> 选项的影响。
另外，请注意 <code class="t">RCS</code> 选项会影响历史文件的保存，也就是说，如果 shell 退出时 <code class="t">RCS</code> 未设置，则不会保存任何历史文件。
</p>
<a class="index-entry-id" id="index-HOME_002c-use-of"></a>
<p>如果 <code class="t">ZDOTDIR</code> 未设置，则使用 <code class="t">HOME</code> 代替。 上面列出的 <code class="t">/etc</code> 中的文件可能在其他目录下，具体取决于安装情况。
</p>
<p>由于 <code class="t">/etc/zshenv</code> 会在 zsh 的所有实例中运行，因此必须尽可能地缩小它的规模。 特别要注意的是，最好将不需要在每个 shell
中运行的代码放在&lsquo;<code class="t">if [[ -o rcs ]]; then ...</code>&rsquo;形式的测试后面，这样当使用&lsquo;<code class="t">-f</code>&rsquo;选项调用 zsh
时，它就不会被执行。
</p>
</div>
<div class="section-level-extent" id="WenJian--1">
<h3 class="section"><span>5.2 文件<a class="copiable-link" href="#WenJian--1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Shi-Yong-De-WenJian-"></a>
<dl class="table">
<dt><code class="t">$ZDOTDIR/.zshenv</code></dt>
<dt><code class="t">$ZDOTDIR/.zprofile</code></dt>
<dt><code class="t">$ZDOTDIR/.zshrc</code></dt>
<dt><code class="t">$ZDOTDIR/.zlogin</code></dt>
<dt><code class="t">$ZDOTDIR/.zlogout</code></dt>
<dt><code class="t">${TMPPREFIX}*</code>   (默认是 /tmp/zsh*)</dt>
<dt><code class="t">/etc/zshenv</code></dt>
<dt><code class="t">/etc/zprofile</code></dt>
<dt><code class="t">/etc/zshrc</code></dt>
<dt><code class="t">/etc/zlogin</code></dt>
<dt><code class="t">/etc/zlogout</code>（根据安装情况而定，<code class="t">/etc</code> 为默认设置）</dt>
</dl>
<br>

<p>这些文件中的任何一个都可以使用 <code class="t">zcompile</code> 内置命令（<a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a>）进行预编译。
如果存在编译后的文件（以原始文件命名，外加 <code class="t">.zwc</code> 扩展名），且该文件比原始文件新，则将使用编译后的文件。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="Shell-_8bed_6cd5">

<h2 class="chapter" id="Shell-Yu-Fa-"><span>6 Shell 语法<a class="copiable-link" href="#Shell-Yu-Fa-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-shell-Yu-Fa-"></a>
<a class="index-entry-id" id="index-Yu-Fa-_002c-shell"></a>
<hr>
<div class="section-level-extent" id="g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">

<h3 class="section" id="Jian-Dan-Ming-Ling-He-Guan-Dao-"><span>6.1 简单命令和管道<a class="copiable-link" href="#Jian-Dan-Ming-Ling-He-Guan-Dao-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Jian-Dan-Ming-Ling-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Jian-Dan-"></a>
<p>一条 <em class="emph">简单命令</em> 是一连串可选的参数赋值，后面是空白分隔的词语，中间穿插着可选的重定向。 关于赋值的说明，请参阅 <a class="ref" href="#g_t_53c2_6570">参数</a> 的开头。
</p>
<p>第一个单词是要执行的命令，其余单词（如果有）是该命令的参数。 如果给出了命令名，参数赋值将在执行命令时修改命令的环境。
简单命令的值是其退出状态，如果由信号终止，则是 128 加上信号编号。 例如
</p>
<div class="example">
<pre class="example-preformatted">echo foo
</pre></div>

<p>是一个带有参数的简单命令。
</p>
<a class="index-entry-id" id="index-Guan-Dao-"></a>
<p>一条 <em class="emph">管道</em> 既可以是一条简单的命令，也可以是由两条或多条简单命令组成的序列，其中每条命令之间用&lsquo;<code class="t">|</code>&rsquo; 或 &lsquo;<code class="t">|&amp;</code>&rsquo;分隔。
如果命令之间用&lsquo;<code class="t">|</code>&rsquo;分隔，则第一条命令的标准输出与下一条命令的标准输入相连。 &lsquo;<code class="t">|&amp;</code>&rsquo;是&lsquo;<code class="t">2&gt;&amp;1
|</code>&rsquo;的简写，它将命令的标准输出和标准错误连接到下一条命令的标准输入。
管道的值是最后一条命令的值，除非管道前面有&lsquo;<code class="t">!</code>&rsquo;，在这种情况下，管道的值是最后一条命令值的逻辑倒数。 例如
</p>
<div class="example">
<pre class="example-preformatted">echo foo | sed 's/foo/bar/'
</pre></div>

<p>是一条管道，第一条命令的输出（&lsquo;<code class="t">foo</code>&rsquo; 加上换行符）将传递到第二条命令的输入。
</p>
<a class="index-entry-id" id="index-coproc"></a>
<a class="index-entry-id" id="index-coprocess"></a>
<p>如果管道前面有&lsquo;<code class="t">coproc</code>&rsquo;，则它将作为协进程执行；它与父 shell 之间将建立双向管道。 shell 可以通过
&lsquo;<code class="t">&gt;&amp;p</code>&rsquo;和&lsquo;<code class="t">&lt;&amp;p</code>&rsquo;重定向操作符或&lsquo;<code class="t">print -p</code>&rsquo;和&lsquo;<code class="t">read -p</code>&rsquo;读取或写入协进程。 一条管道前面不能同时出现
&lsquo;<code class="t">coproc</code>&rsquo; 和 &lsquo;<code class="t">!</code>&rsquo;。 如果作业控制处于激活状态，则协程除了输入和输出外，可以作为普通后台作业处理。
</p>
<a class="index-entry-id" id="index-sublist"></a>
<p>一个 <em class="emph">sublist</em> 既可以是一条管道，也可以是由两条或多条管道组成的序列，中间用&lsquo;<code class="t">&amp;&amp;</code>&rsquo;或&lsquo;<code class="t">||</code>&rsquo;隔开。
如果两条管道由&lsquo;<code class="t">&amp;&amp;</code>&rsquo;分隔，则只有在第一条管道成功（返回零状态）后，才会执行第二条管道。
如果两条管道之间用&lsquo;<code class="t">||</code>&rsquo;隔开，则只有在第一条管道失败（返回非零状态）时，才会执行第二条管道。 这两个操作符具有相同的优先级，并且都是左关联。
子列表的值是最后执行的管道的值。 例如
</p>
<div class="example">
<pre class="example-preformatted">dmesg | grep panic &amp;&amp; print yes
</pre></div>

<p>是一个由两条管道组成的子列表（sublist），第二条管道只是一条简单的命令，只有当 <code class="t">grep</code> 命令返回零状态时才会执行。 如果
<code class="t">grep</code> 返回非零状态，子列表的值就是这个非零返回状态，否则就是 <code class="t">print</code> 返回的状态（几乎肯定是零）。
</p>
<a class="index-entry-id" id="index-list"></a>
<p>一个 <em class="emph">list</em> 是由 0 个或多个子列表组成的序列，其中每个子列表都以 &lsquo;<code class="t">;</code>&rsquo;、&lsquo;<code class="t">&amp;</code>&rsquo;、&lsquo;<code class="t">&amp;|</code>&rsquo;、&lsquo;<code class="t">&amp;!</code>&rsquo;
或换行符结束。 当列表作为复合命令出现在&lsquo;<code class="t">(</code>...<code class="t">)</code>&rsquo;
或&lsquo;<code class="t">{</code>...<code class="t">}</code>&rsquo;中时，可以选择省略列表中最后一个子列表的结束符。 当子列表以 &lsquo;<code class="t">;</code>&rsquo; 或换行结束时，shell
会等待该子列表结束后再执行下一个子列表。 如果子列表以&lsquo;<code class="t">&amp;</code>&rsquo;, &lsquo;<code class="t">&amp;|</code>&rsquo;, 或 &lsquo;<code class="t">&amp;!</code>&rsquo;结束，shell
会在后台执行其中的最后一条管道，而不会等待它结束（注意这与其他 shell 在后台执行整个子列表的做法不同）。 后台管道的返回状态为 0。
</p>
<p>更广义地说，list可以看作是任何 shell 命令的集合，包括下面的复杂命令；在后面的描述中，只要出现 &lsquo;list&rsquo; 一词，就意味着这一点。
例如，shell 函数中的命令就是一种特殊的列表(list)。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">

<h3 class="section" id="Qian-Zhi-Ming-Ling-Xiu-Shi-Fu-"><span>6.2 前置命令修饰符<a class="copiable-link" href="#Qian-Zhi-Ming-Ling-Xiu-Shi-Fu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Qian-Zhi-Ming-Ling-Xiu-Shi-Fu-"></a>
<a class="index-entry-id" id="index-Xiu-Shi-Fu-_002c-Qian-Zhi-Ming-Ling-"></a>
<p>一条简单命令的前面可以加上 <em class="emph">前置命令修饰符</em>，它将改变命令的解释方式。 除了 <code class="t">nocorrect</code> 是保留字外，这些修改器都是
shell 内置命令。
</p>
<dl class="table">
<dt><a id="index-_002d"></a><span><code class="t">-</code><a class="copiable-link" href="#index-_002d"> &para;</a></span></dt>
<dd><p>执行命令时，会在 <code class="t">argv[0]</code> 字符串前加上&lsquo;<code class="t">-</code>&rsquo;。
</p>
</dd>
<dt><a id="index-builtin"></a><span><code class="t">builtin</code><a class="copiable-link" href="#index-builtin"> &para;</a></span></dt>
<dd><p>命令字被视为内置命令的名称，而不是 shell 函数或外部命令的名称。
</p>
</dd>
<dt><a id="index-command"></a><span><code class="t">command</code> [ <code class="t">-pvV</code> ]<a class="copiable-link" href="#index-command"> &para;</a></span></dt>
<dd><p>命令字将被视为外部命令的名称，而不是 shell 函数或内置程序的名称。 如果设置了 <code class="t">POSIX_BUILTINS</code>
选项，内置程序也会被执行，但它们的某些特殊属性会被抑制。<code class="t">-p</code> 标志会导致搜索默认路径，而不是 <code class="t">$path</code> 中的路径。使用 <code class="t">-v</code>
标志时，<code class="t">command</code> 类似于 <code class="t">whence</code>；使用 <code class="t">-V</code> 时，它等同于 <code class="t">whence -v</code>。
</p>
</dd>
<dt><a id="index-exec"></a><span><code class="t">exec</code> [ <code class="t">-cl</code> ] [ <code class="t">-a</code> <var class="var">argv0</var> ]<a class="copiable-link" href="#index-exec"> &para;</a></span></dt>
<dd><p>以下命令连同参数将代替当前进程运行，而不是作为子进程运行。 shell 不会分叉,并被替换。 shell 不会调用 <code class="t">TRAPEXIT</code>，也不会引入
<code class="t">zlogout</code> 文件。 提供这些选项是为了与其他 shell 兼容。
</p>
<p><code class="t">-c</code> 选项会清除环境。
</p>
<p><code class="t">-l</code> 选项等同于 <code class="t">-</code> 前置命令修饰符，将替换命令视为登录 shell；执行命令时，会在 <code class="t">argv[0]</code> 字符串前加上
<code class="t">-</code>。 如果与 <code class="t">-a</code> 选项一起使用，则该标记无效。
</p>
<p><code class="t">-a</code> 选项用于明确指定替换命令将使用的 <code class="t">argv[0]</code> 字符串（进程本身看到的命令名称），直接等同于为 <code class="t">ARGV0</code>
环境变量设置值。
</p>
</dd>
<dt><a id="index-nocorrect"></a><span><code class="t">nocorrect</code><a class="copiable-link" href="#index-nocorrect"> &para;</a></span></dt>
<dd><p>不对任何单词进行拼写校正。 它必须出现在任何其他前置命令修饰符之前，因为它会在进行任何解析之前立即被解释。 在非交互式 shell 中没有作用。
</p>
</dd>
<dt><a id="index-noglob"></a><span><code class="t">noglob</code><a class="copiable-link" href="#index-noglob"> &para;</a></span></dt>
<dd><p>不对任何单词执行文件名生成（通配）。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="g_t_590d_6742_547d_4ee4">

<h3 class="section" id="Fu-Za-Ming-Ling-"><span>6.3 复杂命令<a class="copiable-link" href="#Fu-Za-Ming-Ling-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Fu-Za-Ming-Ling-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Fu-Za-"></a>
<p>zsh 中的 <em class="emph">复杂命令</em>是以下命令之一：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-if-construct"></a>
<a id="index-if"></a><span><code class="t">if</code> <var class="var">list</var> <code class="t">then</code> <var class="var">list</var> [ <code class="t">elif</code> <var class="var">list</var> <code class="t">then</code> <var class="var">list</var> ] ... [ <code class="t">else</code> <var class="var">list</var> ] <code class="t">fi</code><a class="copiable-link" href="#index-if"> &para;</a></span></dt>
<dd><p>执行<code class="t">if</code> <var class="var">list</var>，如果返回零退出状态，则执行 <code class="t">then</code>  <var class="var">list</var>。 否则，执行 <code class="t">elif</code>
<var class="var">list</var>，如果状态为零，则执行 <code class="t">then</code> <var class="var">list</var> 。 如果每个 <code class="t">elif</code>
<var class="var">list</var>返回非零状态，则执行 <code class="t">else</code> <var class="var">list</var> 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-for-loops"></a>
<a class="index-entry-id" id="index-loops_002c-for"></a>
<a id="index-for"></a><span><code class="t">for</code> <var class="var">name</var> ... [ <code class="t">in</code> <var class="var">word</var> ... ] <var class="var">term</var> <code class="t">do</code> <var class="var">list</var> <code class="t">done</code><a class="copiable-link" href="#index-for"> &para;</a></span></dt>
<dd><p>展开 <var class="var">word</var> 列表，依次将参数 <var class="var">name</var> 设置为其中的每一个，每次都执行 <var class="var">list</var>。 如果省略&lsquo;<code class="t">in</code>
<var class="var">word</var>&rsquo;，则将使用位置参数而不是
<var class="var">word</var>。<a class="uref" href="comments/syntax.html#syntax-for-ex1">[译注:for.示例1]</a>
</p>
<p><var class="var">term</var> 由一个或多个换行符或 <code class="t">;</code> 组成，用于终止 <var class="var">word</var>，当省略 &lsquo;<code class="t">in</code> <var class="var">word</var>&rsquo;
时是可选的。
</p>
<p>在 <var class="var">word</var> 之前可以出现多个参数 <var class="var">name</var>。 如果给出 <var class="var">N</var> 个
<var class="var">name</var>，那么在循环的每次执行中，下面每 <var class="var">N</var> 个 <var class="var">word</var>s 都会分配给相应的参数。 如果 <var class="var">name</var>
个数多于剩余的 <var class="var">word</var>，剩余的参数将被设置为空字符串。
<a class="uref" href="comments/syntax.html#syntax-for-ex2">[译注:for.示例2]</a>当没有剩余的 <var class="var">word</var>
可以分配给第一个 <var class="var">name</var> 时，循环执行结束。 <code class="t">in</code> 作为 <var class="var">name</var> 列表中的第一个 <var class="var">name</var>
出现时，才能作为 <var class="var">name</var> 使用，否则它将被视为 <var class="var">name</var>
列表的结束符。<a class="uref" href="comments/syntax.html#syntax-for-ex3">[译注:for.示例3]</a>
</p>
</dd>
<dt><code class="t">for ((</code> [<var class="var">expr1</var>] <code class="t">;</code> [<var class="var">expr2</var>] <code class="t">;</code> [<var class="var">expr3</var>] <code class="t">)) do</code> <var class="var">list</var> <code class="t">done</code></dt>
<dd><p>首先对算术表达式 <var class="var">expr1</var> 进行求值（参见 <a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>）。 算术表达式 <var class="var">expr2</var>
会被反复求值，直到求值为零，如果不为零，则执行 <var class="var">list</var> 并求值算术表达式 <var class="var">expr3</var>。 如果省略了任何表达式，则该表达式的值为
1。
</p>
</dd>
<dt><a class="index-entry-id" id="index-while-Xun-Huan-"></a>
<a class="index-entry-id" id="index-Xun-Huan-_002c-while"></a>
<a id="index-while"></a><span><code class="t">while</code> <var class="var">list</var> <code class="t">do</code> <var class="var">list</var> <code class="t">done</code><a class="copiable-link" href="#index-while"> &para;</a></span></dt>
<dd><p>只要 <code class="t">while</code> <var class="var">list</var> 返回的退出状态为零，就执行 <code class="t">do</code> <var class="var">list</var> 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-until-Xun-Huan-"></a>
<a class="index-entry-id" id="index-Xun-Huan-_002c-until"></a>
<a id="index-until"></a><span><code class="t">until</code> <var class="var">list</var> <code class="t">do</code> <var class="var">list</var> <code class="t">done</code><a class="copiable-link" href="#index-until"> &para;</a></span></dt>
<dd><p>只要 <code class="t">until</code> <var class="var">list</var> 返回非零退出状态，就执行 <code class="t">do</code> <var class="var">list</var> 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-repeat-Xun-Huan-"></a>
<a class="index-entry-id" id="index-Xun-Huan-_002c-repeat"></a>
<a id="index-repeat"></a><span><code class="t">repeat</code> <var class="var">word</var> <code class="t">do</code> <var class="var">list</var> <code class="t">done</code><a class="copiable-link" href="#index-repeat"> &para;</a></span></dt>
<dd><p><var class="var">word</var> 将被展开并视为算术表达式，其值必须为数值 <var class="var">n</var>。 然后 <var class="var">list</var> 会被执行 <var class="var">n</var> 次。
</p>
<p>当 shell 以模拟其他 shell 的模式启动时，<code class="t">repeat</code> 语法默认为禁用。 可以使用&lsquo;<code class="t">enable -r
repeat</code>&rsquo;命令启用该语法。
</p>
</dd>
<dt><a class="index-entry-id" id="index-case-Xuan-Ze-"></a>
<a class="index-entry-id" id="index-Xuan-Ze-_002c-case"></a>
<a id="index-case"></a><span><code class="t">case</code> <var class="var">word</var> <code class="t">in</code> [ [<code class="t">(</code>] <var class="var">pattern</var> [ <code class="t">|</code> <var class="var">pattern</var> ] ... <code class="t">)</code> <var class="var">list</var> (<code class="t">;;</code>|<code class="t">;&amp;</code>|<code class="t">;|</code>) ] ... <code class="t">esac</code><a class="copiable-link" href="#index-case"> &para;</a></span></dt>
<dd><p>执行与第一个匹配 <var class="var">word</var> 的 <var class="var">pattern</var> 相关的 <var class="var">list</var>（如果有）。 模式的形式与文件名生成使用的模式相同。
请参阅 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>。
</p>
<p>还需要注意的是，除非设置了 <code class="t">SH_GLOB</code> 选项，否则 shell
会将整个模式视为括号内的模式组对待，尽管在括号和竖线附近可能会出现空白，但这些空白会从模式中删除。 空格可能出现在模式的其他地方，但不会被删除。
如果设置了 <code class="t">SH_GLOB</code>
选项，那么开头的括号明确地视为case语法的一部分，那么表达式将被解析为单独的单词，这些单词将被视为严格的替代词（与其他 shell
相同）。[译注:这里只是shell处理时的内部逻辑，在这里使用时不必关心]
</p>
<p>如果执行的 <var class="var">list</var> 的结束符是 <code class="t">;&amp;</code> 而不是 <code class="t">;;</code>，则也会执行下面的列表。 除非到达
<code class="t">esac</code>，否则将执行下面列表的终止符 <code class="t">;;</code>、<code class="t">;&amp;</code> 或 <code class="t">;|</code> 的规则。
</p>
<p>如果执行的 <var class="var">list</var> 以 <code class="t">;|</code> 结尾，则 shell 会继续扫描 <var class="var">pattern</var> 寻找下一个匹配项，执行相应的
<var class="var">list</var> 并应用相应的结尾 <code class="t">;;</code>、<code class="t">;&amp;</code> 或 <code class="t">;|</code> 规则。 请注意，<var class="var">word</var> 不会重新扩展；所有适用的
<var class="var">pattern</var> 都将使用相同的 <var class="var">word</var> 进行测试。
</p>
</dd>
<dt><a class="index-entry-id" id="index-user-selection"></a>
<a class="index-entry-id" id="index-selection_002c-user"></a>
<a id="index-select"></a><span><code class="t">select</code> <var class="var">name</var> [ <code class="t">in</code> <var class="var">word</var> ... <var class="var">term</var> ] <code class="t">do</code> <var class="var">list</var> <code class="t">done</code><a class="copiable-link" href="#index-select"> &para;</a></span></dt>
<dd><p>其中 <var class="var">term</var> 是一个或多个换行符，或 <code class="t">;</code> ，用以终止 <var class="var">word</var>s.
<a class="index-entry-id" id="index-REPLY_002c-use-of"></a>
打印一组 <var class="var">word</var>，每个前面都有一个数字。 如果省略 <code class="t">in</code> <var class="var">word</var>  则使用位置参数。 如果 shell
是交互式的，并且行编辑器处于激活状态，则会打印 <code class="t">PROMPT3</code> 提示符，然后从行编辑器读取一行，否则从标准输入读取一行。 如果该行包含所列
<var class="var">word</var> 的编号，那么参数 <var class="var">name</var> 将被设置为与该编号对应的 <var class="var">word</var>。 如果该行为空，则再次打印选择列表。
否则，参数 <var class="var">name</var> 的值将被设置为空。 从标准输入读取的行内容将保存在参数 <code class="t">REPLY</code> 中。 <var class="var">list</var>
会在每次选择时执行，直到遇到中断或文件结束。<a class="uref" href="comments/syntax.html#syntax-select-name">[译注:语法.select]</a>
</p>
</dd>
<dt><a id="index-subshell"></a><span><code class="t">(</code> <var class="var">list</var> <code class="t">)</code><a class="copiable-link" href="#index-subshell"> &para;</a></span></dt>
<dd><p>在子shell中执行 <var class="var">list</var>。 在执行 <var class="var">list</var> 时，由 <code class="t">trap</code> 内置函数设置的陷阱将被重置为默认值；但如果设置了
<code class="t">POSIXTRAPS</code> 选项，被忽略的信号将继续被忽略。
</p>
</dd>
<dt><code class="t">{</code> <var class="var">list</var> <code class="t">}</code></dt>
<dd><p>执行 <var class="var">list</var>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-always-Kuai-"></a>
<a class="index-entry-id" id="index-try-Kuai-"></a>
<a id="index-always"></a><span><code class="t">{</code> <var class="var">try-list</var> <code class="t">} always {</code> <var class="var">always-list</var> <code class="t">}</code><a class="copiable-link" href="#index-always"> &para;</a></span></dt>
<dd><p>首先执行 <var class="var">try-list</var>。 无论在 <var class="var">try-list</var> 中遇到任何错误、<code class="t">break</code> 或 <code class="t">continue</code>
命令，都要执行 <var class="var">always-list</var>。 换句话说，任何错误、<code class="t">break</code> 或 <code class="t">continue</code>命令都会以正常方式处理，就好像
<var class="var">always-list</var> 不存在一样。 这两段代码被称为 &lsquo;try 块&rsquo;和 &lsquo;always 块&rsquo;。
</p>
<p>在 <code class="t">always</code> 之后可以出现可选的换行符或分号，但要注意，换行符或分号 <em class="emph">不可以</em> 出现在前面的收尾括号和 <code class="t">always</code>
之间。
</p>
<p>在这个语境中，&lsquo;错误&rsquo; 是指诸如语法错误之类的条件，会导致shell 中止当前函数、脚本或列表的执行。shell 解析代码时遇到的语法错误不会导致
<var class="var">always-list</var> 被执行。 例如，在 <var class="var">try-list</var> 中构造错误的 <code class="t">if</code> 块会导致 shell
在解析过程中中止，因此 <var class="var">always-list</var> 不会被执行，而错误的替换（如 <code class="t">${*foo*}</code>）会导致运行时错误，之后
<var class="var">always-list</var> 将被执行。
</p>
<p>错误条件可以通过特殊的整数变量 <code class="t">TRY_BLOCK_ERROR</code> 进行测试和重置。 在 <var class="var">always-list</var>
之外，该变量的值无关紧要，但会被初始化为 <code class="t">-1</code>。 在 <var class="var">always-list</var> 中，如果 <var class="var">try-list</var>
发生错误，则值为 1，否则为 0。 如果 <code class="t">TRY_BLOCK_ERROR</code> 在 <var class="var">always-list</var> 中被设置为 0，由
<var class="var">try-list</var> 引起的错误将被重置，shell 执行将在 <var class="var">always-list</var> 结束后继续正常进行。 在
<var class="var">try-list</var>期间更改值并无用处（除非它构成了外层 <code class="t">always</code>
代码块的一部分）。<a class="uref" href="comments/syntax.html#syntax-always">[译注:语法.always]</a>
</p>
<p>无论 <code class="t">TRY_BLOCK_ERROR</code> 如何设置，在 <var class="var">always-list</var> 结束后，正常的 shell 状态 <code class="t">$?</code> 就是
<var class="var">try-list</var> 返回的值。 如果出现错误，即使 <code class="t">TRY_BLOCK_ERROR</code> 被设置为零，该值也不会为零。
</p>
<p>下面的代码会执行给定的代码，并忽略它引起的任何错误。 这与通常在子 shell 中执行代码以保护代码的做法不同。
</p>
<div class="example">
<pre class="example-preformatted">{
    # code which may cause an error
  } always {
    # This code is executed regardless of the error.
    (( TRY_BLOCK_ERROR = 0 ))
}
# The error condition has been reset.
</pre></div>

<p>当 <code class="t">try</code> 代码块出现在任何函数之外时，在 <var class="var">try-list</var> 中遇到 <code class="t">return</code> 或 <code class="t">exit</code> 不会
<em class="emph">不会</em> 导致 <var class="var">always-list</var> 的执行。 相反，shell 会在执行 <code class="t">EXIT</code> 陷阱后立即退出。 否则，与
<code class="t">break</code> 和 <code class="t">continue</code> 一样，在 <var class="var">try-list</var> 中执行 <code class="t">return</code> 命令也会导致
<var class="var">always-list</var> 的执行。
</p>


</dd>
<dt><a id="index-function"></a><span><code class="t">function</code> [ <code class="t">-T</code> ] <var class="var">word</var> ... [ <code class="t">()</code> ] [ <var class="var">term</var> ] <code class="t">{</code> <var class="var">list</var> <code class="t">}</code><a class="copiable-link" href="#index-function"> &para;</a></span></dt>
<dt><var class="var">word</var> ... <code class="t">()</code> [ <var class="var">term</var> ] <code class="t">{</code> <var class="var">list</var> <code class="t">}</code></dt>
<dt><var class="var">word</var> ... <code class="t">()</code> [ <var class="var">term</var> ] <var class="var">command</var></dt>
<dd><p>其中 <var class="var">term</var> 是一个或多个换行符或 <code class="t">;</code>。 定义一个函数，该函数由 <var class="var">word</var> 中的任意一个引用。 通常只提供一个
<var class="var">word</var>；多个 <var class="var">word</var> 通常只在设置陷阱时有用。 函数的主体是 <code class="t">{</code> 和 <code class="t">}</code> 之间的 <var class="var">list</var>。
参见 <a class="ref" href="#g_t_51fd_6570">函数</a>。<a class="uref" href="comments/syntax.html#syntax-function">[译注:语法.function]</a>
</p>
<p><code class="t">function</code> 的选项具有以下含义:
</p>
<dl class="table">
<dt>-T</dt>
<dd><p>启用对该函数的跟踪，就像使用 <code class="t">functions -T</code> 一样。 请参阅 <a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a>中 <code class="t">typeset</code> 内置命令的
<code class="t">-f</code> 选项文档。
</p>
</dd>
</dl>

<p>如果为了与其他 shell 兼容而设置了 <code class="t">SH_GLOB</code> 选项，那么当只有一个 <var class="var">word</var>
时，左右括号之间可能会出现空白；否则，在这种情况下，括号将被视为形成一个 globbing
模式。<a class="uref" href="comments/syntax.html#syntax-function-shglob">[译注:语法.function.shglob]</a>
</p>
<p>在上述任何一种形式中，重定向都可能出现在函数体之外，例如
</p>
<div class="example">
<pre class="example-preformatted">func() { ... } 2&gt;&amp;1
</pre></div>

<p>重定向与函数一起存储，并在执行函数时应用。 重定向中的任何变量都会在函数执行时展开，但不在函数范围内。
</p>
</dd>
<dt><a class="index-entry-id" id="index-time"></a>
<a id="index-Ji-Shi-"></a><span><code class="t">time</code> [ <var class="var">pipeline</var> ]<a class="copiable-link" href="#index-Ji-Shi-"> &para;</a></span></dt>
<dd><p>执行 <var class="var">pipeline</var>，并以 <code class="t">TIMEFMT</code> 参数指定的形式在标准错误中报告计时统计数据。 如果省略
<var class="var">pipeline</var>，则打印 shell 进程及其子进程的统计信息。
</p>
</dd>
<dt><a class="index-entry-id" id="index-_005b_005b"></a>
<a id="index-Tiao-Jian-Biao-Da-Shi-"></a><span><code class="t">[[</code> <var class="var">exp</var> <code class="t">]]</code><a class="copiable-link" href="#index-Tiao-Jian-Biao-Da-Shi-"> &para;</a></span></dt>
<dd><p>计算条件表达式 <var class="var">exp</var>，如果为真，则返回零退出状态。 有关 <var class="var">exp</var> 的描述，请参阅 <a class="ref" href="#g_t_6761_4ef6_8868_8fbe_5f0f">条件表达式</a>。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="g_t_590d_6742_547d_4ee4_7684_66ff_4ee3_5f62_5f0f">

<h3 class="section" id="Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-"><span>6.4 复杂命令的替代形式<a class="copiable-link" href="#Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-"></a>
<p>zsh 的许多复杂命令都有替代形式。 这些命令都是非标准的，即使是经验丰富的 shell 程序员也很难看出它们的区别；在任何需要考虑 shell
代码可移植性的地方，都不应该使用它们。
</p>
<p>只有当 <var class="var">sublist</var> 的形式为&lsquo;<code class="t">{</code> <var class="var">list</var> <code class="t">}</code>&rsquo;时，或设置了 <code class="t">SHORT_LOOPS</code>
选项<a class="uref" href="comments/syntax.html#syntax-alternate-shortloops">[译注:语法.短循环.shortloops]</a>，下面的简短版本才有效。
对于 <code class="t">if</code>、<code class="t">while</code> 和 <code class="t">until</code> 命令，在这两种情况下，循环的测试部分也必须适当分隔，例如使用 &lsquo;<code class="t">[[</code>
<var class="var">...</var> <code class="t">]]</code>&rsquo; 或 &lsquo;<code class="t">((</code> <var class="var">...</var> <code class="t">))</code>&rsquo;，否则将无法识别测试的结束。 对于
<code class="t">for</code>、<code class="t">repeat</code>、<code class="t">case</code> 和 <code class="t">select</code>，不需要为参数设置特殊形式，但其他条件（<var class="var">sublist</var>
的特殊形式或使用 <code class="t">SHORT_LOOPS</code> 选项）仍然适用。 <code class="t">SHORT_REPEAT</code> 选项只能用于 <code class="t">repeat</code>
命令的简短版本。
</p>
<dl class="table">
<dt><code class="t">if</code> <var class="var">list</var> <code class="t">{</code> <var class="var">list</var> <code class="t">}</code> [ <code class="t">elif</code> <var class="var">list</var> <code class="t">{</code> <var class="var">list</var> <code class="t">}</code> ] ... [ <code class="t">else {</code> <var class="var">list</var> <code class="t">}</code> ]</dt>
<dd><p><code class="t">if</code> 的另一种形式。 规则的意思是
</p>
<div class="example">
<pre class="example-preformatted">if [[ -o ignorebraces ]] {
  print yes
}
</pre></div>

<p>是有效的，但
</p>
<div class="example">
<pre class="example-preformatted">if true {  # Does not work!
  print yes
}
</pre></div>

<p>则<em class="emph">不会</em>，因为测试（条件）没有适当的分隔（符）。
</p>
</dd>
<dt><code class="t">if</code> <var class="var">list</var> <var class="var">sublist</var></dt>
<dd><p>另一种 <code class="t">if</code> 的简写形式。 对 <var class="var">list</var> 形式的限制与前一种形式相同。
</p>
</dd>
<dt><code class="t">for</code> <var class="var">name</var> ... <code class="t">(</code> <var class="var">word</var> ... <code class="t">)</code> <var class="var">sublist</var></dt>
<dd><p><code class="t">for</code> 的简写。
</p>
</dd>
<dt><code class="t">for</code> <var class="var">name</var> ... [ <code class="t">in</code> <var class="var">word</var> ... ] <var class="var">term</var> <var class="var">sublist</var></dt>
<dd><p>其中 <var class="var">term</var> 是至少一个换行符或 <code class="t">;</code>。 <code class="t">for</code> 的另一种简写形式。
</p>
</dd>
<dt><code class="t">for ((</code> [<var class="var">expr1</var>] <code class="t">;</code> [<var class="var">expr2</var>] <code class="t">;</code> [<var class="var">expr3</var>] <code class="t">))</code> <var class="var">sublist</var></dt>
<dd><p>算术 <code class="t">for</code> 命令的简写。
</p>
</dd>
<dt><a id="index-foreach"></a><span><code class="t">foreach</code> <var class="var">name</var> ... <code class="t">(</code> <var class="var">word</var> ... <code class="t">)</code> <var class="var">list</var> <code class="t">end</code><a class="copiable-link" href="#index-foreach"> &para;</a></span></dt>
<dd><p><code class="t">for</code> 的另一种形式。
</p>
</dd>
<dt><code class="t">while</code> <var class="var">list</var> <code class="t">{</code> <var class="var">list</var> <code class="t">}</code></dt>
<dd><p><code class="t">while</code> 的另一种形式。 请注意上述对 <var class="var">list</var> 形式的限制。
</p>
</dd>
<dt><code class="t">until</code> <var class="var">list</var> <code class="t">{</code> <var class="var">list</var> <code class="t">}</code></dt>
<dd><p><code class="t">until</code> 的另一种形式。 请注意上述对 <var class="var">list</var> 形式的限制。
</p>
</dd>
<dt><code class="t">repeat</code> <var class="var">word</var> <var class="var">sublist</var></dt>
<dd><p>这是 <code class="t">repeat</code> 的简写。
</p>
</dd>
<dt><code class="t">case</code> <var class="var">word</var> <code class="t">{</code> [ [<code class="t">(</code>] <var class="var">pattern</var> [ <code class="t">|</code> <var class="var">pattern</var> ] ... <code class="t">)</code> <var class="var">list</var> (<code class="t">;;</code>|<code class="t">;&amp;</code>|<code class="t">;|</code>) ] ... <code class="t">}</code></dt>
<dd><p><code class="t">case</code> 的另一种形式。
</p>
</dd>
<dt><code class="t">select</code> <var class="var">name</var> [ <code class="t">in</code> <var class="var">word</var> ... <var class="var">term</var> ] <var class="var">sublist</var></dt>
<dd><p>其中 <var class="var">term</var> 至少是一个换行符或 <code class="t">;</code>。 <code class="t">select</code> 的简写。
</p>
</dd>
<dt><code class="t">function</code> <var class="var">word</var> ... [ <code class="t">()</code> ] [ <var class="var">term</var> ] <var class="var">sublist</var></dt>
<dd><p>这是 <code class="t">function</code> 的简写。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="g_t_4fdd_7559_5b57">

<h3 class="section" id="Bao-Liu-Zi-"><span>6.5 保留字<a class="copiable-link" href="#Bao-Liu-Zi-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bao-Liu-Zi-"></a>
<a class="index-entry-id" id="index-disable_002c-use-of"></a>
<p>除非加引号或使用 <code class="t">disable -r</code> 禁用，否则下列单词作为命令的第一个单词使用时将被视为保留字：
</p>
<p><code class="t">do done esac then elif else fi for case if while function repeat time until
select coproc nocorrect foreach end ! [[ { } declare export float integer
local readonly typeset</code>
</p>
<p>此外，如果 <code class="t">IGNORE_BRACES</code> 选项和 <code class="t">IGNORE_CLOSE_BRACES</code> 选项均未设置，
&lsquo;<code class="t">}</code>&rsquo;可以在任何位置被识别。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_9519_8bef">

<h3 class="section" id="Cuo-Wu-"><span>6.6 错误<a class="copiable-link" href="#Cuo-Wu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-errors_002c-handling-of"></a>
<p>某些错误会被 shell 视为致命错误：在交互式 shell 中，它们会导致控制返回命令行，而在非交互式 shell 中，它们会导致 shell 终止。
在旧版本的 zsh 中，运行脚本的非交互式 shell 不会完全终止，而是会在从脚本读取下一条命令时继续执行，跳过任何函数或 shell
结构（如循环或条件）的剩余部分；这种有点不合逻辑的行为可以通过设置选项 <code class="t">CONTINUE_ON_ERROR</code> 来恢复。
</p>
<p>在非交互式 shell 中发现的致命错误包括:
</p>
<ul class="itemize mark-bullet">
<li>无法解析调用 shell 时传递的 shell 选项
</li><li>无法使用 <code class="t">set</code> 内置命令更改选项
</li><li>各种解析错误，包括无法解析数学表达式
</li><li>使用 <code class="t">typeset</code>、<code class="t">local</code>、<code class="t">declare</code>、<code class="t">export</code>、<code class="t">integer</code>、<code class="t">float</code>
设置或修改变量行为失败
</li><li>执行位置不正确的循环控制结构（<code class="t">continue</code>、<code class="t">break</code>）。
</li><li>尝试使用正则表达式，但没有可用的正则表达式模块
</li><li>设置 <code class="t">RESTRICTED</code> 选项时禁止的操作
</li><li>未能创建管道所需的管道
</li><li>未能建立一个multio
</li><li>无法自动加载已声明的 shell 功能所需的模块
</li><li>创建命令或进程替换时出现错误
</li><li>glob 限定符中的语法错误
</li><li>选项 <code class="t">BAD_PATTERN</code> 无法捕捉文件生成错误
</li><li>case语句中用于匹配的所有不良模式
</li><li>不是由 <code class="t">NO_MATCH</code> 或类似选项造成的文件生成失败
</li><li>所有文件生成错误，其中模式被用于创建multio。
</li><li>shell 检测到内存错误
</li><li>shell 变量的下标无效
</li><li>尝试为只读变量赋值
</li><li>变量逻辑错误，如赋值给错误类型
</li><li>使用无效的变量名
</li><li>变量替换语法错误
</li><li>无法转换 <code class="t">$'</code>...<code class="t">'</code>表达式中的字符
</li></ul>

<p>如果设置了 <code class="t">POSIX_BUILTINS</code> 选项，根据 POSIX 标准的规定，更多与 shell 内置命令相关的错误将被视为致命错误。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_6ce8_91ca">

<h3 class="section" id="Zhu-Shi-"><span>6.7 注释<a class="copiable-link" href="#Zhu-Shi-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Zhu-Shi-"></a>
<a class="index-entry-id" id="index-INTERACTIVE_005fCOMMENTS_002c-use-of"></a>
<a class="index-entry-id" id="index-histchars_002c-use-of"></a>
<p>在非交互式 shell 或设置了 <code class="t">INTERACTIVE_COMMENTS</code> 选项的交互式 shell 中，以 <code class="t">histchars</code>
参数（默认为&lsquo;<code class="t">#</code>&rsquo; ）的第三个字符开头的单词会导致该单词以及换行符之前的所有后续字符被忽略。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_522b_540d">

<h3 class="section" id="Bie-Ming-"><span>6.8 别名<a class="copiable-link" href="#Bie-Ming-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bie-Ming-"></a>
<p>shell 输入中每一个符合条件的 <em class="emph">word</em> 都会被检查，看是否为其定义了别名。
如果有的话，如果它处于命令位置（如果它可能是简单命令的第一个单词），或者如果别名是全局的，它就会被别名文本替换。 如果替换文本以空格结束，则 shell
输入中的下一个单词总是可以用于别名扩展。
</p>
<p>除非设置了 <code class="t">ALIAS_FUNC_DEF</code> 选项，否则 sh 兼容函数定义语法&lsquo;<var class="var">word</var> <code class="t">()</code> ...&rsquo; 中的函数名
<var class="var">word</var>,
如果是由别名扩展产生的单词，则属于错误。<a class="uref" href="comments/syntax.html#syntax-alias">[译注:语法.别名]</a>
</p>
<a class="index-entry-id" id="index-alias_002c-use-of"></a>
<a class="index-entry-id" id="index-aliases_002c-global"></a>
<p>使用 <code class="t">alias</code> 内置命令可定义别名；使用 <code class="t">-g</code> 选项可定义全局别名。
</p>
<p>一个 <em class="emph">word</em> 的定义是:
</p>
<ul class="itemize mark-bullet">
<li>任何普通字符串或 glob 模式
</li><li>任何带引号的字符串，使用任何引号方法（注意，引号必须是别名定义的一部分，才符合条件）
</li><li>任何参数引用或命令替换
</li><li>上述任何系列，连接时中间不留空白或其他符号
</li><li>任何保留字（<code class="t">case</code>、<code class="t">do</code>、<code class="t">else</code> 等）
</li><li>在全局别名定义下，任何命令分隔符、重定向操作符，以及不用作 glob 模式一部分时的 &lsquo;<code class="t">(</code>&rsquo; 或 &lsquo;<code class="t">)</code>&rsquo;
</li></ul>

<p>别名扩展是在历史扩展之后，其它扩展之前， 在 shell 输入上进行的。 因此，如果为单词 <code class="t">foo</code>
定义了别名，可以通过引用(转义)单词的一部分来避免别名扩展，例如 <code class="t">\foo</code>。 任何形式的引号(转义)都可以使用，尽管没有什么可以阻止为
<code class="t">\foo</code> 这样的引号(转义)形式定义别名。
</p>
<p>特别要注意的是，使用 <code class="t">unalias</code> 删除全局别名时必须使用引号:
</p>
<div class="example">
<pre class="example-preformatted">% alias -g foo=bar
% unalias foo
unalias: no such hash table element: bar
% unalias \foo
% 
</pre></div>

<p>设置 <code class="t">POSIX_ALIASES</code> 时，只有未加引号的普通字符串才有资格使用别名。 <code class="t">alias</code>
内置命令不会拒绝不符合条件的别名，但不会对其进行扩展。<a class="uref" href="comments/syntax.html#syntax-alias-posixaliases">[译注:语法.alias.posixaliases]</a>
</p>
<p>补全会移除首部反斜线后的非特殊字符，来与补全一起使用，以单引号开头的引用可能更方便，例如 <code class="t">'foo</code>；补全会自动添加尾部的单引号。
</p>

<div class="subsection-level-extent" id="Bie-Ming-De-Wen-Ti-">
<h4 class="subsection"><span>6.8.1 别名的问题<a class="copiable-link" href="#Bie-Ming-De-Wen-Ti-"> &para;</a></span></h4>

<p>虽然别名的使用方式可以超越正常的 shell 语法，但并非所有非空格字符串都可以用作别名。
</p>
<p>任何未被上面作为单词列出的字符集都不是单词，因此，无论如何定义（即通过内置命令或 <a class="ref" href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a> 中描述的特殊参数
<code class="t">aliases</code>），都不会尝试将其扩展为别名。不过，正如上文 <code class="t">POSIX_ALIASES</code> 所述，在创建别名时，shell
不会尝试推断字符串是否与单词相对应。
</p>
<p>例如，在命令行开头包含 <code class="t">=</code> 的表达式是赋值，不能扩展为别名；单独的 <code class="t">=</code> 不是赋值，只能使用参数设置为别名，否则 <code class="t">=</code>
将被视为内置命令语法的一部分。
</p>
<p>目前还无法为&lsquo;<code class="t">((</code>&rsquo;
（引入算术表达式的标记）创建别名，因为在解析完整语句之前，无法将其与两个连续的引入嵌套子shell的&lsquo;<code class="t">(</code>&rsquo;标记区分开来。 另外，如果
<code class="t">&amp;&amp;</code> 这样的分隔符被别名，<code class="t">\&amp;&amp;</code> 就会变成两个标记 <code class="t">\&amp;</code> 和 <code class="t">&amp;</code>，而每个标记都可能被单独别名。 类似的还有
<code class="t">\&lt;&lt;</code>, <code class="t">\&gt;|</code>等。
</p>
<p>下面的代码说明了一个常见的别名问题：
</p>
<div class="example">
<pre class="example-preformatted">alias echobar='echo bar'; echobar
</pre></div>

<p>这将打印一条信息：找不到 <code class="t">echobar</code> 命令。 出现这种情况是因为别名是在读入代码时展开的；整行代码是一次性读入的，因此在执行
<code class="t">echobar</code> 时，来不及展开新定义的别名。 在 shell 脚本、函数和使用
&lsquo;<code class="t">source</code>&rsquo;或&lsquo;<code class="t">.</code>&rsquo;执行的代码中，这通常是一个问题。 因此，建议在非交互代码中使用函数而不是别名。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_5f15_7528">

<h3 class="section" id="Yin-Yong-"><span>6.9 引用<a class="copiable-link" href="#Yin-Yong-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-quoting"></a>
<p>在一个字符前加上&lsquo;<code class="t">\</code>&rsquo;，该字符就可以被<em class="emph">引用</em>（即使他表示自己）。 后跟换行符的 &lsquo;<code class="t">\</code>&rsquo; 将被忽略。
</p>
<p>由 &lsquo;<code class="t">$'</code>&rsquo;  和 &lsquo;<code class="t">'</code>&rsquo;括起来的字符串的处理方式与 <code class="t">print</code> 内置函数的字符串参数相同，生成的字符串被认为是完全加引号的。
通过使用转义符 &lsquo;<code class="t">\'</code>&rsquo;，可以在字符串中包含一个字面的 &lsquo;<code class="t">'</code>&rsquo;字符。
</p>
<a class="index-entry-id" id="index-RC_005fQUOTES_002c-use-of"></a>
<p>在一对单引号（<code class="t">''</code>）之间括起来的所有字符，如果前面没有&lsquo;<code class="t">$</code>&rsquo;，都会被加上引号。 单引号不能出现在单引号内，除非设置了
<code class="t">RC_QUOTES</code> 选项，在这种情况下，一对单引号会变成一个单引号。 例如
</p>
<div class="example">
<pre class="example-preformatted">print ''''
</pre></div>

<p>如果未设置 <code class="t">RC_QUOTES</code>，则除了换行符外不会输出任何内容；如果设置了 <code class="t">RC_QUOTES</code>，则会输出一个单引号。
</p>
<p>在双引号（<code class="t">&quot;&quot;</code>）内，会出现参数和命令替换， &lsquo;<code class="t">\</code>&rsquo; 会引用 &lsquo;<code class="t">\</code>&rsquo;, &lsquo;<code class="t">`</code>&rsquo;, &lsquo;<code class="t">&quot;</code>&rsquo;, &lsquo;<code class="t">$</code>&rsquo;和
<code class="t">$histchars</code> 的第一个字符（默认为 &lsquo;<code class="t">!</code>&rsquo;）。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_91cd_5b9a_5411">

<h2 class="chapter" id="Zhong-Ding-Xiang-"><span>7 重定向<a class="copiable-link" href="#Zhong-Ding-Xiang-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Zhong-Ding-Xiang-"></a>
<a class="index-entry-id" id="index-WenJian-Miao-Shu-Fu-"></a>
<a class="index-entry-id" id="index-Miao-Shu-Fu-_002c-WenJian-"></a>
<p>如果命令后跟 <code class="t">&amp;</code>，且作业控制未激活，则该命令的默认标准输入为空文件 <code class="t">/dev/null</code>。 否则，命令的执行环境将包含调用的 shell
的文件描述符，并根据输入/输出规范进行修改。
</p>
<p>以下内容可以出现在简单命令的任何位置，也可以出现在复杂命令的前面或后面。 在使用 <var class="var">word</var> 或 <var class="var">digit</var>
之前，会进行扩展，以下情况除外。 如果 <var class="var">word</var> 的替换结果产生一个以上的文件名，则依次对每个独立的文件名进行重定向。
</p>
<dl class="table">
<dt><code class="t">&lt;</code> <var class="var">word</var></dt>
<dd><p>打开文件 <var class="var">word</var> 作为标准输入进行读取。 如果文件不存在，用这种方式打开文件是错误的。
</p>
</dd>
<dt><code class="t">&lt;&gt;</code> <var class="var">word</var></dt>
<dd><p>打开 <var class="var">word</var> 文件，作为标准输入进行读写。 如果文件不存在，则将创建该文件。
</p>
</dd>
<dt><code class="t">&gt;</code> <var class="var">word</var></dt>
<dd><p>打开 <var class="var">word</var> 文件，将其作为标准输出写入。 如果文件不存在，则创建该文件。 如果文件存在，且 <code class="t">CLOBBER</code>
选项未设置，则会导致错误；否则，文件将被截断为零长度。
</p>
</dd>
<dt><code class="t">&gt;|</code> <var class="var">word</var></dt>
<dt><code class="t">&gt;!</code> <var class="var">word</var></dt>
<dd><p>与 <code class="t">&gt;</code> 相同，但如果文件存在，无论 <code class="t">CLOBBER</code> 如何，文件都会被截断为零长度。
</p>
</dd>
<dt><code class="t">&gt;&gt;</code> <var class="var">word</var></dt>
<dd><p>打开 <var class="var">word</var> 文件，作为标准输出以追加模式写入。 如果文件不存在，且 <code class="t">CLOBBER</code> 和 <code class="t">APPEND_CREATE</code>
选项均未设置，则会导致错误；否则将创建文件。
</p>
</dd>
<dt><code class="t">&gt;&gt;|</code> <var class="var">word</var></dt>
<dt><code class="t">&gt;&gt;!</code> <var class="var">word</var></dt>
<dd><p>与 <code class="t">&gt;&gt;</code> 相同，但如果文件不存在，则会创建文件，与 <code class="t">CLOBBER</code> 和 <code class="t">APPEND_CREATE</code> 无关。
</p>
</dd>
<dt><code class="t">&lt;&lt;</code>[<code class="t">-</code>] <var class="var">word</var></dt>
<dd><p>shell 输入将读取至与 <var class="var">word</var> 相同的行，或至文件末尾。 不会对 <var class="var">word</var> 进行参数扩展、命令替换或文件名生成。
生成的文件称为 <em class="emph">here-document</em>，将成为标准输入。
</p>
<p>如果 <var class="var">word</var> 中的任何字符被单引号、双引号或&lsquo;<code class="t">\</code>&rsquo;引用，则不会对文件中的字符进行解释。
否则，将进行参数替换和命令替换，&lsquo;<code class="t">\</code>&rsquo;后面是换行，则删除&lsquo;<code class="t">\</code>&rsquo;，并且必须使用 &lsquo;<code class="t">\</code>&rsquo; 来引用&lsquo;<code class="t">\</code>&rsquo;, &lsquo;<code class="t">$</code>&rsquo;,
&lsquo;<code class="t">`</code>&rsquo;和 <var class="var">word</var> 的第一个字符。
</p>
<p>请注意，<var class="var">word</var> 本身不进行 shell 扩充。 <var class="var">word</var>
中的反引号不会产生通常的效果；相反，它们的行为与双引号类似，只是反引号本身不会被改变。 (提供这些信息只是为了完整，并不建议使用反引号）。
<code class="t">$'</code><var class="var">...</var><code class="t">'</code> 形式的引用具有将反斜线引用扩展为特殊字符的标准效果。
</p>
<p>如果使用 <code class="t">&lt;&lt;-</code>，则会从 <var class="var">word</var> 和文档中删除所有前导制表符。
</p>
</dd>
<dt><code class="t">&lt;&lt;&lt;</code> <var class="var">word</var></dt>
<dd><p>对 <var class="var">word</var> 执行 shell 扩展，并将结果传入标准输入。 这被称为 <em class="emph">here-string</em>。 对比上述
here-documents 中 <var class="var">word</var> 的使用，<var class="var">word</var> 并未进行 shell 扩充。 结果后面会有一个换行符。
</p>
</dd>
<dt><code class="t">&lt;&amp;</code> <var class="var">number</var></dt>
<dt><code class="t">&gt;&amp;</code> <var class="var">number</var></dt>
<dd><p>从文件描述符 <var class="var">number</var> 复制标准输入/输出（参见 dup2(2)）。
</p>
</dd>
<dt><code class="t">&lt;&amp; -</code></dt>
<dt><code class="t">&gt;&amp; -</code></dt>
<dd><p>关闭标准输入/输出。
</p>
</dd>
<dt><code class="t">&lt;&amp; p</code></dt>
<dt><code class="t">&gt;&amp; p</code></dt>
<dd><p>协进程的输入/输出被移至标准输入/输出。
</p>
</dd>
<dt><code class="t">&gt;&amp;</code> <var class="var">word</var></dt>
<dt><code class="t">&amp;&gt;</code> <var class="var">word</var></dt>
<dd><p>(除 &lsquo;<code class="t">&gt;&amp;</code> <var class="var">word</var>&rsquo;与上述语法之一相匹配；&lsquo;<code class="t">&amp;&gt;</code>&rsquo; 总是可用于避免这种歧义）。 以 &lsquo;<code class="t">&gt;</code> <var class="var">word</var>&rsquo;
的方式重定向标准输出和标准错误（文件描述符 2）。 请注意，这与存在 multios 时， &lsquo;<code class="t">&gt;</code> <var class="var">word</var> <code class="t">2&gt;&amp;1</code>&rsquo;
的效果<em class="emph">不同</em>（见下文）。
</p>
</dd>
<dt><code class="t">&gt;&amp;|</code> <var class="var">word</var></dt>
<dt><code class="t">&gt;&amp;!</code> <var class="var">word</var></dt>
<dt><code class="t">&amp;&gt;|</code> <var class="var">word</var></dt>
<dt><code class="t">&amp;&gt;!</code> <var class="var">word</var></dt>
<dd><p>以&lsquo;<code class="t">&gt;|</code> <var class="var">word</var>&rsquo;的方式重定向标准输出和标准错误（文件描述符 2）。
</p>
</dd>
<dt><code class="t">&gt;&gt;&amp;</code> <var class="var">word</var></dt>
<dt><code class="t">&amp;&gt;&gt;</code> <var class="var">word</var></dt>
<dd><p>以 &lsquo;<code class="t">&gt;&gt;</code> <var class="var">word</var>&rsquo;的方式重定向标准输出和标准错误（文件描述符 2）。
</p>
</dd>
<dt><code class="t">&gt;&gt;&amp;|</code> <var class="var">word</var></dt>
<dt><code class="t">&gt;&gt;&amp;!</code> <var class="var">word</var></dt>
<dt><code class="t">&amp;&gt;&gt;|</code> <var class="var">word</var></dt>
<dt><code class="t">&amp;&gt;&gt;!</code> <var class="var">word</var></dt>
<dd><p>以&lsquo;<code class="t">&gt;&gt;|</code> <var class="var">word</var>&rsquo;的方式重定向标准输出和标准错误（文件描述符 2）。
</p>
</dd>
</dl>

<p>如果上述任何一项前面有一个数字，那么所指的文件描述符就是该数字指定的文件描述符，而不是默认的 0 或 1。 指定重定向的顺序很重要。 shell
在计算每个重定向时，都会根据（<em class="emph">文件描述符</em>, <em class="emph">文件</em>）关联进行计算。 例如
</p>
<blockquote class="quotation">
<p>... <code class="t">1&gt;</code><var class="var">fname</var> <code class="t">2&gt;&amp;1</code>
</p></blockquote>

<p>首先将文件描述符 1 与文件 <var class="var">fname</var> 关联。 然后将文件描述符 2 和与文件描述符 1 相关联的文件（即
<var class="var">fname</var>）关联起来。 如果重定向的顺序颠倒，文件描述符 2 将与终端关联（假设文件描述符 1 已经关联），然后文件描述符 1 将与文件
<var class="var">fname</var>
关联。<a class="uref" href="comments/redirections.html#redirections-order">[译注:重定向.顺序]</a>
</p>
<p><a class="ref" href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a> 中描述的 &lsquo;<code class="t">|&amp;</code>&rsquo; 命令分隔符是 &lsquo;<code class="t">2&gt;&amp;1 |</code>&rsquo;的简写。
</p>
<p>各种形式的进程替换，即输入的&lsquo;<code class="t">&lt;(</code><var class="var">list</var><code class="t">)</code>&rsquo;和 &lsquo;<code class="t">=(</code><var class="var">list</var><code class="t">)</code>&rsquo;
以及输出的&lsquo;<code class="t">&gt;(</code><var class="var">list</var><code class="t">)</code>&rsquo;，经常与重定向一起使用。 例如，如果输出重定向中的 <var class="var">word</var> 的形式为
&lsquo;<code class="t">&gt;(</code><var class="var">list</var><code class="t">)</code>&rsquo; ，那么输出将被管道输送到 <var class="var">list</var> 所代表的命令。 参见 <a class="ref" href="#g_t_8fdb_7a0b_66ff_6362">进程替换</a>。
</p>
<div class="section-level-extent" id="Shi-Yong-Can-Shu-Da-Kai-WenJian-Miao-Shu-Fu-">
<h3 class="section"><span>7.1 使用参数打开文件描述符<a class="copiable-link" href="#Shi-Yong-Can-Shu-Da-Kai-WenJian-Miao-Shu-Fu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-WenJian-Miao-Shu-Fu-_002c-Shi-Yong-Can-Shu-De-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Yong-Yu-Shi-Yong-WenJian-Miao-Shu-Fu-"></a>

<p>在 shell 解析命令参数时，如果未设置 shell 选项 <code class="t">IGNORE_BRACES</code>，则允许使用另一种形式的重定向：用大括号括起来的有效
shell 标识符代替运算符前的数字。 shell 将打开一个新的文件描述符，该文件描述符保证至少为 10，并将标识符命名的参数设置为打开的文件描述符。
在括号和重定向字符之间不允许有空白。 例如
</p>
<blockquote class="quotation">
<p>... <code class="t">{myfd}&gt;&amp;1</code>
</p></blockquote>

<p>这将打开一个与文件描述符 1 重复的新文件描述符，并将参数 <code class="t">myfd</code> 设置为文件描述符的编号（至少为 10）。 可以使用 <code class="t">&gt;&amp;$myfd</code>
语法写入新的文件描述符。 该文件描述符在子shell和分叉（forked）的外部可执行文件中保持打开状态。
</p>
<p>语法 <code class="t">{</code><var class="var">varid</var><code class="t">}&gt;&amp;-</code>，例如 <code class="t">{myfd}&gt;&amp;-</code>，可用于关闭以这种方式打开的文件描述符。
需要注意的是，在这种情况下，<var class="var">varid</var> 给出的参数必须事先设置为文件描述符。
</p>
<p>当参数为只读时，以这种方式打开或关闭文件描述符是错误的。 不过，如果 <var class="var">param</var> 为只读参数，则使用 <code class="t">&lt;&amp;$</code><var class="var">param</var>
或 <code class="t">&gt;&amp;$</code><var class="var">param</var>
读取或写入文件描述符不会出错。<a class="uref" href="comments/redirections.html#redirections-fd-param-readonly">[译注:重定向.文件描述符.只读参数]</a>
</p>
<p>如果未设置选项 <code class="t">CLOBBER</code>，如果参数是一个打开的文件描述符的（通过本机制已经分配的），通过该参数打开文件描述符是错误的。
在使用该参数分配文件描述符前取消参数设置，就不会出错。
</p>
<p>请注意，这种机制只是分配或关闭文件描述符，并不执行任何重定向操作。 通常，在将文件描述符作为 <code class="t">exec</code>
的参数使用之前，分配文件描述符会比较方便。
在任何情况下，该语法都不能用于复杂的命令，例如带括号的子shell或循环，在这种情况下，开头的括号会被解释为要在当前 shell
中执行的命令列表的一部分。
</p>
<p>下面显示了分配、使用和关闭文件描述符的典型顺序：
</p>
<div class="example">
<pre class="example-preformatted">integer myfd
exec {myfd}&gt;~/logs/mylogfile.txt
print This is a log message. &gt;&amp;$myfd
exec {myfd}&gt;&amp;-
</pre></div>

<p>请注意，表达式 <code class="t">&gt;&amp;$myfd</code> 中变量的扩展是在重定向打开时进行的。 这是在扩展命令参数和处理命令行左侧的重定向之后。
</p>
</div>
<div class="section-level-extent" id="Multios">
<h3 class="section"><span>7.2 Multios<a class="copiable-link" href="#Multios"> &para;</a></span></h3>
<a class="index-entry-id" id="index-multios"></a>
<a class="index-entry-id" id="index-MULTIOS_002c-use-of"></a>
<p>如果用户尝试打开一个文件描述符进行多次写入，shell 会将该文件描述符作为管道打开到一个进程，该进程会将其输入复制到所有指定的输出，类似于
<cite class="cite">tee</cite>，前提是设置了 <code class="t">MULTIOS</code>（默认设置）选项。 因此
</p>
<div class="example">
<pre class="example-preformatted">date &gt;foo &gt;bar
</pre></div>

<p>将日期写入两个文件，分别命名为&lsquo;<code class="t">foo</code>&rsquo;和&lsquo;<code class="t">bar</code>&rsquo;。 请注意，管道是一种隐式重定向；因此
</p>
<div class="example">
<pre class="example-preformatted">date &gt;foo | cat
</pre></div>

<p>将日期写入文件&lsquo;<code class="t">foo</code>&rsquo;，并将其导入 cat。
</p>
<p>请注意，shell 会立即打开所有要在 multio 进程中使用的文件，而不是在即将写入这些文件时才打开。
</p>
<p>还要注意的是，重定向总是按顺序展开的。 这与 <code class="t">MULTIOS</code> 选项的设置无关，但如果该选项生效，则会产生额外的后果。例如，表达式 <code class="t">&gt;&amp;1</code>
的含义会在前一次重定向后发生变化：
</p>
<div class="example">
<pre class="example-preformatted">date &gt;&amp;1 &gt;output
</pre></div>

<p>在上面的例子中，<code class="t">&gt;&amp;1</code> 指的是行首的标准输出；结果与 <code class="t">tee</code> 命令类似。 不过，请注意
</p>
<div class="example">
<pre class="example-preformatted">date &gt;output &gt;&amp;1
</pre></div>

<p>由于重定向是按顺序计算的，当遇到 <code class="t">&gt;&amp;1</code> 时，标准输出会被设置为 <code class="t">output</code> 文件，因此另一份输出会被发送到该文件。
这可能不是我们想要的结果。
</p>
<p>如果设置了 <code class="t">MULTIOS</code> 选项，重定向运算符后的字也会执行文件名生成（通配）。 因此
</p>
<div class="example">
<pre class="example-preformatted">: &gt; *
</pre></div>

<p>将截断当前目录下的所有文件，前提是至少有一个文件。 (如果没有 <code class="t">MULTIOS</code> 选项，它将创建一个名为&lsquo;<code class="t">*</code>&rsquo;的空文件）。
类似地，可以执行
</p>
<div class="example">
<pre class="example-preformatted">echo exit 0 &gt;&gt; *.sh
</pre></div>

<p>如果用户尝试打开一个文件描述符进行多次读取，shell
会将该文件描述符作为管道打开到一个进程，该进程会按照指定的顺序将所有指定的输入复制到输出，前提是设置了 <code class="t">MULTIOS</code> 选项。
需要注意的是，每个文件都是立即打开的，而不是在即将读取时打开：这种行为与 <code class="t">cat</code> 不同，因此如果需要严格的标准行为，应使用 <code class="t">cat</code>
代替。
</p>
<p>因此
</p>
<div class="example">
<pre class="example-preformatted">sort &lt;foo &lt;fubar
</pre></div>

<p>甚至
</p>
<div class="example">
<pre class="example-preformatted">sort &lt;f{oo,ubar}
</pre></div>

<p>等价于 &lsquo;<code class="t">cat foo fubar | sort</code>&rsquo;.
</p>
<p>重定向参数的扩展发生在重定向打开时，也就是上述 <code class="t">&gt;&amp;$myfd</code> 中变量扩展时。
</p>
<p>请注意，管道是一种隐式重定向，因此
</p>
<div class="example">
<pre class="example-preformatted">cat bar | sort &lt;foo
</pre></div>

<p>等价于 &lsquo;<code class="t">cat bar foo | sort</code>&rsquo;（注意输入的顺序）。
</p>
<p>如果 <code class="t">MULTIOS</code> 选项为 <em class="emph">未设置</em>，则每次重定向都会替换之前针对该文件描述符的重定向。
不过，所有重定向到的文件实际上都会被打开，因此
</p>
<div class="example">
<pre class="example-preformatted">echo Hello &gt; bar &gt; baz
</pre></div>

<p>当 <code class="t">MULTIOS</code> 未设置时，将截断&lsquo;<code class="t">bar</code>&rsquo;，并将 &lsquo;<code class="t">Hello</code>&rsquo; 写入&lsquo;<code class="t">baz</code>&rsquo;。
</p>
<p>当输出multio连接到外部程序时会出现一个问题。 一个简单的例子就能说明问题：
</p>
<div class="example">
<pre class="example-preformatted">cat file &gt;file1 &gt;file2
cat file1 file2
</pre></div>

<p>在这里，第二个 &lsquo;<code class="t">cat</code>&rsquo;可能不会显示 <code class="t">file1</code> 和 <code class="t">file2</code> 的全部内容（即 <code class="t">file</code> 的原始内容重复了两次）。
</p>
<p>原因是multios是在 <code class="t">cat</code> 进程从父 shell 分支出来后才生成的，因此父 shell 不会等待multios完成数据写入。
这意味着所示命令可能会在 <code class="t">file1</code> 和 <code class="t">file2</code> 完全写完之前退出。 作为一种解决方法，可以将 <code class="t">cat</code> 进程作为当前
shell 中作业的一部分运行：
</p>
<div class="example">
<pre class="example-preformatted">{ cat file } &gt;file &gt;file2
</pre></div>

<p>在此，<code class="t">{</code><var class="var">...</var><code class="t">}</code>  作业将暂停，等待两个文件都被写入。
</p>

</div>
<div class="section-level-extent" id="Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-">
<h3 class="section"><span>7.3 没有命令的重定向<a class="copiable-link" href="#Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-"> &para;</a></span></h3>
<p>当一条简单的命令由一个或多个重定向操作符和零个或多个参数赋值组成，但没有命令名称时，zsh 会以几种方式执行。
</p>
<a class="index-entry-id" id="index-NULLCMD_002c-use-of"></a>
<a class="index-entry-id" id="index-CSH_005fNULLCMD_002c-use-of"></a>
<p>如果未设置参数 <code class="t">NULLCMD</code>，或设置了选项 <code class="t">CSH_NULLCMD</code>，则会导致错误。 这是 <cite class="cite">csh</cite> 的行为，在模拟
<cite class="cite">csh</cite> 时，<code class="t">CSH_NULLCMD</code> 默认会被设置。
</p>
<a class="index-entry-id" id="index-SH_005fNULLCMD_002c-use-of"></a>
<p>如果设置了选项 <code class="t">SH_NULLCMD</code>，内置的&quot;<code class="t">:</code>&quot;将作为命令插入，并带有给定的重定向。 这是模拟 <cite class="cite">sh</cite> 或
<cite class="cite">ksh</cite> 时的默认值。
</p>
<a class="index-entry-id" id="index-READNULLCMD_002c-use-of"></a>
<p>否则，如果设置了参数 <code class="t">NULLCMD</code>，其值将被用作带有给定重定向的命令。 如果同时设置了 <code class="t">NULLCMD</code> 和
<code class="t">READNULLCMD</code>，那么当重定向为输入时，将使用后者的值，而不是前者的值。 <code class="t">NULLCMD</code> 的默认值是 &lsquo;<code class="t">cat</code>&rsquo; ，而
<code class="t">READNULLCMD</code> 的默认值是&lsquo;<code class="t">more</code>&rsquo;。因此
</p>
<div class="example">
<pre class="example-preformatted">&lt; file
</pre></div>

<p>将 <code class="t">file</code> 的内容显示在标准输出上，如果是终端，还将分页显示。 <code class="t">NULLCMD</code> 和 <code class="t">READNULLCMD</code> 可指 shell
函数。
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_547d_4ee4_6267_884c">

<h2 class="chapter" id="Ming-Ling-Zhi-Xing-"><span>8 命令执行<a class="copiable-link" href="#Ming-Ling-Zhi-Xing-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Ming-Ling-Zhi-Xing-"></a>
<a class="index-entry-id" id="index-Zhi-Xing-_002c-of-commands"></a>
<a class="index-entry-id" id="index-Zhao-Bu-Dao-Ming-Ling-_002c-handling-of"></a>
<a class="index-entry-id" id="index-command_005fnot_005ffound_005fhandler"></a>
<p>如果命令名不包含斜线，shell 会尝试查找它。 如果该命令名下存在 shell 函数，则按照 <a class="ref" href="#g_t_51fd_6570">函数</a> 中的说明调用该函数。
如果存在以该命令名命名的 shell 内置命令，则调用该内置命令。
</p>
<a class="index-entry-id" id="index-path_002c-use-of"></a>
<p>否则，shell 会搜索 <code class="t">$path</code> 的每个元素，查找包含该名称可执行文件的目录。
</p>
<p>如果执行失败：则打印错误信息，并返回以下值之一。
</p>
<dl class="table">
<dt>127</dt>
<dd><p>搜索不成功。 错误信息为  &lsquo;<code class="t">command not found:</code> <var class="var">cmd</var>&rsquo;。
</p></dd>
<dt>126</dt>
<dd><p>可执行文件的权限不足、是目录或特殊文件、不是脚本和格式未被操作系统识别。 具体条件和错误信息取决于操作系统；请参阅 execve(2)。
</p></dd>
</dl>

<p>如果执行失败是因为文件不是可执行格式，且文件不是目录，则假定该文件是 shell 脚本。 <code class="t">/bin/sh</code> 将被生成并执行。
如果程序是以&lsquo;<code class="t">#!</code>&rsquo;开头的文件，第一行的其余部分将指定程序的解释器。 在内核不处理这种可执行文件格式的操作系统上，shell
将执行指定的解释器。
</p>
<p>如果没有找到外部命令，但存在函数 <code class="t">command_not_found_handler</code>，shell 就会使用所有命令行参数执行该函数。
函数的返回状态将成为命令的状态。 请注意，处理程序是在执行外部命令的子 shell 中执行的，因此目录、shell 参数等的更改不会影响主 shell。
</p><hr>
</div>
<div class="chapter-level-extent" id="g_t_51fd_6570">

<h2 class="chapter" id="Han-Shu-"><span>9 函数<a class="copiable-link" href="#Han-Shu-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Han-Shu-"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-use-of"></a>
<p>Shell 函数是用 <code class="t">function</code> 保留字或特殊语法&lsquo;<var class="var">funcname</var> <code class="t">()</code>&rsquo;定义的。 Shell
函数在内部读取和存储。 读取函数时会解析别名。 函数像命令一样执行，参数作为位置参数传递。 (请参阅 <a class="ref" href="#g_t_547d_4ee4_6267_884c">命令执行</a>）。
</p>
<p>函数在与调用者相同的进程中执行，并与调用者共享所有文件和当前工作目录。 在函数内部设置的 <code class="t">EXIT</code> 陷阱会在函数完成后在调用者的环境中执行。
</p>
<a class="index-entry-id" id="index-return_002c-use-of"></a>
<p><code class="t">return</code> 内置命令用于从函数调用中返回。
</p>
<a class="index-entry-id" id="index-functions_002c-use-of"></a>
<p>可以使用 <code class="t">functions</code> 内置命令列出函数标识符。
<a class="index-entry-id" id="index-unfunction_002c-use-of"></a>
函数可以使用 <code class="t">unfunction</code> 内置命令清除定义。
</p>
<div class="section-level-extent" id="Zi-Dong-Jia-Zai-Han-Shu-">
<h3 class="section"><span>9.1 自动加载函数<a class="copiable-link" href="#Zi-Dong-Jia-Zai-Han-Shu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Zi-Dong-Jia-Zai-Han-Shu-"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-Zi-Dong-Jia-Zai-"></a>

<a class="index-entry-id" id="index-autoload_002c-use-of"></a>
<a class="index-entry-id" id="index-fpath_002c-use-of"></a>
<p>可以使用 <code class="t">autoload</code> 内置命令（或 &lsquo;<code class="t">functions -u</code>&rsquo; 或 &lsquo;<code class="t">typeset -fu</code>&rsquo;）将函数标记为
<em class="emph">未定义的</em> <a class="uref" href="comments/functions.html#function-autoload-undefined">[译注:函数.自动加载.未定义的]</a>。 这样的函数没有主体。 第一次执行函数时，shell 会使用 <code class="t">fpath</code> 变量的元素搜索函数的定义。
因此，定义自动加载函数的典型顺序是
</p>
<div class="example">
<pre class="example-preformatted">fpath=(~/myfuncs $fpath)
autoload myfunc1 myfunc2 ...
</pre></div>

<p>如果 <code class="t">autoload</code> 内置命令或其等效命令的选项为
<code class="t">-U</code>，读取过程中通常的别名扩展将被抑制<a class="uref" href="comments/functions.html#function-autoload-alias">[译注:函数.autoload.抑制别名扩展]</a>。建议使用
zsh 发行版提供的函数。
<a class="index-entry-id" id="index-zcompile_002c-use-of"></a>
请注意，对于使用 <code class="t">zcompile</code> 内置命令预编译的函数，必须在创建 <code class="t">.zwc</code> 文件时提供 <code class="t">-U</code> 标记，因为相应的信息会编译到
<code class="t">.zwc</code> 文件中。
</p>
<p>对于 <code class="t">fpath</code> 中的每个 <var class="var">element</var>，shell 会查找三个可能的文件，其中最新的文件用于加载函数的定义：
</p>
<dl class="table">
<dt><var class="var">element</var><code class="t">.zwc</code></dt>
<dd><p>使用 <code class="t">zcompile</code> 内置命令创建的文件，预计将包含名为 <var class="var">element</var> 的目录中所有函数的定义。
该文件的处理方式与包含函数文件的目录相同，并搜索函数的定义。 如果未找到定义，则按下面描述的其他两种可能性搜索定义。
</p>
<p>如果 <var class="var">element</var> 已经包含 <code class="t">.zwc</code> 扩展名（即用户明确给出了扩展名），则 <var class="var">element</var>
将搜索函数的定义，而不会将其与其他文件的时间进行比较；事实上，不需要有任何名为 <var class="var">element</var> 而不带后缀的目录。 因此，在
<code class="t">fpath</code> 中加入诸如 &lsquo;<code class="t">/usr/local/funcs.zwc</code>&rsquo;这样的元素会加快搜索函数的速度，但缺点是在 shell
发现任何变化之前，必须明确地手工重新编译所包含的函数。
</p>
</dd>
<dt><var class="var">element</var><code class="t">/</code><var class="var">function</var><code class="t">.zwc</code></dt>
<dd><p>使用 <code class="t">zcompile</code> 创建的文件，预计包含 <var class="var">function</var> 的定义。
它也可能包含其他函数定义，但这些定义既不会被加载，也不会被执行；以这种方式找到的文件<em class="emph">只</em> 搜索 <var class="var">function</var> 的定义。
</p>
</dd>
<dt><var class="var">element</var><code class="t">/</code><var class="var">function</var></dt>
<dd><p>（含）zsh 命令（的）文本文件，被视为 <var class="var">function</var> 的定义。
</p>
</dd>
</dl>

<p>总之，搜索的顺序是：首先，在 <code class="t">fpath</code> 中的 <em class="emph">父</em> 目录中搜索-编译的目录或 <code class="t">fpath</code>
目录中-的较新目录；其次，如果其中有多个目录包含所搜索函数的定义，则选择 <code class="t">fpath</code>
中最左边的目录；第三，在一个目录中，使用编译函数或普通函数定义中的较新一个。
</p>
<a class="index-entry-id" id="index-KSH_005fAUTOLOAD_002c-use-of"></a>
<p>如果设置了 <code class="t">KSH_AUTOLOAD</code>选项，或者文件只包含函数的简单定义，文件内容将被执行。
这通常会定义相关函数，但也可能执行初始化，初始化是在函数执行的上下文中执行的，因此可能会定义本地参数。 如果加载文件时，没有定义函数，则会出错。
</p>
<p>否则，函数体（周围没有&lsquo;<var class="var">funcname</var><code class="t">()
{</code><var class="var">...</var><code class="t">}</code>&rsquo;）将被视为文件的完整内容。这种形式允许将文件直接用作可执行 shell 脚本。
如果对文件的处理导致函数被重新定义，函数本身不会被重新执行。要强制 shell
执行初始化，然后调用所定义的函数，文件除了包含初始化代码（执行后丢弃）外，还应包含完整的函数定义（保留用于后续函数调用），以及对 shell
函数的调用，包括最后的参数。
</p>
<p>例如, 假设自动加载文件 <code class="t">func</code> 包含
</p>
<div class="example">
<pre class="example-preformatted">func() { print This is func; }
print func is initialized
</pre></div>

<p>那么，如果设置了 <code class="t">KSH_AUTOLOAD</code>，&lsquo;<code class="t">func; func</code>&rsquo;
将在第一次调用时产生两条信息，但在第二次及其后的调用中只产生&lsquo;<code class="t">This is func</code>&rsquo; 信息。 如果未设置
<code class="t">KSH_AUTOLOAD</code>，则第一次调用时将产生初始化信息，第二次及后续调用时将产生其他信息。<a class="uref" href="comments/functions.html#function-autoload-kshautoload">[译注:函数.autoload.kshautoload]</a>
</p>
<p>通过在 shell 函数中使用 &lsquo;<code class="t">autoload -X</code>&rsquo;，也可以创建一个未标记为自动加载的函数，但它可以通过搜索 <code class="t">fpath</code>
加载自己的定义。 例如，以下是等价的:
</p>
<div class="example">
<pre class="example-preformatted">myfunc() {
  autoload -X
}
myfunc args...
</pre></div>

<p>与
</p>
<div class="example">
<pre class="example-preformatted">unfunction myfunc   # if myfunc was defined
autoload myfunc
myfunc args...
</pre></div>

<p>事实上，<code class="t">functions</code> 命令会输出&lsquo;<code class="t">builtin autoload -X</code>&rsquo; 作为自动加载函数的主体。 这样做是为了
</p>
<div class="example">
<pre class="example-preformatted">eval &quot;$(functions)&quot;
</pre></div>

<p>会产生一个合理的结果。 一个真正的自动加载函数可以通过正文中的注释&lsquo;<code class="t"># undefined</code>&rsquo;来识别，因为定义函数中的所有注释都会被丢弃。
</p>
<p>要在不执行 <code class="t">myfunc</code> 的情况下加载自动加载函数 <code class="t">myfunc</code> 的定义，请使用
</p>
<div class="example">
<pre class="example-preformatted">autoload +X myfunc
</pre></div>


</div>
<div class="section-level-extent" id="Ni-Ming-Han-Shu-">
<h3 class="section"><span>9.2 匿名函数<a class="copiable-link" href="#Ni-Ming-Han-Shu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Ni-Ming-Han-Shu-"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-Ni-Ming-"></a>

<p>如果没有给出函数名称，则该函数为 &quot;匿名 &quot;函数，将被特殊处理。 可以使用两种形式的函数定义：一种是前面没有名称的&lsquo;<code class="t">()</code>&rsquo;
，另一种是后面紧跟一个大括号的&lsquo;<code class="t">function</code>&rsquo; 。 函数在定义时立即执行，不会存储起来供将来使用。 函数名称设置为&lsquo;<code class="t">(anon)</code>&rsquo;。
</p>
<p>函数的参数可以指定为定义函数的收尾括号后的单词，因此如果没有参数，则不会设置参数（<code class="t">$0</code> 除外）。
这与其他函数的解析方式不同：普通函数定义后可能会出现某些关键字，如&lsquo;<code class="t">else</code>&rsquo;
或&lsquo;<code class="t">fi</code>&rsquo;，这些关键字将被视为匿名函数的参数，因此需要换行或分号来强制解释关键字。
</p>
<p>还要注意的是，任何外层脚本或函数的参数列表都是隐藏的（此时调用的任何其他函数也是如此）。
</p>
<p>对匿名函数进行重定向的方式与对大括号中的当前shell结构进行重定向的方式相同。 匿名函数的主要用途是为局部变量提供作用域。
这在启动文件中尤其方便，因为这些文件不提供自己的局部变量作用域。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">variable=outside
function {
  local variable=inside
  print &quot;I am $variable with arguments $*&quot;
} this and that
print &quot;I am $variable&quot;
</pre></div>

<p>输出如下:
</p>
<div class="example">
<pre class="example-preformatted">I am inside with arguments this and that
I am outside
</pre></div>

<p>需要注意的是，如果函数定义的参数扩展为空值，例如 &lsquo;<code class="t">name=; function $name { </code><var class="var">...</var><code class="t">
}</code>&rsquo;，则不会被视为匿名函数。 相反，它们被视为普通的函数定义，其中的定义会被默默丢弃。
</p>

</div>
<div class="section-level-extent" id="Te-Shu-Han-Shu-">
<h3 class="section"><span>9.3 特殊函数<a class="copiable-link" href="#Te-Shu-Han-Shu-"> &para;</a></span></h3>
<p>特殊函数（如果已定义）对 shell 有特殊意义。
</p>

<div class="subsection-level-extent" id="Gou-Zi-Han-Shu-">
<h4 class="subsection"><span>9.3.1 钩子函数<a class="copiable-link" href="#Gou-Zi-Han-Shu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Han-Shu-_002c-Gou-Zi-"></a>
<a class="index-entry-id" id="index-Gou-Zi-Han-Shu-"></a>

<p>对于下面的函数，可以定义一个数组，该数组的名称与附加了&lsquo;<code class="t">_functions</code>&rsquo;的函数相同。
数组中的任何元素都将作为要执行的函数名称；它将在与基本函数相同的上下文、相同的参数和相同的 <code class="t">$?</code> 初始值下执行。 例如，如果
<code class="t">$chpwd_functions</code> 是一个包含 &lsquo;<code class="t">mychpwd</code>&rsquo;, &lsquo;<code class="t">chpwd_save_dirstack</code>&rsquo;值的数组，那么
shell 会尝试依次执行函数 &lsquo;<code class="t">chpwd</code>&rsquo;, &lsquo;<code class="t">mychpwd</code>&rsquo;和&lsquo;<code class="t">chpwd_save_dirstack</code>&rsquo;。
任何不存在的函数都会被静默忽略。 通过此机制找到的函数在其他地方被称为 <em class="emph">钩子函数</em>。 任何函数中的错误都会导致后续函数无法运行。
请进一步注意，如果 <code class="t">precmd</code> 钩子中出现错误，则紧随其后的 <code class="t">periodic</code> 函数将不会运行（尽管它可能会在下一次机会中运行）。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-chpwd_005ffunctions"></a>
<a id="index-chpwd"></a><span><code class="t">chpwd</code><a class="copiable-link" href="#index-chpwd"> &para;</a></span></dt>
<dd><p>每当更改当前工作目录时执行。
</p>
</dd>
<dt><a class="index-entry-id" id="index-periodic"></a>
<a class="index-entry-id" id="index-periodic_005ffunctions"></a>
<a id="index-PERIOD"></a><span><code class="t">periodic</code><a class="copiable-link" href="#index-PERIOD"> &para;</a></span></dt>
<dd><p>如果设置了参数 <code class="t">PERIOD</code>，该函数将每隔 <code class="t">$PERIOD</code> 秒执行一次，就在提示符之前。 需要注意的是，如果使用数组
<code class="t">periodic_functions</code> 定义了多个函数，则整个函数集只适用一个周期，如果函数列表被更改，计划时间也不会重置。
因此，函数集总是一起被调用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-precmd_005ffunctions"></a>
<a id="index-precmd"></a><span><code class="t">precmd</code><a class="copiable-link" href="#index-precmd"> &para;</a></span></dt>
<dd><p>在每次（打印）提示符前执行。请注意，命令前函数不会因为命令行重绘而被重新执行，例如，在显示-任务退出通知时-就会发生这种情况。
</p>
</dd>
<dt><a class="index-entry-id" id="index-preexec_005ffunctions"></a>
<a id="index-preexec"></a><span><code class="t">preexec</code><a class="copiable-link" href="#index-preexec"> &para;</a></span></dt>
<dd><p>在命令被读取后并即将执行时执行。
如果历史记录机制处于激活状态（无论该行是否已从历史记录缓冲区中丢弃），用户输入的字符串将作为第一个参数传递，否则就是空字符串。
将被执行的实际命令（包括扩展的别名）以两种不同的形式传递：第二个参数是单行、大小受限的命令版本（省略了函数体等内容）；第三个参数包含正在执行的完整文本。
</p>
</dd>
<dt><a class="index-entry-id" id="index-zshaddhistory"></a>
<a class="index-entry-id" id="index-zshaddhistory_005ffunctions"></a>
<a id="index-Li-Shi-_002c-Xing-Bao-Cun-Shi-Gua-Gou-"></a><span><code class="t">zshaddhistory</code><a class="copiable-link" href="#index-Li-Shi-_002c-Xing-Bao-Cun-Shi-Gua-Gou-"> &para;</a></span></dt>
<dd><p>在交互式读取历史行后，但在它执行前执行。 唯一的参数是完整的历史记录行（因此任何终止换行仍将存在）。
</p>
<p>如果任何钩子函数返回状态 1（或除 2 之外的任何非零值，但未来版本的 shell
并不保证这一点），历史行将不会被保存，但它会在历史行中停留，直到下一行被执行，从而允许您立即重新使用或编辑它。
</p>
<p>如果任何钩子函数返回状态 2，历史行将保存在内部历史列表中，但不会写入历史文件。 如果出现冲突，则取第一个非零状态值。
</p>
<p>钩子函数可以调用 &lsquo;<code class="t">fc -p</code> <var class="var">...</var>&rsquo; 来切换历史上下文，使历史记录保存在与全局 <code class="t">HISTFILE</code> 参数不同的文件中。
这种情况会得到特殊处理：历史行处理完成后，历史上下文会自动恢复。
</p>
<p>下面的示例函数使用 <code class="t">INC_APPEND_HISTORY</code> 或 <code class="t">SHARE_HISTORY</code> 选项之一，以便在添加历史条目后立即写出该行。
首先，它会将历史行添加到正常的历史记录中，并去掉换行符，这通常是正确的行为。 然后切换历史上下文，将该行写入当前目录下的历史文件。
</p>
<div class="example">
<pre class="example-preformatted">zshaddhistory() {
  print -sr -- ${1%%$'\n'}
  fc -p .zsh_local_history
}
</pre></div>

</dd>
<dt><a class="index-entry-id" id="index-zshexit_005ffunctions"></a>
<a id="index-zshexit"></a><span><code class="t">zshexit</code><a class="copiable-link" href="#index-zshexit"> &para;</a></span></dt>
<dd><p>在主 shell 即将正常退出时执行。 子shell退出或外部命令前使用 <code class="t">exec</code> 前置命令修饰符时，不会调用该命令。 此外，与
<code class="t">TRAPEXIT</code> 不同，函数退出时也不会调用该命令。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Xian-Jing-Han-Shu-">
<h4 class="subsection"><span>9.3.2 陷阱函数<a class="copiable-link" href="#Xian-Jing-Han-Shu-"> &para;</a></span></h4>

<p>以下函数受到特殊处理，但没有相应的钩子数组。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Bu-Huo-Xin-Hao-"></a>
<a id="index-Xin-Hao-_002c-Bu-Huo-"></a><span><code class="t">TRAP</code><var class="var">NAL</var><a class="copiable-link" href="#index-Xin-Hao-_002c-Bu-Huo-"> &para;</a></span></dt>
<dd><p>如果已定义且非空，每当 shell 捕捉到 <code class="t">SIG</code><var class="var">NAL</var>（其中 <var class="var">NAL</var> 是为 <code class="t">kill</code>
内置命令指定的信号名）信号时，就会执行该函数。 信号编号将作为第一个参数传递给函数。
</p>
<p>如果定义了这种形式的函数，但其值为空，则 shell 和由其产生的进程将忽略 <code class="t">SIG</code><var class="var">NAL</var>。
</p>
<p>函数的返回状态会被特别处理。 如果为零，则假定信号已被处理，并继续正常执行。 否则，除了保留陷阱的返回状态外，shell 的行为与中断时一样。
</p>
<p>由未捕获信号终止的程序通常会返回状态 128 +信号编号。 因此，下面的代码会使 <code class="t">SIGINT</code> 的处理程序打印一条信息，然后模仿信号的通常效果。
</p>
<div class="example">
<pre class="example-preformatted">TRAPINT() {
  print &quot;Caught SIGINT, aborting.&quot;
  return $(( 128 + $1 ))
}
</pre></div>

<p>函数 <code class="t">TRAPZERR</code>、<code class="t">TRAPDEBUG</code> 和 <code class="t">TRAPEXIT</code> 绝不会在其他陷阱中执行。
</p>
</dd>
<dt><a id="index-TRAPDEBUG"></a><span><code class="t">TRAPDEBUG</code><a class="copiable-link" href="#index-TRAPDEBUG"> &para;</a></span></dt>
<dd><p>如果设置了选项 <code class="t">DEBUG_BEFORE_CMD</code>（默认情况），则在每条命令之前执行；否则在每条命令之后执行。 有关调试陷阱提供的其他功能，请参阅
<a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a> 中 <code class="t">trap</code> 内置命令的描述。
</p>
</dd>
<dt><a id="index-TRAPEXIT"></a><span><code class="t">TRAPEXIT</code><a class="copiable-link" href="#index-TRAPEXIT"> &para;</a></span></dt>
<dd><p>在 shell 退出时执行，如果在函数内部定义，则在当前函数退出时执行。 开始执行时 <code class="t">$?</code> 的值是 shell
的退出状态或函数退出时的返回状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-TRAPERR"></a>
<a id="index-TRAPZERR"></a><span><code class="t">TRAPZERR</code><a class="copiable-link" href="#index-TRAPZERR"> &para;</a></span></dt>
<dd><p>当命令的退出状态为非零时执行。 但是，如果命令出现在子列表中，且后面跟有&lsquo;<code class="t">&amp;&amp;</code>&rsquo;或
&lsquo;<code class="t">||</code>&rsquo;，则不执行该函数；只有这种类型的子列表中的最后一条命令才会导致陷阱被执行。 在没有 <code class="t">SIGERR</code> 的系统中，函数
<code class="t">TRAPERR</code> 的作用与 <code class="t">TRAPZERR</code> 相同（这是通常情况）。
</p>
</dd>
</dl>

<a class="index-entry-id" id="index-trap_002c-use-of"></a>
<p>以 &lsquo;<code class="t">TRAP</code>&rsquo; 开头的函数也可以用 <code class="t">trap</code> 内置命令来定义：这在某些情况下可能更合适。
使用其中一种形式设置陷阱，会移除另一种形式针对同一信号的陷阱；使用其中任何一种形式移除陷阱，都会移除针对同一信号的所有陷阱。 形式
</p>
<div class="example">
<pre class="example-preformatted">TRAPNAL() { 
 # code
}
</pre></div>

<p>(&rsquo;function traps&rsquo;) 和
</p>
<div class="example">
<pre class="example-preformatted">trap '
 # code
' NAL
</pre></div>

<p>(&rsquo;list traps&rsquo;) 在大多数方面是等价的，但以下情况除外:
</p>
<ul class="itemize mark-bullet">
<li>函数陷阱具有普通函数的所有属性，会出现在函数列表中，并以自己的函数上下文而不是触发陷阱的上下文被调用。
</li><li>函数陷阱的返回状态是特殊的，而列表陷阱的返回会导致周围的上下文以给定的状态返回。
</li><li>根据 zsh 行为，函数陷阱不会在子shell中重置；根据 POSIX 行为，list的陷阱会重置。
</li></ul>
<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="g_t_4f5c_4e1a_548c_4fe1_53f7">

<h2 class="chapter" id="Zuo-Ye-He-Xin-Hao-"><span>10 作业和信号<a class="copiable-link" href="#Zuo-Ye-He-Xin-Hao-"> &para;</a></span></h2>

<div class="section-level-extent" id="Zuo-Ye-">
<h3 class="section"><span>10.1 作业<a class="copiable-link" href="#Zuo-Ye-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Suan-Zhu-Qiu-Zhi-"></a>
<a class="index-entry-id" id="index-MONITOR_002c-use-of"></a>
<p>如果设置了 <code class="t">MONITOR</code> 选项，交互式 shell 就会为每个管道关联一个 <em class="emph">作业</em>。 它保存了一个由 <code class="t">jobs</code>
命令打印的当前作业表，并为这些作业分配了小整数编号。 当使用&lsquo;<code class="t">&amp;</code>&rsquo;异步启动一个作业时，shell 会在标准错误中打印一行类似下面的内容：
</p>
<div class="example">
<pre class="example-preformatted">[1] 1234
</pre></div>

<p>表明异步启动的任务是任务编号 1，有一个（顶级）进程，其进程 ID 是 1234。
</p>
<p>如果作业以 &lsquo;<code class="t">&amp;|</code>&rsquo;或 &lsquo;<code class="t">&amp;!</code>&rsquo;启动，则该作业会立即被取消（与 shell 的）关联（disowned, 可以理解成从 shell
中分离进程）。 启动后，它在作业表中没有位置，也不受此处描述的作业控制功能的约束。
</p>
<p>如果您正在运行一项作业，并希望做其他事情，可以按 ^Z 键（control-Z），向当前作业发送 <code class="t">TSTP</code> 信号：该键可以通过外部
<code class="t">stty</code> 命令的 <code class="t">susp</code> 选项重新定义。
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Zan-Ting-"></a>
<a class="index-entry-id" id="index-Zan-Ting-Zuo-Ye-"></a>
shell 通常会提示作业已被 &lsquo;暂停&rsquo;，并打印另一个提示符。 然后，您就可以操作该作业的状态了
<a class="index-entry-id" id="index-bg_002c-use-of"></a>
使用 <code class="t">bg</code> 命令将其置于后台，或运行一些其他命令，最后将作业带回前台（用
<a class="index-entry-id" id="index-fg_002c-use-of"></a>
前台命令 <code class="t">fg</code>）。 ^Z 立即生效，就像中断一样，输入时会丢弃待处理输出和未读输入。
</p>
<p>在后台运行的作业如果试图从终端读取数据，就会暂停。
</p>
<p>请注意，如果前台运行的作业是 shell 函数，则暂停作业会导致 shell 分叉。 这是为了将函数的状态与执行作业控制的父 shell
的状态分开，以便后者能返回命令行提示符。 因此，即使 <code class="t">fg</code> 被用来继续执行作业，该函数也不再是父 shell 的一部分，父 shell
中也看不到该函数设置的任何变量。 因此，这种行为与函数从未被暂停的情况不同。 在这一点上，Zsh 与许多其他 shell 不同。
</p>
<p>一个额外的副作用是:如果作业是通过暂停 shell 代码的方式创建的，那么使用 <code class="t">disown</code> 时就会出现延迟：只有在父 shell
启动的进程结束后，作业才能被放弃所有权。 此时，该作业会从作业列表中悄然消失。
</p>
<p>当 shell 作为管道的右侧执行代码或任何复杂 shell 结构（如 <code class="t">if</code>、<code class="t">for</code>
等）时，也会出现同样的行为，以便将整个代码块作为单个作业管理。
<a class="index-entry-id" id="index-Hou-Tai-Zuo-Ye-_002c-I_002fO"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Hou-Tai-_002c-I_002fO"></a>
后台作业通常允许产生输出，但可以通过命令&lsquo;<code class="t">stty tostop</code>&rsquo;禁用。 如果设置了这个 tty
选项，那么后台作业在试图产生输出时就会暂停，就像试图读取输入时一样。
</p>
<p>当命令被挂起并在之后使用 <code class="t">fg</code> 或 <code class="t">wait</code> 内置命令继续执行时，zsh 会恢复挂起时有效的 tty 模式。 如果通过&lsquo;<code class="t">kill
-CONT</code>&rsquo;继续执行命令，或使用 <code class="t">bg</code> 继续执行命令，则（故意）不适用此规定。
</p>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Yin-Yong-"></a>
<a class="index-entry-id" id="index-Yin-Yong-Zuo-Ye-"></a>
<p>有几种方法可以在 shell 中引用作业。 可以通过作业中任何进程的进程 ID 或以下方式之一来引用作业：
</p>
<dl class="table">
<dt><code class="t">%</code><var class="var">number</var></dt>
<dd><p>具有给定编号的作业。
</p></dd>
<dt><code class="t">%</code><var class="var">string</var></dt>
<dd><p>命令行以 <var class="var">string</var> 开头的最后一个作业。
</p></dd>
<dt><code class="t">%?</code><var class="var">string</var></dt>
<dd><p>命令行包含 <var class="var">string</var> 的最后一个作业。
</p></dd>
<dt><code class="t">%%</code></dt>
<dd><p>当前作业。
</p></dd>
<dt><code class="t">%+</code></dt>
<dd><p>等价于 &lsquo;<code class="t">%%</code>&rsquo;.
</p></dd>
<dt><code class="t">%-</code></dt>
<dd><p>上一个作业。
</p></dd>
</dl>

<p>每当进程改变状态，shell 就会立即得知。
<a class="index-entry-id" id="index-NOTIFY_002c-use-of"></a>
通常情况下，每当作业被阻塞，无法继续执行时，它都会通知您。 如果未设置 <code class="t">NOTIFY</code> 选项(注：默认打开），程序会等到打印提示之前才通知你。
所有此类通知都会直接发送到终端，而不是标准输出或标准错误。
</p>
<p>开启监控模式后，每个完成的后台任务都会触发为 <code class="t">CHLD</code> 设置的陷阱。(注：表示子 shell 状态发生变化的信号)
</p>
<p>当作业正在运行或暂停时，如果尝试离开 shell，系统会警告您 &lsquo;You have suspended (running) jobs&rsquo;。 您可以使用
<code class="t">jobs</code> 命令查看这些作业。 如果这样做或立即再次尝试退出，shell 不会再发出警告；暂停的作业将被终止，如果设置了 <code class="t">HUP</code>
选项，将向正在运行的作业发送 <code class="t">SIGHUP</code> 信号。
<a class="index-entry-id" id="index-HUP_002c-use-of"></a>
</p>
<a class="index-entry-id" id="index-jobs_002c-disowning"></a>
<a class="index-entry-id" id="index-disowning-jobs"></a>
<a class="index-entry-id" id="index-disown_002c-use-of"></a>
<p>要避免 shell 终止正在运行的作业，可以使用 nohup(1) 命令或 <code class="t">disown</code> 内置命令。
</p>
</div>
<div class="section-level-extent" id="Xin-Hao-">
<h3 class="section"><span>10.2 信号<a class="copiable-link" href="#Xin-Hao-"> &para;</a></span></h3>
<p>如果命令后跟有&lsquo;<code class="t">&amp;</code>&rsquo;，且 <code class="t">MONITOR</code> 选项未激活，则调用命令的 <code class="t">INT</code> 和 <code class="t">QUIT</code> 信号将被忽略。 shell
本身始终会忽略 <code class="t">QUIT</code> 信号。 否则，信号值将由 shell 从其父级继承（但请参阅 <a class="ref" href="#g_t_51fd_6570">函数</a> 中的
<code class="t">TRAP</code><var class="var">NAL</var> 特殊函数）。
</p>
<a class="index-entry-id" id="index-Tui-Chu-shell_002c-Yi-Bu-Zuo-Ye-"></a>
<a class="index-entry-id" id="index-Yi-Bu-Zuo-Ye-_002c-Tui-Chu-shell"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Yi-Bu-_002c-Tui-Chu-shell"></a>
<p>除了那些显式放入后台的工作外，shell 还会异步运行某些工作；即使在 shell 通常会等待这些工作的情况下，显式 <code class="t">exit</code> 命令或选项
<code class="t">ERR_EXIT</code> 导致的退出也会使 shell 不经等待而退出。 此类异步任务的例子包括进程替换（参见
<a class="ref" href="#g_t_8fdb_7a0b_66ff_6362">进程替换</a>）和multios的处理进程（参见 <a class="ref" href="#g_t_91cd_5b9a_5411">重定向</a> 中的 <em class="emph">Multios</em> 部分）。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_7b97_672f_6c42_503c">

<h2 class="chapter" id="Suan-Zhu-Qiu-Zhi-"><span>11 算术求值<a class="copiable-link" href="#Suan-Zhu-Qiu-Zhi-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Suan-Zhu-Qiu-Zhi--1"></a>
<a class="index-entry-id" id="index-Qiu-Zhi-_002c-Suan-Zhu-"></a>
<a class="index-entry-id" id="index-let_002c-use-of"></a>
<p>shell 可以使用内置的 <code class="t">let</code> 或  <code class="t">$((</code><var class="var">...</var><code class="t">))</code>形式的替代方法，执行整数和浮点运算。
对于整数，通常在编译时使用 8 字节精度，否则精度为 4 字节。 例如，可以通过命令&lsquo;<code class="t">print - $(( 12345678901
))</code>&rsquo;来测试；如果数字显示不变，则精度至少为 8 字节。 浮点运算始终使用 &lsquo;double&rsquo;类型，其精度由编译器和库提供。
</p>
<p><code class="t">let</code> 内置命令将算术表达式作为参数，每个参数都要单独求值。 由于许多算术运算符和空格都需要加引号，因此提供了另一种形式：对于任何以
&lsquo;<code class="t">((</code>&rsquo;开头的命令，在匹配的&lsquo;<code class="t">))</code>&rsquo; 之前的所有字符都被视为双引号表达式，并像 <code class="t">let</code> 的参数一样执行算术扩展。 更确切地说，
&lsquo;<code class="t">((</code><var class="var">...</var><code class="t">))</code>&rsquo; 等同于&lsquo;<code class="t">let &quot;</code><var class="var">...</var><code class="t">&quot;</code>&rsquo;。 如果表达式的算术值不为零，返回状态为
0，如果为零，返回状态为 1，如果出现错误，返回状态为 2。
</p>
<p>例如，以下语句
</p>
<div class="example">
<pre class="example-preformatted">(( val = 2 + 1 ))
</pre></div>

<p>等价于
</p>
<div class="example">
<pre class="example-preformatted">let &quot;val = 2 + 1&quot;
</pre></div>

<p>都会将值 3 赋给 shell 变量 <code class="t">val</code>，并返回 0 状态。
</p>
<a class="index-entry-id" id="index-Suan-Zhu-Ji-Shu-"></a>
<a class="index-entry-id" id="index-Ji-Shu-_002c-Suan-Zhu-"></a>
<p>整数的进制可以不是 10。 前导&lsquo;<code class="t">0x</code>&rsquo; 或&lsquo;<code class="t">0X</code>&rsquo; 表示十六进制，前导 &lsquo;<code class="t">0b</code>&rsquo; 或&lsquo;<code class="t">0B</code>&rsquo;表示二进制。
整数也可以是&lsquo;<var class="var">base</var><code class="t">#</code><var class="var">n</var>&rsquo;的形式，其中 <var class="var">base</var> 是一个介于 2 和 36
之间的十进制数，代表算术基数，<var class="var">n</var> 是该基数中的一个数字（例如，&lsquo;<code class="t">16#ff</code>&rsquo;是十六进制的 255）。
<var class="var">base</var><code class="t">#</code>也可以省略，在这种情况下使用基数 10。
为了向后兼容，也可以使用&lsquo;<code class="t">[</code><var class="var">base</var><code class="t">]</code><var class="var">n</var>&rsquo; 的形式。
</p>
<p>以&lsquo;<var class="var">base</var><code class="t">#</code><var class="var">n</var>&rsquo;
形式给出的整数表达式或基数，可以在前导数字后包含下划线（&lsquo;<code class="t">_</code>&rsquo;），以起到视觉引导作用；但在计算中这些下划线将被忽略。 例如
<code class="t">1_000_000</code> 或 <code class="t">0xffff_ffff</code>，它们分别等价于 <code class="t">1000000</code> 和 <code class="t">0xffffffff</code>。
</p>
<p>也可以指定一个用于输出的基数，形式为&lsquo;<code class="t">[#</code><var class="var">base</var><code class="t">]</code>&rsquo;，例如&lsquo;<code class="t">[#16]</code>&rsquo;。
这在输出算术替换或赋值给标量参数时使用，但显式定义的整数或浮点参数不受影响。
如果一个整数变量是由一个算术表达式隐式定义的，那么以这种方式指定的任何基数都将被设置为变量的输出算术基数，就好像<code class="t">typeset</code>内置命令的
&lsquo;<code class="t">-i</code> <var class="var">base</var>&rsquo; 选项一样。 表达式没有优先级，如果在数学表达式中出现多次，则使用最后出现的表达式。
为清晰起见，建议将其放在表达式的开头。 例如
</p>
<div class="example">
<pre class="example-preformatted">typeset -i 16 y
print $(( [#8] x = 32, y = 32 ))
print $x $y
</pre></div>

<p>首先输出&lsquo;<code class="t">8#40</code>&rsquo;，即给定输出基数中最右边的值，然后输出 &lsquo;<code class="t">8#40 16#20</code>&rsquo;，因为 <code class="t">y</code> 已明确声明输出基数为 16，而
<code class="t">x</code>（假设它不存在）是通过算术运算隐式键入的，在算术运算中它获得输出基数为 8。
</p>
<p><var class="var">base</var> 可以用下划线代替或跟在下划线后面，下划线后面可以是一个正整数（如果没有正整数，则使用值 3）。
这表示应在输出字符串中插入下划线，对数字进行分组，以便视觉清晰。 跟随的整数指定了分组的数字个数。 例如：
</p>
<div class="example">
<pre class="example-preformatted">setopt cbases
print $(( [#16_4] 65536 ** 2 ))
</pre></div>

<p>输出 &lsquo;<code class="t">0x1_0000_0000</code>&rsquo;.
</p>
<p>该功能可用于浮点数，在这种情况下，必须省略基数；分组以远离小数点的方向进行。 例如，
</p>
<div class="example">
<pre class="example-preformatted">zmodload zsh/mathfunc
print $(( [#_] sqrt(1e7) ))
</pre></div>

<p>输出&lsquo;<code class="t">3_162.277_660_168_379_5</code>&rsquo;（显示的小数位数可能有所不同）。
</p>
<a class="index-entry-id" id="index-C_005fBASES_002c-use-of"></a>
<a class="index-entry-id" id="index-OCTAL_005fZEROES_002c-use-of"></a>
<p>如果设置了 <code class="t">C_BASES</code> 选项，十六进制数将以标准 C 格式输出，例如&lsquo;<code class="t">0xFF</code>&rsquo; ，而不是通常的&lsquo;<code class="t">16#FF</code>&rsquo;。
如果同时设置了选项 <code class="t">OCTAL_ZEROES</code>（默认情况下没有设置），八进制数也会被类似处理，因此会显示为 &lsquo;<code class="t">077</code>&rsquo;
，而不是&lsquo;<code class="t">8#77</code>&rsquo;。 该选项对十六进制和八进制以外的其他基数的输出没有影响，这些格式在输入时总是可以理解的。
</p>
<p>当使用&lsquo;<code class="t">[#</code><var class="var">base</var><code class="t">]</code>&rsquo; 语法指定输出基数时，如有必要，将输出适当的基数前缀，以便输出的值是有效的输入语法。 如果双写
<code class="t">#</code> ，例如&lsquo;<code class="t">[##16]</code>&rsquo;，则不会输出基数前缀。
</p>
<p>浮点常量可以通过小数点或指数来识别。 小数点可以是常数的第一个字符，但指数字符 <code class="t">e</code> 或 <code class="t">E</code> 则不可以，因为它会被当作参数名。
所有数字部分（小数点前后和指数部分）的前导数字后都可以包含下划线，以起到视觉引导作用；在计算中这些下划线将被忽略。
</p>
<a class="index-entry-id" id="index-Suan-Zhu-Yun-Suan-Fu-"></a>
<a class="index-entry-id" id="index-Yun-Suan-Fu-_002c-Suan-Zhu-"></a>
<p>算术表达式使用的语法和表达式的结合性与 C 语言几乎相同。
</p>
<p>在原生运算模式下，支持以下运算符（按优先级递减顺序排列）：
</p>
<dl class="table">
<dt><code class="t">+ - ! ~ ++ --</code></dt>
<dd><p>一元加/减、逻辑 NOT、补码、{前,后}缀自{增,减}运算符
</p></dd>
<dt><code class="t">&lt;&lt; &gt;&gt;</code></dt>
<dd><p>向左、向右位移
</p></dd>
<dt><code class="t">&amp;</code></dt>
<dd><p>按位与
</p></dd>
<dt><code class="t">^</code></dt>
<dd><p>按位异或
</p></dd>
<dt><code class="t">|</code></dt>
<dd><p>按位或
</p></dd>
<dt><code class="t">**</code></dt>
<dd><p>乘幂
</p></dd>
<dt><code class="t">* / %</code></dt>
<dd><p>乘法、除法、模数（余数）
</p></dd>
<dt><code class="t">+ -</code></dt>
<dd><p>加法、减法
</p></dd>
<dt><code class="t">&lt; &gt; &lt;= &gt;=</code></dt>
<dd><p>比较
</p></dd>
<dt><code class="t">== !=</code></dt>
<dd><p>等于，不等于
</p></dd>
<dt><code class="t">&amp;&amp;</code></dt>
<dd><p>逻辑与
</p></dd>
<dt><code class="t">|| ^^</code></dt>
<dd><p>逻辑或，逻辑异或
</p></dd>
<dt><code class="t">? :</code></dt>
<dd><p>三元运算符
</p></dd>
<dt><code class="t">= += -= *= /= %= &amp;= ^= |= &lt;&lt;= &gt;&gt;= &amp;&amp;= ||= ^^= **=</code></dt>
<dd><p>赋值
</p></dd>
<dt><code class="t">,</code></dt>
<dd><p>逗号运算符
</p></dd>
</dl>

<p>运算符 &lsquo;<code class="t">&amp;&amp;</code>&rsquo;, &lsquo;<code class="t">||</code>&rsquo;, &lsquo;<code class="t">&amp;&amp;=</code>&rsquo;, 和&lsquo;<code class="t">||=</code>&rsquo; 是短路运算符，三元运算符中后两个表达式中只有一个会被求值。
请注意按位 AND、OR 和 XOR 运算符的优先级。
</p>
<p>如果使用选项 <code class="t">C_PRECEDENCES</code>，运算符的优先级（但不包括其他属性）将被修改为与支持相关运算符的大多数其他语言中的运算符相同：
</p>
<dl class="table">
<dt><code class="t">+ - ! ~ ++ --</code></dt>
<dd><p>一元加/减、逻辑 NOT、补码、{前,后}缀自{增,减}运算符
</p></dd>
<dt><code class="t">**</code></dt>
<dd><p>乘幂
</p></dd>
<dt><code class="t">* / %</code></dt>
<dd><p>乘法、除法、模数（余数）
</p></dd>
<dt><code class="t">+ -</code></dt>
<dd><p>加法、减法
</p></dd>
<dt><code class="t">&lt;&lt; &gt;&gt;</code></dt>
<dd><p>向左、向右位移
</p></dd>
<dt><code class="t">&lt; &gt; &lt;= &gt;=</code></dt>
<dd><p>比较
</p></dd>
<dt><code class="t">== !=</code></dt>
<dd><p>等于，不等于
</p></dd>
<dt><code class="t">&amp;</code></dt>
<dd><p>按位与
</p></dd>
<dt><code class="t">^</code></dt>
<dd><p>按位异或
</p></dd>
<dt><code class="t">|</code></dt>
<dd><p>按位或
</p></dd>
<dt><code class="t">&amp;&amp;</code></dt>
<dd><p>逻辑与
</p></dd>
<dt><code class="t">^^</code></dt>
<dd><p>逻辑异或
</p></dd>
<dt><code class="t">||</code></dt>
<dd><p>逻辑或
</p></dd>
<dt><code class="t">? :</code></dt>
<dd><p>三元运算符
</p></dd>
<dt><code class="t">= += -= *= /= %= &amp;= ^= |= &lt;&lt;= &gt;&gt;= &amp;&amp;= ||= ^^= **=</code></dt>
<dd><p>赋值
</p></dd>
<dt><code class="t">,</code></dt>
<dd><p>逗号运算符
</p></dd>
</dl>

<p>注意这两种情况下指数运算的优先级都低于一元运算符，因此&lsquo;<code class="t">-3**2</code>&rsquo;的运算结果是&lsquo;<code class="t">9</code>&rsquo;，而不是&lsquo;<code class="t">-9</code>&rsquo;。 必要时使用括号：
&lsquo;<code class="t">-(3**2)</code>&rsquo;.  这是为了与其他 shell 兼容。
</p>
<a class="index-entry-id" id="index-Shu-XueHan-Shu-_002c-use-of"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-Shu-Xue_002c-use-of"></a>
<p>数学函数的调用语法为 &lsquo;<var class="var">func</var><code class="t">(</code><var class="var">args</var><code class="t">)</code>&rsquo;，其中函数决定 <var class="var">args</var>
是用作字符串还是逗号分隔的算术表达式列表。shell 目前默认不定义数学函数，但可以使用 <code class="t">zmodload</code> 内置命令加载
<code class="t">zsh/mathfunc</code> 模块，以提供标准浮点数学函数。
</p>
<p>形式为 &lsquo;<code class="t">##</code><var class="var">x</var>&rsquo; 的表达式（其中 <var class="var">x</var> 是任何字符序列，如 &lsquo;<code class="t">a</code>&rsquo;、&lsquo;<code class="t">^A</code>&rsquo;或&lsquo;<code class="t">\M-\C-x</code>&rsquo;
）给出了该字符的值，形式为&lsquo;<code class="t">#</code><var class="var">name</var>&rsquo;的表达式给出了参数 <var class="var">name</var> 内容中第一个字符的值。
字符值是根据当前本地使用的字符集确定的；要处理多字节字符，必须设置选项 <code class="t">MULTIBYTE</code>。 需要注意的是，这种形式不同于
&lsquo;<code class="t">$#</code><var class="var">name</var>&rsquo;，后者是一种标准的参数替换形式，会给出参数 <var class="var">name</var> 的长度。&lsquo;<code class="t">#\</code>&rsquo;可以代替
&lsquo;<code class="t">##</code>&rsquo;，但已被弃用。
</p>
<p>命名参数和下标数组可以在算术表达式中通过名称引用，而无需使用参数扩展语法。 例如
</p>
<div class="example">
<pre class="example-preformatted">((val2 = val1 * 2))
</pre></div>

<p>会将 <code class="t">$val1</code> 值的两倍赋值给名为 <code class="t">val2</code> 的参数。
</p>
<p>可以使用 <code class="t">integer</code> 内置命令指定已命名参数的内部整数表示。
<a class="index-entry-id" id="index-Can-Shu-_002c-Zheng-Xing-"></a>
<a class="index-entry-id" id="index-Zheng-Xing-Can-Shu-"></a>
<a class="index-entry-id" id="index-integer_002c-use-of"></a>
以这种方式对声明的整数型的命名参数，每次赋值都进行算术运算。 将浮点数赋值给整数会导致四舍五入到零。(?)
</p>
<a class="index-entry-id" id="index-Can-Shu-_002c-Fu-Dian-"></a>
<a class="index-entry-id" id="index-Fu-Dian-Can-Shu-"></a>
<a class="index-entry-id" id="index-float_002c-use-of"></a>
<p>同样，浮点数也可以使用 <code class="t">float</code> 内置命令来声明；浮点数有两种类型，它们的区别仅在于输出格式，正如 <code class="t">typeset</code>
内置命令所描述的那样。
输出格式可以通过使用算术替换代替参数替换来绕过，即&lsquo;<code class="t">${</code><var class="var">float</var><code class="t">}</code>&rsquo;使用定义的格式，而&lsquo;<code class="t">$((</code><var class="var">float</var><code class="t">))</code>&rsquo;使用通用浮点格式。
</p>
<p>必要时会将整数值提升为浮点数。 此外，如果任何需要整数参数的运算符（&lsquo;<code class="t">&amp;</code>&rsquo;, &lsquo;<code class="t">|</code>&rsquo;, &lsquo;<code class="t">^</code>&rsquo;, &lsquo;<code class="t">&lt;&lt;</code>&rsquo;,
&lsquo;<code class="t">&gt;&gt;</code>&rsquo;及其等价赋值运算符）被赋予浮点参数，除了&lsquo;<code class="t">~</code>&rsquo; 会向下舍入外，其他运算符都会被默默地舍入为零。
</p>
<p>用户需要注意的是，与许多其他编程语言（但不是为计算而设计的软件）一样，在 zsh
中对表达式的计算是一次一个项进行的，在仅包含整数的项中不会将整数提升为浮点数。 <code class="t">FORCE_FLOAT</code> shell
选项可用于需要浮点运算的脚本或函数中。
</p>
<p>标量变量可以在不同时间保存整数或浮点数值；在这种情况下，没有数值类型的内存。
</p>
<p>如果一个变量在数值上下文中首次赋值时没有事先声明，那么它将被隐式地类型化为 <code class="t">integer</code> 或
<code class="t">float</code>，并保持这种类型直到类型被显式地更改或作用域结束。 这可能会产生意想不到的后果。 例如，在循环
</p>
<div class="example">
<pre class="example-preformatted">for (( f = 0; f &lt; 1; f += 0.1 )); do
# use $f
done
</pre></div>

<p>如果 <code class="t">f</code> 尚未被声明，第一次赋值将导致它被创建为一个整数，因此操作 &lsquo;<code class="t">f += 0.1</code>&rsquo; 将始终导致结果被截断为零，从而导致循环失败。
一个简单的解决方法是将初始化变成 &lsquo;<code class="t">f = 0.0</code>&rsquo;。 因此，最好使用显式类型声明数值变量。
</p><hr>
</div>
<div class="chapter-level-extent" id="g_t_6761_4ef6_8868_8fbe_5f0f">

<h2 class="chapter" id="Tiao-Jian-Biao-Da-Shi-"><span>12 条件表达式<a class="copiable-link" href="#Tiao-Jian-Biao-Da-Shi-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Tiao-Jian-Biao-Da-Shi--1"></a>
<a class="index-entry-id" id="index-Biao-Da-Shi-_002c-Tiao-Jian-"></a>
<p><em class="emph">条件表达示</em> 与 <code class="t">[[</code> 复合命令配合使用，可用于测试文件属性和比较字符串。 每个表达式可以由以下一个或多个一元或二元表达式构成：
</p>
<dl class="table">
<dt><code class="t">-a</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在，则为 true。
</p>
</dd>
<dt><code class="t">-b</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 已存在且是块专用文件，则为 true。
</p>
</dd>
<dt><code class="t">-c</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是字符特殊文件，则为 true。
</p>
</dd>
<dt><code class="t">-d</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是一个目录，则为 true。
</p>
</dd>
<dt><code class="t">-e</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在，则为 true。
</p>
</dd>
<dt><code class="t">-f</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是普通文件，则为 true。
</p>
</dd>
<dt><code class="t">-g</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 已存在且设置了 setgid 位，则为 true。
</p>
</dd>
<dt><code class="t">-h</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是符号链接，则为 true。
</p>
</dd>
<dt><code class="t">-k</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且设置了粘性位，则为 true。
</p>
</dd>
<dt><code class="t">-n</code> <var class="var">string</var></dt>
<dd><p>如果 <var class="var">string</var> 的长度非零，则为 true。
</p>
</dd>
<dt><code class="t">-o</code> <var class="var">option</var></dt>
<dd><p>如果名为 <var class="var">option</var> 的选项已开启，则为 true。 <var class="var">option</var> 可以是单字符，在这种情况下就是单字母选项名称。 (参见
<a class="ref" href="#g_t_6307_5b9a_9009_9879">指定选项</a>）。
</p>
<p>如果不存在名为 <var class="var">option</var> 的选项，且 <code class="t">POSIX_BUILTINS</code> 选项尚未设置，则返回 3 并发出警告。
如果设置了该选项，则返回 1，不带警告。
</p>
</dd>
<dt><code class="t">-p</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是 FIFO 特殊文件（命名为管道），则为 true。
</p>
</dd>
<dt><code class="t">-r</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且当前进程可读取，则为 true。
</p>
</dd>
<dt><code class="t">-s</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且大小大于零，则为 true。
</p>
</dd>
<dt><code class="t">-t</code> <var class="var">fd</var></dt>
<dd><p>如果文件描述符编号 <var class="var">fd</var> 已打开并与终端设备关联，则为 true。 (注意：<var class="var">fd</var> 不是可选项）
</p>
</dd>
<dt><code class="t">-u</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 已存在且设置了 setuid 位，则为 true。
</p>
</dd>
<dt><code class="t">-v</code> <var class="var">varname</var></dt>
<dd><p>如果 shell 变量 <var class="var">varname</var> 已设置，则为 true。
</p>
</dd>
<dt><code class="t">-w</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且当前进程可写，则为 true。
</p>
</dd>
<dt><code class="t">-x</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且当前进程可执行，则为 true。 如果 <var class="var">file</var> 存在且是一个目录，则当前进程有权限在该目录中搜索。
</p>
</dd>
<dt><code class="t">-z</code> <var class="var">string</var></dt>
<dd><p>如果 <var class="var">string</var> 的长度为零，则为 true。
</p>
</dd>
<dt><code class="t">-L</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是符号链接，则为 true。
</p>
</dd>
<dt><code class="t">-O</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且为该进程的有效用户 ID 所有，则为 true。
</p>
</dd>
<dt><code class="t">-G</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在，且其组群与此进程的有效组群 ID 一致，则为 true。
</p>
</dd>
<dt><code class="t">-S</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在且是套接字，则为 true。
</p>
</dd>
<dt><code class="t">-N</code> <var class="var">file</var></dt>
<dd><p>如果 <var class="var">file</var> 存在，且其访问时间不新于修改时间，则为 true。
</p>
</dd>
<dt><var class="var">file1</var> <code class="t">-nt</code> <var class="var">file2</var></dt>
<dd><p>如果 <var class="var">file1</var> 存在且比 <var class="var">file2</var> 新，则为 true。
</p>
</dd>
<dt><var class="var">file1</var> <code class="t">-ot</code> <var class="var">file2</var></dt>
<dd><p>如果 <var class="var">file1</var> 存在且比 <var class="var">file2</var> 早，则为 true。
</p>
</dd>
<dt><var class="var">file1</var> <code class="t">-ef</code> <var class="var">file2</var></dt>
<dd><p>如果 <var class="var">file1</var> 和 <var class="var">file2</var> 存在并指向同一文件，则为 true。
</p>
</dd>
<dt><var class="var">string</var> <code class="t">=</code> <var class="var">pattern</var></dt>
<dt><var class="var">string</var> <code class="t">==</code> <var class="var">pattern</var></dt>
<dd><p>如果 <var class="var">string</var> 与 <var class="var">pattern</var> 匹配，则为 true。 这两种形式完全等价。 &lsquo;<code class="t">=</code>&rsquo; 形式是传统的 shell
语法（因此也是 <code class="t">test</code> 和 <code class="t">[</code> 内置命令中唯一常用的语法）； &lsquo;<code class="t">==</code>&rsquo;形式提供了与其他计算机语言的兼容性。
</p>
</dd>
<dt><var class="var">string</var> <code class="t">!=</code> <var class="var">pattern</var></dt>
<dd><p>如果 <var class="var">string</var> 与 <var class="var">pattern</var> 不匹配，则为 true。
</p>
</dd>
<dt><var class="var">string</var> <code class="t">=~</code> <var class="var">regexp</var></dt>
<dd><p>如果 <var class="var">string</var> 与正则表达式 <var class="var">regexp</var> 匹配，则为 true。 如果设置了 <code class="t">RE_MATCH_PCRE</code>
选项，<var class="var">regexp</var> 将使用 <code class="t">zsh/pcre</code> 模块作为 PCRE 正则表达式进行测试，否则将使用 <code class="t">zsh/regex</code>
模块作为 POSIX 扩展正则表达式进行测试。 匹配成功后，某些变量将被更新；匹配失败时，变量不会发生变化。
</p>
<p>如果未设置选项 <code class="t">BASH_REMATCH</code>，标量参数 <code class="t">MATCH</code> 将设置为与模式匹配的子串，整数参数 <code class="t">MBEGIN</code> 和
<code class="t">MEND</code> 将分别设置为 <var class="var">string</var> 中匹配开始和结束的索引， 这样，如果 <var class="var">string</var> 包含在变量 <code class="t">var</code>
中，表达式 &lsquo;<code class="t">${var[$MBEGIN,$MEND]}</code>&rsquo; 与  &lsquo;<code class="t">$MATCH</code>&rsquo;相同。这遵守选项 <code class="t">KSH_ARRAYS</code>
的设置。同样，数组 <code class="t">match</code> 会被设置为与带括号的子表达式相匹配的子串，数组 <code class="t">mbegin</code> 和 <code class="t">mend</code> 会被分别设置为
<var class="var">string</var> 中子串的开始和结束位置的索引。 如果没有带括号的子表达式，则不会设置数组。 例如，如果字符串&lsquo;<code class="t">a short
string</code>&rsquo; 与正则表达式&lsquo;<code class="t">s(...)t</code>&rsquo;相匹配,那么（假设未设置 <code class="t">KSH_ARRAYS</code>
选项），<code class="t">MATCH</code>、<code class="t">MBEGIN</code> 和 <code class="t">MEND</code> 分别是&lsquo;<code class="t">short</code>&rsquo;、<code class="t">3</code>和 <code class="t">7</code>，而
<code class="t">match</code>、<code class="t">mbegin</code> 和 <code class="t">mend</code> 则是分别包含字符串&lsquo;<code class="t">hor</code>&rsquo;, &lsquo;<code class="t">4</code>&rsquo;和&lsquo;<code class="t">6</code>&rsquo;的单条目数组。
</p>
<p>如果设置了选项 <code class="t">BASH_REMATCH</code>，数组 <code class="t">BASH_REMATCH</code>
将被设置为与模式匹配的子串，然后是与模式内带括号子表达式匹配的子串。
</p>
</dd>
<dt><var class="var">string1</var> <code class="t">&lt;</code> <var class="var">string2</var></dt>
<dd><p>根据 <var class="var">string1</var> 和 <var class="var">string2</var> 字符的 ASCII 值，如果 <var class="var">string1</var> 在
<var class="var">string2</var> 之前，则为 true。
</p>
</dd>
<dt><var class="var">string1</var> <code class="t">&gt;</code> <var class="var">string2</var></dt>
<dd><p>根据 <var class="var">string1</var> 和 <var class="var">string2</var> 的 ASCII 码值，如果 <var class="var">string1</var> 在 <var class="var">string2</var>
之后，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">-eq</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 在数值上等于 <var class="var">exp2</var>，则为 true。 请注意，对于纯粹的数值比较，使用
<code class="t">((</code><var class="var">...</var><code class="t">))</code>  内置命令 <a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a> 比条件表达式更方便。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">-ne</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 在数值上不等于 <var class="var">exp2</var>，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">-lt</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 在数值上小于 <var class="var">exp2</var>，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">-gt</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 在数值上大于 <var class="var">exp2</var>，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">-le</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 在数值上小于或等于 <var class="var">exp2</var>，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">-ge</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 在数值上大于或等于 <var class="var">exp2</var>，则为 true。
</p>
</dd>
<dt><code class="t">(</code> <var class="var">exp</var> <code class="t">)</code></dt>
<dd><p>如果 <var class="var">exp</var> 为 true，则为 true。
</p>
</dd>
<dt><code class="t">!</code> <var class="var">exp</var></dt>
<dd><p>如果 <var class="var">exp</var> 为 false，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">&amp;&amp;</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 和 <var class="var">exp2</var> 均为 true，则为 true。
</p>
</dd>
<dt><var class="var">exp1</var> <code class="t">||</code> <var class="var">exp2</var></dt>
<dd><p>如果 <var class="var">exp1</var> 或 <var class="var">exp2</var> 为 true，则为 true。
</p>
</dd>
</dl>

<p>为兼容起见，如果有一个在语法上不重要的参数，通常是一个变量，那么该条件将被视为对表达式是否扩展为长度不为零的字符串的测试。 换句话说，<code class="t">[[
$var ]]</code> 与 <code class="t">[[ -n $var ]]</code> 相同。 建议尽可能使用第二种显式形式。
</p>
<p>对 <var class="var">file</var>、<var class="var">string</var> 和 <var class="var">pattern</var> 参数执行正常的 shell
扩展，但每次扩展的结果都限制为一个单词，类似于双引号的效果。
</p>
<p>文件名生成不会在任何形式的条件参数中执行。 不过，在正常 shell 扩展有效的情况下，以及在选项 <code class="t">EXTENDED_GLOB</code>
有效的情况下，可以通过在字符串末尾使用 <code class="t">(#q)</code> 形式的显式 glob 限定符来强制生成文件名。 在 &lsquo;<code class="t">q</code>&rsquo;
和结尾括号之间可能会出现一个普通的 glob 限定符表达式；如果没有出现，该表达式除了生成文件名外没有任何作用。
与其他形式的扩展结果一样，文件名生成的结果会连接在一起形成一个单词。
</p>
<p>只有在使用 <code class="t">[[</code> 语法时，才能使用这种特殊的文件名生成方式。 如果条件出现在 <code class="t">[</code> 或 <code class="t">test</code>
内置命令中，则在条件求值之前，会作为正常命令行扩展的一部分进行 globbing。 在这种情况下，可能会产生多个单词，从而混淆测试命令的语法。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">[[ -n file*(#qN) ]]
</pre></div>

<p>如果当且仅当当前目录中至少有一个以字符串&lsquo;<code class="t">file</code>&rsquo;开头的文件时，才会产生状态 0。 全局(globbing)限定符 <code class="t">N</code>
确保在没有匹配文件的情况下表达式为空。
</p>
<p>模式元字符对 <var class="var">pattern</var> 参数有效；模式与用于文件名生成的模式相同，请参阅 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>，但
&lsquo;<code class="t">/</code>&rsquo;或前导点（initial dots）没有特殊行为，也不允许使用 glob 限定符。
</p>
<p>在上述每个表达式中，如果 <var class="var">file</var> 的形式为 &lsquo;<code class="t">/dev/fd/</code><var class="var">n</var>&rsquo;，其中 <var class="var">n</var>
为整数，那么即使底层系统不支持 <code class="t">/dev/fd</code> 目录，测试也会应用于描述符编号为 <var class="var">n</var> 的打开的文件。
</p>
<p>在进行数字比较的形式中，表达式 <var class="var">exp</var> 会进行算术扩展，就像它们被括入 <code class="t">$((</code><var class="var">...</var><code class="t">))</code> 中一样。
</p>
<p>例如，以下内容：
</p>
<div class="example">
<pre class="example-preformatted">[[ ( -f foo || -f bar ) &amp;&amp; $report = y* ]] &amp;&amp; print File exists.
</pre></div>

<p>测试文件 <code class="t">foo</code> 或文件 <code class="t">bar</code> 是否存在，如果存在，则测试参数 <code class="t">report</code>
的值是否以&lsquo;<code class="t">y</code>&rsquo;开头；如果整个条件为真，则打印信息&lsquo;<code class="t">File exists.</code>&rsquo;。
</p><hr>
</div>
<div class="chapter-level-extent" id="g_t_63d0_793a_7b26_6269_5c55">

<h2 class="chapter" id="Ti-ShiFu-Kuo-Zhan-"><span>13 提示符扩展<a class="copiable-link" href="#Ti-ShiFu-Kuo-Zhan-"> &para;</a></span></h2>

<div class="section-level-extent" id="Kuo-Zhan-Ti-ShiFu-Xu-Lie-">
<h3 class="section"><span>13.1 扩展提示符序列<a class="copiable-link" href="#Kuo-Zhan-Ti-ShiFu-Xu-Lie-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Ti-ShiFu-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Ti-ShiFu-"></a>
<p>提示符序列会经过一种特殊形式的扩展。 使用 <code class="t">print</code> 内置程序的 <code class="t">-P</code> 选项也可以进行这种扩展。
</p>
<a class="index-entry-id" id="index-PROMPT_005fSUBST_002c-use-of"></a>
<p>如果设置了 <code class="t">PROMPT_SUBST</code> 选项，提示符字符串将首先进行 <em class="emph">参数扩展</em>、<em class="emph">命令替换</em> 和 <em class="emph">算术扩展</em>。
参见 <a class="ref" href="#g_t_6269_5c55">扩展</a>。
</p>
<p>提示符字符串中可以识别某些转义序列。
</p>
<a class="index-entry-id" id="index-PROMPT_005fBANG_002c-use-of"></a>
<p>如果设置了 <code class="t">PROMPT_BANG</code> 选项，提示符中的 &lsquo;<code class="t">!</code>&rsquo; 将被当前历史事件编号取代。 字面的 &lsquo;<code class="t">!</code>&rsquo;
可以表示为&lsquo;<code class="t">!!</code>&rsquo;。
</p>
<a class="index-entry-id" id="index-PROMPT_005fPERCENT_002c-use-of"></a>
<p>如果设置了 <code class="t">PROMPT_PERCENT</code> 选项，某些以&lsquo;<code class="t">%</code>&rsquo;开头的转义序列将被扩展。
许多转义字符后面只有一个字符，但其中一些转义字符还包含一个可选的整数参数，该参数应出现在 &lsquo;<code class="t">%</code>&rsquo;和序列的下一个字符之间。
还有更复杂的转义序列可用于提供条件扩展。
</p>

</div>
<div class="section-level-extent" id="Jian-Dan-De-Ti-ShiFu-Zhuan-Yi-">
<h3 class="section"><span>13.2 简单的提示符转义<a class="copiable-link" href="#Jian-Dan-De-Ti-ShiFu-Zhuan-Yi-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="Te-Shu-Zi-Fu-">
<h4 class="subsection"><span>13.2.1 特殊字符<a class="copiable-link" href="#Te-Shu-Zi-Fu-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">%%</code></dt>
<dd><p>一个 &lsquo;<code class="t">%</code>&rsquo;.
</p>
</dd>
<dt><code class="t">%)</code></dt>
<dd><p>一个 &lsquo;<code class="t">)</code>&rsquo;.
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Deng-Lu-Xin-Xi-">
<h4 class="subsection"><span>13.2.2 登录信息<a class="copiable-link" href="#Deng-Lu-Xin-Xi-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">%l</code></dt>
<dd><p>用户登录的线路（tty），不含前缀 &lsquo;<code class="t">/dev/</code>&rsquo;。 如果名称以 &lsquo;<code class="t">/dev/tty</code>&rsquo; 开头，则去掉前缀。
</p>
</dd>
<dt><code class="t">%M</code></dt>
<dd><p>完整的计算机主机名。
</p>
</dd>
<dt><code class="t">%m</code></dt>
<dd><p>直至第一个&lsquo;<code class="t">.</code>&rsquo; 的主机名。 在&lsquo;<code class="t">%</code>&rsquo; 后面可以加上一个整数，以指定需要主机名的多少个分量。 如果是负整数，则显示主机名的尾部。
</p>
</dd>
<dt><code class="t">%n</code></dt>
<dd><p><code class="t">$USERNAME</code>.
</p>
</dd>
<dt><code class="t">%y</code></dt>
<dd><p>用户登录的线路（tty），不含前缀 &lsquo;<code class="t">/dev/</code>&rsquo; 。 这不会特别处理 &lsquo;<code class="t">/dev/tty</code>&rsquo; 名称。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="shell-Zhuang-Tai-">
<h4 class="subsection"><span>13.2.3 shell 状态<a class="copiable-link" href="#shell-Zhuang-Tai-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">%#</code></dt>
<dd><p>如果 shell 以特权运行，则为 &lsquo;<code class="t">#</code>&rsquo;；如果不是，则为 &lsquo;<code class="t">%</code>&rsquo;。 等同于 &lsquo;<code class="t">%(!.#.%%)</code>&rsquo;。 就这些目的而言，&lsquo;特权&rsquo;
的定义是有效用户 ID 为零，或者，如果如果支持 POSIX.1e
功能（capabilities），则在有效功能向量或可继承功能向量（capability vectors）中至少有一种功能被提出。
</p>
</dd>
<dt><code class="t">%?</code></dt>
<dd><p>提示符前执行的最后一条命令的返回状态。
</p>
</dd>
<dt><code class="t">%_</code></dt>
<dd><p>解析器的状态，即已在命令行启动的 shell 结构（如&lsquo;<code class="t">if</code>&rsquo;和 &lsquo;<code class="t">for</code>&rsquo;
）。如果给定的是整数，那么打印的字符串数就是这个数；如果是零、负数或无整数，那么打印所有的字符串。 这在 <code class="t">PS2</code> 续行提示符和 使用
<code class="t">XTRACE</code> 选项调试的<code class="t">PS4</code> 提示符中最有用；在后一种情况下，它也可以非交互式地工作。
</p>
</dd>
<dt><code class="t">%^</code></dt>
<dd><p>解析器的状态（反向）。除了字符串的顺序外，它与 &lsquo;<code class="t">%_</code>&rsquo;相同。 它常用于 <code class="t">RPS2</code>。
</p>
</dd>
<dt><code class="t">%d</code></dt>
<dt><code class="t">%/</code></dt>
<dd><p>当前工作目录。 如果在 &lsquo;<code class="t">%</code>&rsquo;后面加上一个整数，则表示要显示的当前工作目录的尾部组件数；0 表示整个路径。 负整数表示前导部分，即
<code class="t">%-1d</code> 表示第一个部分。
</p>
</dd>
<dt><code class="t">%~</code></dt>
<dd><p>与 <code class="t">%d</code> 和 <code class="t">%/</code> 相同，但如果当前工作目录以 <code class="t">$HOME</code>
开头，则该部分会被&lsquo;<code class="t">~</code>&rsquo;替换。此外，如果它的前缀是一个已命名的目录，那么这部分内容会被&lsquo;<code class="t">~</code>&rsquo;紧跟目录名的形式所取代，但前提是结果比完整路径短；<a class="ref" href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a>。
</p>
</dd>
<dt><code class="t">%e</code></dt>
<dd><p>当前引入的（sourced）文件、shell 函数或 <code class="t">eval</code> 的求值深度。 每次 <code class="t">%N</code>
的值被设置或恢复到之前的值时，该值都会递增或递减。 作为 <code class="t">$PS4</code> 的一部分，它在调试时最为有用。
</p>
</dd>
<dt><code class="t">%h</code></dt>
<dt><code class="t">%!</code></dt>
<dd><p>当前历史事件编号。
</p>
</dd>
<dt><code class="t">%i</code></dt>
<dd><p><code class="t">%N</code> 给出的脚本、引入的（sourced）文件或 shell 函数中当前正在执行的行号。 作为 <code class="t">$PS4</code> 的一部分，它对调试最有用。
</p>
</dd>
<dt><code class="t">%I</code></dt>
<dd><p>文件 <code class="t">%x</code> 中当前正在执行的行号。 这与 <code class="t">%i</code> 类似，但行号始终是定义代码的文件中的行号，即使代码是 shell 函数。
</p>
</dd>
<dt><code class="t">%j</code></dt>
<dd><p>作业数量。
</p>
</dd>
<dt><code class="t">%L</code></dt>
<dd><p><code class="t">$SHLVL</code> 的当前值。
</p>
</dd>
<dt><code class="t">%N</code></dt>
<dd><p>zsh 当前执行的脚本、引入的（sourced）文件或 shell 函数的名称，以最近启动者为准。 如果没有，则等同于参数 <code class="t">$0</code>。
&lsquo;<code class="t">%</code>&rsquo; 后面可以跟一个整数，用于指定要显示的尾部路径成分的数量；0 表示完整路径。 负整数表示前导成分。
</p>
</dd>
<dt><code class="t">%x</code></dt>
<dd><p>包含当前正在执行的源代码的文件名。 与 <code class="t">%N</code> 相同，但不显示函数名和计算（eval）命令名，而是显示定义这些函数和命令的文件名。
</p>
</dd>
<dt><code class="t">%c</code></dt>
<dt><code class="t">%.</code></dt>
<dt><code class="t">%C</code></dt>
<dd><p>当前工作目录的尾部分量。 &lsquo;<code class="t">%</code>&rsquo;后面可以跟一个整数，以获取多个分量。 除非使用了&lsquo;<code class="t">%C</code>&rsquo; ，否则会先执行转折号收缩。 由于 <code class="t">%c</code>
和 <code class="t">%C</code> 分别等同于 <code class="t">%1~</code> 和 <code class="t">%1/</code>，而显式正整数与后两个序列的效果相同，因此已被弃用。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Ri-Qi-He-Shi-Jian-">
<h4 class="subsection"><span>13.2.4 日期和时间<a class="copiable-link" href="#Ri-Qi-He-Shi-Jian-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">%D</code></dt>
<dd><p>日期，格式为 <var class="var">yy</var><code class="t">-</code><var class="var">mm</var><code class="t">-</code><var class="var">dd</var>
</p>
</dd>
<dt><code class="t">%T</code></dt>
<dd><p>当前时间（24 小时制）。
</p>
</dd>
<dt><code class="t">%t</code></dt>
<dt><code class="t">%@</code></dt>
<dd><p>当前时间（12 小时制，上午/下午格式）。
</p>
</dd>
<dt><code class="t">%*</code></dt>
<dd><p>当前时间（24 小时制，含秒）。
</p>
</dd>
<dt><code class="t">%w</code></dt>
<dd><p>日期，格式为 <var class="var">day</var><code class="t">-</code><var class="var">dd</var>。
</p>
</dd>
<dt><code class="t">%W</code></dt>
<dd><p>日期，格式为 <var class="var">mm</var><code class="t">/</code><var class="var">dd</var><code class="t">/</code><var class="var">yy</var>。
</p>
</dd>
<dt><code class="t">%D{</code><var class="var">string</var><code class="t">}</code></dt>
<dd><p><var class="var">string</var> 使用 <code class="t">strftime</code> 函数格式化。 详情请参阅 strftime(3)。 如果数字是个位数，各种 zsh
扩展会提供不带前导零或空格的数字：
</p>
<dl class="table">
<dt><code class="t">%f</code></dt>
<dd><p>月中的一日
</p></dd>
<dt><code class="t">%K</code></dt>
<dd><p>24小时制中的小时
</p></dd>
<dt><code class="t">%L</code></dt>
<dd><p>12小时制中的小时
</p></dd>
</dl>

<p>此外，如果系统支持 POSIX 的<code class="t">gettimeofday</code> 系统调用，<code class="t">%.</code> 将提供自纪元（epoch）起的秒数（带前导零的小数）。
默认情况下提供三位小数，但也可以在 <code class="t">%</code> 后面提供不超过 9 位的数字；因此 <code class="t">%6.</code> 输出微秒，而 <code class="t">%9.</code> 输出纳秒。
(后者需要纳秒精度的 <code class="t">clock_gettime</code>；缺少<code class="t">clock_gettime</code>的系统将返回一个乘以相应 10的 次方的值）。
一个典型的例子是格式&lsquo;<code class="t">%D{%H:%M:%S.%.}</code>&rsquo;。
</p>
<p>GNU 扩展名 <code class="t">%N</code> 作为 <code class="t">%9.</code> 的同义词处理。
</p>
<p>此外，对于 <code class="t">d</code>, <code class="t">f</code>, <code class="t">H</code>, <code class="t">k</code>, <code class="t">l</code>, <code class="t">m</code>, <code class="t">M</code>, <code class="t">S</code> and
<code class="t">y</code>格式字符，GNU 扩展（ <code class="t">%</code>  和 格式字符之间有一个 &lsquo;<code class="t">-</code>&rsquo;  ）会导致前导零或空格被删除，这会直接由shell处理；
任何其他格式字符都将提供给系统的 strftime(3)，并带有前导&lsquo;<code class="t">-</code>&rsquo;，因此处理方法取决于系统。 其他 GNU（或其他）扩展字符也会传递给
strftime(3)，如果系统支持这些扩展字符，它们也可以正常工作。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shi-Jue-Xiao-Guo-">
<h4 class="subsection"><span>13.2.5 视觉效果<a class="copiable-link" href="#Shi-Jue-Xiao-Guo-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">%B</code> (<code class="t">%b</code>)</dt>
<dd><p>启动（停止）粗体模式。
</p>
</dd>
<dt><code class="t">%E</code></dt>
<dd><p>清除到行尾。
</p>
</dd>
<dt><code class="t">%U</code> (<code class="t">%u</code>)</dt>
<dd><p>启动（停止）下划线模式。
</p>
</dd>
<dt><code class="t">%S</code> (<code class="t">%s</code>)</dt>
<dd><p>启动（停止）突出模式。
</p>
</dd>
<dt><code class="t">%F</code> (<code class="t">%f</code>)</dt>
<dd><p>开始（停止）使用不同的前景色（如果终端支持）。 颜色有两种指定方式：一种是以数字参数的形式指定，如正常情况；另一种是在 <code class="t">%F</code> 后用大括号指定，如
<code class="t">%F{red}</code>。 在后一种情况下，所允许的值与 <code class="t">fg</code> <code class="t">zle_highlight</code> 属性所描述的一样；<a class="ref" href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a>。
这意味着第二种格式也允许使用数字颜色。
</p>
</dd>
<dt><code class="t">%K</code> (<code class="t">%k</code>)</dt>
<dd><p>开始（停止）使用不同的背景颜色。 语法与 <code class="t">%F</code> 和 <code class="t">%f</code> 相同。
</p>
</dd>
<dt><code class="t">%{</code>...<code class="t">%}</code></dt>
<dd><p>包含一个字符串作为字面转义序列。 括号内的字符串不应改变光标位置。 括号对可以嵌套。
</p>
<p>在 <code class="t">%</code> 和 <code class="t">{</code> 之间的正数参数的处理方法与下面的 <code class="t">%G</code> 相同。
</p>
</dd>
<dt><code class="t">%G</code></dt>
<dd><p>在<code class="t">%{</code>...<code class="t">%}</code>序列中，包含一个 &lsquo;间隙&rsquo;：即假定只输出一个字符宽度。 这在输出 shell
无法正确处理的字符时非常有用，例如某些终端上的备用字符集。 有关字符可以包含在 <code class="t">%{</code>...<code class="t">%}</code>  序列中，并与适当数量的
<code class="t">%G</code> 序列一起表示正确的宽度。 &lsquo;<code class="t">%</code>&rsquo;和&lsquo;<code class="t">G</code>&rsquo; 之间的整数表示 1以外的字符宽度。 因此
<code class="t">%{</code><var class="var">seq</var><code class="t">%2G%}</code> 输出 <var class="var">seq</var> 并假定它占两个标准字符的宽度。
</p>
<p><code class="t">%G</code> 的多次使用会以显而易见的方式累加；<code class="t">%G</code> 的位置并不重要。 负整数不作处理。
</p>
<p>请注意，在使用提示符截断功能时，最好将每个 <code class="t">%{</code>...<code class="t">%}</code> 组内的输出划分为单个字符，以便找到正确的截断点。
</p>
</dd>
</dl>


</div>
</div>
<div class="section-level-extent" id="Ti-ShiFu-ZhongDe-Tiao-Jian-Zi-Zi-Fu-Chuan-">
<h3 class="section"><span>13.3 提示符中的条件子字符串<a class="copiable-link" href="#Ti-ShiFu-ZhongDe-Tiao-Jian-Zi-Zi-Fu-Chuan-"> &para;</a></span></h3>
<dl class="table">
<dt><a id="index-psvar_002c-use-of"></a><span><code class="t">%v</code><a class="copiable-link" href="#index-psvar_002c-use-of"> &para;</a></span></dt>
<dd><p><code class="t">psvar</code> 数组参数第一个元素的值。 在&lsquo;<code class="t">%</code>&rsquo;后跟一个整数，表示数组中的该元素。 负整数从数组末尾开始计数。
</p>
</dd>
<dt><code class="t">%(</code><var class="var">x</var><code class="t">.</code><var class="var">true-text</var><code class="t">.</code><var class="var">false-text</var><code class="t">)</code></dt>
<dd><p>指定一个三元表达式。 <var class="var">x</var> 后面的字符是任意的；&lsquo;true&rsquo; 结果和&lsquo;false&rsquo;结果的文本是用同一个字符分隔的。 除了作为 %-escape
序列的一部分，该分隔符不得出现在 <var class="var">true-text</var> 中。 &lsquo;<code class="t">)</code>&rsquo;可以以&lsquo;<code class="t">%)</code>&rsquo;的形式出现在
<var class="var">false-text</var> 中。 <var class="var">true-text</var> 和 <var class="var">false-text</var>
都可以包含任意嵌套的转义序列，包括进一步的三元表达式。
</p>
<p>左括号前后可以是正整数 <var class="var">n</var>，默认值为 0。 负整数将乘以-1，下文中的 &lsquo;<code class="t">l</code>&rsquo;除外。 测试字符 <var class="var">x</var>
可以是以下任何一种字符：
</p>
<dl class="table">
<dt><code class="t">!</code></dt>
<dd><p>如果 shell 以特权运行，则为 True。
</p></dd>
<dt><code class="t">#</code></dt>
<dd><p>如果当前进程的有效 uid 为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">?</code></dt>
<dd><p>如果最后一条命令的退出状态为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">_</code></dt>
<dd><p>如果至少 <var class="var">n</var> 个 shell 结构体已启动，则为 True。
</p></dd>
<dt><code class="t">C</code></dt>
<dt><code class="t">/</code></dt>
<dd><p>如果当前绝对路径至少有 <var class="var">n</var> 个相对于根目录的元素，则为 true，因此 <code class="t">/</code> 将被视为 0 个元素。
</p></dd>
<dt><code class="t">c</code></dt>
<dt><code class="t">.</code></dt>
<dt><code class="t">~</code></dt>
<dd><p>如果当前路径在替换前缀后至少有 <var class="var">n</var> 个相对于根目录的元素，则为 true，因此 <code class="t">/</code> 将被视为 0 个元素。
</p></dd>
<dt><code class="t">D</code></dt>
<dd><p>如果月份等于 <var class="var">n</var>，则为 true（1 月 = 0）。
</p></dd>
<dt><code class="t">d</code></dt>
<dd><p>如果月份的日期等于 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">e</code></dt>
<dd><p>如果计算（evaluation）深度至少为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">g</code></dt>
<dd><p>如果当前进程的有效 gid 为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">j</code></dt>
<dd><p>如果作业数量至少为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">L</code></dt>
<dd><p>如果 <code class="t">SHLVL</code> 参数至少为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">l</code></dt>
<dd><p>如果当前行至少已打印 <var class="var">n</var> 个字符，则为 true。 当 <var class="var">n</var> 为负数时，如果至少 <code class="t">abs</code><code class="t">(</code><var class="var">n</var><code class="t">)</code>
字符仍在对边距之前（即 <code class="t">RPROMPT</code> 的左边距），则为 true。
</p></dd>
<dt><code class="t">S</code></dt>
<dd><p>如果 <code class="t">SECONDS</code> 参数至少为 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">T</code></dt>
<dd><p>如果时间（小时）等于 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">t</code></dt>
<dd><p>如果时间（分钟）等于 <var class="var">n</var>，则为 True。
</p></dd>
<dt><code class="t">v</code></dt>
<dd><p>如果数组 <code class="t">psvar</code> 至少有 <var class="var">n</var> 个元素，则为 True。
</p></dd>
<dt><code class="t">V</code></dt>
<dd><p>如果数组 <code class="t">psvar</code> 中的元素 <var class="var">n</var> 已设置且非空，则为 True。
</p></dd>
<dt><code class="t">w</code></dt>
<dd><p>如果星期几等于 <var class="var">n</var>（星期日 = 0），则为 True。
</p></dd>
</dl>

</dd>
<dt><code class="t">%&lt;</code><var class="var">string</var><code class="t">&lt;</code></dt>
<dt><code class="t">%&gt;</code><var class="var">string</var><code class="t">&gt;</code></dt>
<dt><code class="t">%[</code><var class="var">xstring</var><code class="t">]</code></dt>
<dd><p>指定提示符字符串剩余部分的截断行为。 第三种形式已被淘汰，相当于&lsquo;<code class="t">%</code><var class="var">xstringx</var>&rsquo;，即 <var class="var">x</var> 可以是 &lsquo;<code class="t">&lt;</code>&rsquo;
或 &lsquo;<code class="t">&gt;</code>&rsquo;。 <var class="var">string</var> 将代替任何字符串的截断部分显示出来；请注意，这不会进行提示符扩展。
</p>
<p>在第三种形式中，数字参数可能紧接在 &lsquo;<code class="t">[</code>&rsquo;之后，用于指定提示符中可显示的各种字符串的最大允许长度。
在前两种形式中，数字参数可以是负数，在这种情况下，截断长度是由当前提示符行剩余字符数减去数字参数的绝对值确定的。 如果结果为零或负数，则使用长度 1。
换句话说，如果参数为负数，则在截断后，右边距（<code class="t">RPROMPT</code>的左边距）前至少要保留 <var class="var">n</var> 个字符。
</p>
<p>带 &lsquo;<code class="t">&lt;</code>&rsquo; 的形式在字符串左边截断，带&lsquo;<code class="t">&gt;</code>&rsquo; 的形式在字符串右边截断。 例如，如果当前目录为 &lsquo;<code class="t">/home/pike</code>&rsquo;，提示符
&lsquo;<code class="t">%8&lt;..&lt;%/</code>&rsquo; 将扩展为 &lsquo;<code class="t">..e/pike</code>&rsquo;。 在该字符串中，结束符（&lsquo;<code class="t">&lt;</code>&rsquo;, &lsquo;<code class="t">&gt;</code>&rsquo; 或
&lsquo;<code class="t">]</code>&rsquo;）或实际上的任何字符都可以用前面的&lsquo;<code class="t">\</code>&rsquo;来引用；但在使用 <code class="t">print -P</code>
时要注意，除了双引号字符串去掉的反斜线外，该字符串还需经过标准的 <code class="t">print</code> 处理，因此必须双写：最糟糕的情况是&lsquo;<code class="t">print -P
&quot;%&lt;\\\\&lt;&lt;...&quot;</code>&rsquo;。
</p>
<p>如果 <var class="var">string</var> 长度大于指定的截断长度，则会以完整字符串出现，完全替换截断的字符串。
</p>
<p>要截断的提示符字符串部分会一直延伸到字符串的末尾，或到下一个 &lsquo;<code class="t">%(</code>&rsquo; 结构体的闭合组的末尾，或到下一个在同一分组级别遇到的截断（即
&lsquo;<code class="t">%(</code>&rsquo;内部的截断是独立的），以先到者为准。
特别是，参数为零的截断（例如，&lsquo;<code class="t">%&lt;&lt;</code>&rsquo;）标志着要截断的字符串范围的结束，并从此关闭截断。例如，提示符 &lsquo;<code class="t">%10&lt;...&lt;%~%&lt;&lt;%#
</code>&rsquo;  将打印当前目录的截断表示，后面跟一个&lsquo;<code class="t">%</code>&rsquo;  或  &lsquo;<code class="t">#</code>&rsquo; ，后面跟一个空格。 如果没有 &lsquo;<code class="t">%&lt;&lt;</code>&rsquo;
，这两个字符将包含在被截断的字符串中。 请注意， &lsquo;<code class="t">%-0&lt;&lt;</code>&rsquo; 并不等同于 &lsquo;<code class="t">%&lt;&lt;</code>&rsquo;  ，而是指定在右边空白处截断提示符。
</p>
<p>截断仅适用于以内嵌换行符（如有）为分界的每一行提示符。
如果截断后任何一行提示符的总长度大于终端宽度，或者要截断的部分包含内嵌换行符，那么截断行为将是未定义的，并可能在 shell 的未来版本中发生变化。
当可用空间小于 <var class="var">n</var> 时，使用
&lsquo;<code class="t">%-</code><var class="var">n</var><code class="t">(l.</code><var class="var">true-text</var><code class="t">.</code><var class="var">false-text</var><code class="t">)</code>&rsquo;  删除部分提示符。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_6269_5c55">

<h2 class="chapter" id="Kuo-Zhan-"><span>14 扩展<a class="copiable-link" href="#Kuo-Zhan-"> &para;</a></span></h2>

<a class="index-entry-id" id="index-Kuo-Zhan-"></a>
<p>以下类型的扩展按指定顺序分五个步骤进行：
</p>
<dl class="table">
<dt><em class="emph">历史扩展</em></dt>
<dd><p>仅在交互式 shell 中执行。
</p>
</dd>
<dt><em class="emph">别名扩展</em></dt>
<dd><p>按照 <a class="ref" href="#g_t_522b_540d">别名</a> 中的说明，别名会在解析命令行之前立即展开。
</p>
</dd>
<dt><em class="emph">进程替换</em></dt>
<dt><em class="emph">参数扩展</em></dt>
<dt><em class="emph">命令替换</em></dt>
<dt><em class="emph">算术扩展</em></dt>
<dt><em class="emph">括号扩展</em></dt>
<dd><p>这五个步骤从左到右依次进行。 在每个参数上，所需的五个步骤中的任何一个都会相继执行。 因此，举例来说，在开始命令替换之前，参数扩展的所有部分都已完成。
在这些扩展之后，所有未引用的 &lsquo;<code class="t">\</code>&rsquo;,&lsquo;<code class="t">'</code>&rsquo; 和 &lsquo;<code class="t">&quot;</code>&rsquo; 都会被删除。
</p>
</dd>
<dt><em class="emph">文件名扩展</em></dt>
<dd><p>如果设置了 <code class="t">SH_FILE_EXPANSION</code> 选项，则会修改扩展顺序，以便与 <cite class="cite">sh</cite> 和 <cite class="cite">ksh</cite> 兼容。
在这种情况下，<em class="emph">文件名扩展</em>会紧接着 <em class="emph"> 别名扩展</em> 之后执行，排在上述五种扩展之前。
</p>
</dd>
<dt><a id="index-Tong-Pei-"></a><span><em class="emph">文件名生成</em><a class="copiable-link" href="#index-Tong-Pei-"> &para;</a></span></dt>
<dd><p>这种扩展通常称为 <cite class="cite">通配</cite>，总是最后进行。
</p>
</dd>
</dl>

<p>以下各节将详细说明扩展的类型。
</p>
<hr>
<div class="section-level-extent" id="g_t_5386_53f2_6269_5c55">

<h3 class="section" id="Li-Shi-Kuo-Zhan-"><span>14.1 历史扩展<a class="copiable-link" href="#Li-Shi-Kuo-Zhan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-history"></a>
<a class="index-entry-id" id="index-Li-Shi-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Li-Shi-"></a>
<p>历史扩展功能可让你在键入的命令行中使用以前命令行中的单词。 这可以简化拼写更正和复杂命令或参数的重复输入。
</p>
<a class="index-entry-id" id="index-HISTSIZE_002c-use-of"></a>
<p>每条命令在执行前都会立即保存在历史列表中，其大小由 <code class="t">HISTSIZE</code> 参数控制。 在任何情况下，最近的一条命令都会被保留下来。
历史列表中保存的每一条命令都称为历史 <em class="emph">事件</em>，并分配一个编号，从 shell 启动时的 1（1）开始。
您可能在提示符中看到的历史记录编号（参见 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>）就是分配给 <em class="emph">下一个</em> 命令的编号。
</p>
<hr>
<div class="subsection-level-extent" id="g_t_6982_8ff0">

<h4 class="subsection" id="Gai-Shu-"><span>14.1.1 概述<a class="copiable-link" href="#Gai-Shu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-histchars_002c-use-of-1"></a>
<p>历史扩展以 <code class="t">histchars</code> 参数的第一个字符开始，默认为 &lsquo;<code class="t">!</code>&rsquo; ，可以出现在命令行的任何位置，包括双引号内（但不包括单引号
<code class="t">'...'</code> 或 C风格引号 <code class="t">$'...'</code> ，也不包括反斜线转义）。
</p>
<p>第一个字符之后是一个可选的事件指示器（<a class="ref" href="#g_t_4e8b_4ef6_6307_793a_5668">事件指示器</a>），然后是一个可选的单词指示器（<a class="ref" href="#g_t_5355_8bcd_6307_793a_5668">单词指示器</a>）；如果这两个指示器都不存在，则不会进行历史扩展。
</p>
<p>包含历史扩展的输入行在扩展后，其他扩展发生前和命令执行前，会有回显。 正是这种扩展后的形式被记录为历史事件，供以后引用。
</p>
<p>历史扩展不会嵌套。
</p>
<p>默认情况下，不带事件指示器的历史记录，会引用与该命令行的前一个历史引用指向的相同事件；如果它是一条命令中唯一的历史记录引用，则指向前一条命令。
<a class="index-entry-id" id="index-CSH_005fJUNKIE_005fHISTORY_002c-use-of"></a>
但是，如果设置了选项 <code class="t">CSH_JUNKIE_HISTORY</code>，那么每个没有事件规范（specification）的历史引用 <em class="emph">总是</em>
指向前一条命令。
</p>
<p>例如，&lsquo;<code class="t">!</code>&rsquo;  是前一条命令的事件指示器，因此 &lsquo;<code class="t">!!:1</code>&rsquo; 总是指前一条命令的第一个字，而 &lsquo;<code class="t">!!$</code>&rsquo;
总是指前一条命令的最后一个字。 如果设置了 <code class="t">CSH_JUNKIE_HISTORY</code>，则  &lsquo;<code class="t">!:1</code>&rsquo;  和  &lsquo;<code class="t">!$</code>&rsquo;
的功能分别与 &lsquo;<code class="t">!!:1</code>&rsquo; 和 &lsquo;<code class="t">!!$</code>&rsquo; 相同。 反之，如果 <code class="t">CSH_JUNKIE_HISTORY</code> 未设置，则
&lsquo;<code class="t">!:1</code>&rsquo;  和  &lsquo;<code class="t">!$</code>&rsquo;
分别指向当前命令行中最近的历史引用所指向的同一事件的第一个字和最后一个字，如果没有前一个引用，则指向上一条命令。<a class="uref" href="comments/expansion.html#expansion-cshjunkiehistory">[译注:扩展.历史扩展.cshjunkiehistory]</a>
</p>
<p>字符序列  &lsquo;<code class="t">^</code><var class="var">foo</var><code class="t">^</code><var class="var">bar</var>&rsquo; （其中 &lsquo;<code class="t">^</code>&rsquo; 实际上是 <code class="t">histchars</code>
参数的第二个字符）重复上一条命令，用 <var class="var">bar</var> 替换 <var class="var">foo</var> 字符串。 更确切地说，序列
&lsquo;<code class="t">^</code><var class="var">foo</var><code class="t">^</code><var class="var">bar</var><code class="t">^</code>&rsquo; 与
&lsquo;<code class="t">!!:s</code><code class="t">^</code><var class="var">foo</var><code class="t">^</code><var class="var">bar</var><code class="t">^</code>&rsquo; 是同义词，因此在最后的 &lsquo;<code class="t">^</code>&rsquo;
后面还可以加上其他修饰符（参见 <a class="ref" href="#g_t_4fee_9970_7b26">修饰符</a>）。 特别是，&lsquo;<code class="t">^</code><var class="var">foo</var><code class="t">^</code><var class="var">bar</var><code class="t">^:G</code>&rsquo;
执行全局替换。
</p>
<p>如果 shell 在输入中遇到字符序列 &lsquo;<code class="t">!&quot;</code>&rsquo;，历史机制会暂时失效，直到当前列表（参见 <a class="ref" href="#Shell-_8bed_6cd5">Shell 语法</a>）完全解析完毕。
&lsquo;<code class="t">!&quot;</code>&rsquo; 将从输入中删除，随后的 &lsquo;<code class="t">!</code>&rsquo; 字符将没有特殊意义。
</p>
<a class="index-entry-id" id="index-fc_002c-use-of"></a>
<p><code class="t">fc</code> 内置程序提供了一种不太方便但更易于理解的命令历史记录支持。
</p><hr>
</div>
<div class="subsection-level-extent" id="g_t_4e8b_4ef6_6307_793a_5668">

<h4 class="subsection" id="Shi-Jian-Zhi-ShiQi-"><span>14.1.2 事件指示器<a class="copiable-link" href="#Shi-Jian-Zhi-ShiQi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Li-Shi-Shi-Jian-Zhi-ShiQi-"></a>
<a class="index-entry-id" id="index-Shi-Jian-Zhi-ShiQi-_002c-Li-Shi-"></a>
<p>事件指示器是对历史记录列表中命令行条目的引用。 在下面的列表中，请记住，通过设置 <code class="t">histchars</code> 参数，可以将每个条目中的初始
<code class="t">`!'</code> 更改为其他字符。
</p>
<dl class="table">
<dt><code class="t">!</code></dt>
<dd><p>开始历史扩展，除非后面是空白、换行符、&lsquo;<code class="t">=</code>&rsquo; 或 &lsquo;<code class="t">(</code>&rsquo; 。
如果后面紧跟一个单词指示器（<a class="ref" href="#g_t_5355_8bcd_6307_793a_5668">单词指示器</a>），则形成一个没有事件指示器的历史记录引用（<a class="ref" href="#g_t_6982_8ff0">概述</a>）。
</p>
</dd>
<dt><code class="t">!!</code></dt>
<dd><p>引用上一条命令。 该扩展本身重复前一条命令。
</p>
</dd>
<dt><code class="t">!</code><var class="var">n</var></dt>
<dd><p>引用命令行 <var class="var">n</var>。
</p>
</dd>
<dt><code class="t">!-</code><var class="var">n</var></dt>
<dd><p>引用当前命令行减 <var class="var">n</var>。
</p>
</dd>
<dt><code class="t">!</code><var class="var">str</var></dt>
<dd><p>引用以 <var class="var">str</var> 开头的最近命令。
</p>
</dd>
<dt><code class="t">!?</code><var class="var">str</var>[<code class="t">?</code>]</dt>
<dd><p>引用包含 <var class="var">str</var> 的最近命令。 如果该引用后面有修饰符，或后面有任何不被视为 <var class="var">str</var> 一部分的文本，则尾部的 &lsquo;<code class="t">?</code>&rsquo;
是必要的。
</p>
</dd>
<dt><code class="t">!#</code></dt>
<dd><p>引用当前键入的命令行。 该命令行将被视为完整的命令行，直到并包括 &lsquo;<code class="t">!#</code>&rsquo; 引用之前的单词。
</p>
</dd>
<dt><code class="t">!{</code>...<code class="t">}</code></dt>
<dd><p>将历史引用字符与相邻字符隔开（如有必要）。
</p>
</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_5355_8bcd_6307_793a_5668">

<h4 class="subsection" id="Dan-Ci-Zhi-ShiQi-"><span>14.1.3 单词指示器<a class="copiable-link" href="#Dan-Ci-Zhi-ShiQi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Li-Shi-Dan-Ci-Zhi-ShiQi-"></a>
<a class="index-entry-id" id="index-Dan-Ci-Zhi-ShiQi-_002c-Li-Shi-"></a>
<p>单词指示器表示指定命令行中的哪个单词或哪些单词将包含在历史记录引用中。 通常， &lsquo;<code class="t">:</code>&rsquo; 将事件说明与单词指示器分隔开来。 只有在单词代号以
&lsquo;<code class="t">^</code>&rsquo;, &lsquo;<code class="t">$</code>&rsquo;, &lsquo;<code class="t">*</code>&rsquo;, &lsquo;<code class="t">-</code>&rsquo;或 &lsquo;<code class="t">%</code>&rsquo; 开头时才可以省略。 单词指示器包括:
</p>
<dl class="table">
<dt><code class="t">0</code></dt>
<dd><p>第一个输入词（命令）。
</p></dd>
<dt><var class="var">n</var></dt>
<dd><p>第 <var class="var">n</var> 个参数
</p></dd>
<dt><code class="t">^</code></dt>
<dd><p>第一个参数。 即 <code class="t">1</code> 。
</p></dd>
<dt><code class="t">$</code></dt>
<dd><p>最后一个参数。
</p></dd>
<dt><code class="t">%</code></dt>
<dd><p><code class="t">?</code><var class="var">str</var> 搜索(最近一次）匹配到的单词。
</p></dd>
<dt><var class="var">x</var><code class="t">-</code><var class="var">y</var></dt>
<dd><p>字词范围；<var class="var">x</var> 默认为 <code class="t">0</code>。
</p></dd>
<dt><code class="t">*</code></dt>
<dd><p>所有参数，如果没有参数则为空值。
</p></dd>
<dt><var class="var">x</var><code class="t">*</code></dt>
<dd><p>缩写为 &lsquo;<var class="var">x</var><code class="t">-$</code>&rsquo;。
</p></dd>
<dt><var class="var">x</var><code class="t">-</code></dt>
<dd><p>类似于  &lsquo;<var class="var">x</var><code class="t">*</code>&rsquo;，但省略了 <code class="t">$</code> 。
</p></dd>
</dl>

<p>请注意， &lsquo;<code class="t">%</code>&rsquo; 单词指示器只有在和 &lsquo;<code class="t">!%</code>&rsquo;, &lsquo;<code class="t">!:%</code>&rsquo; 或 &lsquo;<code class="t">!?</code><var class="var">str</var><code class="t">?:%</code>&rsquo;
一起使用时有用，并且只能在  <code class="t">!?</code> 扩展（可能在之前的命令中）之后使用。否则会导致错误，尽管错误可能不是最明显的。
</p><hr>
</div>
<div class="subsection-level-extent" id="g_t_4fee_9970_7b26">

<h4 class="subsection" id="Xiu-Shi-Fu-"><span>14.1.4 修饰符<a class="copiable-link" href="#Xiu-Shi-Fu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Xiu-Shi-Fu-"></a>
<a class="index-entry-id" id="index-Mou-Hao-Xiu-Shi-Fu-"></a>
<a class="index-entry-id" id="index-Li-Shi-Xiu-Shi-Fu-"></a>
<a class="index-entry-id" id="index-Quan-Ju-Xiu-Shi-Fu-"></a>
<a class="index-entry-id" id="index-Can-Shu-Xiu-Shi-Fu-"></a>
<p>在可选的单词指示器后，您可以添加以下一个或多个修改器序列，每个修饰符前都有一个 &lsquo;<code class="t">:</code>&rsquo; 。 这些修改器也适用于 <em class="emph">文件名生成</em> 和
<em class="emph">参数扩展</em> 的结果，除非另有说明。
</p>
<dl class="table">
<dt><code class="t">a</code></dt>
<dd><p>将文件名转换为绝对路径：会在必要时对当前目录进行预处理；删除 <code class="t">.</code>&rsquo; 路径段；删除 &lsquo;<code class="t">..</code>&rsquo;  路径段和紧接其后的路径段。
</p>
<p>这种转换与文件系统中的内容无关，也就是说，它只针对逻辑目录，而非物理目录。当 <code class="t">CHASE_DOTS</code> 或 <code class="t">CHASE_LINKS</code>
选项均未设置时，转换方式与更改目录的方式相同。例如， &lsquo;<code class="t">/before/here/../after</code>&rsquo; 总是被转换为
&lsquo;<code class="t">/before/after</code>&rsquo; ，而不管 &lsquo;<code class="t">/before/here</code>&rsquo; 是否存在，也不管它是哪种对象（目录、文件、符号链接等）。
</p>
</dd>
<dt><code class="t">A</code></dt>
<dd><p>将文件名转换为绝对路径，就像  &lsquo;<code class="t">a</code>&rsquo;  修饰符所做的那样，然后  <em class="emph">then</em>  将结果通过 <code class="t">realpath(3)</code>
库函数来解析符号链接。
</p>
<p>注意：在没有 <code class="t">realpath(3)</code> 库函数的系统上，符号链接不会被解析，因此在这些系统上， &lsquo;<code class="t">a</code>&rsquo; 和 &lsquo;<code class="t">A</code>&rsquo; 是等价的。
</p>
<p>注意  <code class="t">foo:A</code>  和  <code class="t">realpath(foo)</code>  在某些输入上是不同的。 关于  <code class="t">realpath(foo)</code>
的语义，请参阅 &lsquo;<code class="t">P</code>&lsquo; 修饰符。
</p>
</dd>
<dt><code class="t">c</code></dt>
<dd><p>通过搜索 <code class="t">PATH</code> 变量给出的命令路径，将命令名称解析为绝对路径。 这不适用于包含目录部分的命令。
还需注意的是，除非在当前目录下找到同名文件，否则该命令通常不能用作 glob 限定符。
</p>
</dd>
<dt><code class="t">e</code></dt>
<dd><p>除文件名扩展名中 &lsquo;<code class="t">.</code>&rsquo; 之后的部分外，全部删除；文件名扩展名的定义请参阅下面对 <code class="t">r</code> 修饰符的描述。 请注意，根据该定义，如果字符串以
&lsquo;<code class="t">.</code>&rsquo; 结尾，结果将为空。
</p>
</dd>
<dt><code class="t">h</code> [ <var class="var">digits</var> ]</dt>
<dd><p>删除路径名的尾部组件，将路径缩短一级目录：这是路径名的 &quot;头&quot;。 其作用类似于 &lsquo;<code class="t">dirname</code>&rsquo; 。 如果
<code class="t">h</code>后面紧跟任意数量的十进制数字（没有空格或其他分隔符），且所得数字的值非零，则保留该数量的前导成分，而不是删除最后一个成分。
在绝对路径中，前导成分  &lsquo;<code class="t">/</code>&rsquo;  是第一个成分，例如，如果 <code class="t">var=/my/path/to/something</code>，那么
<code class="t">${var:h3}</code>  将替换为  <code class="t">/my/path</code>。 连续的 &lsquo;/&rsquo; 与单个  &lsquo;/&rsquo; 的处理方式相同。
在参数替换中，只有当表达式位于大括号中时才能使用数字，例如，简式替换 <code class="t">$var:h2</code> 将被视为 <code class="t">${var:h}2</code>，而不是
<code class="t">${var:h2}</code>。 在历史替换或 globbing 限定符中使用数字不受限制。
如果请求的组件数多于实际存在的组件数，则会替换整个路径（因此不会在历史扩展中触发 &lsquo;failed modifier&rsquo; 错误）。
</p>
</dd>
<dt><code class="t">l</code></dt>
<dd><p>将单词转换为全小写。
</p>
</dd>
<dt><code class="t">p</code></dt>
<dd><p>打印新命令，但不执行。 仅适用于历史扩展。
</p>
</dd>
<dt><code class="t">P</code></dt>
<dd><p>将文件名转换为绝对路径，如 <code class="t">realpath(3)</code>。
生成的路径将是绝对路径，将指向与输入文件名相同的目录条目，并且其任何组成部分都不会是符号链接或等于 &lsquo;<code class="t">.</code>&rsquo; 或 &lsquo;<code class="t">..</code>&rsquo;。
</p>
<p>与 <code class="t">realpath(3)</code>不同的是，允许并保留不存在的尾部成分。
</p>
</dd>
<dt><code class="t">q</code></dt>
<dd><p>引用被替换的词语，并转义进一步的替换。 可用于历史扩展和参数扩展，但对于参数而言，只有在生成的文本需要重新计算（如 <code class="t">eval</code>）时才有用。
</p>
</dd>
<dt><code class="t">Q</code></dt>
<dd><p>去掉替换词的一级引号。
</p>
</dd>
<dt><code class="t">r</code></dt>
<dd><p>删除文件扩展名，保留根名称。 没有文件扩展名的字符串不会被更改。 文件名扩展名是 &lsquo;<code class="t">.</code>&rsquo; ，后跟任意数量的字符（包括零个），这些字符既不是
&lsquo;<code class="t">.</code>&rsquo;，也不是 &lsquo;<code class="t">/</code>&rsquo; ，并一直延续到字符串的末尾。 例如，&lsquo;<code class="t">foo.orig.c</code>&rsquo;的扩展名是&lsquo;<code class="t">.c</code>&rsquo;，而
&lsquo;<code class="t">dir.c/foo</code>&rsquo; 没有扩展名。
</p>
</dd>
<dt><code class="t">s/</code><var class="var">l</var><code class="t">/</code><var class="var">r</var>[<code class="t">/</code>]</dt>
<dd><p>如下所述，用 <var class="var">r</var> 代替 <var class="var">l</var>。 替换只针对与 <var class="var">l</var> 匹配的第一个字符串。
对于数组和文件名生成，这适用于扩展文本的每个单词。 有关替换的进一步说明，请参阅下文。
</p>
<p>形式  &lsquo;<code class="t">gs/</code><var class="var">l</var><code class="t">/</code><var class="var">r</var>&rsquo; 和 &lsquo;<code class="t">s/</code><var class="var">l</var><code class="t">/</code><var class="var">r</var><code class="t">/:G</code>&rsquo;
执行全局替换，即用 <var class="var">l</var> 替换 <var class="var">r</var> 的每一次出现。 请注意，<code class="t">g</code> 或 <code class="t">:G</code> 必须准确出现在所示位置。
</p>
<p>请参阅下文关于这种替代形式的进一步说明。
</p>
</dd>
<dt><code class="t">&amp;</code></dt>
<dd><p>重复前面的 <code class="t">s</code> 替换。 与 <code class="t">s</code>一样，可以在前面紧接一个 <code class="t">g</code>。 在参数扩展中，<code class="t">&amp;</code>
必须出现在大括号内；在文件名生成时，必须用反斜线引用。
</p>
</dd>
<dt><code class="t">t</code> [ <var class="var">digits</var> ]</dt>
<dd><p>删除路径名的所有前导成分，留下最后一个成分（尾部）。 其工作原理类似于 &lsquo;<code class="t">basename</code>&rsquo;。 首先会删除任何尾部的斜线。 十进制 digits
的处理方法如上文 (h) 所述，但在这种情况下，尾部成分的个数将被保留，而不是默认的 1；0 与 1 的处理方法相同。
</p>
</dd>
<dt><code class="t">u</code></dt>
<dd><p>将单词转换为全大写。
</p>
</dd>
<dt><code class="t">x</code></dt>
<dd><p>与 <code class="t">q</code>类似，但在空白处分词。 不支持参数扩展。
</p>
</dd>
</dl>

<p><code class="t">s/</code><var class="var">l</var><code class="t">/</code><var class="var">r</var><code class="t">/</code> 替换的工作原理如下。 默认情况下，替换的左侧不是模式，而是字符串。 任何字符都可以代替
&lsquo;<code class="t">/</code>&rsquo; 作为分隔符。 反斜线引用分隔符。 右侧 <var class="var">r</var> 中的字符 &lsquo;<code class="t">&amp;</code>&rsquo; 将被左侧 <var class="var">l</var> 中的文本替换。
&lsquo;<code class="t">&amp;</code>&rsquo;  可以用反斜线引用。空的 <var class="var">l</var> 使用前一个 <var class="var">l</var> 中的字符串或前一个上下文搜索字符串 &lsquo;<code class="t">!?</code><var class="var">s</var>&rsquo;
中的<var class="var">s</var> 。 如果 <var class="var">r</var> 后面紧跟换行符，则可以省略最右边的分隔符；同样，也可以省略上下文搜索中最右边的 &lsquo;<code class="t">?</code>&rsquo;。
请注意，在所有扩展形式中，最后一个 <var class="var">l</var> 和 <var class="var">r</var> 的记录都是相同的。
</p>
<p>请注意，如果在 glob 限定符中使用了 &lsquo;<code class="t">&amp;</code>&rsquo;，则需要额外的反斜杠，因为在这种情况下 <code class="t">&amp;</code> 是一个特殊字符。
</p>
<p>还要注意的是，扩展的顺序会影响 <var class="var">l</var> 和 <var class="var">r</var> 的解释。 在历史扩展中使用时(在其它扩展发生前)，<var class="var">l</var> 和 <var class="var">r</var>
将被视为字面字符串（下文对 <code class="t">HIST_SUBST_PATTERN</code> 的解释除外）。 在参数扩展中使用时，首先将 <var class="var">r</var>
替换为参数值，然后应用附加的进程、参数、命令、算术或括号引用，如果 <var class="var">l</var> 在起始值中出现不止一次，可能会对这些替换和扩展进行多次计算。 在
glob 限定符中使用时，即使在 &lsquo;<code class="t">:s</code>&rsquo;表达式本身被分为 <var class="var">l</var> 和 <var class="var">r</var> 两边之前，也会在解析限定符时执行一次替换或扩展。
</p>
<p>如果设置了选项 <code class="t">HIST_SUBST_PATTERN</code>，<var class="var">l</var> 将被视为 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中描述的通常形式的模式。
这可以在所有可以使用修饰符的地方使用；但需要注意的是，globbing
限定符中的参数替换已经发生，因此替换字符串中的参数应该加引号，以确保在正确的时间被替换。 还要注意的是，globbing
限定符中使用的复杂模式可能需要使用扩展的 glob 限定符符号 <code class="t">(#q:s/</code><var class="var">...</var><code class="t">/</code><var class="var">...</var><code class="t">/)</code>，这样
shell 才能将表达式识别为 glob 限定符。 此外，请注意替换中的坏模式不受 <code class="t">NO_BAD_PATTERN</code> 选项的限制，因此会导致错误。
</p>
<p>设置 <code class="t">HIST_SUBST_PATTERN</code> 时，<var class="var">l</var> 可以以 <code class="t">#</code> 开头，表示模式必须在要替换的字符串的开头匹配；<code class="t">%</code>
可以出现在 <code class="t">#</code> 的开头或后面，表示模式必须在要替换的字符串的结尾匹配。 <code class="t">%</code> 或 <code class="t">#</code> 可以用两个反斜线引用。
</p>
<p>例如，下面这段使用 <code class="t">EXTENDED_GLOB</code> 选项的文件名代码：
</p>
<div class="example">
<pre class="example-preformatted">print -r -- *.c(#q:s/#%(#b)s(*).c/'S${match[1]}.C'/)
</pre></div>

<p>使用扩展 <code class="t">*.c</code>，并应用 <code class="t">(#q</code><var class="var">...</var><code class="t">)</code> 表达式中的 glob
限定符，该表达式由锚定在每个单词开头和结尾的替换修饰符 (<code class="t">#%</code>) 组成。 这样就打开了反向引用
(<code class="t">(#b)</code>)，这样括号中的子表达式就可以在替换字符串中以 <code class="t">${match[1]}</code> 的形式出现。
替换字符串带有引号，因此不会在文件名生成之前替换参数。
</p>
<p>以下 <code class="t">f</code>、<code class="t">F</code>、<code class="t">w</code> 和 <code class="t">W</code> 修饰符仅用于参数扩展和文件名生成。 在此列出它们是为了给所有修饰符提供一个单一的参考点。
</p>
<dl class="table">
<dt><code class="t">f</code></dt>
<dd><p>重复紧跟修饰符（不带冒号）的词，直到结果词不再变化。
</p>
</dd>
<dt><code class="t">F:</code><var class="var">expr</var><code class="t">:</code></dt>
<dd><p>与 <code class="t">f</code>类似，但如果表达式 <var class="var">expr</var> 的值为 <var class="var">n</var>，则只重复 <var class="var">n</var> 次。 可以使用任何字符代替
&lsquo;<code class="t">:</code>&rsquo;；如果使用&lsquo;<code class="t">(</code>&rsquo;, &lsquo;<code class="t">[</code>&rsquo; 或 &lsquo;<code class="t">{</code>&rsquo; 作为开头分隔符，则结尾分隔符应分别为 &lsquo;<code class="t">)</code>&rsquo;, &lsquo;<code class="t">]</code>&rsquo;,
或  &lsquo;<code class="t">}</code>&rsquo; 。
</p>
</dd>
<dt><code class="t">w</code></dt>
<dd><p>使紧随其后的修饰符作用于字符串中的每个单词。
</p>
</dd>
<dt><code class="t">W:</code><var class="var">sep</var><code class="t">:</code></dt>
<dd><p>与 <code class="t">w</code> 类似，但单词被视为字符串中由 <var class="var">sep</var> 分隔的部分。任何字符都可以代替 &lsquo;<code class="t">:</code>&rsquo;；开头的括号会特殊处理，见上文。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_8fdb_7a0b_66ff_6362">

<h3 class="section" id="Jin-Cheng-Ti-Huan-"><span>14.2 进程替换<a class="copiable-link" href="#Jin-Cheng-Ti-Huan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Jin-Cheng-Ti-Huan-"></a>
<a class="index-entry-id" id="index-Ti-Huan-_002c-Jin-Cheng-"></a>
<p>命令参数中格式为 &lsquo;<code class="t">&lt;(</code><var class="var">list</var><code class="t">)</code>&rsquo;、 &lsquo;<code class="t">&gt;(</code><var class="var">list</var><code class="t">)</code>&rsquo; 或
&lsquo;<code class="t">=(</code><var class="var">list</var><code class="t">)</code>&rsquo;  的每一部分都会进行进程替换。
表达式的前面或后面可以有其他字符串，但为了防止与通常的字符串和模式发生冲突，最后一个形式必须出现在命令参数的开头，而且只有在第一次解析命令或赋值参数时才会展开这个形式。
进程替换可以在重定向操作符之后使用；在这种情况下，替换必须不带尾部字符串。
</p>
<p>请注意， &lsquo;<code class="t">&lt;&lt;(</code><var class="var">list</var><code class="t">)</code>&rsquo; 并非特殊语法；它等同于 &lsquo;<code class="t">&lt;
&lt;(</code><var class="var">list</var><code class="t">)</code>&rsquo;，从进程替换的结果中重定向标准输入。 因此，以下所有文档都适用。 为清晰起见，建议使用第二种形式（带空格）。
</p>
<p>对于 <code class="t">&lt;</code> 或 <code class="t">&gt;</code> 形式，shell 会将 <var class="var">list</var> 中的命令作为执行 shell 命令行的作业的子进程运行。 如果系统支持
<code class="t">/dev/fd</code> 机制，命令参数就是与文件描述符相对应的设备文件名；否则，如果系统支持命名管道（FIFOs），命令参数就是一个命名管道。
如果选择了带 <code class="t">&gt;</code> 的形式，那么写入该特殊文件将为 <var class="var">list</var> 提供输入。 如果使用 <code class="t">&lt;</code>，那么作为参数传递的文件将连接到
<var class="var">list</var> 进程的输出。 例如
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">paste &lt;(cut -f1</code> <var class="var">file1</var><code class="t">) &lt;(cut -f3</code> <var class="var">file2</var><code class="t">) |
tee &gt;(</code><var class="var">process1</var><code class="t">) &gt;(</code><var class="var">process2</var><code class="t">) &gt;/dev/null</code>
</pre></div>

<p>分别从文件 <var class="var">file1</var> 和 <var class="var">file2</var> 中剪切字段 1 和 3，将剪切结果粘贴在一起，然后发送给进程
<var class="var">process1</var> 和 <var class="var">process2</var> 。
</p>
<p>如果使用 <code class="t">=(</code><var class="var">...</var><code class="t">)</code>，而不是  <code class="t">&lt;(</code><var class="var">...</var><code class="t">)</code>，那么作为参数传递的文件将是一个包含
<var class="var">list</var> 进程输出的临时文件的名称。 如果程序希望对输入文件进行 lseek（参见 lseek(2)），则可以用这种形式代替 <code class="t">&lt;</code>
形式。
</p>
<p>对 <code class="t">=(&lt;&lt;&lt;</code><var class="var">arg</var><code class="t">)</code>形式的替换进行了优化，其中 <var class="var">arg</var> 是 here-string 重定向 <code class="t">&lt;&lt;&lt;</code>
的单字参数。 在执行任何替换后，这种形式将生成一个包含 <var class="var">arg</var> 值的文件名。 这完全由当前 shell 处理。 这实际上是特殊形式
<code class="t">$(&lt;</code><var class="var">arg</var><code class="t">)</code> 的反向操作，后者将 <var class="var">arg</var> 作为文件名并替换为文件内容。
</p>
<p><code class="t">=</code> 形式非常有用，因为 <code class="t">/dev/fd</code> 和 <code class="t">&lt;(</code><var class="var">...</var><code class="t">)</code> 的命名管道实现都有缺点。
在前一种情况下，某些程序可能会在检查命令行上的文件之前自动关闭相关的文件描述符，尤其是出于安全原因必须这样做时，例如当程序正在运行 setuid 时。
在第二种情况下，如果程序没有实际打开文件，试图从管道读取或向管道写入的子shell（在典型的实现中，不同的操作系统可能有不同的行为）将永远阻塞，必须明确地被杀死。
在这两种情况下，shell 实际上是通过管道提供信息的，因此那些希望在文件上进行 lseek（见 lseek(2)）的程序将无法运行。
</p>
<p>另外要注意的是，前面的例子可以更简洁、更高效地写成（如果设置了 <code class="t">MULTIOS</code> 选项）：
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">paste &lt;(cut -f1</code> <var class="var">file1</var><code class="t">) &lt;(cut -f3</code> <var class="var">file2</var><code class="t">)</code> <code class="t">&gt; &gt;(</code><var class="var">process1</var><code class="t">) &gt; &gt;(</code><var class="var">process2</var><code class="t">)</code>
</pre></div>

<p>shell 使用管道而不是 FIFOs 来实现上例中后两个进程的替换。
</p>
<p><code class="t">&gt;(</code><var class="var">process</var><code class="t">)</code>还有一个问题；当它附加到外部命令时，父 shell 不会等待 <var class="var">process</var>
结束，因此紧随其后的命令无法依赖于完整的结果。 问题和解决方案与 <a class="ref" href="#g_t_91cd_5b9a_5411">重定向</a> 中 <em class="emph">MULTIOS</em> 部分所述相同。
因此，在上述示例的简化版本中：
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">paste &lt;(cut -f1</code> <var class="var">file1</var><code class="t">) &lt;(cut -f3</code> <var class="var">file2</var><code class="t">)</code> <code class="t">&gt; &gt;(</code><var class="var">process</var><code class="t">)</code>
</pre></div>

<p>(注意不涉及 <code class="t">MULTIOS</code>），则 <var class="var">process</var> 将在父 shell 中异步运行。 解决方法是
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">{ paste &lt;(cut -f1</code> <var class="var">file1</var><code class="t">) &lt;(cut -f3</code> <var class="var">file2</var><code class="t">) }</code> <code class="t">&gt; &gt;(</code><var class="var">process</var><code class="t">)</code>
</pre></div>

<p>这里的额外进程是从父 shell 生成的，父 shell 会等待进程完成。
</p>
<p>另一个问题出现在 shell 分离（disowned）需要临时文件的带有替换的作业时，包括在包含替换的命令末尾出现 &lsquo;<code class="t">&amp;!</code>&rsquo; 或
&lsquo;<code class="t">&amp;|</code>&rsquo; 的情况。 在这种情况下，临时文件将不会被清理，因为 shell 已不再拥有该任务的任何内存。 解决方法是使用子 shell，例如
</p>
<div class="example">
<pre class="example-preformatted">(mycmd =(myoutput)) &amp;!
</pre></div>

<p>因为分叉(forked)的子shell会等待命令执行完毕，然后删除临时文件。
</p>
<p>要确保进程替换能持续适当的时间，一般的变通方法是将其作为参数传递给匿名 shell 函数（一段 shell 代码，在函数作用域下立即运行）。
例如，这段代码
</p>
<div class="example">
<pre class="example-preformatted">() {
   print File $1:
   cat $1
} =(print This be the verse)
</pre></div>

<p>输出类似下面的内容
</p>
<div class="example">
<pre class="example-preformatted">File /tmp/zsh6nU0kS:
This be the verse
</pre></div>

<p>进程替换创建的临时文件将在函数退出时删除。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_53c2_6570_6269_5c55">

<h3 class="section" id="Can-Shu-Kuo-Zhan-"><span>14.3 参数扩展<a class="copiable-link" href="#Can-Shu-Kuo-Zhan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Can-Shu-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Can-Shu-"></a>
<p>字符 &lsquo;<code class="t">$</code>&rsquo; 用于引入参数扩展。 有关参数的描述，包括数组、关联数组以及访问单个数组元素的下标符号，请参阅 <a class="ref" href="#g_t_53c2_6570">参数</a>。
</p>
<p>需要特别注意的是，除非设置了 <code class="t">SH_WORD_SPLIT</code> 选项，否则未引用的参数的单词不会在空白处自动分隔；更多详情请参见下文对该选项的说明。
这是与其他 shell 的一个重要区别。 不过，和其他 shell 一样，空null字会从未引用的参数的扩展中省略。
</p>
<p>在分配之后，使用默认选项：
</p>
<div class="example">
<pre class="example-preformatted">array=(&quot;first word&quot; &quot;&quot; &quot;third word&quot;)
scalar=&quot;only word&quot;
</pre></div>

<p>则 <code class="t">$array</code> 替换两个单词 &lsquo;<code class="t">first word</code>&rsquo;  和 &lsquo;<code class="t">third word</code>&rsquo; ，而 <code class="t">$scalar</code>
替换一个单词 &lsquo;<code class="t">only word</code>&rsquo;。 注意 <code class="t">array</code> 的第二个元素已被省略。 如果标量参数的值为 null（空），也可以省略。
为避免省略，请使用如下引用：<code class="t">&quot;$scalar&quot;</code> 用于标量，<code class="t">&quot;${array[@]}&quot;</code>  或
<code class="t">&quot;${(@)array}&quot;</code>  用于数组。 (后两种形式是等价的）。
</p>
<p>参数扩展可以涉及 <em class="emph">flags</em>，像在 &lsquo;<code class="t">${(@kv)aliases}</code>&rsquo;中，和其他操作符，如
&lsquo;<code class="t">${PREFIX:-&quot;/usr/local&quot;}</code>&rsquo;。 参数扩展也可以嵌套。 下文将介绍这些主题。 完整的规则比较复杂，将在最后指出。
</p>
<p>在下面讨论的需要模式的扩展中，模式的形式与文件名生成时使用的形式相同；参见 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>。
需要注意的是，这些模式以及任何替换的替换文本本身都可以进行参数扩展、命令替换和算术扩展。 除以下操作外，还可以使用 <a class="ref" href="#g_t_5386_53f2_6269_5c55">历史扩展</a> 中
<a class="ref" href="#g_t_4fee_9970_7b26">修饰符</a> 所描述的冒号修饰符：例如，<code class="t">${i:s/foo/bar/}</code>  对参数 <code class="t">$i</code> 的扩展执行字符串替换。
</p>
<p>在以下描述中，&lsquo;<var class="var">word</var>&rsquo;  指的是命令行中替换的单个单词，不一定是空格分隔的单词。
</p>
<dl class="table">
<dt><code class="t">${</code><var class="var">name</var><code class="t">}</code></dt>
<dd><p>参数 <var class="var">name</var> 的值将被替换（如果有）。 如果扩展名后的字母、数字或下划线不能被解释为 <var class="var">name</var> 的一部分，则需要使用大括号。
此外，更复杂的替换形式通常需要使用大括号；只有在未设置选项 <code class="t">KSH_ARRAYS</code>
的情况下才适用的例外情况是：在名称后面出现单个下标或任何冒号修饰符，或在名称前面出现任何字符<code class="t">^</code>&rsquo;, &lsquo;<code class="t">=</code>&rsquo;, &lsquo;<code class="t">~</code>&rsquo;,
&lsquo;<code class="t">#</code>&rsquo; 或 &lsquo;<code class="t">+</code>&rsquo;，无论是否使用大括号，这些情况都可以工作。
</p>
<p>如果 <var class="var">name</var> 是一个数组参数，且未设置 <code class="t">KSH_ARRAYS</code> 选项，那么 <var class="var">name</var>
中每个元素的值都会被替换，每个字替换一个元素。 否则，扩展只产生一个字；如果设置 <code class="t">KSH_ARRAYS</code>，则是数组的第一个元素。 除非设置了
<code class="t">SH_WORD_SPLIT</code> 选项，否则不会对结果进行字段分割。 另请参阅 <code class="t">=</code> 和 <code class="t">s:</code><var class="var">string</var><code class="t">:</code> 标志。
</p>
</dd>
<dt><code class="t">${+</code><var class="var">name</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">name</var> 是一个集合参数（a set parameter，一个已设置的参数？）的名称，则替换为 &lsquo;<code class="t">1</code>&rsquo;，否则替换为
&lsquo;<code class="t">0</code>&rsquo; 。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">-</code><var class="var">word</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:-</code><var class="var">word</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">name</var> 已设置，或在第二种形式中为非空，则替换其值；否则替换 <var class="var">word</var>。 在第二种形式中，<var class="var">name</var>
可以省略，在这种情况下，<var class="var">word</var> 总是被替换。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">+</code><var class="var">word</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:+</code><var class="var">word</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">name</var> 已设置，或第二种形式为非空，则替换 <var class="var">word</var>；否则不替换任何内容。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">=</code><var class="var">word</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:=</code><var class="var">word</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">::=</code><var class="var">word</var><code class="t">}</code></dt>
<dd><p>在第一种形式中，如果 <var class="var">name</var> 未设置，则将其设置为 <var class="var">word</var>；在第二种形式中，如果 <var class="var">name</var>
未设置或为空，则将其设置为 <var class="var">word</var>；在第三种形式中，无条件地将 <var class="var">name</var> 设置为 <var class="var">word</var>。
在所有形式中，参数值都会被替换。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">?</code><var class="var">word</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:?</code><var class="var">word</var><code class="t">}</code></dt>
<dd><p>在第一种形式中，如果 <var class="var">name</var> 已设置，或在第二种形式中，如果 <var class="var">name</var> 设置且非空，则替换其值；否则，打印
<var class="var">word</var> 并退出 shell。 交互式 shell 则返回提示符。 如果省略 <var class="var">word</var>，则打印标准信息。
</p>
</dd>
</dl>

<p>在上述任何一个测试变量并替换可选的 <var class="var">word</var> 的表达式中，请注意可以在 <var class="var">word</var> 值中使用标准 shell 引用，有选择性地覆盖
<code class="t">SH_WORD_SPLIT</code> 选项和 <code class="t">=</code> 标记的分割，但不覆盖 <code class="t">s:</code><var class="var">string</var><code class="t">:</code> 标记的分割。
</p>
<p>在下面的表达式中，如果 <var class="var">name</var> 是数组且替换未加引号，或者使用了 &lsquo;<code class="t">(@)</code>&rsquo; 标志或 <var class="var">name</var><code class="t">[@]</code>
语法，则会对每个数组元素分别执行匹配和替换。
</p>
<dl class="table">
<dt><code class="t">${</code><var class="var">name</var><code class="t">#</code><var class="var">pattern</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">##</code><var class="var">pattern</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">pattern</var> 与 <var class="var">name</var> 值的开头部分匹配，则替换 <var class="var">name</var> 值并删除匹配部分；否则，只替换
<var class="var">name</var> 值。 在第一种形式中，优先使用匹配度最小的模式；在第二种形式中，优先使用匹配度最大的模式。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">%</code><var class="var">pattern</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">%%</code><var class="var">pattern</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">pattern</var> 与 <var class="var">name</var> 值的末尾匹配，则替换 <var class="var">name</var> 值并删除匹配部分；否则，只替换
<var class="var">name</var> 值。 在第一种形式中，优先使用匹配度最小的模式；在第二种形式中，优先使用匹配度最大的模式。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:#</code><var class="var">pattern</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">pattern</var> 与 <var class="var">name</var> 的值匹配，则替换空字符串；否则，只替换 <var class="var">name</var> 的值。 如果
<var class="var">name</var> 是一个数组，则会删除匹配的数组元素（使用  &lsquo;<code class="t">(M)</code>&rsquo; 标志删除不匹配的元素）。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:|</code><var class="var">arrayname</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">arrayname</var> 是数组变量的名称（注意，不是内容），那么 <var class="var">arrayname</var> 中包含的任何元素都会从
<var class="var">name</var> 的替换中删除。 如果是标量替换（因为 <var class="var">name</var> 是标量变量或表达式是带引号的），则 <var class="var">arrayname</var>
中的元素将针对整个表达式进行测试。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:*</code><var class="var">arrayname</var><code class="t">}</code></dt>
<dd><p>与前面的替换类似，但意义相反，原始替换中的条目和作为 <var class="var">arrayname</var> 元素的条目将保留下来，删除其他条目。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:^</code><var class="var">arrayname</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:^^</code><var class="var">arrayname</var><code class="t">}</code></dt>
<dd><p>对两个数组进行压缩，使输出数组的长度是 <code class="t">name</code> 和 <code class="t">arrayname</code> 中最短（对于
&lsquo;<code class="t">:^^</code>&rsquo;，最长）数组的两倍，并交替从中提取元素。对于 &lsquo;<code class="t">:^</code>&rsquo;，如果其中一个输入数组较长，输出将在到达较短数组的末尾时停止。 因此
</p>
<div class="example">
<pre class="example-preformatted">a=(1 2 3 4); b=(a b); print ${a:^b}
</pre></div>

<p>将输出 &lsquo;<code class="t">1 a 2 b</code>&rsquo;。 如果是  &lsquo;<code class="t">:^^</code>&rsquo;，则重复输入，直到用完所有较长的数组，然后输出 &lsquo;<code class="t">1 a 2 b 3 a 4
b</code>&rsquo;。
</p>
<p>任一输入或两个输入都可以是标量，它们将被视为长度为 1 的数组，标量是唯一的元素。如果任一数组为空，则输出另一个数组，不插入任何额外元素。
</p>
<p>目前，以下代码会将 &lsquo;<code class="t">a b</code>&rsquo; 和 &lsquo;<code class="t">1</code>&rsquo;
作为两个独立的元素输出，这可能会出乎意料。第二段打印提供了一个变通方法，如果修改了这一方法，它也能继续工作。
</p>
<div class="example">
<pre class="example-preformatted">a=(a b); b=(1 2); print -l &quot;${a:^b}&quot;; print -l &quot;${${a:^b}}&quot;
</pre></div>

</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:</code><var class="var">offset</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:</code><var class="var">offset</var><code class="t">:</code><var class="var">length</var><code class="t">}</code></dt>
<dd><p>该语法的效果类似于 <code class="t">$</code><var class="var">name</var><code class="t">[</code><var class="var">start</var><code class="t">,</code><var class="var">end</var><code class="t">]</code> 形式的参数下标，但与其他
shell 兼容；需要注意的是，<var class="var">offset</var> 和 <var class="var">length</var> 的解释与下标部分不同。
</p>
<p>如果 <var class="var">offset</var> 为非负数，那么如果变量 <var class="var">name</var> 是标量，则从字符串的第一个字符开始，替换 <var class="var">offset</var>
个字符的内容；如果 <var class="var">name</var> 是数组，则替换从第一个元素开始， <var class="var">offset</var>个元素。 如果给定了
<var class="var">length</var>，则替换该数量的字符或元素，否则替换整个标量或数组的其余部分。（offset是指第几个字符开始的内容？）
</p>
<p>正数 <var class="var">offset</var> 始终被视为 <var class="var">name</var> 中的字符或元素从第一个字符或数组的元素开始的偏移量（这与原生的 zsh
下标符号不同）。 因此，无论选项 <code class="t">KSH_ARRAYS</code> 的设置如何，0 都是指第一个字符或元素。
</p>
<p>负偏移量从标量或数组的末尾开始向后计数，因此-1 相当于最后一个字符或元素，以此类推。
</p>
<p>当为正数时，<var class="var">length</var> 从 <var class="var">offset</var> 位置开始向标量或数组的末尾计数。 负数时，<var class="var">length</var>
从末尾开始向后（back）计数。 如果结果显示的位置小于 <var class="var">offset</var>，则会打印诊断信息，并且不会替换任何内容。
</p>
<p>遵从 <code class="t">MULTIBYTE</code> 选项，即偏移量和长度会酌情计算多字节字符。
</p>
<p><var class="var">offset</var> 和 <var class="var">length</var> 会进行与标量赋值相同的 shell 替换；此外，它们还需要进行算术运算。 因此，例如
</p>
<div class="example">
<pre class="example-preformatted">print ${foo:3}
print ${foo: 1 + 2}
print ${foo:$(( 1 + 2))}
print ${foo:$(echo 1 + 2)}
</pre></div>

<p>都有相同的效果，如果替换返回的是标量，则从 <code class="t">$foo</code> 的第四个字符开始提取字符串；如果 <code class="t">$foo</code>
返回的是数组，则从第四个元素开始提取数组。 请注意，使用 <code class="t">KSH_ARRAYS</code> 选项时 <code class="t">$foo</code>
返回的总是标量（无论是否使用偏移量语法），因此需要使用  <code class="t">${foo[*]:3}</code>  这样的形式来提取名为 <code class="t">foo</code> 的数组的元素。
</p>
<p>如果 <var class="var">offset</var> 为负数，则 <code class="t">-</code> 不能紧接在 <code class="t">:</code> 之后，因为这表示
<code class="t">${</code><var class="var">name</var><code class="t">:-</code><var class="var">word</var><code class="t">}</code>的替换形式。 相反，可以在 <code class="t">-</code> 之前插入一个空格。
此外，<var class="var">offset</var> 和 <var class="var">length</var> 都不能以字母或 <code class="t">&amp;</code> 开头，因为这些字符用于表示历史类型的修饰符。
要从变量中替换一个值，建议在前面加上 <code class="t">$</code>，因为这表示了意图（参数替换很容易导致无法读取）；不过，由于执行的是算术替换，表达式
<code class="t">${var: offs}</code> 确实有效，可以从 <code class="t">$offs</code> 中获取偏移量。
</p>
<p>为了进一步与其他 shell 兼容，数组偏移量 0 有一个特殊情况。 这通常会访问数组的第一个元素。 但是，如果替换指向位置参数数组，例如
<code class="t">$@</code> 或 <code class="t">$*</code>，则偏移量 0 指向 <code class="t">$0</code>，偏移量 1 指向 <code class="t">$1</code>，依此类推。 换句话说，位置参数数组实际上是通过预置
<code class="t">$0</code> 来扩展的。  因此，<code class="t">${*:0:1}</code> 替代 <code class="t">$0</code>，<code class="t">${*:1:1}</code> 替代 <code class="t">$1</code>。
</p>
</dd>
<dt><code class="t">${</code><var class="var">name</var><code class="t">/</code><var class="var">pattern</var><code class="t">/</code><var class="var">repl</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">//</code><var class="var">pattern</var><code class="t">/</code><var class="var">repl</var><code class="t">}</code></dt>
<dt><code class="t">${</code><var class="var">name</var><code class="t">:/</code><var class="var">pattern</var><code class="t">/</code><var class="var">repl</var><code class="t">}</code></dt>
<dd><p>用字符串 <var class="var">repl</var> 替换参数 <var class="var">name</var> 扩展中可能与 <var class="var">pattern</var> 匹配的最长字符串。
第一种形式只替换第一次出现的字符串，第二种形式替换所有出现的字符串，第三种形式仅在 <var class="var">pattern</var> 与整个字符串匹配时才替换。
<var class="var">pattern</var> 和 <var class="var">repl</var> 都会进行双引号替换，因此 <code class="t">${name/$opat/$npat}</code>
这样的表达式可以正常工作，但要遵守通常的规则，即 <code class="t">$opat</code> 中的模式字符不会被特殊处理，除非设置了 <code class="t">GLOB_SUBST</code> 选项，或者
<code class="t">$opat</code> 被替换为 <code class="t">${~opat}</code>。
</p>
<p><var class="var">pattern</var> 可以以 &lsquo;<code class="t">#</code>&rsquo; 开头，在这种情况下，<var class="var">pattern</var> 必须匹配字符串的开头；或者以 &lsquo;<code class="t">#</code>&rsquo;
开头，在这种情况下，<var class="var">pattern</var> 必须匹配字符串的结尾；或者以 &lsquo;<code class="t">#%</code>&rsquo; 开头，在这种情况下，<var class="var">pattern</var>
必须匹配整个字符串。 <var class="var">repl</var> 可以是空字符串，在这种情况下，也可以省略最后的 &lsquo;<code class="t">/</code>&rsquo;。 在其他情况下，要引用最后的
&lsquo;<code class="t">/</code>&rsquo;，应在其前面加一个反斜线；如果 &lsquo;<code class="t">/</code>&rsquo; 出现在一个被替换的参数中，则不必这样做。 还需注意的是， &lsquo;<code class="t">#</code>&rsquo;, &lsquo;<code class="t">%</code>&rsquo;
和 &lsquo;<code class="t">#%</code> 如果出现在被替换参数内，即使是在起始位置，也不会被激活。
</p>
<p>如果在引用规则应用后，<code class="t">${</code><var class="var">name</var><code class="t">}</code> 扩展为一个数组，那么替换将单独作用于每个元素。 请注意下面 <code class="t">I</code> 和
<code class="t">S</code> 参数扩展标志的作用；但 <code class="t">M</code>、<code class="t">R</code>、<code class="t">B</code>、<code class="t">E</code> 和 <code class="t">N</code> 标志并无用处。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">foo=&quot;twinkle twinkle little star&quot; sub=&quot;t*e&quot; rep=&quot;spy&quot;
print ${foo//${~sub}/$rep}
print ${(S)foo//${~sub}/$rep}
</pre></div>

<p>这里， &lsquo;<code class="t">~</code>&rsquo; 确保 <code class="t">$sub</code> 的文本被视为模式而非普通字符串。 在第一种情况下，<code class="t">t*e</code> 的最长匹配项被替换，结果为
&lsquo;<code class="t">spy star</code>&rsquo;，而在第二种情况下，最短匹配项被替换，结果为 &lsquo;<code class="t">spy spy lispy star</code>&rsquo;。
</p>
</dd>
<dt><code class="t">${#</code><var class="var">spec</var><code class="t">}</code></dt>
<dd><p>如果 <var class="var">spec</var> 是上述替换之一，则替换结果的字符长度，而不是结果本身。 如果 <var class="var">spec</var> 是数组表达式，则用结果的元素个数代替。
这样做的副作用是，即使是带引号的形式，也会跳过连接，这可能会影响 <var class="var">spec</var> 中的其他子表达式。 请注意，下面的 &lsquo;<code class="t">^</code>&rsquo;，
&lsquo;<code class="t">=</code>&rsquo; 和 &lsquo;<code class="t">~</code>&rsquo; 在组合这些形式时必须出现在 &lsquo;<code class="t">#</code>&rsquo;  的左边。
</p>
<p>如果未设置选项 <code class="t">POSIX_IDENTIFIERS</code>，并且 <var class="var">spec</var>
是一个简单的名称，那么大括号是可选的；即使对于特殊参数也是如此，例如 <code class="t">$#-</code> 和 <code class="t">$#*</code> 分别取字符串 <code class="t">$-</code> 和数组
<code class="t">$*</code> 的长度。 如果设置了 <code class="t">POSIX_IDENTIFIERS</code>，则需要使用大括号来处理 <code class="t">#</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Shu-Zu-Kuo-Zhan-Feng-Ge-_002c-rc"></a>
<a class="index-entry-id" id="index-rc_002c-Shu-Zu-Kuo-Zhan-Feng-Ge-"></a>
<a id="index-RC_005fEXPAND_005fPARAM_002c-Qie-Huan-"></a><span><code class="t">${^</code><var class="var">spec</var><code class="t">}</code><a class="copiable-link" href="#index-RC_005fEXPAND_005fPARAM_002c-Qie-Huan-"> &para;</a></span></dt>
<dt><code class="t">${^^</code><var class="var">spec</var><code class="t">}</code></dt>
<dd><p>打开 <code class="t">RC_EXPAND_PARAM</code> 选项，用于 <var class="var">spec</var> 的求值；如果 &lsquo;<code class="t">^</code>&rsquo; 双写，则关闭该选项。  设置该选项后，
<var class="var">foo</var><code class="t">${</code><var class="var">xx</var><code class="t">}</code><var class="var">bar</var>形式的数组扩展会被替换为 &lsquo;<var class="var">fooabar foobbar
foocbar</var>&rsquo; ，而不是默认的 &lsquo;<var class="var">fooa b cbar</var>&rsquo;。其中参数 <var class="var">xx</var> 被设置为 <code class="t">(</code><var class="var">a b
c</var><code class="t">)</code>。 请注意，如果数组为空，所有参数都会被移除。
</p>
<p>在内部，每个此类扩展都会转换为括号扩展的等效列表。 例如，<code class="t">${^var}</code> 变为
<code class="t">{$var[1],$var[2],</code>...<code class="t">}</code>，并按照下面 <a class="ref" href="#g_t_62ec_53f7_6269_5c55">括号扩展</a>
中的描述进行处理：但请注意，扩展是立即进行的，任何显式的括号扩展都会在后面进行。 如果同时进行分词，<code class="t">$var[</code><var class="var">N</var><code class="t">]</code>
本身可能会被分割成不同的列表元素。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Zi-Duan-Fen-Ge-_002c-sh-Yang-Shi-_002c-Can-Shu-"></a>
<a class="index-entry-id" id="index-sh_002c-Zi-Duan-Fen-Ge-Yang-Shi-_002c-Can-Shu-"></a>
<a id="index-SH_005fWORD_005fSPLIT_002c-Qie-Huan-"></a><span><code class="t">${=</code><var class="var">spec</var><code class="t">}</code><a class="copiable-link" href="#index-SH_005fWORD_005fSPLIT_002c-Qie-Huan-"> &para;</a></span></dt>
<dt><code class="t">${==</code><var class="var">spec</var><code class="t">}</code></dt>
<dd><p>在计算 <var class="var">spec</var> 时，使用 <code class="t">SH_WORD_SPLIT</code> 的规则进行分词，但无论参数是否出现在双引号中；如果 &lsquo;<code class="t">=</code>&rsquo;
是双引号，则关闭分词。
<a class="index-entry-id" id="index-IFS_002c-use-of"></a>
这将强制在替换前将参数扩展拆分成单独的词，使用 <code class="t">IFS</code> 作为分隔符。 大多数其他 shell 默认都是这样做的。
</p>
<p>请注意，在 <var class="var">spec</var>  的赋值形式中,在对 <var class="var">name</var> 进行赋值<em class="emph">之前</em>，<var class="var">word</var> 将被拆分。 这会影响使用
<code class="t">A</code> 标志的数组赋值结果。
</p>
</dd>
<dt><a id="index-GLOB_005fSUBST_002c-Qie-Huan-"></a><span><code class="t">${~</code><var class="var">spec</var><code class="t">}</code><a class="copiable-link" href="#index-GLOB_005fSUBST_002c-Qie-Huan-"> &para;</a></span></dt>
<dt><code class="t">${~~</code><var class="var">spec</var><code class="t">}</code></dt>
<dd><p>打开 <code class="t">GLOB_SUBST</code> 选项，用于计算 <var class="var">spec</var>；如果 &lsquo;<code class="t">~</code>&rsquo; 双写，则关闭该选项。
设置该选项后，扩展后的字符串将在任何可能的情况下被解释为模式，例如在文件名扩展和文件名生成以及模式匹配上下文中，如条件中的 &lsquo;<code class="t">=</code>&rsquo; 和
&lsquo;<code class="t">!=</code>&rsquo; 操作符的右侧。
</p>
<p>在嵌套替换中，请注意 <code class="t">~</code> 的效果适用于当前层次的替换结果。 外围的模式操作可能会抵消该结果。 因此，举例来说，如果参数 <code class="t">foo</code> 设置为
<code class="t">*</code>，<code class="t">${~foo//\*/*.c}</code> 将被模式 <code class="t">*.c</code> 取代，该模式可能会通过文件名生成进行扩展，但
<code class="t">${${~foo}//\*/*.c}</code>  将取代为字符串 <code class="t">*.c</code>，该字符串不会被进一步扩展。
</p>
</dd>
</dl>

<p>如果使用  <code class="t">${</code>...<code class="t">}</code> 类型的参数表达式或 <code class="t">$(</code>...<code class="t">)</code>  类型的命令替换来代替上述
<var class="var">name</var>，则首先展开该表达式，然后将其结果作为 <var class="var">name</var> 的值使用。 因此，可以执行嵌套操作：
<code class="t">${${foo#head}%tail}</code> 将替换 <code class="t">$foo</code> 的值，同时删除 &lsquo;<code class="t">head</code>&rsquo; 和 &lsquo;<code class="t">tail</code>&rsquo; 。
带有  <code class="t">$(</code>...<code class="t">)</code> 的形式通常与接下来描述的标志结合使用；请参阅下面的示例。 参数扩展中的每个 <var class="var">name</var> 或嵌套
<code class="t">${</code>...<code class="t">}</code> 后面还可以跟一个下标表达式，如 <a class="ref" href="#g_t_6570_7ec4_53c2_6570">数组参数</a> 中所述。
</p>
<p>请注意，双引号可能会出现在嵌套表达式的周围，在这种情况下，只有内部的部分才会被视为引号；例如，<code class="t">${(f)&quot;$(foo)&quot;}</code> 引用了
<code class="t">$(foo)</code> 的结果，但标记 &lsquo;<code class="t">(f)</code>&rsquo; （见下文）是使用无引号扩展的规则。 请进一步注意，在这种情况下，引号本身是嵌套的；例如，在
<code class="t">&quot;${(@f)&quot;$(foo)&quot;}&quot;</code> 中，有两组引号，一组围绕整个表达式，另一组（多余的）围绕 <code class="t">$(foo)</code> 如前。
</p>

<div class="subsection-level-extent" id="Can-Shu-Kuo-Zhan-Biao-Zhi-">
<h4 class="subsection"><span>14.3.1 参数扩展标志<a class="copiable-link" href="#Can-Shu-Kuo-Zhan-Biao-Zhi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Can-Shu-Kuo-Zhan-Biao-Zhi-"></a>
<a class="index-entry-id" id="index-Biao-Zhi-_002c-Can-Shu-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Ti-Huan-_002c-Can-Shu-_002c-Biao-Zhi-"></a>
<p>如果开头括号后直接跟了一个开头括号，那么直到匹配的结尾括号为止的字符串将被视为标志列表。  在重复标记有意义的情况下，重复标记不必是连续的；
例如，&lsquo;(<code class="t">q%q%q</code>)&rsquo; 与更易读的  &lsquo;(<code class="t">%%qqq</code>)&rsquo; 意思相同。 支持以下标志：
</p>
<dl class="table">
<dt><code class="t">#</code></dt>
<dd><p>将得到的单词作为数值表达式进行计算，并将其解释为字符代码。 输出相应的字符。 请注意，这种形式与使用不带括号的 <code class="t">#</code> 完全不同。
</p>
<p>如果设置了 <code class="t">MULTIBYTE</code> 选项，且数字大于 127（即不是 ASCII 字符），则会被视为 Unicode 字符。
</p>
</dd>
<dt><code class="t">%</code></dt>
<dd><p>以与提示符相同的方式扩展结果词中的所有 <code class="t">%</code> 转义符（参见 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>）。如果两次给出该标记，则会根据
<code class="t">PROMPT_PERCENT</code>、<code class="t">PROMPT_SUBST</code> 和 <code class="t">PROMPT_BANG</code>
选项的设置，对生成的单词进行完全的提示符扩展。
</p>
</dd>
<dt><code class="t">@</code></dt>
<dd><p>在双引号中，数组元素被放在单独的词中。 例如， &lsquo;<code class="t">&quot;${(@)foo}&quot;</code>&rsquo; 等同于 &lsquo;<code class="t">&quot;${foo[@]}&quot;</code>&rsquo; ，而
&lsquo;<code class="t">&quot;${(@)foo[1,2]}&quot;</code>&rsquo; 等同于 &lsquo;<code class="t">&quot;$foo[1]&quot; &quot;$foo[2]&quot;</code>&rsquo; 相同。 这与使用 <code class="t">f</code>、<code class="t">s</code>
或 <code class="t">z</code> 标记的 <em class="emph">字段分割</em> 不同，仍适用于每个数组元素。
</p>
</dd>
<dt><code class="t">A</code></dt>
<dd><p>将替换转换为数组表达式，即使它本来是标量表达式。 这比下标优先级低，因此需要一级嵌套扩展才能使下标适用于数组元素。 因此，当 <var class="var">name</var>
是标量时，<code class="t">${${(A</code><code class="t">)</code><var class="var">name</var><code class="t">}[1]}</code>  将产生 <var class="var">name</var> 的完整值。
</p>
<p>这会用  &lsquo;<code class="t">${</code>...<code class="t">=</code>...<code class="t">}</code>&rsquo;, &lsquo;<code class="t">${</code>...<code class="t">:=</code>...<code class="t">}</code>&rsquo; 或
&lsquo;<code class="t">${</code>...<code class="t">::=</code>...<code class="t">}</code>&rsquo; 指定一个数组参数。 如果该标志重复出现（如 &lsquo;<code class="t">AA</code>&rsquo; ），则会分配一个关联数组参数。
赋值在排序或填充之前进行；如果激活了字段分割，<var class="var">word</var> 部分会在赋值前被分割。 对于普通数组，<var class="var">name</var>
部分可以是下标范围；当赋值一个关联数组时，<var class="var">word</var> 部分 <em class="emph">必须</em> 转换为数组，例如使用
&lsquo;<code class="t">${(AA)=</code><var class="var">name</var><code class="t">=</code>...<code class="t">}</code>&rsquo; 激活字段分割。
</p>
<p>周围环境（如额外嵌套或在标量赋值中使用值）可能会导致数组再次连接回单个字符串。
</p>
</dd>
<dt><code class="t">a</code></dt>
<dd><p>按数组索引顺序排序；与 &lsquo;<code class="t">O</code>&rsquo; 结合使用时，按数组索引倒序排序。 请注意， &lsquo;<code class="t">a</code>&rsquo;  因此等同于默认值，但 &lsquo;<code class="t">Oa</code>&rsquo;
在按相反顺序获取数组元素时非常有用。
</p>
</dd>
<dt><code class="t">b</code></dt>
<dd><p>仅对模式匹配中的特殊字符使用反斜线引用。这在使用 <code class="t">GLOB_SUBST</code> （包括 <code class="t">${~</code><var class="var">...</var><code class="t">}</code>
开关测试变量内容时非常有用。
</p>
<p>由于 <code class="t">GLOB_SUBST</code> 不会从非模式字符中去除引号，因此使用 <code class="t">q</code> 系列标志之一的引号无法实现这一目的。 换句话说
</p>
<div class="example">
<pre class="example-preformatted">pattern=${(q)str}
[[ $str = ${~pattern} ]]
</pre></div>

<p>如果 <code class="t">$str</code> 是 &lsquo;<code class="t">a*b</code>&rsquo; 则有效，如果是 &lsquo;<code class="t">a b</code>&rsquo;则无效，而
</p>
<div class="example">
<pre class="example-preformatted">pattern=${(b)str}
[[ $str = ${~pattern} ]]
</pre></div>

<p>对于 <code class="t">$str</code> 的任何可能值都是 true。
</p>
</dd>
<dt><code class="t">c</code></dt>
<dd><p>用 <code class="t">${#</code><var class="var">name</var><code class="t">}</code>， 计算数组中的字符总数，就像元素之间用空格连接一样。
这并不是数组的真正连接，因此在计算之前，使用此标志的其他表达式可能会对数组元素产生影响。
</p>
</dd>
<dt><code class="t">C</code></dt>
<dd><p>将生成的单词大写。 这里的 &lsquo;Words&rsquo;  指的是由非字母数字分隔的字母数字字符序列，<em class="emph">不是</em>指字段分割产生的单词。
</p>
</dd>
<dt><code class="t">D</code></dt>
<dd><p>假定字符串或数组元素包含目录，并尝试用名称替换其前导部分。 路径的其余部分（如果前导部分未被替换，则为整个路径）会被加引号，这样整个字符串就可以用作
shell 参数。 这是&lsquo;<code class="t">~</code>&rsquo;替换的反向操作：参见 <a class="ref" href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a>。
</p>
</dd>
<dt><code class="t">e</code></dt>
<dd><p>对结果执行单字 shell 扩展，即在结果上执行 <em class="emph">参数扩展</em>、<em class="emph">命令替换</em> 和
<em class="emph">算术扩展</em>。此类扩展可以嵌套，但过深的递归可能会产生不可预知的效果。
</p>
</dd>
<dt><code class="t">f</code></dt>
<dd><p>在换行符处分割扩展结果。这是 &lsquo;<code class="t">ps:\n:</code>&rsquo; 的简写。
</p>
</dd>
<dt><code class="t">F</code></dt>
<dd><p>使用换行符作为分隔符，将数组的单词连接在一起。 这是 &lsquo;<code class="t">pj:\n:</code>&rsquo; 的简写。
</p>
</dd>
<dt><code class="t">g:</code><var class="var">opts</var><code class="t">:</code></dt>
<dd><p>在未给出任何选项的情况下（<code class="t">g::</code>），像 echo 内置程序一样处理转义序列。 使用 <code class="t">o</code> 选项时，八进制转义字符不带前导零。 使用
<code class="t">c</code> 选项时，类似 &lsquo;<code class="t">^X</code>&rsquo; 的序列也会被处理。 如果使用 <code class="t">e</code> 选项，则会处理 &lsquo;<code class="t">\M-t</code>&rsquo; 和类似 print
内置命令的序列。 同时使用 <code class="t">o</code> 和 <code class="t">e</code> 选项时，除了不解释 &lsquo;<code class="t">\c</code>&rsquo; 以外，其行为与 print 内置程序类似。
</p>
</dd>
<dt><code class="t">i</code></dt>
<dd><p>不区分大小写排序。 可与 &lsquo;<code class="t">n</code>&rsquo; 或 &lsquo;<code class="t">O</code>&rsquo; 结合使用。
</p>
</dd>
<dt><code class="t">k</code></dt>
<dd><p>如果 <var class="var">name</var> 指向关联数组，则替换 <em class="emph">keys</em>（元素名）而不是元素的值。
与下标（包括普通数组）一起使用时，即使下标形式指的是值，也会强制替换索引或键。 但是，该标志不能与下标范围结合使用。 使用 <code class="t">KSH_ARRAYS</code>
选项时，需要使用下标 &lsquo;<code class="t">[*]</code>&rsquo; 或 &lsquo;<code class="t">[@]</code>&rsquo; 对整个数组进行操作。
</p>
</dd>
<dt><code class="t">L</code></dt>
<dd><p>将结果中的所有字母转换为小写。
</p>
</dd>
<dt><code class="t">n</code></dt>
<dd><p>对十进制整数按数值排序；如果两个测试字符串的第一个不同字符不是数字，则按词法排序。 &lsquo;<code class="t">+</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo;
不会被特殊处理；它们与其他非数字一样被处理。 前导零位较多的整数排序在前导零位较少或没有前导零位的整数之前。 因此，数组  &lsquo;<code class="t">foo+24
foo1 foo02 foo2 foo3 foo20 foo23</code>&rsquo; 的排列为所示顺序。 可与 &lsquo;<code class="t">i</code>&rsquo; 或 &lsquo;<code class="t">O</code>&rsquo; 结合使用。
</p>
</dd>
<dt><code class="t">-</code></dt>
<dd><p>与 <code class="t">n</code>相同，但前导负号表示十进制负整数。 前面的负号后面没有整数，不会触发数字排序。 请注意，&lsquo;<code class="t">+</code>&rsquo;
符号不会被特殊处理（这点将来可能会改变）。
</p>
</dd>
<dt><code class="t">o</code></dt>
<dd><p>按升序排序结果；如果该选项单独出现，则按字面和大小写排序（除非本地语言不区分大小写）。 升序排序是其他排序形式的默认排序方式，因此，如果与
&lsquo;<code class="t">a</code>&rsquo;, &lsquo;<code class="t">i</code>&rsquo;, &lsquo;<code class="t">n</code>&rsquo;  或  &lsquo;<code class="t">-</code>&rsquo; 一起使用，则会被忽略。
</p>
</dd>
<dt><code class="t">O</code></dt>
<dd><p>按降序排序； &lsquo;<code class="t">O</code>&rsquo; 不含 &lsquo;<code class="t">a</code>&rsquo;, &lsquo;<code class="t">i</code>&rsquo;, &lsquo;<code class="t">n</code>&rsquo; 或 &lsquo;<code class="t">-</code>&rsquo; 时，按相反的词序排序。 可与
&lsquo;<code class="t">a</code>&rsquo;, &lsquo;<code class="t">i</code>&rsquo;, &lsquo;<code class="t">n</code>&rsquo; 或  &lsquo;<code class="t">-</code>&rsquo; 结合使用，以颠倒排序顺序。
</p>
</dd>
<dt><code class="t">P</code></dt>
<dd><p>这会强制将参数 <var class="var">name</var> 的值解释为另一个参数名，并在适当的地方使用其值。 需要注意的是，使用 <code class="t">typeset</code>
系列命令之一设置的标志（特别是转换）并不适用于以这种方式使用的 <var class="var">name</var> 值。
</p>
<p>如果与嵌套参数或命令替换一起使用，其结果将以同样的方式作为参数名。 例如，如果有 &lsquo;<code class="t">foo=bar</code>&rsquo; 和 &lsquo;<code class="t">bar=baz</code>&rsquo;，则字符串
<code class="t">${(P)foo}</code>、<code class="t">${(P)${foo}}</code> 和 <code class="t">${(P)$(echo bar)}</code> 将扩展为
&lsquo;<code class="t">baz</code>&rsquo;。
</p>
<p>同样，如果引用本身是嵌套的，则带有标志的表达式将被视为直接替换为参数名。 如果这种嵌套替换产生了一个包含多个单词的数组，则属于错误。 例如，如果
&lsquo;<code class="t">name=assoc</code>&rsquo; 中的参数 <code class="t">assoc</code> 是一个关联数组，那么  &lsquo;<code class="t">${${(P)name}[elt]}</code>&rsquo;
指的就是关联下标 &lsquo;<code class="t">elt</code>&rsquo; 中的元素。
</p>
</dd>
<dt><code class="t">q</code></dt>
<dd><p>使用反斜线引用结果字中对 shell 有特殊意义的字符；使用 <code class="t">$'\</code><var class="var">NNN</var><code class="t">'</code>
格式引用无法打印或无效的字符，每个八位位组使用单独的引号。
</p>
<p>如果两次使用该标记，生成的单词将用单引号引用；如果三次使用该标记，生成的单词将用双引号引用；在这些形式中，不会对无法打印或无效的字符进行特殊处理。
如果标记出现四次，则以单引号引用，前面加上 <code class="t">$</code>。 需要注意的是，在所有这三种形式中，引用都是无条件执行的，即使这并不改变 shell
解释字符串的方式。
</p>
<p>如果给出 <code class="t">q-</code>（只能出现单个 <code class="t">q</code>），则会使用最小形式的单引号，仅在需要保护特殊字符时对字符串加引号。 通常，这种形式的输出最易读。
</p>
<p>如果给出 <code class="t">q+</code>，将使用扩展的最小引号形式，使用  <code class="t">$'</code><var class="var">...</var><code class="t">'</code> 呈现无法打印的字符。 这种引号与
<code class="t">typeset</code> 系列命令输出值时使用的引号类似。
</p>
</dd>
<dt><code class="t">Q</code></dt>
<dd><p>从得到的单词中删除一级引号。
</p>
</dd>
<dt><code class="t">t</code></dt>
<dd><p>使用描述参数类型的字符串，参数值通常会出现在该字符串中。该字符串由以连字符（ &lsquo;<code class="t">-</code>&rsquo;
）分隔的关键字组成。字符串中的第一个关键字描述主要类型，可以是 &lsquo;<code class="t">scalar</code>&rsquo;, &lsquo;<code class="t">array</code>&rsquo;, &lsquo;<code class="t">integer</code>&rsquo;,
&lsquo;<code class="t">float</code>&rsquo; 或 &lsquo;<code class="t">association</code>&rsquo;。其他关键字会更详细地描述类型：
</p>
<dl class="table">
<dt><code class="t">local</code></dt>
<dd><p>为局部参数
</p>
</dd>
<dt><code class="t">left</code></dt>
<dd><p>用于左对齐参数
</p>
</dd>
<dt><code class="t">right_blanks</code></dt>
<dd><p>用于右对齐参数，带前导空格
</p>
</dd>
<dt><code class="t">right_zeros</code></dt>
<dd><p>用于右对齐参数，带前导零
</p>
</dd>
<dt><code class="t">lower</code></dt>
<dd><p>用于参数值在展开时被转换为全小写的参数
</p>
</dd>
<dt><code class="t">upper</code></dt>
<dd><p>用于参数值在展开时被转换为全大写的参数
</p>
</dd>
<dt><code class="t">readonly</code></dt>
<dd><p>用于只读参数
</p>
</dd>
<dt><code class="t">tag</code></dt>
<dd><p>用于已标记参数
</p>
</dd>
<dt><code class="t">tied</code></dt>
<dd><p>用于以<code class="t">PATH</code> (冒号分隔列表) 和 <code class="t">path</code> (数组)方式绑定到另一个参数的参数，无论这些参数是特殊参数还是用户用
&lsquo;<code class="t">typeset -T</code>&rsquo; 定义的参数。
</p>
</dd>
<dt><code class="t">export</code></dt>
<dd><p>用于导出参数
</p>
</dd>
<dt><code class="t">unique</code></dt>
<dd><p>用于只保留重复值首次出现的数组
</p>
</dd>
<dt><code class="t">hide</code></dt>
<dd><p>为参数加上 &lsquo;hide&rsquo; 标志
</p>
</dd>
<dt><code class="t">hideval</code></dt>
<dd><p>用于带有 &lsquo;hideval&rsquo; 标志的参数
</p>
</dd>
<dt><code class="t">special</code></dt>
<dd><p>用于 shell 定义的特殊参数
</p>
</dd>
</dl>

</dd>
<dt><code class="t">u</code></dt>
<dd><p>只扩展每个唯一单词的第一次出现。
</p>
</dd>
<dt><code class="t">U</code></dt>
<dd><p>将结果中的所有字母转换为大写字母。
</p>
</dd>
<dt><code class="t">v</code></dt>
<dd><p>与 <code class="t">k</code> 一起使用时，（以两个连续词的形式）替换每个关联数组元素的键和值。 与下标一起使用时，即使下标形式指的是索引或键，也会强制替换值。
</p>
</dd>
<dt><code class="t">V</code></dt>
<dd><p>使结果字中的任何特殊字符可见。
</p>
</dd>
<dt><code class="t">w</code></dt>
<dd><p>使用 <code class="t">${#</code><var class="var">name</var><code class="t">}</code>，可以计算数组或字符串中的单词数；可以使用 <code class="t">s</code> 标志设置单词分隔符。
</p>
</dd>
<dt><code class="t">W</code></dt>
<dd><p>与 <code class="t">w</code> 类似，不同之处在于重复分隔符之间的空字也会被计算在内。
</p>
</dd>
<dt><code class="t">X</code></dt>
<dd><p>使用该标志时，将报告使用 <code class="t">Q</code>, <code class="t">e</code> and <code class="t">#</code> 标志或模式匹配形式（如
&lsquo;<code class="t">${</code><var class="var">name</var><code class="t">#</code><var class="var">pattern</var><code class="t">}</code>&rsquo; ）出现的解析错误。 如果没有标志，错误将被忽略。
</p>
</dd>
<dt><code class="t">z</code></dt>
<dd><p>使用 shell 解析将扩展结果拆分为单词，即考虑值中的任何引号。 注释不会被特殊处理，而是作为普通字符串处理，类似于未设置
<code class="t">INTERACTIVE_COMMENTS</code> 选项的交互式 shell（不过，相关选项请参见下面的 <code class="t">Z</code> 标志）
</p>
<p>需要注意的是，这个过程进行得很晚，甚至比 &lsquo;<code class="t">(s)</code>&rsquo; 标志更晚。因此，要访问结果中的单字，请使用嵌套扩展，如
&lsquo;<code class="t">${${(z)foo}[2]}</code>&rsquo;。同样，要删除结果单词中的引号，请使用 &lsquo;<code class="t">${(Q)${(z)foo}}</code>&rsquo;。
</p>
</dd>
<dt><code class="t">0</code></dt>
<dd><p>在空字节处分割扩展结果。 这是 &lsquo;<code class="t">ps:\0:</code>&rsquo; 的简写。
</p>
</dd>
</dl>

<p>下列标志（<code class="t">p</code> 除外）后跟一个或多个参数，如所示。 任何字符或匹配对 &lsquo;<code class="t">(</code>...<code class="t">)</code>&rsquo;, &lsquo;<code class="t">{</code>...<code class="t">}</code>&rsquo;,
&lsquo;<code class="t">[</code>...<code class="t">]</code>&rsquo; 或 &lsquo;<code class="t">&lt;</code>...<code class="t">&gt;</code>&rsquo;
都可以代替冒号作为分隔符，但要注意的是，当一个标志有多个参数时，每个参数周围必须有一对匹配的分隔符。
</p>
<dl class="table">
<dt><code class="t">p</code></dt>
<dd><p>在该参数后面，下面所述的标志，识别为 <code class="t">print</code> 内置函数相同的转义序列。（不怎么通顺）
</p>
<p>另外，使用该选项时，字符串参数的形式可以是 <code class="t">$</code><var class="var">var</var>，在这种情况下，变量的值会被替换。
请注意，这种形式是严格的；字符串参数不会进行一般的参数扩展。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">sep=:
val=a:b:c
print ${(ps.$sep.)val}
</pre></div>

<p>在 <code class="t">:</code> 上分割变量。
</p>
</dd>
<dt><code class="t">~</code></dt>
<dd><p>由以下任何标志插入扩展的字符串都将被视为模式。 这也适用于 <code class="t">~</code> 之后在同一组括号内的标志的字符串参数。 与括号外的 <code class="t">~</code> 相比，括号外的
<code class="t">~</code> 会强制将整个替换的字符串作为模式处理。 因此，例如
</p>
<div class="example">
<pre class="example-preformatted">[[ &quot;?&quot; = ${(~j.|.)array} ]]
</pre></div>

<p>将 &lsquo;<code class="t">|</code>&rsquo; 视为模式，并且只有当 <code class="t">$array</code> 包含字符串 &lsquo;<code class="t">?</code>&rsquo; 作为一个元素时才会成功。 可以重复使用 <code class="t">~</code>
来切换行为；其效果只持续到括号中的组的末尾。
</p>
</dd>
<dt><code class="t">j:</code><var class="var">string</var><code class="t">:</code></dt>
<dd><p>使用 <var class="var">string</var> 作为分隔符，将数组的单词连接在一起。
<a class="index-entry-id" id="index-SH_005fWORD_005fSPLIT_002c-use-of"></a>
请注意，这发生在使用 <code class="t">s:</code><var class="var">string</var><code class="t">:</code> 标志或 <code class="t">SH_WORD_SPLIT</code> 选项进行字段分割之前。
</p>
</dd>
<dt><code class="t">l:</code><var class="var">expr</var><code class="t">::</code><var class="var">string1</var><code class="t">::</code><var class="var">string2</var><code class="t">:</code></dt>
<dd><p>将得到的单词填充到左边。 如果需要，每个单词都将被截断，并放入一个 <var class="var">expr</var> 字宽的字段中。
</p>
<p>参数 <code class="t">:</code><var class="var">string1</var><code class="t">:</code> 和 <code class="t">:</code><var class="var">string2</var><code class="t">:</code>
是可选参数；可以两个参数都不给，也可以给第一个参数，或者两个参数都给。 请注意，三个参数必须使用相同的分隔符。 左边的空格将由
<var class="var">string1</var>（根据需要进行连接）填充，如果没有给出 <var class="var">string1</var>，则由空格填充。
如果同时给出了<var class="var">string1</var>和<var class="var">string2</var>，则在使用<var class="var">string1</var>生成任何剩余的填充之前，在每个单词的左侧直接插入一次<var class="var">string2</var>（如有必要，则截断）。
</p>
<p>如果 <var class="var">string1</var> 或 <var class="var">string2</var> 中的任何一个存在但为空，即在该点有两个分隔符，则使用 <code class="t">$IFS</code>
的第一个字符来代替。
</p>
<p>如果 <code class="t">MULTIBYTE</code> 选项有效，也可以给出标志
<code class="t">m</code>，在这种情况下，宽度将被用于计算填充；否则，单个多字节字符将被视为占用一个宽度单位。
</p>
<p>如果 <code class="t">MULTIBYTE</code> 选项未生效，字符串中的每个字节将被视为占用一个宽度单位。
</p>
<p>控制字符始终被假定为一个单位宽；这使得该机制可用于生成重复的控制字符。
</p>
</dd>
<dt><code class="t">m</code></dt>
<dd><p>当 <code class="t">MULTIBYTE</code> 选项有效时，仅与 <code class="t">l</code> 或 <code class="t">r</code> 标志之一或 <code class="t">#</code> 长度运算符一起使用。
使用系统报告的字符宽度来计算它在字符串中的占用量或字符串的总长度。
大多数可打印字符的宽度为一个单位，但某些亚洲字符集和某些特效字使用更宽的字符；组合字符的宽度为零； 不可打印字符的宽度为零；但实际显示方式会有所不同。
</p>
<p>如果 <code class="t">m</code> 重复出现，该字符的宽度要么为零（如果宽度为零），要么为一。
对于可打印字符串，这具有计算字形（明显分开的字符）数量的效果，除非组合字符本身的宽度不为零（在某些字母表中确实如此）。
</p>
</dd>
<dt><code class="t">r:</code><var class="var">expr</var><code class="t">::</code><var class="var">string1</var><code class="t">::</code><var class="var">string2</var><code class="t">:</code></dt>
<dd><p>与 <code class="t">l</code>相同，但将单词填充到右侧，并在要填充的字符串右侧插入 <var class="var">string2</var>。
</p>
<p>左填充和右填充可以同时使用。 在这种情况下，策略是对每个结果字的前半部分宽度使用左填充，后半部分使用右填充。
如果要填充的字符串宽度为奇数，则额外的填充会应用在左边。
</p>
</dd>
<dt><code class="t">s:</code><var class="var">string</var><code class="t">:</code></dt>
<dd><p>在分隔符 <var class="var">string</var> 处进行字段分割。 请注意，包含两个或多个字符的 <var class="var">string</var> 意味着所有字符必须依次匹配；这与
<code class="t">IFS</code> 参数中两个或多个字符的处理方式不同。 另请参阅 <code class="t">=</code> 标志和 <code class="t">SH_WORD_SPLIT</code> 选项。
也可以给出一个空字符串，在这种情况下，每个字符都是一个单独的元素。
</p>
<p>由于历史原因，对于通过拆分生成的数组，通常会将空数组元素保留在双引号内，但这一行为被禁用了，因此出现了以下情况：
</p>
<div class="example">
<pre class="example-preformatted">line=&quot;one::three&quot;
print -l &quot;${(s.:.)line}&quot;
</pre></div>

<p>会为 <code class="t">one</code> 和 <code class="t">three</code> 生成两行输出，并忽略空字段。 要覆盖这一行为，请同时提供 &lsquo;<code class="t">(@)</code>&rsquo; 标志，即
<code class="t">&quot;${(@s.:.)line}&quot;</code>。
</p>
</dd>
<dt><code class="t">Z:</code><var class="var">opts</var><code class="t">:</code></dt>
<dd><p>与 <code class="t">z</code>相同，但在后面一对分隔符之间使用选项字母组合。 如果没有选项，效果与 <code class="t">z</code>相同。 有以下选项
</p>
<dl class="table">
<dt><code class="t">(Z+c+)</code></dt>
<dd><p>会将注释解析为字符串并保留；结果数组中以未加引号的注释字符开头的任何字段都是注释。
</p>
</dd>
<dt><code class="t">(Z+C+)</code></dt>
<dd><p>会解析并删除注释。 注释的规则是标准的：从 <code class="t">$HISTCHARS</code>（默认为
<code class="t">#</code>）的第三个字符开始的单词到下一个换行符之间的任何内容都是注释。
</p>
</dd>
<dt><code class="t">(Z+n+)</code></dt>
<dd><p>将未加引号的换行符视为普通空白，否则会将其视为 shell 代码分隔符并转换为分号。
</p>
</dd>
</dl>

<p>选项在同一组分隔符内组合，例如 <code class="t">(Z+Cn+)</code>。
</p>
</dd>
<dt><code class="t">_:</code><var class="var">flags</var><code class="t">:</code></dt>
<dd><p>下划线 (<code class="t">_</code>) 标志保留给将来使用。 在本次修订的 zsh 中，没有有效的
<var class="var">flags</var>；除了空的分隔符之外，下划线后面的任何内容都会被视为错误，而标志本身则没有任何作用。
</p>
</dd>
</dl>

<p>以下标志对 <code class="t">${</code>...<code class="t">#</code>...<code class="t">}</code> or <code class="t">${</code>...<code class="t">%</code>...<code class="t">}</code> 形式有意义。  <code class="t">S</code>,
<code class="t">I</code> 和 <code class="t">*</code> 标志也可与 <code class="t">${</code>...<code class="t">/</code>...<code class="t">}</code> 形式一起使用。
</p>
<dl class="table">
<dt><code class="t">S</code></dt>
<dd><p>使用 <code class="t">#</code> 或 <code class="t">##</code>，搜索最靠近字符串起始位置的匹配项（&lsquo;子串匹配&rsquo;）。在特定位置的所有匹配中，<code class="t">#</code> 选择最短的，而 <code class="t">##</code>
则选择最长的：
</p>
<div class="example">
<pre class="example-preformatted">% str=&quot;aXbXc&quot;
% echo ${(S)str#X*}
abXc
% echo ${(S)str##X*}
a
% 
</pre></div>

<p>使用 <code class="t">%</code> 或 <code class="t">%%</code>，搜索最靠近字符串末尾的匹配项：
</p>
<div class="example">
<pre class="example-preformatted">% str=&quot;aXbXc&quot;
% echo ${(S)str%X*}
aXbc
% echo ${(S)str%%X*}
aXb
% 
</pre></div>

<p>(请注意，<code class="t">%</code> 和 <code class="t">%%</code> 并不像人们想象的那样，搜索最靠近字符串末尾的匹配项）。
</p>
<p>通过  <code class="t">${</code>...<code class="t">/</code>...<code class="t">}</code> or <code class="t">${</code>...<code class="t">//</code>...<code class="t">}</code>
进行替换时，指定非贪婪匹配，即替换最短匹配而不是最长匹配：
</p>
<div class="example">
<pre class="example-preformatted">% str=&quot;abab&quot;
% echo ${str/*b/_}
_
% echo ${(S)str/*b/_}
_ab
% 
</pre></div>

</dd>
<dt><code class="t">I:</code><var class="var">expr</var><code class="t">:</code></dt>
<dd><p>搜索的第  <var class="var">expr</var> 个匹配项（其中 <var class="var">expr</var> 的值为数字）。 这仅适用于搜索子字符串时，使用 <code class="t">S</code> 标志，或
<code class="t">${</code>...<code class="t">/</code>...<code class="t">}</code> （仅替换第 <var class="var">expr</var>  个匹配项）。(只替换第 <var class="var">expr</var> 个匹配）或
<code class="t">${</code>...<code class="t">//</code>...<code class="t">}</code> (从 <var class="var">expr</var> 开始的所有匹配都会被替换）。 默认情况下，取第一个匹配项。
</p>
<p>第 <var class="var">expr</var>
个匹配的计算方法是，从字符串的每个起始位置开始，要么有一个匹配，要么为零，尽管在全局替换时匹配可能会与之前的替换重叠，但重叠部分的替换会被忽略。 对于
<code class="t">${</code>...<code class="t">%</code>...<code class="t">}</code> 和 <code class="t">${</code>...<code class="t">%%</code>...<code class="t">}</code>
形式，随着索引的增加，匹配的起始位置会从尾部向后（backward）移动，而对于其他形式，则会从起始位置向前移动。
</p>
<p>因此，用字符串
</p><div class="example">
<pre class="example-preformatted">which switch is the right switch for Ipswich?
</pre></div>
<p>当 <var class="var">N</var> 从 1 开始增加时，形式为 <code class="t">${</code>(<code class="t">SI:</code><var class="var">N</var><code class="t">:</code>)<code class="t">string#w*ch}</code>
的替换，将匹配并移除 &lsquo;<code class="t">which</code>&rsquo;, &lsquo;<code class="t">witch</code>&rsquo;, &lsquo;<code class="t">witch</code>&rsquo; 和 &lsquo;<code class="t">wich</code>&rsquo;； 使用 &lsquo;<code class="t">##</code>&rsquo;
的形式将匹配并移除 &lsquo;<code class="t">which switch is the right switch for Ipswich</code>&rsquo;, &lsquo;<code class="t">witch is
the right switch for Ipswich</code>&rsquo;, &lsquo;<code class="t">witch for Ipswich</code>&rsquo; 和 &lsquo;<code class="t">wich</code>&rsquo;。使用
&lsquo;<code class="t">%</code>&rsquo; 的形式将删除与 &lsquo;<code class="t">#</code>&rsquo; 相同的匹配，但顺序相反；使用 &lsquo;<code class="t">%%</code>&rsquo; 的形式将删除与 &lsquo;<code class="t">##</code>&rsquo;
相同的匹配，但顺序相反。
</p>
</dd>
<dt><a id="index-EXTENDED_005fGLOB_002c-Qi-Yong-"></a><span><code class="t">*</code><a class="copiable-link" href="#index-EXTENDED_005fGLOB_002c-Qi-Yong-"> &para;</a></span></dt>
<dd><p>启用 <code class="t">EXTENDED_GLOB</code> 以通过 <code class="t">${</code>...<code class="t">/</code>...<code class="t">}</code> or
<code class="t">${</code>...<code class="t">//</code>...<code class="t">}</code> 进行替换。 请注意， &lsquo;<code class="t">**</code>&rsquo; 不会禁用扩展glob。
</p>
</dd>
<dt><code class="t">B</code></dt>
<dd><p>在结果中包含匹配起始的索引。
</p>
</dd>
<dt><code class="t">E</code></dt>
<dd><p>在结果中包含匹配结束后一个字符的索引（注意这与参数索引的其他用法不一致）。
</p>
</dd>
<dt><code class="t">M</code></dt>
<dd><p>在结果中包含匹配的部分。
</p>
</dd>
<dt><code class="t">N</code></dt>
<dd><p>在结果中包含匹配长度。
</p>
</dd>
<dt><code class="t">R</code></dt>
<dd><p>在结果中包含未匹配的部分（<em class="emph">R</em>est）。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Rules">
<h4 class="subsection"><span>14.3.2 Rules<a class="copiable-link" href="#Rules"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Can-Shu-Kuo-Zhan-Gui-Ze-"></a>
<a class="index-entry-id" id="index-Gui-Ze-_002c-Can-Shu-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Ti-Huan-_002c-Can-Shu-_002c-Gui-Ze-"></a>
<p>以下是替换规则的摘要；假设替换周围有大括号，即 <code class="t">${</code><var class="var">...</var><code class="t">}</code>。 下面给出了一些特殊的示例。 请注意，Zsh
开发小组对阅读以下规则时可能造成的任何脑损伤概不负责。
</p>
<dl class="table">
<dt><code class="t">1.</code> <em class="emph">嵌套替换</em></dt>
<dd><p>如果存在多个嵌套的 <code class="t">${</code><var class="var">...</var><code class="t">}</code> 形式，则从内向外进行替换。
在每一层中，替换都会考虑当前值是标量还是数组，整个替换是否使用双引号，以及为当前替换层提供了哪些标志，就像嵌套替换是最外层一样。
这些标志不会向上传播到外层替换；嵌套替换将根据标志返回标量或数组，并可能根据引号进行调整。 下面的所有步骤都将在各级替换中进行。
</p>
<p>请注意，除非存在 &lsquo;<code class="t">(P)</code>&rsquo; 标记，否则标记和任何下标都直接应用于嵌套替换的值；例如，扩展 <code class="t">${${foo}}</code> 的行为与
<code class="t">${foo}</code> 完全相同。 当嵌套替换中出现 &lsquo;<code class="t">(P)</code>&rsquo; 标记时，其他替换规则将在值被解释为名称<em class="emph">之前</em>应用到值，因此
<code class="t">${${(P)foo}}</code> 可能与 <code class="t">${(P)foo}</code> 不同。
</p>
<p>在每一级嵌套替换中，被替换的单词都会进行所有形式的单字替换（即不生成文件名），包括命令替换、算术扩展和文件名扩展（即前导 <code class="t">~</code> 和 <code class="t">=</code>）。
例如， <code class="t">${${:-=cat}:h}</code> 扩展到 <code class="t">cat</code> 程序所在的目录。 (解释：内部替换没有参数，只有一个缺省值
<code class="t">=cat</code>，该值通过文件名扩展扩展为完整路径；外部替换应用修饰符 <code class="t">:h</code>，并获取路径中的目录部分）。
</p>
</dd>
<dt><code class="t">2.</code> <em class="emph">内部参数标志</em></dt>
<dd><p>任何由 <code class="t">typeset</code> 系列命令之一设置的参数标志，特别是用于填充和大写的 <code class="t">-L</code>, <code class="t">-R</code>, <code class="t">-Z</code>, <code class="t">-u</code> 和
<code class="t">-l</code> 选项，都会直接应用于参数值。 请注意，这些标志是命令的选项，例如 &lsquo;<code class="t">typeset -Z</code>&rsquo;；它们与参数替换中使用的标志不同。
</p>
<p>在替换的最外层， &lsquo;<code class="t">(P)</code>&rsquo; 标志（规则 <code class="t">4.</code>）会忽略这些转换，并使用未修改的参数值作为要替换的名称。
这通常是我们所希望的行为，因为填充可能会使值作为参数名在语法上不合法，但如果需要更改大写字母，则应使用 <code class="t">${${(P)foo}}</code>
形式（规则 <code class="t">25.</code>）。
</p>
</dd>
<dt><code class="t">3.</code> <em class="emph">参数下标</em></dt>
<dd><p>如果数值是带有下标的原始参数引用，例如 <code class="t">${</code><var class="var">var</var><code class="t">[3]}</code>，下标的作用将直接应用于参数。
下标从左到右依次求值；后续下标适用于前一个下标产生的标量或数组值。 因此，如果 <code class="t">var</code> 是一个数组，<code class="t">${var[1][2]}</code>
就是第一个单词的第二个字符，而  <code class="t">${var[2,4][2]}</code>  就是整个第三个单词（原始数组中第二到第四个单词范围内的第二个单词）。
可以出现任意数量的下标。 &lsquo;<code class="t">(k)</code>&rsquo;  和 &lsquo;<code class="t">(v)</code>&rsquo; 等标志可用来改变下标结果。
</p>
</dd>
<dt><code class="t">4.</code> <em class="emph">参数名替换</em></dt>
<dd><p>仅在嵌套的最外层，才使用 &lsquo;<code class="t">(P)</code>&rsquo; 标记。 这会将迄今为止的值视为参数名（可能包括下标表达式），并用相应的值替换。 如果 &lsquo;<code class="t">(P)</code>&rsquo;
标志出现在嵌套替换中，替换将在后面进行。
</p>
<p>如果当前值命名的参数有内部标志（规则 <code class="t">2.</code>），则替换后的新值将应用这些内部标志。
</p>
</dd>
<dt><code class="t">5.</code> <em class="emph">双引号连接</em></dt>
<dd><p>如果处理后的值是一个数组，且替换出现在双引号中，且当前层级既没有 &lsquo;<code class="t">(@)</code>&rsquo; 标志，也没有 &lsquo;<code class="t">#</code>&rsquo;
l长度操作符，那么值的字将被连接，每个字之间使用参数 <code class="t">$IFS</code> 的第一个字符（默认为空格）（单字数组不会被修改）。 如果存在 &lsquo;<code class="t">(j)</code>&rsquo;
标志，则将使用该标志代替 <code class="t">$IFS</code> 进行连接。
</p>
</dd>
<dt><code class="t">6.</code> <em class="emph">嵌套下标</em></dt>
<dd><p>此时，将根据值是数组还是标量，对任何剩余的下标（即嵌套替换的下标）进行计算。 与 <code class="t">3.</code> 一样，可以出现多个下标。 请注意，
<code class="t">${foo[2,4][2]}</code> 等价于 <code class="t">${${foo[2,4]}[2]}</code>，也等价于
<code class="t">&quot;${${(@)foo[2,4]}[2]}&quot;</code> （嵌套替换在这两种情况下都返回一个数组），但不等价于
<code class="t">&quot;${${foo[2,4]}[2]}&quot;</code> （由于引号的存在，嵌套替换返回一个标量）。
</p>
</dd>
<dt><code class="t">7.</code> <em class="emph">修饰符</em></dt>
<dd><p>任何修饰符，如尾部的&lsquo;<code class="t">#</code>&rsquo;, &lsquo;<code class="t">%</code>&rsquo;, &lsquo;<code class="t">/</code>&rsquo;（可能双写）或一组形式为 &lsquo;<code class="t">:...</code>&rsquo; 的修饰符（见 <a class="ref" href="#g_t_5386_53f2_6269_5c55">历史扩展</a>
中的 <a class="ref" href="#g_t_4fee_9970_7b26">修饰符</a>）所指定的，都会应用到这一层的值的字词上。
</p>
</dd>
<dt><code class="t">8.</code> <em class="emph">字符求值</em></dt>
<dd><p>任何 &lsquo;<code class="t">(#)</code>&rsquo; 标记都会被应用，并将目前的结果作为一个字符进行数字求值。
</p>
</dd>
<dt><code class="t">9.</code> <em class="emph">长度</em></dt>
<dd><p>任何初始 &lsquo;<code class="t">#</code>&rsquo; 修饰符，即  <code class="t">${#</code><var class="var">var</var><code class="t">}</code> 形式的修饰符，都会被用来计算表达式的长度。
</p>
</dd>
<dt><code class="t">10.</code> <em class="emph">强制连接</em></dt>
<dd><p>如果存在 &lsquo;<code class="t">(j)</code>&rsquo; 标志，或没有 &lsquo;<code class="t">(j)</code>&rsquo; 标志，但字符串要按规则 <code class="t">11.</code> 进行拆分，且未按规则 <code class="t">5.</code>
进行连接，则使用给定的字符串或（如果没有给定字符串） <code class="t">$IFS</code> 的第一个字符连接值中的任何单词。 请注意， &lsquo;<code class="t">(F)</code>&rsquo;
标志隐含地提供了一个字符串，以便以这种方式连接。
</p>
</dd>
<dt><code class="t">11.</code> <em class="emph">简单的单词拆分</em></dt>
<dd><p>如果存在 &lsquo;<code class="t">(s)</code>&rsquo; 或 &lsquo;<code class="t">(f)</code>&rsquo; 标志之一，或存在 &lsquo;<code class="t">=</code>&rsquo; 指示符（例如 <code class="t">${=</code><var class="var">var</var><code class="t">}</code>
），则在出现指定字符串或（对于两个标志均不存在的 <code class="t">=</code>）<code class="t">$IFS</code>中的任何字符时分割单词。
</p>
<p>如果没有给出 &lsquo;<code class="t">(s)</code>&rsquo;, &lsquo;<code class="t">(f)</code>&rsquo; 或 &lsquo;<code class="t">=</code>&rsquo; ，但单词没有加引号，且设置了选项
<code class="t">SH_WORD_SPLIT</code>，则会在出现 <code class="t">$IFS</code> 中的任何字符时分割单词。 请注意，这一步骤也会在嵌套替换的各级进行。
</p>
</dd>
<dt><code class="t">12.</code> <em class="emph">大小写修改</em></dt>
<dd><p>任何由 &lsquo;<code class="t">(L)</code>&rsquo;, &lsquo;<code class="t">(U)</code>&rsquo; 或 &lsquo;<code class="t">(C)</code>&rsquo; 标志之一产生的大小写修改都会被应用。
</p>
</dd>
<dt><code class="t">13.</code> <em class="emph">转义序列替换</em></dt>
<dd><p>首先执行 &lsquo;<code class="t">(g)</code>&rsquo; 标志中的任何替换，然后应用 &lsquo;<code class="t">(%)</code>&rsquo; 标志系列中的任何提示符样式格式。
</p>
</dd>
<dt><code class="t">14.</code> <em class="emph">引号应用</em></dt>
<dd><p>任何使用 &lsquo;<code class="t">(q)</code>&rsquo; 和 &lsquo;<code class="t">(Q)</code>&rsquo; 及相关标志的引号或反引号（unquoting）都会被应用。
</p>
</dd>
<dt><code class="t">15.</code> <em class="emph">目录命名</em></dt>
<dd><p>任何使用 &lsquo;<code class="t">(D)</code>&rsquo; 标志的目录名替换都会被应用。
</p>
</dd>
<dt><code class="t">16.</code> <em class="emph">可视化增强</em></dt>
<dd><p>任何使用 &lsquo;<code class="t">(V)</code>&rsquo; 标志使字符可见（ visible ）的修改都会被应用。
</p>
</dd>
<dt><code class="t">17.</code> <em class="emph">词性拆分</em></dt>
<dd><p>如果存在 &rsquo;<code class="t">(z)</code>&rsquo; 标志或 &rsquo;<code class="t">(Z)</code>&rsquo; 标记的其中一种形式，单词将像 shell
命令行一样被拆分，因此引号和其他元字符被用来决定什么是单词。 请注意，这种形式的分词与规则 <code class="t">11.</code> 所描述的分词完全不同：它不使用
<code class="t">$IFS</code>，也不会导致强制连接。
</p>
</dd>
<dt><code class="t">18.</code> <em class="emph">唯一性</em></dt>
<dd><p>如果结果是一个数组，且存在 &lsquo;<code class="t">(u)</code>&rsquo; 标记，则会从数组中删除重复元素。
</p>
</dd>
<dt><code class="t">19.</code> <em class="emph">排序</em></dt>
<dd><p>如果结果仍然是一个数组，并且存在 &lsquo;<code class="t">(o)</code>&rsquo; 或 &lsquo;<code class="t">(O)</code>&rsquo; 标志，数组将被重新排序。
</p>
</dd>
<dt><code class="t">20.</code> <code class="t">RC_EXPAND_PARAM</code></dt>
<dd><p>此时，将决定是否按照 <code class="t">RC_EXPAND_PARAM</code> 选项或 &lsquo;<code class="t">^</code>&rsquo; 标志的指示，将数组元素与周围的文本逐一组合。
</p>
</dd>
<dt><code class="t">21.</code> <em class="emph">重新求值</em></dt>
<dd><p>任何 &lsquo;<code class="t">(e)</code>&rsquo; 标记都会应用于该值，从而迫使它在进行新参数替换以及命令和算术替换时被重新检查。
</p>
</dd>
<dt><code class="t">22.</code> <em class="emph">填充</em></dt>
<dd><p>使用 &lsquo;<code class="t">(l.</code><var class="var">fill</var><code class="t">.)</code>&rsquo; 或 &lsquo;<code class="t">(r.</code><var class="var">fill</var><code class="t">.)</code>&rsquo; 标志对值进行填充。
</p>
</dd>
<dt><code class="t">23.</code> <em class="emph">语义连接</em></dt>
<dd><p>在扩展语义要求只产生一个单词的情况下，所有单词之间都会用 <code class="t">IFS</code> 的第一个字符重新连接。 因此，在
&lsquo;<code class="t">${(P</code><code class="t">)${(f</code><code class="t">)lines}}</code>&rsquo; 中， <code class="t">${lines}</code> 的值在换行符处被分割，但在应用
&lsquo;<code class="t">(P)</code>&rsquo; 标记之前必须再次连接。
</p>
<p>如果不需要单个单词，则跳过该规则。
</p>
</dd>
<dt><code class="t">24.</code> <em class="emph">空参数移除</em></dt>
<dd><p>如果替换不在双引号中出现，任何由此产生的零长度参数，无论是来自标量还是数组元素，都会从插入命令行的参数列表中删除。
</p>
<p>严格来说，移除发生在后面，因为其他形式的替换也是如此；这里需要注意的是，移除发生在上述任何参数操作之后。
</p>
</dd>
<dt><code class="t">25.</code> <em class="emph">嵌套参数名替换</em></dt>
<dd><p>如果存在 &lsquo;<code class="t">(P)</code>&rsquo; 标记，且规则 <code class="t">4.</code> 尚未应用，则迄今为止的值将被视为参数名（可能包括下标表达式），并替换为相应的值，内部标记（规则
<code class="t">2.</code>）将应用于新值。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="ShiLi">
<h4 class="subsection"><span>14.3.3 示例<a class="copiable-link" href="#ShiLi"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Can-Shu-Kuo-Zhan-_002c-ShiLi"></a>
<p>标记 <code class="t">f</code> 用于逐行分割双引号替换。 例如，<code class="t">${(f)&quot;$(&lt;</code><var class="var">file</var><code class="t">)&quot;}</code>  会替换 <var class="var">file</var>
中被分割的内容，这样每一行都是结果数组中的一个元素。 与  <code class="t">$</code><code class="t">(&lt;</code><var class="var">file</var><code class="t">)</code>  单独使用的效果相比，
<code class="t">$</code><code class="t">(&lt;</code><var class="var">file</var><code class="t">)</code>  将文件按单词分割，而在双引号内使用同样的效果，这将文件的全部内容变成一个字符串。
</p>
<p>下面说明了嵌套参数展开的规则。 假设 <code class="t">$foo</code> 包含数组  <code class="t">(bar baz</code><code class="t">)</code> ：
</p>
<dl class="table">
<dt><code class="t">&quot;${(@)${foo}[1]}&quot;</code></dt>
<dd><p>结果是 <code class="t">b</code>。 首先，内部替换  <code class="t">&quot;${foo}&quot;</code>（没有数组 (<code class="t">@</code>) 标志）产生了单字结果  <code class="t">&quot;bar baz&quot;</code>。
外层替换  <code class="t">&quot;${(@)...[1]}&quot;</code> 检测到这是一个标量，因此（尽管有 &lsquo;<code class="t">(@)</code>&rsquo; 标志）下标选择了第一个字符。
</p>
</dd>
<dt><code class="t">&quot;${${(@)foo}[1]}&quot;</code></dt>
<dd><p>这将产生结果 &lsquo;<code class="t">bar</code>&rsquo;。 在这种情况下，内部替换 <code class="t">&quot;${(@)foo}&quot;</code> 产生数组 &lsquo;<code class="t">(bar baz</code><code class="t">)</code>&rsquo;。
外层替换 <code class="t">&quot;${...[1]}&quot;</code>  会检测到这是一个数组，并选择第一个单词。 这与简单情况 <code class="t">&quot;${foo[1]}&quot;</code> 类似。
</p>
</dd>
</dl>

<p>以分词和连词的规则为例，假设 <code class="t">$foo</code> 包含数组 &lsquo;<code class="t">(ax1 bx1</code><code class="t">)</code>&rsquo;。 那么
</p>
<dl class="table">
<dt><code class="t">${(s/x/)foo}</code></dt>
<dd><p>会产生 &lsquo;<code class="t">a</code>&rsquo;, &lsquo;<code class="t">1 b</code>&rsquo; 和 &lsquo;<code class="t">1</code>&rsquo;。
</p>
</dd>
<dt><code class="t">${(j/x/s/x/)foo}</code></dt>
<dd><p>会产生 &lsquo;<code class="t">a</code>&rsquo;, &lsquo;<code class="t">1</code>&rsquo;, &lsquo;<code class="t">b</code>&rsquo; 和 &lsquo;<code class="t">1</code>&rsquo;。
</p>
</dd>
<dt><code class="t">${(s/x/)foo%%1*}</code></dt>
<dd><p>产生 &lsquo;<code class="t">a</code>&rsquo; 和 &lsquo;<code class="t"> b</code>&rsquo;（注意多出的空格）。 由于替换发生在连接或拆分之前，因此操作首先生成修改后的数组 <code class="t">(ax
bx</code><code class="t">)</code> ，连接后得到  <code class="t">&quot;ax bx&quot;</code> ，然后拆分得到  &lsquo;<code class="t">a</code>&rsquo;, &lsquo;<code class="t"> b</code>&rsquo;  和  &lsquo;&rsquo;。
最后的空字符串将被省略，因为它不在双引号中。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_547d_4ee4_66ff_6362">

<h3 class="section" id="Ming-Ling-Ti-Huan-"><span>14.4 命令替换<a class="copiable-link" href="#Ming-Ling-Ti-Huan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Ming-Ling-Ti-Huan-"></a>
<a class="index-entry-id" id="index-Ti-Huan-_002c-Ming-Ling-"></a>
<p>在以美元符号开头的括号中括起来的命令，如 &lsquo;<code class="t">$(</code>...<code class="t">)</code>&rsquo;，或带重音符号的引号，如 &lsquo;<code class="t">`</code>...<code class="t">`</code>&rsquo;
，将被替换为它的标准输出，并删除尾部换行符。 如果替换内容没有用双引号括起来，则使用 <code class="t">IFS</code> 参数将输出内容分解成单词。
<a class="index-entry-id" id="index-IFS_002c-use-of-1"></a>
</p>
<p>&lsquo;<code class="t">$(cat</code> <var class="var">foo</var><code class="t">)</code>&rsquo; 可以被速度更快的 &lsquo;<code class="t">$(&lt;</code><var class="var">foo</var><code class="t">)</code>&rsquo; 替换。
在这种情况下，<var class="var">foo</var> 会进行单字 shell 扩展（<em class="emph">参数扩展</em>、<em class="emph">命令替换</em>和
<em class="emph">算术扩展</em>），但不会执行文件名生成。
</p>
<p>如果设置了选项 <code class="t">GLOB_SUBST</code>，则任何未加引号的命令替换结果，包括刚才提到的特殊形式，都可以用于文件名生成。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_7b97_672f_6269_5c55">

<h3 class="section" id="Suan-Zhu-Kuo-Zhan-"><span>14.5 算术扩展<a class="copiable-link" href="#Suan-Zhu-Kuo-Zhan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Suan-Zhu-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Suan-Zhu-"></a>
<p>形式为 &lsquo;<code class="t">$[</code><var class="var">exp</var><code class="t">]</code>&rsquo; 或 &lsquo;<code class="t">$((</code><var class="var">exp</var><code class="t">))</code>&rsquo; 的字符串会被算术表达式 <var class="var">exp</var>
的值所替代。 在求值之前，<var class="var">exp</var> 会进行 <em class="emph">参数扩展</em>、<em class="emph">命令替换</em> 和 <em class="emph">算术扩展</em>。 请参阅
<a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_62ec_53f7_6269_5c55">

<h3 class="section" id="Gua-Hao-Kuo-Zhan-"><span>14.6 括号扩展<a class="copiable-link" href="#Gua-Hao-Kuo-Zhan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Gua-Hao-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Gua-Hao-"></a>
<p>形式为 &lsquo;<var class="var">foo</var><code class="t">{</code><var class="var">xx</var><code class="t">,</code><var class="var">yy</var><code class="t">,</code><var class="var">zz</var><code class="t">}</code><var class="var">bar</var>&rsquo;
的字符串会扩展为单独的字 &lsquo;<var class="var">fooxxbar</var>&rsquo;, &lsquo;<var class="var">fooyybar</var>&rsquo; 和 &lsquo;<var class="var">foozzbar</var>&rsquo;。
保留从左到右的顺序。 该结构可以嵌套。 逗号可以加引号，以便按字面意思将其包含在单词中。
</p>
<p>形式为 &lsquo;<code class="t">{</code><var class="var">n1</var><code class="t">..</code><var class="var">n2</var><code class="t">}</code>&rsquo; 的表达式，其中 <var class="var">n1</var> 和 <var class="var">n2</var>
均为整数，会扩展为 <var class="var">n1</var> 和 <var class="var">n2</var> 之间的所有数字。 如果任一数字以 0 开头，所有生成的数字都会以 0
为前导填充，达到最小宽度，但对于负数，<code class="t">-</code> 字符也会包含在宽度中。 如果数字按递减顺序排列，则产生的序列也将按递减顺序排列。
</p>
<p>一个形式为 &lsquo;<code class="t">{</code><var class="var">n1</var><code class="t">..</code><var class="var">n2</var><code class="t">..</code><var class="var">n3</var><code class="t">}</code>&rsquo; 的表达式，其中
<var class="var">n1</var>、<var class="var">n2</var> 和 <var class="var">n3</var> 均为整数，将按上述方式展开，但只输出从 <var class="var">n1</var> 开始的第 <var class="var">n3</var> 个数字。
如果 <var class="var">n3</var> 为负数，数字将以相反的顺序输出，这与简单地交换 <var class="var">n1</var> 和 <var class="var">n2</var> 稍有不同，因为 <var class="var">n3</var>
的步长不能平均分割范围。 可以在三个数字中的任何一个指定零填充，在第三个数字中指定零填充可能会很有用，例如 &lsquo;<code class="t">{-99..100..01}</code>&rsquo;
，如果不能在前两个数字中的任何一个上打 0，就无法指定零填充（即填充为两个字符）。
</p>
<p>形式为 &lsquo;<code class="t">{</code><var class="var">c1</var><code class="t">..</code><var class="var">c2</var><code class="t">}</code>&rsquo; 的表达式，其中 <var class="var">c1</var> 和 <var class="var">c2</var>
为单个字符（可以是多字节字符），将扩展为内部使用的字符序列中 <var class="var">c1</var> 至 <var class="var">c2</var> 范围内的每个字符。 对于码位低于 128
的字符，则使用 US ASCII（这是大多数用户唯一需要的情况）。 如果中间的任何字符不可打印，将使用适当的引用使其可打印。
如果字符序列颠倒，则按相反顺序输出，例如，&lsquo;<code class="t">{d..a}</code>&rsquo; 被替换为 &lsquo;<code class="t">d c b a</code>&rsquo;。
</p>
<p>如果括号表达式与上述任何形式都不匹配，则保持不变，除非设置了选项 <code class="t">BRACE_CCL</code>（ &lsquo;brace character class&rsquo; =
&lsquo;括号字符类&rsquo; 的缩写）。
<a class="index-entry-id" id="index-BRACE_005fCCL_002c-use-of"></a>
在这种情况下，它将扩展为大括号之间的单个字符列表，并按照 ASCII 字符集中的字符顺序进行排序（目前不处理多字节字符）。 该语法类似于文件名生成中的
<code class="t">[</code>...<code class="t">]</code> 表达式：&lsquo;<code class="t">-</code>&rsquo; 被特殊处理以表示一系列字符，但作为第一个字符的 &lsquo;<code class="t">^</code>&rsquo; 或 &lsquo;<code class="t">!</code>&rsquo; 则被正常处理。
例如， &lsquo;<code class="t">{abcdef0-9}</code>&rsquo; 扩展为 16 个词 <code class="t">0 1 2 3 4 5 6 7 8 9 a b c d e f</code>。
</p>
<p>请注意，括号扩展并不是文件名生成（globbing）的一部分；在文件名生成之前，像  <code class="t">*/{foo,bar}</code>
这样的表达式会被拆分成两个独立的词 <code class="t">*/foo</code> 和 <code class="t">*/bar</code>。 特别要注意的是，如果 <em class="emph">either</em>
与两个表达式不匹配，就会产生  &lsquo;no match&rsquo;  错误；这一点与 <code class="t">*/(foo|bar)</code>
相反，后者被视为一个单独的模式，但在其他方面具有类似的效果。
</p>
<p>要将括号扩展与数组扩展结合起来，请参阅上文 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a>中描述的 <code class="t">${^</code><var class="var">spec</var><code class="t">}</code> 形式。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_6587_4ef6_540d_6269_5c55">

<h3 class="section" id="WenJian-Ming-Kuo-Zhan-"><span>14.7 文件名扩展<a class="copiable-link" href="#WenJian-Ming-Kuo-Zhan-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-WenJian-Ming-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-WenJian-Ming-"></a>
<p>每个单词都会被检查是否以未加引号的 &lsquo;<code class="t">~</code>&rsquo; 开头。 如果是，则检查词头至 &lsquo;<code class="t">/</code>&rsquo; 的部分，如果没有
&lsquo;<code class="t">/</code>&rsquo;，则检查词尾部分，看是否可以用这里描述的方法之一进行替换。 如果可以，则 &lsquo;<code class="t">~</code>&rsquo; 和被检查的部分将被替换为相应的替代值。
</p>
<p>&lsquo;<code class="t">~</code>&rsquo; 本身会被 <code class="t">$HOME</code> 的值替换。 后跟 &lsquo;<code class="t">+</code>&rsquo; 或 &lsquo;<code class="t">-</code>&rsquo; 的 &lsquo;<code class="t">~</code>&rsquo;
会分别被当前或上一个工作目录替换。
</p>
<p>后跟数字的 &lsquo;<code class="t">~</code>&rsquo; 会被目录堆栈中该位置的目录替换。   &lsquo;<code class="t">~0</code>&rsquo; 等同于 &lsquo;<code class="t">~+</code>&rsquo;，而 &lsquo;<code class="t">~1</code>&rsquo; 是目录栈的顶层。
后跟数字的 &lsquo;<code class="t">~+</code>&rsquo; 会被目录堆栈中该位置的目录替换。   &lsquo;<code class="t">~+0</code>&rsquo; 等同于 &lsquo;<code class="t">~+</code>&rsquo;， &lsquo;<code class="t">~+1</code>&rsquo; 是目录栈的顶层。
后跟数字的  &lsquo;<code class="t">~-</code>&rsquo; 会被从堆栈底部起多少个位置的目录替换。  &lsquo;<code class="t">~-0</code>&rsquo; 为堆栈底部。
<a class="index-entry-id" id="index-PUSHD_005fMINUS_002c-use-of"></a>
后面跟一个数字，<code class="t">PUSHD_MINUS</code> 选项可以交换 &lsquo;<code class="t">~+</code>&rsquo; 和 &lsquo;<code class="t">~-</code>&rsquo; 的效果。
</p>

<hr>
<div class="subsection-level-extent" id="g_t_52a8_6001_547d_540d_76ee_5f55">

<h4 class="subsection" id="Dong-Tai-Ming-Ming-Mu-Lu-"><span>14.7.1 动态命名目录<a class="copiable-link" href="#Dong-Tai-Ming-Ming-Mu-Lu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Mu-Lu-_002c-Ming-Ming-_002c-Dong-Tai-"></a>
<a class="index-entry-id" id="index-Ming-Ming-Mu-Lu-_002c-Dong-Tai-"></a>
<a class="index-entry-id" id="index-Dong-Tai-Ming-Ming-Mu-Lu-"></a>
<p>如果函数 <code class="t">zsh_directory_name</code> 已存在，或者 shell 变量 <code class="t">zsh_directory_name_functions</code>
已存在并包含函数名数组，那么这些函数将用于实现动态目录命名。
这些函数会依次尝试，直到其中一个返回状态为零，因此函数必须测试它们是否能处理相关情况，并返回适当的状态。
</p>
<p>后跟未加引号的方括号里的字符串 <var class="var">namstr</var> 的 &lsquo;<code class="t">~</code>&rsquo; 会被视为动态目录名。 请注意，第一个未加引号的结尾方括号总是
<var class="var">namstr</var> 的结束符。 shell 函数有两个参数：字符串 <code class="t">n</code>（表示名称）和 <var class="var">namstr</var>。 它要么将数组
<code class="t">reply</code> 设置为单个元素，即与名称对应的目录，并返回状态为零（作为最后一条语句执行赋值通常就足够了），要么返回状态非零。
在前一种情况下，reply 的元素被用作目录；在后一种情况下，替换被视为失败。 如果所有函数都失败，且选项 <code class="t">NOMATCH</code>
被设置，则会出现错误。
</p>
<p>上述定义的函数还可用于查看目录是否可以转化为名称，例如在打印目录堆栈或在提示符中扩展 <code class="t">%~</code> 时。 在这种情况下，每个函数都会传递两个参数：字符串
<code class="t">d</code>（表示目录）和动态命名的候选名称。 如果函数无法命名目录，则函数应返回非零状态，或者将数组 reply
设置为由两个元素组成：第一个元素是目录的动态名称（如在  &lsquo;<code class="t">~[</code><var class="var">...</var><code class="t">]</code>&rsquo;
中显示的名称），第二个元素是要替换的目录的前缀长度。 例如，如果试用目录是 <code class="t">/home/myname/src/zsh</code>，而
<code class="t">/home/myname/src</code>（有 16 个字符）的动态名称是 <code class="t">s</code>，那么函数会设置
</p>
<div class="example">
<pre class="example-preformatted">reply=(s 16)
</pre></div>

<p>这样返回的目录名称将与目录路径部分可能的静态名称进行比较，如下所述；如果匹配的前缀长度（示例中为 16）长于任何静态名称所匹配的长度，则使用该名称。
</p>
<p>并不要求函数同时实现 <code class="t">n</code> 和 <code class="t">d</code> 调用；例如，某些动态扩展形式可能不适合收缩为名称。 在这种情况下，任何带有第一个参数 <code class="t">d</code>
的调用都应返回一个非零状态。
</p>
<p>补全系统会调用 &lsquo;<code class="t">zsh_directory_name c</code>&rsquo;，后面是数组 <code class="t">zsh_directory_name_functions</code>
中的元素（如果存在）的等价调用，以补全目录的动态名称。 其代码应与 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a>中描述的其他补全函数相同。
</p>
<p>作为一个工作示例，下面的函数可将以 <code class="t">p:</code> 字符串开头的任何动态名称扩展到 <code class="t">/home/pws/perforce</code> 以下的目录。
在这个简单的例子中，目录的静态名称也同样有效。
</p>
<div class="example">
<pre class="example-preformatted">zsh_directory_name() {
  emulate -L zsh
  setopt extendedglob
  local -a match mbegin mend
  if [[ $1 = d ]]; then
    # turn the directory into a name
    if [[ $2 = (#b)(/home/pws/perforce/)([^/]##)* ]]; then
      typeset -ga reply
      reply=(p:$match[2] $(( ${#match[1]} + ${#match[2]} )) )
    else
      return 1
    fi
  elif [[ $1 = n ]]; then
    # turn the name into a directory
    [[ $2 != (#b)p:(?*) ]] &amp;&amp; return 1
    typeset -ga reply
    reply=(/home/pws/perforce/$match[1])
  elif [[ $1 = c ]]; then
    # complete names
    local expl
    local -a dirs
    dirs=(/home/pws/perforce/*(/:t))
    dirs=(p:${^dirs})
    _wanted dynamic-dirs expl 'dynamic directory' compadd -S\] -a dirs
    return
  else
    return 1
  fi
  return 0
}
</pre></div>

<hr>
</div>
<div class="subsection-level-extent" id="g_t_9759_6001_547d_540d_76ee_5f55">

<h4 class="subsection" id="Jing-Tai-Ming-Ming-Mu-Lu-"><span>14.7.2 静态命名目录<a class="copiable-link" href="#Jing-Tai-Ming-Ming-Mu-Lu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Mu-Lu-_002c-Ming-Ming-_002c-Jing-Tai-"></a>
<a class="index-entry-id" id="index-Ming-Ming-Mu-Lu-_002c-Jing-Tai-"></a>
<a class="index-entry-id" id="index-Jing-Tai-Ming-Ming-Mu-Lu-"></a>
<p>&lsquo;<code class="t">~</code>&rsquo; 后跟任何字母数字字符或下划线 (&lsquo;<code class="t">_</code>&rsquo;)、连字符 (&lsquo;<code class="t">-</code>&rsquo;)或点
(&lsquo;<code class="t">.</code>&rsquo;)组成的任何未包含（covered）的内容，都会作为命名目录被查找，如果找到，则用该命名目录的值替换。
命名目录通常是系统中用户的主目录。 如果 &lsquo;<code class="t">~</code>&rsquo; 后面的文本是以 &lsquo;<code class="t">/</code>&rsquo;开头的字符串 shell 参数的名称，也可以定义命名目录。
请注意，目录路径中的尾部斜线将被删除（但原始参数不会被修改）。
</p>
<p>也可以使用 <code class="t">hash</code> 内置命令的 <code class="t">-d</code> 选项来定义目录名。
</p>
<p>当 shell 打印路径时（例如，在提示符中扩展 <code class="t">%~</code> 或打印目录栈时），会检查路径的前缀是否为已命名的目录。 如果有，那么前缀部分就会被替换为
&lsquo;<code class="t">~</code>&rsquo; ，然后是目录名。 在引用目录的两种方式中，使用较短的一种，即目录名或完整路径；如果两者长度相同，则使用目录名。 参数 <code class="t">$PWD</code>
和 <code class="t">$OLDPWD</code> 绝不会以这种方式缩写。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_0060_003d_0027-_6269_5c55">

<h4 class="subsection" id="g_t_0060_003d_0027-Kuo-Zhan-"><span>14.7.3 &lsquo;=&rsquo; 扩展<a class="copiable-link" href="#g_t_0060_003d_0027-Kuo-Zhan-"> &para;</a></span></h4>

<p>如果一个单词以未加引号的 &lsquo;<code class="t">=</code>&rsquo; 开头，且设置了 <code class="t">EQUALS</code> 选项，则该单词的其余部分将作为命令名称。
如果存在以该名称开头的命令，则会用命令的完整路径名替换该单词。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_6ce8_610f">

<h4 class="subsection" id="Zhu-Yi-"><span>14.7.4 注意<a class="copiable-link" href="#Zhu-Yi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-WenJian-Ming-Kuo-Zhan-_002c-Zhu-Yi-"></a>
<p>文件名扩展在参数赋值的右侧执行，包括出现在 <code class="t">typeset</code> 系列命令之后的参数。 在这种情况下，右侧将按照 <code class="t">PATH</code>
参数的方式，被视为一个以冒号分隔的列表，因此， &lsquo;<code class="t">~</code>&rsquo; 或 &lsquo;<code class="t">=</code>&rsquo; 后跟 &lsquo;<code class="t">:</code>&rsquo; 均可进行扩展。 所有这些行为都可以通过引用
&lsquo;<code class="t">~</code>&rsquo;、 &lsquo;<code class="t">=</code>&rsquo; 或整个表达式（而不仅仅是冒号）来禁用；<code class="t">EQUALS</code>选项也同样受到尊守。
</p>
<p>如果设置了选项 <code class="t">MAGIC_EQUAL_SUBST</code>，任何未被引用的 shell 参数，其形式为
&lsquo;<var class="var">identifier</var><code class="t">=</code><var class="var">expression</var>&rsquo;，都有资格按照上段所述进行文件扩展。 引用第一个 &lsquo;<code class="t">=</code>&rsquo;
也会抑制这种情况。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_6587_4ef6_540d_751f_6210">

<h3 class="section" id="WenJian-Ming-Sheng-Cheng-"><span>14.8 文件名生成<a class="copiable-link" href="#WenJian-Ming-Sheng-Cheng-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-WenJian-Ming-Sheng-Cheng-"></a>
<p>如果一个单词包含 &lsquo;<code class="t">*</code>&rsquo;, &lsquo;<code class="t">(</code>&rsquo;, &lsquo;<code class="t">|</code>&rsquo;, &lsquo;<code class="t">&lt;</code>&rsquo;, &lsquo;<code class="t">[</code>&rsquo;, or &lsquo;<code class="t">?</code>&rsquo;字符
中的一个未加引号实例，除非 <code class="t">GLOB</code> 选项未设置，否则该单词将被视为文件名生成的模式。
<a class="index-entry-id" id="index-GLOB_002c-use-of"></a>
如果设置了 <code class="t">EXTENDED_GLOB</code> 选项，
<a class="index-entry-id" id="index-EXTENDED_005fGLOB_002c-use-of"></a>
 &lsquo;<code class="t">^</code>&rsquo; 和 &lsquo;<code class="t">#</code>&rsquo; 字符也表示模式，否则 shell 不会对它们进行特殊处理。
</p>
<p>单词会被匹配模式的经排序后的文件名列表替换。 如果没有找到匹配的模式，shell 会给出错误信息，除非设置了 <code class="t">NULL_GLOB</code> 选项，
<a class="index-entry-id" id="index-NULL_005fGLOB_002c-use-of"></a>
在这种情况下，单词将被删除；或者，除非 <code class="t">NOMATCH</code> 选项未被设置，在这种情况下，单词将保持不变。
<a class="index-entry-id" id="index-NOMATCH_002c-use-of"></a>
</p>
<p>在文件名生成时，必须明确匹配字符 &lsquo;<code class="t">/</code>&rsquo; ；此外，除非设置了 <code class="t">GLOB_DOTS</code> 选项，否则必须明确匹配位于模式开头或 &lsquo;<code class="t">/</code>&rsquo;
之后的 &lsquo;<code class="t">.</code>&rsquo; 。
<a class="index-entry-id" id="index-GLOB_005fDOTS_002c-use-of"></a>
没有文件名生成模式与 &lsquo;<code class="t">.</code>&rsquo; 或 &lsquo;<code class="t">..</code>&rsquo; 文件匹配。 在其他模式匹配情况下， &lsquo;<code class="t">/</code>&rsquo; 和 &lsquo;<code class="t">.</code>&rsquo; 不会被特殊处理。
</p>
<div class="subsection-level-extent" id="Glob-Cao-Zuo-Fu-">
<h4 class="subsection"><span>14.8.1 Glob 操作符<a class="copiable-link" href="#Glob-Cao-Zuo-Fu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Glob-Cao-Zuo-Fu-"></a>
<dl class="table">
<dt><code class="t">*</code></dt>
<dd><p>匹配任何字符串，包括空字符串。
</p>
</dd>
<dt><code class="t">?</code></dt>
<dd><p>匹配任何字符。
</p>
</dd>
<dt><code class="t">[</code>...<code class="t">]</code></dt>
<dd><p>匹配所包含（enclosed）的任何字符。 可以通过用 &lsquo;<code class="t">-</code>&rsquo; 分隔两个字符来指定字符范围。&lsquo;<code class="t">-</code>&rsquo; 或 &lsquo;<code class="t">]</code>&rsquo;
可作为列表中的第一个字符进行匹配。
<a class="index-entry-id" id="index-Zi-Fu-Lei-"></a>
还有几类命名的字符，其形式为 &lsquo;<code class="t">[:</code><var class="var">name</var><code class="t">:]</code>&rsquo; ，含义如下。
第一组使用操作系统提供的宏来测试给定的字符组合，包括因本地语言设置而进行的任何修改，参见 ctype(3)：
</p>
<dl class="table">
<dt><code class="t">[:alnum:]</code></dt>
<dd><p>字符为字母数字
</p>
</dd>
<dt><code class="t">[:alpha:]</code></dt>
<dd><p>字符为字母
</p>
</dd>
<dt><code class="t">[:ascii:]</code></dt>
<dd><p>字符为 7 位，即未设置最高位的单字节字符。
</p>
</dd>
<dt><code class="t">[:blank:]</code></dt>
<dd><p>该字符为空白字符
</p>
</dd>
<dt><code class="t">[:cntrl:]</code></dt>
<dd><p>该字符为控制字符
</p>
</dd>
<dt><code class="t">[:digit:]</code></dt>
<dd><p>字符为十进制数字
</p>
</dd>
<dt><code class="t">[:graph:]</code></dt>
<dd><p>该字符是除空格外的可打印字符
</p>
</dd>
<dt><code class="t">[:lower:]</code></dt>
<dd><p>字符为小写字母
</p>
</dd>
<dt><code class="t">[:print:]</code></dt>
<dd><p>字符是可打印字符
</p>
</dd>
<dt><code class="t">[:punct:]</code></dt>
<dd><p>该字符可打印，但既不是字母数字，也不是空格
</p>
</dd>
<dt><code class="t">[:space:]</code></dt>
<dd><p>该字符为空白字符
</p>
</dd>
<dt><code class="t">[:upper:]</code></dt>
<dd><p>字符为大写字母
</p>
</dd>
<dt><code class="t">[:xdigit:]</code></dt>
<dd><p>字符是十六进制数字
</p>
</dd>
</dl>

<p>另一组命名类，由 shell 内部处理，对本地语言不敏感：
</p>
<dl class="table">
<dt><code class="t">[:IDENT:]</code></dt>
<dd><p>允许该字符构成 shell 标识的一部分，例如参数名；该测试尊重 <code class="t">POSIX_IDENTIFIERS</code> 选项
</p>
</dd>
<dt><code class="t">[:IFS:]</code></dt>
<dd><p>该字符用作输入字段分隔符，即包含在 <code class="t">IFS</code> 参数中
</p>
</dd>
<dt><code class="t">[:IFSSPACE:]</code></dt>
<dd><p>该字符为 IFS 空白字符；参见 <a class="ref" href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a>中 <code class="t">IFS</code> 的文档。
</p>
</dd>
<dt><code class="t">[:INCOMPLETE:]</code></dt>
<dd><p>匹配不完整多字节字符开头的字节。 请注意，可能会有一个以上的字节序列共同构成一个多字节字符的前缀。 要测试可能不完整的字节序列，请使用模式
&lsquo;<code class="t">[[:INCOMPLETE:]]*</code>&rsquo;。 该模式永远不会匹配以有效多字节字符开头的序列。
</p>
</dd>
<dt><code class="t">[:INVALID:]</code></dt>
<dd><p>匹配不以有效多字节字符开头的字节。 请注意，这可能是不完整多字节字符的延续字节，因为由无效和不完整多字节字符组成的多字节字符串的任何部分都被视为单字节。
</p>
</dd>
<dt><code class="t">[:WORD:]</code></dt>
<dd><p>该字符被视为单词的一部分；该测试对 <code class="t">WORDCHARS</code> 参数的值很敏感
</p>
</dd>
</dl>

<p>请注意，方括号是在包围整个字符集的方括号之外的，因此要测试单个字母数字字符，需要使用 &lsquo;<code class="t">[[:alnum:]]</code>&rsquo;。
已命名字符集可与其他类型一起使用，例如 &lsquo;<code class="t">[[:alpha:]0-9]</code>&rsquo; 。
</p>
</dd>
<dt><code class="t">[^</code>...<code class="t">]</code></dt>
<dt><code class="t">[!</code>...<code class="t">]</code></dt>
<dd><p>与  <code class="t">[</code>...<code class="t">]</code> 相似，但它匹配的字符不在给定的字符集中。
</p>
</dd>
<dt><code class="t">&lt;</code>[<var class="var">x</var>]<code class="t">-</code>[<var class="var">y</var>]<code class="t">&gt;</code></dt>
<dd><p>匹配 <var class="var">x</var> 至 <var class="var">y</var>（含）范围内的任意数字。 可以省略任何一个数字，使范围不受限制；因此， &lsquo;<code class="t">&lt;-&gt;</code>&rsquo; 可以匹配任何数字。
要匹配单个数字， <code class="t">[</code>...<code class="t">]</code> 形式更有效。
</p>
<p>在使用与这种形式的模式相近的其他通配符时要小心；例如，<code class="t">&lt;0-9&gt;*</code> 实际上将匹配字符串开头的任何数字， 因为 &lsquo;<code class="t">&lt;0-9&gt;</code>&rsquo;
将匹配第一个数字，而 &lsquo;<code class="t">*</code>&rsquo; 将匹配任何其他数字。这对不小心的人来说是个陷阱，但实际上是 &quot;尽可能长的匹配总是成功的 &quot;这一规则的必然结果。
可以使用 &lsquo;<code class="t">&lt;0-9&gt;[^[:digit:]]*</code>&rsquo; 等表达式来代替。
</p>
</dd>
<dt><code class="t">(</code>...<code class="t">)</code></dt>
<dd><p>与括起来的模式匹配。 用于分组。 如果设置了 <code class="t">KSH_GLOB</code>选项，那么紧接在 &lsquo;<code class="t">(</code>&rsquo; 之前的 &lsquo;<code class="t">@</code>&rsquo;, &lsquo;<code class="t">*</code>&rsquo;,
&lsquo;<code class="t">+</code>&rsquo;, &lsquo;<code class="t">?</code>&rsquo; 或&quot; &lsquo;<code class="t">!</code>&rsquo; 将被特殊处理，详情如下。选项 <code class="t">SH_GLOB</code> 可以防止以这种方式使用空括号（bare
parentheses），但 <code class="t">KSH_GLOB</code> 选项仍然可用。
</p>
<p>请注意，分组不能扩展到多个目录：在分组中出现 &lsquo;<code class="t">/</code>&rsquo; 是错误的（这只适用于文件名生成中使用的模式）。 但有一个例外：以
<code class="t">(</code><var class="var">pat</var><code class="t">/)#</code> 形式出现的组作为一个完整的路径段，可以匹配一系列目录。 例如， <code class="t">foo/(a*/)#bar</code>  匹配
<code class="t">foo/bar</code>、<code class="t">foo/any/bar</code>、<code class="t">foo/any/anyother/bar</code>，以此类推。
</p>
</dd>
<dt><var class="var">x</var><code class="t">|</code><var class="var">y</var></dt>
<dd><p>匹配 <var class="var">x</var> 或 <var class="var">y</var>。 该操作符的优先级低于其他操作符。  &lsquo;<code class="t">|</code>&rsquo;  字符必须在括号内，以免被解释为管道。
从左到右依次选择。
</p>
</dd>
<dt><code class="t">^</code><var class="var">x</var></dt>
<dd><p>(需要设置 <code class="t">EXTENDED_GLOB</code>）匹配模式 <var class="var">x</var> 以外的任何内容。 其优先级高于 &lsquo;<code class="t">/</code>&rsquo;，因此
&lsquo;<code class="t">^foo/bar</code>&rsquo; 将搜索 &lsquo;<code class="t">.</code>&rsquo; 中除 &lsquo;<code class="t">./foo</code>&rsquo; 之外的目录，以查找名为 &lsquo;<code class="t">bar</code>&rsquo; 的文件。
</p>
</dd>
<dt><var class="var">x</var><code class="t">~</code><var class="var">y</var></dt>
<dd><p>(需要设置 <code class="t">EXTENDED_GLOB</code>）匹配任何匹配 <var class="var">x</var> 但不匹配 <var class="var">y</var> 的模式。 它的优先级比除 &lsquo;<code class="t">|</code>&rsquo;
之外的任何操作符都低，因此 &lsquo;<code class="t">*/*~foo/bar</code>&rsquo; 将搜索 &lsquo;<code class="t">.</code>&rsquo; 中所有目录下的所有文件，如果有匹配，则排除
&lsquo;<code class="t">foo/bar</code>&rsquo;。&lsquo;<var class="var">foo</var><code class="t">~</code><var class="var">bar</var><code class="t">~</code><var class="var">baz</var>&rsquo; 可以排除多个模式。
在排除模式（<var class="var">y</var>）中，&lsquo;<code class="t">/</code>&rsquo; 和 &lsquo;<code class="t">.</code>&rsquo; 不会像通常的全局模式(globbing)那样被特殊处理。
</p>
</dd>
<dt><var class="var">x</var><code class="t">#</code></dt>
<dd><p>(需要设置 <code class="t">EXTENDED_GLOB</code>）匹配模式 <var class="var">x</var> 的零次或多次出现。 该操作符具有高优先级；&lsquo;<code class="t">12#</code>&rsquo; 等同于
&lsquo;<code class="t">1(2#)</code>&rsquo;，而不是 &lsquo;<code class="t">(12)#</code>&rsquo;。 如果未加引号的 &lsquo;<code class="t">#</code>&rsquo; 跟在不能重复的内容后面，则属于错误；这包括空字符串、已跟在
&lsquo;<code class="t">##</code>&rsquo; 后面的模式，或 <code class="t">KSH_GLOB</code> 模式中的括号（例如， &lsquo;<code class="t">!(</code><var class="var">foo</var><code class="t">)#</code>&rsquo; 无效，必须替换为
&lsquo;<code class="t">*(!(</code><var class="var">foo</var><code class="t">))</code>&rsquo;)。
</p>
</dd>
<dt><var class="var">x</var><code class="t">##</code></dt>
<dd><p>(需要设置 <code class="t">EXTENDED_GLOB</code>）匹配模式 <var class="var">x</var> 的一次或多次出现。 该操作符具有高优先级； &lsquo;<code class="t">12##</code>&rsquo; 等同于
&lsquo;<code class="t">1(2##)</code>&rsquo;，而不是 &lsquo;<code class="t">(12)##</code>&rsquo;。 同时出现的 &lsquo;<code class="t">#</code>&rsquo; 字符不得超过两个。 (注意可能会与格式为
&lsquo;<code class="t">1(2##)</code>&rsquo; 的 glob 限定符发生冲突，因此应避免使用）。
</p>
</dd>
</dl>

</div>
<div class="subsection-level-extent" id="Lei-ksh-Glob-Cao-Zuo-Fu-">
<h4 class="subsection"><span>14.8.2 类ksh Glob 操作符<a class="copiable-link" href="#Lei-ksh-Glob-Cao-Zuo-Fu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-KSH_005fGLOB_002c-use-of"></a>
<p>如果设置了 <code class="t">KSH_GLOB</code>选项，括号的效果可以通过前面的 &lsquo;<code class="t">@</code>&rsquo;, &lsquo;<code class="t">*</code>&rsquo;, &lsquo;<code class="t">+</code>&rsquo;, &lsquo;<code class="t">?</code>&rsquo; 或
&lsquo;<code class="t">!</code>&rsquo; 来修改。 该字符不需要不加引号就能产生特殊效果，但 &lsquo;<code class="t">(</code>&rsquo; 必须不加引号。
</p>
<dl class="table">
<dt><code class="t">@(</code>...<code class="t">)</code></dt>
<dd><p>匹配括号中的模式。 (如 &lsquo;<code class="t">(</code>...<code class="t">)</code>&rsquo;）。
</p>
</dd>
<dt><code class="t">*(</code>...<code class="t">)</code></dt>
<dd><p>匹配任意数量的出现。 (类似于 &lsquo;<code class="t">(</code>...<code class="t">)#</code>&rsquo;，但不支持递归目录搜索）。
</p>
</dd>
<dt><code class="t">+(</code>...<code class="t">)</code></dt>
<dd><p>至少匹配一次出现。 (类似于 &lsquo;<code class="t">(</code>...<code class="t">)##</code>&rsquo;，但不支持递归目录搜索）。
</p>
</dd>
<dt><code class="t">?(</code>...<code class="t">)</code></dt>
<dd><p>匹配零次或一次出现。 (类似于 &lsquo;<code class="t">(|</code>...<code class="t">)</code>&rsquo;）。
</p>
</dd>
<dt><code class="t">!(</code>...<code class="t">)</code></dt>
<dd><p>匹配括号内表达式以外的任何内容。 (类似于  &lsquo;<code class="t">(^(</code>...<code class="t">))</code>&rsquo;）。
</p>
</dd>
</dl>

</div>
<div class="subsection-level-extent" id="You-Xian-Ji-">
<h4 class="subsection"><span>14.8.3 优先级<a class="copiable-link" href="#You-Xian-Ji-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-glob-Cao-Zuo-Fu-De-You-Xian-Ji-"></a>
<p>上述运算符的优先级为（最高） &lsquo;<code class="t">^</code>&rsquo;, &lsquo;<code class="t">/</code>&rsquo;, &lsquo;<code class="t">~</code>&rsquo;, &lsquo;<code class="t">|</code>&rsquo;
（最低）；其余运算符从左到右被简单地视为字符串的一部分，其中 &lsquo;<code class="t">#</code>&rsquo; 和 &lsquo;<code class="t">##</code>&rsquo; 适用于前面尽可能短的单位（即字符、 &lsquo;<code class="t">?</code>&rsquo;,
&lsquo;<code class="t">[</code>...<code class="t">]</code>&rsquo;, &lsquo;<code class="t">&lt;</code>...<code class="t">&gt;</code>&rsquo;，或一个带括号的表达式）。
 如上所述，作为目录分隔符的 &lsquo;<code class="t">/</code>&rsquo;  可能不会出现在括号内，而 &lsquo;<code class="t">|</code>&rsquo;
则必须出现在括号内；在文件名生成以外的其他情况下使用的模式中（例如，在 <code class="t">case</code> 语句和  &lsquo;<code class="t">[[</code>...<code class="t">]]</code>&rsquo;
中的测试），&lsquo;<code class="t">/</code>&rsquo; 并不特殊；在文件名模式中括号外出现的 &lsquo;<code class="t">~</code>&rsquo; 之后，&lsquo;<code class="t">/</code>&rsquo; 也不特殊。
</p>
</div>
<div class="subsection-level-extent" id="Globbing-Biao-Zhi-">
<h4 class="subsection"><span>14.8.4 Globbing 标志<a class="copiable-link" href="#Globbing-Biao-Zhi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-globbing-Biao-Zhi-"></a>
<a class="index-entry-id" id="index-glob-Biao-Zhi-"></a>
<p>有多种标志会影响其右侧直至包围组的末尾或模式的末尾的任何文本；这些标志需要使用 <code class="t">EXTENDED_GLOB</code> 选项。所有标志的形式都是
<code class="t">(#</code><var class="var">X</var><code class="t">)</code>，其中 <var class="var">X</var> 可以是以下形式之一：
</p>
<dl class="table">
<dt><code class="t">i</code></dt>
<dd><p>大小写不敏感：模式中的大写或小写字符与大写或小写字符匹配。
</p>
</dd>
<dt><code class="t">l</code></dt>
<dd><p>模式中的小写字符匹配大写或小写字符；模式中的大写字符仍然只匹配大写字符。
</p>
</dd>
<dt><code class="t">I</code></dt>
<dd><p>区分大小写：局部反转 <code class="t">i</code> 或 <code class="t">l</code> 的效果。
</p>
</dd>
<dt><a class="index-entry-id" id="index-mbegin"></a>
<a class="index-entry-id" id="index-mend"></a>
<a id="index-match"></a><span><code class="t">b</code><a class="copiable-link" href="#index-match"> &para;</a></span></dt>
<dd><p>为模式中的括号组激活反向引用；这在文件名生成中不起作用。 当一个带有激活括号组的模式被匹配时，与括号组匹配的字符串将存储在数组
<code class="t">$match</code>中，与括号组匹配的字符串的起始索引存储在数组 <code class="t">$mbegin</code>中，结束索引存储在数组
<code class="t">$mend</code>中，每个数组的第一个元素对应于第一个括号组，以此类推。 这些数组与 shell 并无其他特殊关系。 索引使用与参数替换相同的约定，因此
<code class="t">$mend</code> 和 <code class="t">$mbegin</code> 中的元素可以用于下标；<code class="t">KSH_ARRAYS</code> 选项受到尊守。
全局标志集不视为括号组；只能引用前九个有效括号。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">foo=&quot;a_string_with_a_message&quot;
if [[ $foo = (a|an)_(#b)(*) ]]; then
  print ${foo[$mbegin[1],$mend[1]]}
fi
</pre></div>

<p>打印 &lsquo;<code class="t">string_with_a_message</code>&rsquo;。 请注意，第一组括号位于 <code class="t">(#b)</code> 之前，不会产生反向引用。
</p>
<p>除文件名生成外，反向引用适用于所有形式的模式匹配，但请注意，在对整个数组（如
<code class="t">${</code><var class="var">array</var><code class="t">#</code><var class="var">pattern</var><code class="t">}</code> ）或全局替换（如
<code class="t">${</code><var class="var">param</var><code class="t">//</code><var class="var">pat</var><code class="t">/</code><var class="var">repl</var><code class="t">}</code> ）执行匹配时，只有最后一次匹配的数据可用。
在全局替换的情况下，这可能仍然有用。 请参阅下面的 <code class="t">m</code> 标志示例。
</p>
<p>反向引用的编号严格遵循模式字符串中从左到右的开头括号顺序，但括号组可以嵌套。 对于括号后的 &lsquo;<code class="t">#</code>&rsquo; 或 &lsquo;<code class="t">##</code>&rsquo;有特殊规定。
只有括号的最后一个匹配才会被记住：例如，在 &lsquo;<code class="t">[[ abab = (#b)([ab])# ]]</code>&rsquo; 中，只有最后的 &lsquo;<code class="t">b</code>&rsquo; 才会被存储在
<code class="t">match[1]</code> 中。 因此，可能需要额外的括号来匹配完整的段：例如，使用&lsquo;<code class="t">X((ab|cd)#)Y</code>&rsquo;  来匹配 &lsquo;<code class="t">X</code>&rsquo; 和
&lsquo;<code class="t">Y</code>&rsquo; 之间的整个 &lsquo;<code class="t">ab</code>&rsquo; 或 &lsquo;<code class="t">cd</code>&rsquo; 字符串，使用 <code class="t">$match[1]</code> 的值，而不是 <code class="t">$match[2]</code>。
</p>
<p>如果匹配失败，所有参数都不会改变，因此在某些情况下可能需要事先初始化这些参数。
如果某些反向引用匹配失败&ndash;如果这些反向引用位于匹配失败的备用分支中，或者如果这些反向引用紧跟 <code class="t">#</code>
且匹配次数为零&ndash;那么匹配的字符串将被设置为空字符串，开始和结束索引将被设置为-1。
</p>
<p>有反向引用的模式匹配比没有反向引用的模式匹配稍慢。
</p>
</dd>
<dt><code class="t">B</code></dt>
<dd><p>停用反向引用，并从此反转 <code class="t">b</code> 标记的作用。
</p>
</dd>
<dt><code class="t">c</code><var class="var">N</var><code class="t">,</code><var class="var">M</var></dt>
<dd><p>标志  <code class="t">(#c</code><var class="var">N</var><code class="t">,</code><var class="var">M</var><code class="t">)</code>  可以在任何可以使用 <code class="t">#</code> 或 <code class="t">##</code>
操作符的地方使用，但在文件名生成中的表达式 &lsquo;<code class="t">(*/)#</code>&rsquo; 和 &lsquo;<code class="t">(*/)##</code>&rsquo; 中除外，其中 &lsquo;<code class="t">/</code>&rsquo; 有特殊含义；
它不能与其他 globbing 标志结合使用，如果放错位置，就会出现坏模式错误。 它等同于正则表达式中的
<code class="t">{</code><var class="var">N</var><code class="t">,</code><var class="var">M</var><code class="t">}</code> 。 要求前一个字符或组匹配 <var class="var">N</var> 到 <var class="var">M</var> 次，包括 <var class="var">N</var>
和 <var class="var">M</var> 次。 格式 <code class="t">(#c</code><var class="var">N</var><code class="t">)</code> 要求匹配 <code class="t">N</code> 次； <code class="t">(#c,</code><var class="var">M</var><code class="t">)</code>
等同于指定 <var class="var">N</var> 为 0； <code class="t">(#c</code><var class="var">N</var><code class="t">,)</code> 则表示对匹配次数没有最大限制。
</p>
</dd>
<dt><a class="index-entry-id" id="index-MBEGIN"></a>
<a class="index-entry-id" id="index-MEND"></a>
<a id="index-MATCH"></a><span><code class="t">m</code><a class="copiable-link" href="#index-MATCH"> &para;</a></span></dt>
<dd><p>设置对整个匹配字符串的匹配数据的引用；这类似于反向引用，在文件名生成中不起作用。 该标记必须在模式末尾有效，即不属于某个组。参数
<code class="t">$MATCH</code>、<code class="t">$MBEGIN</code> 和 <code class="t">$MEND</code> 将分别设置为匹配的字符串以及字符串开始和结束的索引。
这在参数替换中最有用，否则匹配的字符串就显而易见了。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">arr=(veldt jynx grimps waqf zho buck)
print ${arr//(#m)[aeiou]/${(U)MATCH}}
</pre></div>

<p>将所有匹配项（即所有元音）强制改为大写，打印 &lsquo;<code class="t">vEldt jynx grImps wAqf zhO bUck</code>&rsquo;。
</p>
<p>与反向引用不同，使用匹配引用不会影响速度，只是在所示示例中需要对替换字符串进行额外的替换。
</p>
</dd>
<dt><code class="t">M</code></dt>
<dd><p>停用 <code class="t">m</code> 标志，因此不会创建匹配数据的引用。
</p>
</dd>
<dt><code class="t">a</code><var class="var">num</var></dt>
<dd><p>近似匹配： 在模式匹配的字符串中允许出现 <var class="var">num</var> 个错误。 相关规则将在下一小节中介绍。
</p>
</dd>
<dt><code class="t">s</code>, <code class="t">e</code></dt>
<dd><p>与其他标志不同，这些标志只有局部效果，而且每个标志都必须单独出现： &lsquo;<code class="t">(#s)</code>&rsquo; 和 &lsquo;<code class="t">(#e)</code>&rsquo; 是唯一有效的形式。
&lsquo;<code class="t">(#s)</code>&rsquo; 标志只在测试字符串的起始处生效，而  &lsquo;<code class="t">(#e)</code>&rsquo;  标志只在测试字符串的末尾处生效；它们对应于标准正则表达式中的
&lsquo;<code class="t">^</code>&rsquo; 和 &lsquo;<code class="t">$</code>&rsquo; 。 它们适用于匹配文件名生成模式以外的模式中的路径段（在任何情况下，路径段都是单独处理的）。
例如，&lsquo;<code class="t">*((#s)|/)test((#e)|/)*</code>&rsquo; 匹配以下任何字符串中的路径段 &lsquo;<code class="t">test</code>&rsquo; ： <code class="t">test</code>,
<code class="t">test/at/start</code>, <code class="t">at/end/test</code>, <code class="t">in/test/middle</code>。
</p>
<p>另一个用途是参数替换；例如， &lsquo;<code class="t">${array/(#s)A*Z(#e)}</code>&rsquo;  将只删除与完整模式 &lsquo;<code class="t">A*Z</code>&rsquo; 匹配的数组中的元素。
执行此类操作的方法还有很多，但将替换操作 &lsquo;<code class="t">/</code>&rsquo; 和 &lsquo;<code class="t">//</code>&rsquo;与 &lsquo;<code class="t">(#s)</code>&rsquo; 和
&lsquo;<code class="t">(#e)</code>&rsquo;标志相结合，就提供了一种简单易记的方法。
</p>
<p>请注意， &lsquo;<code class="t">(^(#s))</code>&rsquo; 形式的断言也可以工作，即匹配字符串开头以外的任何地方，但这实际上意味着
&lsquo;字符串开头零长度部分以外的任何地方&rsquo;；您需要使用 &lsquo;<code class="t">(&quot;&quot;~(#s))</code>&rsquo; 来匹配字符串开头以外的零长度部分。
</p>
</dd>
<dt><code class="t">q</code></dt>
<dd><p>模式匹配代码将忽略&lsquo;<code class="t">q</code>&rsquo; 和直到 globbing 标志结尾括号内的所有内容。 这样做的目的是支持 glob 限定符的使用，见下文。 因此，
&lsquo;<code class="t">(#b)(*).c(#q.)</code>&rsquo; 模式既可用于globbing，也可用于字符串匹配。 在前一种情况下， &lsquo;<code class="t">(#q.)</code>&rsquo;
将被视为全局限定符，而 &lsquo;<code class="t">(#b)</code>&rsquo; 将不起作用；在后一种情况下， &lsquo;<code class="t">(#b)</code>&rsquo; 可用于反向引用，而 &lsquo;<code class="t">(#q.)</code>&rsquo; 将被忽略。
请注意，glob 限定符中的冒号限定符也不适用于普通模式匹配。
</p>
</dd>
<dt><code class="t">u</code></dt>
<dd><p>如果 shell 在编译时使用了 <code class="t">MULTIBYTE_SUPPORT</code>，则在判断模式中是否存在多字节字符时尊重当前的语言环境。 这将覆盖
<code class="t">MULTIBYTE</code> 选项；默认行为取自该选项。 比较 <code class="t">U</code>。 (提示：多字节字符通常来自 UTF-8 编码的
Unicode，但也可以使用系统库支持的任何 ASCII 扩展）。
</p>
</dd>
<dt><code class="t">U</code></dt>
<dd><p>所有字符都被视为单字节长。 与 <code class="t">u</code> 相反。 此选项覆盖 <code class="t">MULTIBYTE</code> 选项。
</p>
</dd>
</dl>

<p>例如，测试字符串 <code class="t">fooxx</code> 可与模式 <code class="t">(#i</code><code class="t">)FOOXX</code> 匹配，但不能与
<code class="t">(#l</code><code class="t">)FOOXX</code>、<code class="t">(#i</code><code class="t">)FOO</code><code class="t">(#I</code><code class="t">)XX</code> 或 <code class="t">((#i</code><code class="t">)FOOX</code><code class="t">)X</code>
匹配。 字符串  <code class="t">(#ia2</code><code class="t">)readme</code> 指定不区分大小写的 <code class="t">readme</code> 匹配，最多有两个错误。
</p>
<p>使用 ksh 语法进行分组时，必须同时设置 <code class="t">KSH_GLOB</code> 和 <code class="t">EXTENDED_GLOB</code>，左括号前应加上 <code class="t">@</code>。
还要注意的是，标志不会影响 <code class="t">[</code>...<code class="t">]</code> 组内的字母，换句话说，<code class="t">(#i</code><code class="t">)[a-z]</code> 仍然只匹配小写字母。
最后要注意的是，在检查整个路径时，由于对大小写不敏感，所以必须搜索每个目录中所有匹配的文件，因此格式为
<code class="t">(#i</code><code class="t">)/foo/bar/...</code> 的模式可能会比较慢。
</p>

</div>
<div class="subsection-level-extent" id="Jin-Si-Pi-Pei-">
<h4 class="subsection"><span>14.8.5 近似匹配<a class="copiable-link" href="#Jin-Si-Pi-Pei-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Jin-Si-Pi-Pei-"></a>
<a class="index-entry-id" id="index-Pi-Pei-_002c-Jin-Si-"></a>
<p>在近似匹配时，shell 会对发现的错误进行计数，计数不能超过 <code class="t">(#a</code><var class="var">num</var><code class="t">)</code> 标志中指定的数量。 可识别四种类型的错误：
</p>
<dl class="table">
<dt>1.</dt>
<dd><p>不同的字符，如 <code class="t">fooxbar</code> 和 <code class="t">fooybar</code>。
</p>
</dd>
<dt>2.</dt>
<dd><p>字符的转置，如 <code class="t">banana</code> 和 <code class="t">abnana</code>。
</p>
</dd>
<dt>3.</dt>
<dd><p>目标字符串中缺少一个字符，如模式 <code class="t">road</code> 和目标字符串 <code class="t">rod</code>。
</p>
</dd>
<dt>4.</dt>
<dd><p>目标字符串中出现的额外字符，如 <code class="t">stove</code> 和 <code class="t">strove</code>。
</p>
</dd>
</dl>

<p>因此，模式 <code class="t">(#a3</code><code class="t">)abcd</code> 与 <code class="t">dcba</code>相匹配，错误发生在使用第一条规则两次，第二条规则一次，将字符串分组为
<code class="t">[d][cb][a]</code>  和 <code class="t">[a][bc][d]</code>。
</p>
<p>模式中的非字面部分必须完全匹配，包括字符范围中的字符：因此， <code class="t">(#a1</code><code class="t">)???</code> 通过对模式的空部分应用规则 4，可以匹配长度为 4
的字符串，但不能匹配长度为 2 的字符串，因为所有 <code class="t">?</code> 都必须匹配。 其他必须完全匹配的字符包括文件名中的首字母点（除非设置了
<code class="t">GLOB_DOTS</code> 选项），以及文件名中的所有斜线，因此 <code class="t">a/bc</code> 与 <code class="t">ab/c</code> 之间有两个错误（斜线不能与其他字符换位）。
同样，对于模式中的非连续字符串，错误也会单独计算，因此 <code class="t">(ab|cd</code><code class="t">)ef</code> 以 <code class="t">aebf</code> 来说是两个错误。
</p>
<p>当通过 <code class="t">~</code> 操作符使用排除时，近似匹配将完全单独处理被排除的部分，并且必须单独激活。
因此，<code class="t">(#a1</code><code class="t">)README~READ_ME</code> 会匹配 <code class="t">READ.ME</code>，但不会匹配 <code class="t">READ_ME</code>，因为尾部的
<code class="t">READ_ME</code> 不会进行近似匹配。 不过，<code class="t">(#a1</code><code class="t">)README~(#a1</code><code class="t">)READ_ME</code> 不会匹配任何形式为
<code class="t">READ</code><var class="var">?</var><code class="t">ME</code>  的模式，因为所有此类形式现在都被排除在外。
</p>
<p>除排除项外，只有一个总体错误计数；不过，允许的最大错误数可以局部更改，而且可以通过分组来限定。 例如，
<code class="t">(#a1</code><code class="t">)cat</code><code class="t">((#a0</code><code class="t">)dog</code><code class="t">)fox</code> 总共允许出现一个错误，而这个错误可能不会出现在 <code class="t">dog</code>
部分，因此 <code class="t">(#a1</code><code class="t">)cat</code><code class="t">(#a0</code><code class="t">)dog</code><code class="t">(#a1</code><code class="t">)fox</code>
模式是等价的。请注意，首次发现错误的点是确定是否使用近似的关键点；  例如，<code class="t">(#a1)abc(#a0)xyz</code>  不会匹配
<code class="t">abcdxyz</code>，因为错误发生在 &lsquo;<code class="t">x</code>&rsquo; 处，而此处的近似是关闭的。
</p>
<p>整个路径段可以近似匹配，因此 &lsquo;<code class="t">(#a1)/foo/d/is/available/at/the/bar</code>&rsquo; 允许在任何路径段中出现一个错误。
不过，这比不使用 <code class="t">(#a1)</code>时的效率要低得多，因为必须扫描路径中的每个目录，以寻找可能的近似匹配。 最好将 <code class="t">(#a1)</code>
放在已知正确的路径段之后。
</p>

</div>
<div class="subsection-level-extent" id="Di-Gui-Globbing">
<h4 class="subsection"><span>14.8.6 递归 Globbing<a class="copiable-link" href="#Di-Gui-Globbing"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Di-Gui-globbing"></a>
<a class="index-entry-id" id="index-globbing_002c-Di-Gui-Di-Gui-"></a>
<p>形式为 &lsquo;<code class="t">(</code><var class="var">foo</var><code class="t">/)#</code>&rsquo; 的路径名部分匹配由零个或多个符合 <var class="var">foo</var> 模式的目录组成的路径。
</p>
<p>作为简写， &lsquo;<code class="t">**/</code>&rsquo; 等同于 &lsquo;<code class="t">(*/)#</code>&rsquo;；请注意，这将匹配当前目录和子目录中的文件。 因此
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- (*/)#bar
</pre></div>

<p>或
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- **/bar
</pre></div>

<p>进行递归目录搜索,查找 &lsquo;<code class="t">bar</code>&rsquo; (可能包括当前目录中的文件 &lsquo;<code class="t">bar</code>&rsquo; ） 。 这种形式不遵循符号链接；另一种形式
&lsquo;<code class="t">***/</code>&rsquo; 遵循符号链接，但在其他方面完全相同。 在同一路径段中，这两种形式都不能与其他形式的 globbing 结合使用；在这种情况下，
&lsquo;<code class="t">*</code>&rsquo;  操作符将恢复其通常的效果。
</p>
<p>如果设置了 <code class="t">GLOB_STAR_SHORT</code> 选项，还可以使用更短的形式。 在这种情况下，如果 <code class="t">**</code> 或 <code class="t">***</code> 后面没有紧跟
<code class="t">/</code>，它们就会被当作同时存在 <code class="t">/</code> 和 <code class="t">*</code> 处理。 因此
</p>
<div class="example">
<pre class="example-preformatted">setopt GLOBSTARSHORT
ls -ld -- **.c
</pre></div>

<p>等价于
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- **/*.c
</pre></div>

</div>
<div class="subsection-level-extent" id="Glob-Xian-Ding-Fu-">
<h4 class="subsection"><span>14.8.7 Glob 限定符<a class="copiable-link" href="#Glob-Xian-Ding-Fu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-globbing_002c-Xian-Ding-Fu-"></a>
<a class="index-entry-id" id="index-Xian-Ding-Fu-_002c-globbing"></a>
<p>用于生成文件名的模式可以以括号中的限定符列表结尾。 限定符指定哪些与给定模式匹配的文件名将插入参数列表。
</p>
<a class="index-entry-id" id="index-BARE_005fGLOB_005fQUAL_002c-use-of"></a>
<p>如果设置了选项 <code class="t">BARE_GLOB_QUAL</code>，那么尾部不包含 &lsquo;<code class="t">|</code>&rsquo; 或 &lsquo;<code class="t">(</code>&rsquo; 字符（或 &lsquo;<code class="t">~</code>&rsquo;
，如果是特殊符号）的括号将被视为一组 glob 限定符。 通常会被当作 glob 限定符的 glob 子表达式，例如
&lsquo;<code class="t">(^x)</code>&rsquo;，可以通过将括号双写来强制当作 glob 模式的一部分，在这种情况下会产生 &lsquo;<code class="t">((^x))</code>&rsquo;。
</p>
<p>如果设置了选项 <code class="t">EXTENDED_GLOB</code>，glob 限定符就有了不同的语法，即 &lsquo;<code class="t">(#q</code><var class="var">x</var><code class="t">)</code>&rsquo;，其中
<var class="var">x</var> 是与其他格式相同的任何 glob 限定符。 限定符仍必须出现在格式末尾。 不过，这种语法可以将多个 glob 限定符串联起来。
它们被视为各组标志的逻辑与。 此外，由于语法不含糊，只要表达式中包含的任何括号是平衡的，表达式就会被视为 glob 限定符；出现
&lsquo;<code class="t">|</code>&rsquo;、&lsquo;<code class="t">(</code>&rsquo; 或 &lsquo;<code class="t">~</code>&rsquo;并不能否定其效果。 请注意，即使在模式末尾存在裸 glob
限定符，限定符也会以这种形式被识别，例如，如果同时设置了两个选项，&lsquo;<code class="t">*(#q*)(.)</code>&rsquo;
将识别可执行的常规文件；不过，为了清晰起见，最好避免使用混合语法。 请注意，在使用 &lsquo;<code class="t">[[</code>&rsquo; 形式的条件中，如果字符串末尾出现带括号的表达式
<code class="t">(#q</code><var class="var">...</var><code class="t">)</code> ，则表示应执行globbing；该表达式可能包含 glob 限定符，但如果只是
<code class="t">(#q)</code>，也是有效的。 这不适用于模式匹配运算符的右侧，因为该语法已经具有特殊意义。
</p>
<p>限定符可以是以下任何一种：
</p>
<dl class="table">
<dt><code class="t">/</code></dt>
<dd><p>directories
</p>
</dd>
<dt><code class="t">F</code></dt>
<dd><p>&lsquo;full&rsquo;（即非空）目录。 请注意，与之相反的 <code class="t">(^F</code><code class="t">)</code> 会扩展到空目录和所有非目录。 对于空目录，请使用 <code class="t">(/^F</code><code class="t">)</code>
。
</p>
</dd>
<dt><code class="t">.</code></dt>
<dd><p>文本文件
</p>
</dd>
<dt><code class="t">@</code></dt>
<dd><p>符号链接
</p>
</dd>
<dt><code class="t">=</code></dt>
<dd><p>套接字
</p>
</dd>
<dt><code class="t">p</code></dt>
<dd><p>命名管道 (FIFOs)
</p>
</dd>
<dt><code class="t">*</code></dt>
<dd><p>可执行普通文件 (0100 or 0010 or 0001)
</p>
</dd>
<dt><code class="t">%</code></dt>
<dd><p>设备文件（字符或块特殊文件）
</p>
</dd>
<dt><code class="t">%b</code></dt>
<dd><p>块特殊文件
</p>
</dd>
<dt><code class="t">%c</code></dt>
<dd><p>字符特殊文件
</p>
</dd>
<dt><code class="t">r</code></dt>
<dd><p>所有者可读文件 (0400)
</p>
</dd>
<dt><code class="t">w</code></dt>
<dd><p>所有者可写文件 (0200)
</p>
</dd>
<dt><code class="t">x</code></dt>
<dd><p>所有者可执行文件 (100) 
</p>
</dd>
<dt><code class="t">A</code></dt>
<dd><p>组可读文件 (0040)
</p>
</dd>
<dt><code class="t">I</code></dt>
<dd><p>组可写文件 (0020)
</p>
</dd>
<dt><code class="t">E</code></dt>
<dd><p>组可执行文件 (0010)
</p>
</dd>
<dt><code class="t">R</code></dt>
<dd><p>世界可读文件 (0004)
</p>
</dd>
<dt><code class="t">W</code></dt>
<dd><p>世界可写文件 (0002)
</p>
</dd>
<dt><code class="t">X</code></dt>
<dd><p>世界可执行文件 (0001)
</p>
</dd>
<dt><code class="t">s</code></dt>
<dd><p>setuid 文件 (04000)
</p>
</dd>
<dt><code class="t">S</code></dt>
<dd><p>setgid 文件 (02000)
</p>
</dd>
<dt><code class="t">t</code></dt>
<dd><p>带 sticky bit  位的文件 (01000)
</p>
</dd>
<dt><code class="t">f</code><var class="var">spec</var></dt>
<dd><p>访问权限与 <var class="var">spec</var> 匹配的文件。<var class="var">spec</var> 可以是一个八进制数，前面可选择加上&lsquo;<code class="t">=</code>&rsquo;,  &lsquo;<code class="t">+</code>&rsquo;, 或
&lsquo;<code class="t">-</code>&rsquo;。如果没有给出这些字符，则行为与 &lsquo;<code class="t">=</code>&rsquo; 相同。八进制数描述了预期的模式位，如果与 &lsquo;<code class="t">=</code>&rsquo;
组合，给出的值必须与文件模式完全匹配；如果与 &lsquo;<code class="t">+</code>&rsquo; 组合，至少要在文件模式中设置所给数字中的位；如果与 &lsquo;<code class="t">-</code>&rsquo;
组合，数字中的位数必须不被设置。如果不在数字的任何位置给出八进制数字，而是给出 &lsquo;<code class="t">?</code>&rsquo; ，则不会检查文件模式中的相应位，这只有在与
&lsquo;<code class="t">=</code>&rsquo; 结合使用时才有用。
</p>
<p>如果限定符 &lsquo;<code class="t">f</code>&rsquo; 后跟有任何其他字符，则下一个匹配字符之前的任何字符（ &lsquo;<code class="t">[</code>&rsquo;, &lsquo;<code class="t">{</code>&rsquo; 和 &lsquo;<code class="t">&lt;</code>&rsquo; 分别与
&lsquo;<code class="t">]</code>&rsquo;, &lsquo;<code class="t">}</code>&rsquo; 和 &lsquo;<code class="t">&gt;</code>&rsquo; 匹配，任何其他字符则与自身匹配）都将作为逗号分隔的 <var class="var">sub-spec</var>s 列表。每个
<var class="var">sub-spec</var> 既可以是上述八进制数，也可以是 &lsquo;<code class="t">u</code>&rsquo;, &lsquo;<code class="t">g</code>&rsquo;, &lsquo;<code class="t">o</code>&rsquo; 和 &lsquo;<code class="t">a</code>&rsquo; 中的任意字符,
后接 &lsquo;<code class="t">=</code>&rsquo; 、 &lsquo;<code class="t">+</code>&rsquo; 或 &lsquo;<code class="t">-</code>&rsquo; ，后接 &lsquo;<code class="t">r</code>&rsquo;, &lsquo;<code class="t">w</code>&rsquo;, &lsquo;<code class="t">x</code>&rsquo;, &lsquo;<code class="t">s</code>&rsquo; 和
&lsquo;<code class="t">t</code>&rsquo; 中的任意字符或一个八进制数字。第一个列表字符指定要检查的访问权限。如果给出 &lsquo;<code class="t">u</code>&rsquo; ，则使用文件所有者的访问权限；如果给出
&lsquo;<code class="t">g</code>&rsquo; ，则检查组的访问权限； &lsquo;<code class="t">o</code>&rsquo; 表示检查其他用户的访问权限； &lsquo;<code class="t">a</code>&rsquo; 表示检查所有三个组的访问权限。 &lsquo;<code class="t">=</code>&rsquo;,
&lsquo;<code class="t">+</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo; 再次说明如何检查模式，其含义与上述第一种形式相同。第二个字符列表说明了预期的访问权限： &lsquo;<code class="t">r</code>&rsquo;
表示读取权限， &lsquo;<code class="t">w</code>&rsquo; 表示写入权限， &lsquo;<code class="t">x</code>&rsquo; 表示执行文件（或搜索目录）的权限，&lsquo;<code class="t">s</code>&rsquo; 表示 setuid 和 setgid
位， &lsquo;<code class="t">t</code>&rsquo; 表示 sticky 位。
</p>
<p>因此， &lsquo;<code class="t">*(f70?)</code>&rsquo; 给出了所有者有读取、写入和执行权限，而其他组员没有权限的文件，与其他用户的权限无关。模式
&lsquo;<code class="t">*(f-100)</code>&rsquo; 给出所有所有者没有执行权限的文件，而 &lsquo;<code class="t">*(f:gu+w,o-rx:)</code>&rsquo;
给出所有者和组内其他成员至少有写入权限，而其他用户没有读取或执行权限的文件。
</p>
</dd>
<dt><code class="t">e</code><var class="var">string</var></dt>
<dt><code class="t">+</code><var class="var">cmd</var></dt>
<dd><p><var class="var">string</var> 将作为 shell 代码执行。 当且仅当代码返回零状态（通常是最后一条命令的状态）时，文件名才会包含在列表中。
</p>
<p>在第一种形式中， &lsquo;<code class="t">e</code>&rsquo; 之后的第一个字符将被用作分隔符，下一个匹配的分隔符之前的任何字符将被用作 <var class="var">string</var>；&lsquo;<code class="t">[</code>&rsquo;,
&lsquo;<code class="t">{</code>&rsquo; 和 &lsquo;<code class="t">&lt;</code>&rsquo; 分别匹配 &lsquo;<code class="t">]</code>&rsquo;, &lsquo;<code class="t">}</code>&rsquo; 和
&lsquo;<code class="t">&gt;</code>&rsquo;，而任何其他字符则匹配自身。需要注意的是，扩展必须在 <var class="var">string</var> 中加上引号，以防止在执行 globbing 之前被扩展。
然后，<var class="var">string</var> 将作为 shell 代码执行。 在执行过程中，字符串 <code class="t">globqual</code> 会被附加到数组
<code class="t">zsh_eval_context</code> 中。
</p>
<a class="index-entry-id" id="index-REPLY_002c-use-of-1"></a>
<a class="index-entry-id" id="index-reply_002c-use-of"></a>
<p>在 <var class="var">string</var> 的执行过程中，正在测试的文件名在参数 <code class="t">REPLY</code> 中可用；该参数可更改为一个字符串，以代替原始文件名插入到列表中。
此外，参数 <code class="t">reply</code> 可以设置为数组或字符串，这将覆盖 <code class="t">REPLY</code> 的值。 如果设置为数组，则后者会逐字插入命令行。
</p>
<p>例如，假设一个目录包含一个文件 &lsquo;<code class="t">lonely</code>&rsquo;。 那么表达式 &lsquo;<code class="t">*(e:'reply=(${REPLY}{1,2})':)</code>&rsquo;
将导致在命令行中插入 &lsquo;<code class="t">lonely1</code>&rsquo; 和 &lsquo;<code class="t">lonely2</code>&rsquo; 。 注意 <var class="var">string</var> 的引号。
</p>
<p>形式  <code class="t">+</code><var class="var">cmd</var> 也有同样的效果，但 <var class="var">cmd</var> 周围没有分隔符。 取而代之的是，<var class="var">cmd</var> 是 <code class="t">+</code>
后面最长的字母数字或下划线字符序列。 通常情况下，<var class="var">cmd</var> 是包含相应测试的 shell 函数名称。 例如
</p>
<div class="example">
<pre class="example-preformatted">nt() { [[ $REPLY -nt $NTREF ]] }
NTREF=reffile
ls -ld -- *(+nt)
</pre></div>

<p>会列出目录中所有最近修改次数多于 <code class="t">reffile</code> 的文件。
</p>
</dd>
<dt><code class="t">d</code><var class="var">dev</var></dt>
<dd><p>设备 <var class="var">dev</var> 上的文件
</p>
</dd>
<dt><code class="t">l</code>[<code class="t">-</code>|<code class="t">+</code>]<var class="var">ct</var></dt>
<dd><p>链接数小于 <var class="var">ct</var> (<code class="t">-</code>)、大于 <var class="var">ct</var> (<code class="t">+</code>) 或等于 <var class="var">ct</var> 的文件
</p>
</dd>
<dt><code class="t">U</code></dt>
<dd><p>有效用户 ID 拥有的文件
</p>
</dd>
<dt><code class="t">G</code></dt>
<dd><p>有效组 ID 拥有的文件
</p>
</dd>
<dt><code class="t">u</code><var class="var">id</var></dt>
<dd><p>用户 ID 为 <var class="var">id</var> 的所拥有的文件。 否则，<var class="var">id</var> 将指定用户名：&lsquo;<code class="t">u</code>&rsquo;
后面的字符将作为分隔符，它与下一个匹配分隔符之间的字符串将作为用户名。 起始分隔符 &lsquo;<code class="t">[</code>&rsquo;, &lsquo;<code class="t">{</code>&rsquo; 和 &lsquo;<code class="t">&lt;</code>&rsquo;
分别与最终分隔符 &lsquo;<code class="t">]</code>&rsquo;, &lsquo;<code class="t">}</code>&rsquo; 和 &lsquo;<code class="t">&gt;</code>&rsquo;匹配；任何其他字符都与自身匹配。 所选文件为该用户拥有的文件。
例如，&lsquo;<code class="t">u:foo:</code>&rsquo; 或 &lsquo;<code class="t">u[foo]</code>&rsquo; 选择用户 &lsquo;<code class="t">foo</code>&rsquo; 所拥有的文件。
</p>
</dd>
<dt><code class="t">g</code><var class="var">id</var></dt>
<dd><p>类似 <code class="t">u</code><var class="var">id</var> ，但使用组 ID 或名称
</p>
</dd>
<dt><code class="t">a</code>[<code class="t">Mwhms</code>][<code class="t">-</code>|<code class="t">+</code>]<var class="var">n</var></dt>
<dd><p>（精确的）<var class="var">n</var> 天前访问过的文件。使用 <var class="var">n</var> 的负值（<code class="t">-</code><var class="var">n</var>）选择最近 <var class="var">n</var> 天内访问的文件。超过
<var class="var">n</var> 天前访问的文件则使用 <var class="var">n</var> 的正值（<code class="t">+</code><var class="var">n</var>）来选择。可选的单位指定符 &lsquo;<code class="t">M</code>&rsquo;, &lsquo;<code class="t">w</code>&rsquo;,
&lsquo;<code class="t">h</code>&rsquo;, &lsquo;<code class="t">m</code>&rsquo; 或 &lsquo;<code class="t">s</code>&rsquo; （例如 &lsquo;<code class="t">ah5</code>&rsquo; ）会分别导致以月（30
天）、周、小时、分钟或秒来代替天进行检查。也可以使用显式的 &lsquo;<code class="t">d</code>&rsquo; 来表示天数。
</p>
<p>在比较过程中，访问时间与当前时间之间的任何小数部分将被忽略。 例如， &lsquo;<code class="t">echo *(ah-5)</code>&rsquo; 将回显最近 5 小时内访问的文件，而
&lsquo;<code class="t">echo *(ah+5)</code>&rsquo; 将回显至少 6 小时前访问的文件，因为严格介于 5 至 6 小时之间的时间被视为 5 小时。
</p>
</dd>
<dt><code class="t">m</code>[<code class="t">Mwhms</code>][<code class="t">-</code>|<code class="t">+</code>]<var class="var">n</var></dt>
<dd><p>和文件访问限定符一样，只不过它使用的是文件修改时间。
</p>
</dd>
<dt><code class="t">c</code>[<code class="t">Mwhms</code>][<code class="t">-</code>|<code class="t">+</code>]<var class="var">n</var></dt>
<dd><p>和文件访问限定符一样，只不过它使用的是文件的 inode 更改时间。
</p>
</dd>
<dt><code class="t">L</code>[<code class="t">+</code>|<code class="t">-</code>]<var class="var">n</var></dt>
<dd><p>长度小于 <var class="var">n</var> 字节（<code class="t">-</code>）、大于 <var class="var">n</var> 字节（<code class="t">+</code>）或正好 <var class="var">n</var> 字节的文件。
</p>
<p>如果该标志后直接跟了 <em class="emph">size 指定符</em> &lsquo;<code class="t">k</code>&rsquo; (&lsquo;<code class="t">K</code>&rsquo;), &lsquo;<code class="t">m</code>&rsquo; (&lsquo;<code class="t">M</code>&rsquo;) 或 &lsquo;<code class="t">p</code>&rsquo;
(&lsquo;<code class="t">P</code>&rsquo;)（例如&lsquo;<code class="t">Lk-50</code>&rsquo;），则检查将以千字节、兆字节或块（512 字节）为单位进行。 (在某些系统中，还可以使用额外的千兆字节（
&lsquo;<code class="t">g</code>&rsquo; 或 &lsquo;<code class="t">G</code>&rsquo; ）和百万兆字节（ &lsquo;<code class="t">t</code>&rsquo; 或 &lsquo;<code class="t">T</code>&rsquo;
）说明符）。如果使用了文件大小指定符，那么四舍五入到下一单位的文件大小等于测试大小时，文件就被视为大小 &quot;准确 &quot;。 因此，&lsquo;<code class="t">*(Lm1)</code>&rsquo;
可以匹配从 1 字节到 1 兆字节（含 1 兆字节）的文件。 还要注意的是，&quot;小于 &quot;测试大小的文件集只包括不符合相等测试的文件；因此，
&lsquo;<code class="t">*(Lm-1)</code>&rsquo; 只匹配大小为零的文件。
</p>
</dd>
<dt><code class="t">^</code></dt>
<dd><p>否定后面的所有限定符
</p>
</dd>
<dt><code class="t">-</code></dt>
<dd><p>在使限定符作用于符号链接（默认）和符号链接指向的文件之间切换，如果有的话；如果 &lsquo;<code class="t">stat</code>&rsquo;
系统调用的目标符号链接失败（无论失败原因如何），该符号链接本身将被视为文件
</p>
</dd>
<dt><code class="t">M</code></dt>
<dd><p>为当前模式设置 <code class="t">MARK_DIRS</code> 选项
<a class="index-entry-id" id="index-MARK_005fDIRS_002c-Zai-Mo-Shi-ZhongShe-Zhi-"></a>
</p>
</dd>
<dt><code class="t">T</code></dt>
<dd><p>为文件名添加尾部限定符标记，类似于当前模式的 <code class="t">LIST_TYPES</code> 选项（覆盖 <code class="t">M</code>
</p>
</dd>
<dt><code class="t">N</code></dt>
<dd><p>为当前模式设置 <code class="t">NULL_GLOB</code> 选项
<a class="index-entry-id" id="index-NULL_005fGLOB_002c-Zai-Mo-Shi-ZhongShe-Zhi-"></a>
</p>
</dd>
<dt><code class="t">D</code></dt>
<dd><p>设置当前模式的 <code class="t">GLOB_DOTS</code> 选项
<a class="index-entry-id" id="index-GLOB_005fDOTS_002c-Zai-Mo-Shi-ZhongShe-Zhi-"></a>
</p>
</dd>
<dt><code class="t">n</code></dt>
<dd><p>为当前模式设置 <code class="t">NUMERIC_GLOB_SORT</code> 选项
<a class="index-entry-id" id="index-NUMERIC_005fGLOB_005fSORT_002c-Zai-Mo-Shi-ZhongShe-Zhi-"></a>
</p>
</dd>
<dt><code class="t">Y</code><var class="var">n</var></dt>
<dd><p>启用短路模式：模式最多会扩展到 <var class="var">n</var> 个文件名。 如果存在多于 <var class="var">n</var> 个匹配项，则只考虑目录遍历顺序中的前 <var class="var">n</var>
个匹配项。
</p>
<p>在未使用 <code class="t">o</code><var class="var">c</var> 限定符时，意味着 <code class="t">oN</code>。
</p>
</dd>
<dt><code class="t">o</code><var class="var">c</var></dt>
<dd><p>指定文件名的排序方式。<var class="var">c</var> 的下列值按以下方式排序：
</p>
<dl class="table">
<dt><code class="t">n</code></dt>
<dd><p>按名称。
</p></dd>
<dt><code class="t">L</code></dt>
<dd><p>按文件的大小（长度）。
</p></dd>
<dt><code class="t">l</code></dt>
<dd><p>按链接数量。
</p></dd>
<dt><code class="t">a</code></dt>
<dd><p>按最后一次访问时间排列，最年轻者优先。
</p></dd>
<dt><code class="t">m</code></dt>
<dd><p>按最后一次修改时间排序，最年轻的先修改。
</p></dd>
<dt><code class="t">c</code></dt>
<dd><p>按最后一次改变 inode 的时间排列，最年轻的在前。
</p></dd>
<dt><code class="t">d</code></dt>
<dd><p>按目录：在每一级搜索中，子目录下的文件都会出现在当前目录下的文件之前&ndash;这最好与其他条件结合起来，例如，&lsquo;<code class="t">odon</code>&rsquo;
可以对同一目录下的文件名进行排序。
</p></dd>
<dt><code class="t">N</code></dt>
<dd><p>不执行排序。
</p></dd>
<dt><code class="t">e</code><var class="var">string</var></dt>
<dt><code class="t">+</code><var class="var">cmd</var></dt>
<dd><p>按 shell 代码排序（见下文）。
</p></dd>
</dl>

<p>请注意，由于使用了修饰符 <code class="t">^</code> 和 <code class="t">-</code>，因此 &lsquo;<code class="t">*(^-oL)</code>&rsquo;
给出的是一个按文件大小降序排序的所有文件的列表，任何符号链接都在其后。 除非使用 <code class="t">oN</code>，否则可以用多个顺序指定符来解决并列问题。
</p>
<p>默认排序为 <code class="t">n</code>（按名称），除非使用了 <code class="t">Y</code> glob 限定符，在这种情况下，排序为 <code class="t">N</code>（未排序）。
</p>
<p><code class="t">oe</code> 和 <code class="t">o+</code> 是特殊情况；它们后面都有 shell 代码，分别以 <code class="t">e</code> glob 限定符和 <code class="t">+</code> glob
限定符分隔（见上文）。 每执行一个匹配文件的代码，都会将参数 <code class="t">REPLY</code> 设置为输入文件的名称，并将 <code class="t">globsort</code> 追加到
<code class="t">zsh_eval_context</code> 中。 代码应以某种方式修改参数 <code class="t">REPLY</code>。 返回时，将使用参数值而不是文件名作为排序字符串。
与其他排序运算符不同，<code class="t">oe</code> 和 <code class="t">o+</code> 可以重复使用，但请注意，在任何 glob 表达式中出现的任何类型的排序运算符的最大数量都是 12。
</p>
</dd>
<dt><code class="t">O</code><var class="var">c</var></dt>
<dd><p>和 &lsquo;<code class="t">o</code>&rsquo; 一样，但按降序排序；即 &lsquo;<code class="t">*(^o</code><var class="var">c</var><code class="t">)</code>&rsquo; 与 &lsquo;<code class="t">*(O</code><var class="var">c</var><code class="t">)</code>&rsquo; 相同，而
&lsquo;<code class="t">*(^O</code><var class="var">c</var><code class="t">)</code>&rsquo; 与 &lsquo;<code class="t">*(o</code><var class="var">c</var><code class="t">)</code>&rsquo; 相同；&lsquo;<code class="t">Od</code>&rsquo;
将当前目录下的文件排在每一级搜索的子目录下的文件之前。
</p>
</dd>
<dt><code class="t">[</code><var class="var">beg</var>[<code class="t">,</code><var class="var">end</var>]<code class="t">]</code></dt>
<dd><p>指定哪些匹配的文件名应包含在返回的列表中。语法与数组下标相同。<var class="var">beg</var> 和可选的 <var class="var">end</var>
可以是数学表达式。与参数下标一样，它们可以是负数，以便从最后一次匹配开始反向计数。例如 &lsquo;<code class="t">*(-OL[1,3])</code>&rsquo;
给出了三个最大文件的名称列表。
</p>
</dd>
<dt><code class="t">P</code><var class="var">string</var></dt>
<dd><p><var class="var">string</var> 将作为一个单独的单词被添加到每个 glob 匹配结果中。 <var class="var">string</var> 的分隔方式与上述 glob 限定符
<code class="t">e</code> 的参数相同。 限定符可以重复使用；单词会被分别放在前面，因此命令行中的单词顺序与 glob 限定符列表中的顺序相同。
</p>
<p>典型的用法是在所有出现的文件名前加上一个选项；例如，模式 &lsquo;<code class="t">*(P:-f:)</code>&rsquo; 会产生命令行参数 &lsquo;<code class="t">-f</code> <var class="var">file1</var>
<code class="t">-f</code> <var class="var">file2</var> ...&rsquo;
</p>
<p>如果修改器 <code class="t">^</code> 已激活，那么 <var class="var">string</var> 将被追加而非前置。 前置和追加是独立进行的，因此可以在同一个 glob
表达式中同时使用这两种方式；例如，编写 &lsquo;<code class="t">*(P:foo:^P:bar:^P:baz:)</code>&rsquo; 会产生命令行参数 &lsquo;<code class="t">foo</code> <code class="t">baz</code>
<var class="var">file1</var> <code class="t">bar</code> ...&rsquo;
</p>
</dd>
</dl>

<p>可以合并多个列表，并用逗号分隔。如果至少有一个子列表匹配，则整个列表匹配（它们是 &quot;或 &quot;关系，子列表中的限定符是 &quot;和 &quot;关系的）。
不过，有些限定符会影响生成的所有匹配结果，与在哪个子列表中给出限定符无关。 这些限定符包括 &lsquo;<code class="t">M</code>&rsquo;, &lsquo;<code class="t">T</code>&rsquo;, &lsquo;<code class="t">N</code>&rsquo;,
&lsquo;<code class="t">D</code>&rsquo;, &lsquo;<code class="t">n</code>&rsquo;, &lsquo;<code class="t">o</code>&rsquo;, &lsquo;<code class="t">O</code>&rsquo; 和括号（brackets）中的下标（&lsquo;<code class="t">[</code><var class="var">...</var><code class="t">]</code>&rsquo;）。
</p>
<p>如果限定符列表中出现 &lsquo;<code class="t">:</code>&rsquo; ，括号中表达式的其余部分将被解释为修饰符（参见 <a class="ref" href="#g_t_5386_53f2_6269_5c55">历史扩展</a> 中的 <a class="ref" href="#g_t_4fee_9970_7b26">修饰符</a>）。
每个修饰符必须用单独的 &lsquo;<code class="t">:</code>&rsquo; 引入。 还要注意的是，修改后的结果不一定是现有文件。
即使没有实际执行文件名生成，也可以在任何现有文件名后面加上形式为  &lsquo;<code class="t">(:</code><var class="var">...</var><code class="t">)</code>&rsquo;
的修饰符，但要注意的是，括号的存在会导致整个表达式受全局模式匹配选项（如 <code class="t">NULL_GLOB</code>）的影响。因此
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- *(-/)
</pre></div>

<p>会列出所有目录和指向目录的符号链接，而
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- *(-@)
</pre></div>

<p>会列出所有断开的符号链接，而
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- *(%W)
</pre></div>

<p>会列出当前目录下所有世界可写设备文件，而
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- *(W,X)
</pre></div>

<p>会列出当前目录下所有世界可写或世界可执行的文件，而
</p>
<div class="example">
<pre class="example-preformatted">print -rC1 /tmp/foo*(u0^@:t)
</pre></div>

<p>输出 <code class="t">/tmp</code> 中以字符串 &lsquo;<code class="t">foo</code>&rsquo; 开头的 root 所有的文件的基名，忽略符号链接，以及
</p>
<div class="example">
<pre class="example-preformatted">ls -ld -- *.*~(lex|parse).[ch](^D^l1)
</pre></div>

<p>会列出所有链接数为 1 且名称包含点的文件（但不包括以点开头的文件，因为 <code class="t">GLOB_DOTS</code> 已明确关闭），但
<code class="t">lex.c</code>、<code class="t">lex.h</code>、<code class="t">parse.c</code> 和 <code class="t">parse.h</code> 除外。
</p>
<div class="example">
<pre class="example-preformatted">print -rC1 b*.pro(#q:s/pro/shmo/)(#q.:s/builtin/shmiltin/)
</pre></div>

<p>演示了如何将冒号修饰符和其他限定符串联起来。 首先应用普通限定符  &lsquo;<code class="t">.</code>&rsquo;，然后按从左到右的顺序应用冒号修饰符。 因此，如果设置了
<code class="t">EXTENDED_GLOB</code>，且基本模式与常规文件 <code class="t">builtin.pro</code> 匹配，shell 将打印
&lsquo;<code class="t">shmiltin.shmo</code>&rsquo;。
</p><hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="g_t_53c2_6570">

<h2 class="chapter" id="Can-Shu-"><span>15 参数<a class="copiable-link" href="#Can-Shu-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Can-Shu-"></a>
<a class="index-entry-id" id="index-Bian-Liang-"></a>

<div class="section-level-extent" id="Shuo-Ming-">
<h3 class="section"><span>15.1 说明<a class="copiable-link" href="#Shuo-Ming-"> &para;</a></span></h3>
<p>参数有一个名称、一个值和若干属性。 名称可以是字母数字字符和下划线的任意序列，也可以是单字符&lsquo;<code class="t">*</code>&rsquo;, &lsquo;<code class="t">@</code>&rsquo;, &lsquo;<code class="t">#</code>&rsquo;,
&lsquo;<code class="t">?</code>&rsquo;, &lsquo;<code class="t">-</code>&rsquo;, &lsquo;<code class="t">$</code>&rsquo; 或 &lsquo;<code class="t">!</code>&rsquo;。 名称以字母数字或下划线开头的参数也称为 <em class="emph">变量</em>。
</p>
<a class="index-entry-id" id="index-Biao-Liang-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Biao-Liang-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Shu-Zu-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Guan-Lian-Shu-Zu-"></a>
<a class="index-entry-id" id="index-San-Lie-_0028hash_0029"></a>
<p>参数的属性决定了其值的 <em class="emph">类型</em>（通常称为参数类型或变量类型），并控制着在引用该值时可能对其进行的其他处理。 值类型可以是
<em class="emph">标量</em>（字符串、整数或浮点数）、数组（按数字索引）或 <em class="emph">关联</em>数组（按名称索引的键值对的无序集合，也称为 <em class="emph">哈希</em>）。
</p>
<a class="index-entry-id" id="index-export"></a>
<a class="index-entry-id" id="index-Huan-Jing-"></a>
<a class="index-entry-id" id="index-Huan-Jing-Bian-Liang-"></a>
<a class="index-entry-id" id="index-Bian-Liang-_002c-Huan-Jing-"></a>
<p>已命名的标量参数可以使用 <em class="emph">exported</em>、<code class="t">-x</code> 属性，将其复制到进程环境中，然后由 shell 传递给启动的任何新进程。
导出参数被称为 <em class="emph">环境变量</em>。shell 还会在启动时 <em class="emph">导入</em> 环境变量，并自动将相应参数标记为导出参数。
出于安全考虑，或由于某些环境变量会干扰其他 shell 功能的正确运行，这样的变量不会导入。
</p>
<a class="index-entry-id" id="index-Te-Shu-Can-Shu-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Te-Shu-"></a>
<p>参数也可以是 <em class="emph">特殊的</em>，即它们对 shell 有预定义意义。
特殊参数的类型不能更改，其只读属性也不能关闭，如果一个特殊参数被取消设置，随后又重新创建，其特殊属性将被保留。
</p>
<p>要声明参数的类型，或为标量参数赋于字符串或数值，请使用 <code class="t">typeset</code> 内置命令。
<a class="index-entry-id" id="index-typeset_002c-use-of"></a>
</p>
<p>标量参数的值也可以通过下面写法来分配：
<a class="index-entry-id" id="index-Fu-Zhi-"></a>
</p>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=</code><var class="var">value</var>
</p></blockquote>

<p>在标量赋值中，<var class="var">value</var> 会展开为单个字符串，其中数组元素被连接在一起；除非设置了选项
<code class="t">GLOB_ASSIGN</code>，否则不会执行文件名展开。
</p>
<p>为 <var class="var">name</var> 设置整数属性 <code class="t">-i</code> 或浮点属性 <code class="t">-E</code> 或 <code class="t">-F</code> 时，<var class="var">value</var> 将进行算术求值。 此外，将
&lsquo;<code class="t">=</code>&rsquo; 替换为 &lsquo;<code class="t">+=</code>&rsquo;，还可以递增或追加参数。 有关赋值的其他形式，请参阅 <a class="ref" href="#g_t_6570_7ec4_53c2_6570">数组参数</a> 和 <a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>。
</p>
<p>请注意，赋值可能会隐含地改变参数的属性。 例如，在算术运算中为变量赋一个数值可能会将其类型改为整型或浮型，而用 <code class="t">GLOB_ASSIGN</code>选项，
为变量赋值一个模式，可能会将其类型改为数组。
</p>
<p>要引用一个参数的值，请写成 &lsquo;<code class="t">$</code><var class="var">name</var>&rsquo; 或 &lsquo;<code class="t">${</code><var class="var">name</var><code class="t">}</code>&rsquo;。 详情请参见
<a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a>。 该章节还解释了标量赋值和数组赋值之间的差异对参数扩展的影响。
</p><hr>
</div>
<div class="section-level-extent" id="g_t_6570_7ec4_53c2_6570">

<h3 class="section" id="Shu-Zu-Can-Shu-"><span>15.2 数组参数<a class="copiable-link" href="#Shu-Zu-Can-Shu-"> &para;</a></span></h3>
<p>要为数组赋值，请写入以下其中一个：
<a class="index-entry-id" id="index-set_002c-use-of"></a>
<a class="index-entry-id" id="index-Shu-Zu-Fu-Zhi-"></a>
</p>
<blockquote class="quotation">
<p><code class="t">set -A</code> <var class="var">name</var> <var class="var">value</var> ...
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=(</code><var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=(</code><code class="t">[</code><var class="var">key</var><code class="t">]=</code><var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>

<p>如果不存在参数 <var class="var">name</var>，则会创建一个普通数组参数。 如果参数 <var class="var">name</var> 存在且是标量，则会被一个新数组取代。
</p>
<p>在第三种形式中，<var class="var">key</var> 是一个将在算术上下文中求值的表达式（最简单的形式是一个整数），它给出了赋值为 <var class="var">value</var> 的元素的索引。
在这种形式中，在赋值的最大索引之前的任何未明确提及的元素都将被赋值为空字符串。 索引可以是任意顺序。 请注意，这种语法是严格的： <code class="t">[</code> 和
<code class="t">]=</code> 不得加引号，并且 <var class="var">key</var> 不得包含未加引号的字符串 <code class="t">]=</code>，否则视为简单字符串。 下面 &lsquo;数组下标 &rsquo;
一节中描述的下标表达式增强形式在直接下标变量名时不可用。
</p>
<p>有显式键和无显式键的语法可以混合使用。 隐式 <var class="var">key</var> 是通过递增先前赋值元素的索引来推导的。
请注意，如果后面的赋值覆盖了前面的赋值，不会被视为错误。
</p>
<p>例如，假设未设置选项 <code class="t">KSH_ARRAYS</code>，则会出现以下情况：
</p>
<div class="example">
<pre class="example-preformatted">array=(one [3]=three four)
</pre></div>

<p>会使数组变量 <code class="t">array</code> 依次包含四个元素 <code class="t">one</code>、空字符串、<code class="t">three</code> 和 <code class="t">four</code>。
</p>
<p>在只指定 <var class="var">value</var> 的形式中，将执行完整的命令行扩展。
</p>
<p>在 <code class="t">[</code><var class="var">key</var><code class="t">]=</code><var class="var">value</var> 形式中，<var class="var">key</var>和<var class="var">value</var>都会经历单字 shell
扩展所允许的所有扩展形式（不包括文件名生成）；这些扩展由参数扩展标志 <code class="t">(e)</code> 执行，如 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a> 中所述。
<var class="var">value</var>周围可能会有嵌套的小括号，这些小括号将作为值的一部分包含在内，并被连接成一个纯字符串；这与允许值本身为数组的 ksh 不同。
未来版本的 zsh 可能会支持这一点。 要将括号解释为文件名生成的字符类，并因此将生成的文件列表视为一组值，请使用任何形式的引号为等号加引号。 例如
</p>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=(</code><code class="t">[a-z]'='*)</code>
</p></blockquote>

<p>要在不改变现有值的情况下追加到数组，请使用以下方法之一：
</p>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">+=(</code><var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">+=(</code><code class="t">[</code><var class="var">key</var><code class="t">]=</code><var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>

<p>在第二种形式中，<var class="var">key</var> 可以指定一个现有的索引，也可以指定旧数组末尾（之后 off the end of）的索引；任何现有值都会被
<var class="var">value</var> 覆盖。 此外，还可以使用 <code class="t">[</code><var class="var">key</var><code class="t">]+=</code><var class="var">value</var> 追加到该索引处的现有值。
</p>
<p>在任何一种赋值形式右侧的括号内，换行符和分号都与空白一样，用于分隔各个 <var class="var">value</var>s。 任何连续的此类字符序列都具有相同的效果。
</p>
<p>普通数组参数也可以明确声明用：
<a class="index-entry-id" id="index-typeset_002c-use-of-1"></a>
</p>
<blockquote class="quotation">
<p><code class="t">typeset -a</code> <var class="var">name</var>
</p></blockquote>

<p><em class="emph">必须</em>在赋值前声明关联数组 ，方法是使用：
</p>
<blockquote class="quotation">
<p><code class="t">typeset -A</code> <var class="var">name</var>
</p></blockquote>

<p>当 <var class="var">name</var> 指向关联数组时，赋值中的列表被解释为交替的键和值：
</p>
<blockquote class="quotation">
<p><code class="t">set -A</code> <var class="var">name</var> <var class="var">key</var> <var class="var">value</var> ...
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=(</code><var class="var">key</var> <var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=(</code><code class="t">[</code><var class="var">key</var><code class="t">]=</code><var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>

<p>请注意，在任何给定的赋值中，只能使用上述两种语法中的一种；这两种形式不能混合使用。 这与数字索引数组的情况不同。
</p>
<p>在这种情况下，每个 <var class="var">key</var> 都必须有一个 <var class="var">value</var>。
需要注意的是，这样做会对整个数组赋值，删除列表中没有出现的元素。追加语法也可用于关联数组：
</p>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">+=(</code><var class="var">key</var> <var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">+=(</code><code class="t">[</code><var class="var">key</var><code class="t">]=</code><var class="var">value</var> ...<code class="t">)</code>
</p></blockquote>

<p>如果键还不存在，则添加新的键/值对，如果存在，则替换现有键的值。 在第二种形式中，也可以使用
<code class="t">[</code><var class="var">key</var><code class="t">]+=</code><var class="var">value</var> 来追加到该键的现有值。 如上所述，扩展的执行方式与普通数组的相应形式相同。
</p>
<p>要创建一个空数组（包括关联数组），请使用以下命令之一：
</p>
<blockquote class="quotation">
<p><code class="t">set -A</code> <var class="var">name</var>
</p></blockquote>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">=()</code>
</p></blockquote>


<div class="subsection-level-extent" id="Shu-Zu-Xia-Biao-">
<h4 class="subsection"><span>15.2.1 数组下标<a class="copiable-link" href="#Shu-Zu-Xia-Biao-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Xia-Biao-"></a>
<p>使用下标可以选择数组中的单个元素。 形式为 &lsquo;<code class="t">[</code><var class="var">exp</var><code class="t">]</code>&rsquo; 的下标将选择单个元素 <var class="var">exp</var>，其中
<var class="var">exp</var> 是一个算术表达式，它将被算术展开，就像它被 &lsquo;<code class="t">$((</code>...<code class="t">))</code>&rsquo; 包围一样。 元素的编号从 1 开始，除非设置了
<code class="t">KSH_ARRAYS</code> 选项，在这种情况下，元素的编号从 0 开始。
<a class="index-entry-id" id="index-KSH_005fARRAYS_002c-use-of"></a>
</p>
<p>下标可以用在大括号内，用于限定参数名，因此 &lsquo;<code class="t">${foo[2]}</code>&rsquo; 等同于 &lsquo;<code class="t">$foo[2]</code>&rsquo;。 如果设置了
<code class="t">KSH_ARRAYS</code> 选项，则括号形式是唯一有效的形式，否则括号内的表达式不会被视为下标。
</p>
<p>如果没有设置 <code class="t">KSH_ARRAYS</code> 选项，那么默认情况下，访问下标值为 0 的数组元素时，会返回空字符串，而尝试写入这样的元素则会被视为错误。
为了向后兼容，可以设置 <code class="t">KSH_ZERO_SUBSCRIPT</code> 选项，使下标值 0 和 1 等价；参见 <a class="ref" href="#g_t_9009_9879_8bf4_660e">选项说明</a> 中的选项描述。
</p>
<p>除了 <var class="var">exp</var>
不进行算术扩展外，关联数组使用了相同的下标语法。然而，算术表达式的解析规则仍然适用，这影响了某些特殊字符必须受到保护以免被解释的方式。 详见下面的
<em class="emph">下标解析</em>。
</p>
<p>形式为 &lsquo;<code class="t">[*]</code>&rsquo; 或 &lsquo;<code class="t">[@]</code>&rsquo; 的下标计算为数组的所有元素；除了出现在双引号内时，两者没有区别。  &lsquo;<code class="t">&quot;$foo[*]&quot;</code>&rsquo;
的运算结果为 &lsquo;<code class="t">&quot;$foo[1] $foo[2] </code>...<code class="t">&quot;</code>&rsquo; ，而 &lsquo;<code class="t">&quot;$foo[@]&quot;</code>&rsquo; 的运算结果为
&lsquo;<code class="t">&quot;$foo[1]&quot; &quot;$foo[2]&quot; </code>...&rsquo;。  对于关联数组， &lsquo;<code class="t">[*]</code>&rsquo; 或 &lsquo;<code class="t">[@]</code>&rsquo;
计算为所有值，没有特定顺序。 请注意，这并不能替代键值；详情请参见 <a class="ref" href="#g_t_53c2_6570">参数</a> 下的 &lsquo;<code class="t">k</code>&rsquo; 标志文档。
当一个数组参数被引用为&lsquo;<code class="t">$</code><var class="var">name</var>&rsquo;（不带下标）时，其值将被计算为 &lsquo;<code class="t">$</code><var class="var">name</var><code class="t">[*]</code>&rsquo;、 除非设置了
<code class="t">KSH_ARRAYS</code>选项，在这种情况下，它的值为 &lsquo;<code class="t">${</code><var class="var">name</var><code class="t">[0]}</code>&rsquo;
（对于关联数组，这意味着键&lsquo;<code class="t">0</code>&rsquo; 的值，这可能不存在，，即使其他键的值存在）。
</p>
<p>形式为 &lsquo;<code class="t">[</code><var class="var">exp1</var><code class="t">,</code><var class="var">exp2</var><code class="t">]</code>&rsquo; 的下标会选择 <var class="var">exp1</var> 至 <var class="var">exp2</var>
范围内的所有元素，包括 <var class="var">exp1</var> 和 <var class="var">exp2</var> 。(关联数组是无序的，因此不支持范围。）如果其中一个下标求值为负数，例如
<code class="t">-</code><var class="var">n</var>，则使用数组末尾的第 <var class="var">n</var> 个元素。 因此， &lsquo;<code class="t">$foo[-3]</code>&rsquo; 是数组 <code class="t">foo</code>
末尾的第三个元素，而 &lsquo;<code class="t">$foo[1,-1]</code>&rsquo; 与 &lsquo;<code class="t">$foo[*]</code>&rsquo; 相同。
</p>
<p>下标运算也可以用于非数组值，此时下标指定了要提取的子字符串。例如，如果<code class="t">FOO</code>被设置为 &lsquo;<code class="t">foobar</code>&rsquo; ，那么 &lsquo;<code class="t">echo
$FOO[2,5]</code>&rsquo; 将输出
&lsquo;<code class="t">ooba</code>&rsquo;。请注意，下面描述的某些形式的下标运算执行模式匹配，在这种情况下，子字符串从第一个下标的匹配开始，一直延伸到第二个下标的匹配结束。例如，
</p>
<div class="example">
<pre class="example-preformatted">string=&quot;abcdefghijklm&quot;
print ${string[(r)d?,(r)h?]}
</pre></div>

<p>会打印 &lsquo;<code class="t">defghi</code>&rsquo;。 这显然是对单字符匹配规则的概括。 对于单个下标，只引用单个字符（而不是匹配所覆盖的字符范围）。
</p>
<p>请注意，在子串操作中，<code class="t">r</code> 和 <code class="t">R</code> 下标标志对第二个下标有不同的处理方式：前者以最短的匹配值作为长度，后者以最长的匹配值作为长度。
因此，在前一种情况下，末尾的 <code class="t">*</code> 是多余的，而在后一种情况下，它匹配字符串的整个剩余部分。
这不会影响单个下标情况下的结果，因为这里匹配的长度无关紧要。
</p>

</div>
<div class="subsection-level-extent" id="Shu-Zu-Yuan-Su-Fu-Zhi-">
<h4 class="subsection"><span>15.2.2 数组元素赋值<a class="copiable-link" href="#Shu-Zu-Yuan-Su-Fu-Zhi-"> &para;</a></span></h4>

<p>在赋值的左侧可以使用下标，如下所示：
</p>
<blockquote class="quotation">
<p><var class="var">name</var><code class="t">[</code><var class="var">exp</var><code class="t">]=</code><var class="var">value</var>
</p></blockquote>

<p>在这种赋值形式中，<var class="var">exp</var> 指定的元素或范围会被右侧的表达式替换。 数组（但不是关联数组）可以通过对元素或范围赋值来创建。
数组不会嵌套，因此给元素或范围赋值一列括号中的值会改变数组中元素的数量，并移动其他元素以容纳新值。 (关联数组不支持这种方式）。
</p>
<p>该语法也可作为 <code class="t">typeset</code> 命令的参数：
</p>
<blockquote class="quotation">
<p><code class="t">typeset</code> <code class="t">&quot;</code><var class="var">name</var><code class="t">[</code><var class="var">exp</var><code class="t">]&quot;=</code><var class="var">value</var>
</p></blockquote>

<p>在这种情况下，<var class="var">value</var> 可以 <em class="emph">不</em>是一个带括号的列表；只能使用 <code class="t">typeset</code> 进行单元素赋值。
请注意，在这种情况下必须使用引号，以防止括号被解释为文件名生成操作符。 可以使用 <code class="t">noglob</code> 前置命令修饰符代替。
</p>
<p>要删除普通数组中的一个元素，请为该元素赋值 &lsquo;<code class="t">()</code>&rsquo; 。 要删除关联数组的元素，请使用 <code class="t">unset</code> 命令：
</p>
<blockquote class="quotation">
<p><code class="t">unset</code> <code class="t">&quot;</code><var class="var">name</var><code class="t">[</code><var class="var">exp</var><code class="t">]&quot;</code>
</p></blockquote>


</div>
<div class="subsection-level-extent" id="Xia-Biao-Biao-Zhi-">
<h4 class="subsection"><span>15.2.3 下标标志<a class="copiable-link" href="#Xia-Biao-Biao-Zhi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Xia-Biao-Biao-Zhi-"></a>
<p>如果在任何下标表达式中，开头括号（bracket)或范围中的逗号，后直接跟了一个开头小括号(parenthesis)，则直到匹配的结尾括号的字符串将被视为一个标志列表，如在
&lsquo;<var class="var">name</var><code class="t">[(</code><var class="var">flags</var><code class="t">)</code><var class="var">exp</var><code class="t">]</code>&rsquo; 中。
</p>
<p>标志 <code class="t">s</code>、<code class="t">n</code> 和 <code class="t">b</code> 都有一个参数；分隔符如下所示： &lsquo;<code class="t">:</code>&rsquo;，但可以使用任何字符或匹配对
&lsquo;<code class="t">(</code>...<code class="t">)</code>&rsquo;, &lsquo;<code class="t">{</code>...<code class="t">}</code>&rsquo;, &lsquo;<code class="t">[</code>...<code class="t">]</code>&rsquo; 或 &lsquo;<code class="t">&lt;</code>...<code class="t">&gt;</code>&rsquo;。
但要注意的是， &lsquo;<code class="t">&lt;</code>...<code class="t">&gt;</code>&rsquo; 只能在下标位于双引号表达式或括号内的参数替换中时使用，否则表达式将被解释为重定向。
</p>
<p>目前可理解的标志有:
</p>
<dl class="table">
<dt><code class="t">w</code></dt>
<dd><p>如果下标的参数是标量，则该标志会使下标作用于单词而不是字符。 默认的单词分隔符是空白。 当与 <code class="t">i</code> 或 <code class="t">I</code>
标志结合使用时，效果是生成与给定模式匹配的第一个/最后一个单词的第一个字符的索引；请注意，在这种情况下，匹配失败的结果总是 0。
</p>
</dd>
<dt><code class="t">s:</code><var class="var">string</var><code class="t">:</code></dt>
<dd><p>这给出了分隔单词的 <var class="var">string</var>（与 <code class="t">w</code> 标志一起使用）。 分隔符 <code class="t">:</code> 是任意的，见上文。
</p>
</dd>
<dt><code class="t">p</code></dt>
<dd><p>在随后的 &lsquo;<code class="t">s</code>&rsquo; 标志的字符串参数中，识别与 <code class="t">print</code> 内置命令相同的转义序列。
</p>
</dd>
<dt><code class="t">f</code></dt>
<dd><p>如果下标的参数是一个标量，那么该标志会使下标作用在行上，而不是字符上，也就是用换行符分隔元素。这是 &lsquo;<code class="t">pws:\n:</code>&rsquo; 的简写。
</p>
</dd>
<dt><code class="t">r</code></dt>
<dd><p>反向（reverse)下标：如果给出此标记，<var class="var">exp</var>
将作为模式，结果是第一个匹配的数组元素、子串或单词（如果参数是数组，如果参数是标量，或者如果参数是标量且给出了 &lsquo;<code class="t">w</code>&rsquo;
标志）。使用的下标是匹配元素的编号，因此，如果参数不是关联数组，则可以使用成对的下标，如 &lsquo;<code class="t">$foo[(r)??,3]</code>&rsquo;  和
&lsquo;<code class="t">$foo[(r)??,(r)f*]</code>&rsquo; 。 如果参数是关联数组，则只将每一对的值部分与模式进行比较，结果就是该值。
</p>
<p>如果对普通数组的搜索失败，搜索会将下标设置为数组末尾之后的一个，因此 <code class="t">${array[(r)</code><var class="var">pattern</var><code class="t">]}</code>
将替换为空字符串。因此，可以使用 <code class="t">(i)</code> 标志来测试搜索是否成功，例如（假设选项 <code class="t">KSH_ARRAYS</code> 未生效）：
</p>
<div class="example">
<pre class="example-preformatted">[[ ${array[(i)pattern]} -le ${#array} ]]
</pre></div>

<p>如果 <code class="t">KSH_ARRAYS</code> 有效，则 <code class="t">-le</code> 应替换为 <code class="t">-lt</code>。
</p>
</dd>
<dt><code class="t">R</code></dt>
<dd><p>类似于 &lsquo;<code class="t">r</code>&rsquo;，但给出最后一个匹配项。对于关联数组，会给出所有可能的匹配结果。可用于普通数组元素的赋值，但不能用于关联数组的赋值。
对于普通数组，赋值失败后会返回下标 0 对应的元素；除非使用b  <code class="t">KSH_ARRAYS</code> 或 <code class="t">KSH_ZERO_SUBSCRIPT</code>
选项之一，否则返回的元素为空。
</p>
<p>需要注意的是，在同时包含 &lsquo;<code class="t">r</code>&rsquo;  和 &lsquo;<code class="t">R</code>&rsquo; 的下标中，模式字符即使被替换为参数，也是有效的（与在正常模式匹配中控制该功能的
<code class="t">GLOB_SUBST</code> 的设置无关）。可以添加标志 &lsquo;<code class="t">e</code>&rsquo; 来抑制模式匹配。
由于该标志并不抑制其他形式的替换，因此仍需小心谨慎；使用参数来保持关键字（key）可以达到预期效果：
</p>
<div class="example">
<pre class="example-preformatted">key2='original key'
print ${array[(Re)$key2]}
</pre></div>

</dd>
<dt><code class="t">i</code></dt>
<dd><p>类似于 &lsquo;<code class="t">r</code>&rsquo;，但给出的是匹配的索引；不能与第二个参数一起使用。 在赋值的左侧，行为类似于 &lsquo;<code class="t">r</code>&rsquo;。
对于关联数组，每个键值对的键部分都会与模式进行比较，找到的第一个匹配键就是结果。
如果失败，则用数组的长度加一代替，这在&lsquo;<code class="t">r</code>&rsquo;的描述中已经讨论过，如果是关联数组，则是空字符串。
</p>
<p>注意：虽然 &lsquo;<code class="t">i</code>&rsquo; 可以应用于标量替换，以查找子串的偏移量，但当在产生空字符串的替换中查找，或查找空子串时，结果很可能会产生误导。
</p>
</dd>
<dt><code class="t">I</code></dt>
<dd><p>与 &lsquo;<code class="t">i</code>&rsquo; 类似，但会给出最后一个匹配项的索引，或关联数组中所有可能匹配的键。 如果失败，则替换为 0 或对于关联数组是空字符串。
在测试不存在的值或键时，最好使用该标志。
</p>
<p>注意：如果选项 <code class="t">KSH_ARRAYS</code> 有效，但未找到匹配，则结果与数组中第一个元素匹配的情况无异。
</p>
</dd>
<dt><code class="t">k</code></dt>
<dd><p>如果在关联数组的下标中使用该标志，则键会被解释为模式，并返回键与 <var class="var">exp</var> 匹配的第一个键的值。
请注意，这可能是任何键，因为关联数组没有定义排序。 该标志不适用于关联数组元素赋值的左侧。 如果使用在其他类型的参数上，则行为类似于 &lsquo;<code class="t">r</code>&rsquo;。
</p>
</dd>
<dt><code class="t">K</code></dt>
<dd><p>在关联数组中，这与 &lsquo;<code class="t">k</code>&rsquo; 类似，但会返回 <var class="var">exp</var> 与键匹配的所有值。 对于其他类型的参数，作用与 &lsquo;<code class="t">R</code>&rsquo; 相同。
</p>
</dd>
<dt><code class="t">n:</code><var class="var">expr</var><code class="t">:</code></dt>
<dd><p>如果与 &lsquo;<code class="t">r</code>&rsquo;, &lsquo;<code class="t">R</code>&rsquo;, &lsquo;<code class="t">i</code>&rsquo; 或 &lsquo;<code class="t">I</code>&rsquo; 结合使用，则会给出第 <var class="var">n</var> 个或后数第 <var class="var">n</var>
个匹配（如果 <var class="var">expr</var> 值为 <var class="var">n</var>）。 当数组是关联数组时，该标志将被忽略。 分隔符 <code class="t">:</code> 是任意的；见上文。
</p>
</dd>
<dt><code class="t">b:</code><var class="var">expr</var><code class="t">:</code></dt>
<dd><p>如果与 &lsquo;<code class="t">r</code>&rsquo;, &lsquo;<code class="t">R</code>&rsquo;, &lsquo;<code class="t">i</code>&rsquo; 或 &lsquo;<code class="t">I</code>&rsquo; 结合使用，会使它们从第 <var class="var">n</var> 个或后数第 <var class="var">n</var>
个元素、单词或字符（如果 <var class="var">expr</var> 值为 <var class="var">n</var>）开始。 如果数组是关联数组，该标志将被忽略。 分隔符 <code class="t">:</code>
是任意的；见上文。
</p>
</dd>
<dt><code class="t">e</code></dt>
<dd><p>该标志会使任何对下标执行的模式匹配改用纯字符串匹配。 因此， &lsquo;<code class="t">${array[(re)*]}</code>&rsquo; 只匹配值为 <code class="t">*</code> 的数组元素。
请注意，其他形式的替换（如参数替换）并不受限制。
</p>
<p>该标记还可用于强制将 <code class="t">*</code> 或 <code class="t">@</code> 解释为单键，而不是对所有值的引用。 在赋值的左侧，它可以用于这两种目的。
</p>
</dd>
</dl>

<p>请参阅 <em class="emph">参数扩展标志</em> (<a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a>)，了解操作数组下标结果的其他方法。
</p>

</div>
<div class="subsection-level-extent" id="Xia-Biao-Jie-Xi-">
<h4 class="subsection"><span>15.2.4 下标解析<a class="copiable-link" href="#Xia-Biao-Jie-Xi-"> &para;</a></span></h4>

<p>本讨论主要适用于关联数组键字符串和用于反转下标的模式（ &lsquo;<code class="t">r</code>&rsquo;, &lsquo;<code class="t">R</code>&rsquo;, &lsquo;<code class="t">i</code>&rsquo;
等标志），但也可能影响作为算术表达式的一部分出现在普通下标中的参数替换。
</p>
<p>在对关联数组元素赋值时，为避免下标解析的限制，可使用追加语法：
</p>
<div class="example">
<pre class="example-preformatted">aa+=('key with &quot;*strange*&quot; characters' 'value string')
</pre></div>

<p>编写下标表达式时要记住的基本规则是，开头的 &lsquo;<code class="t">[</code>&rsquo; 和结尾的 &lsquo;<code class="t">]</code>&rsquo;
之间的所有文本都被<em class="emph">解释为</em>双引号引用（<a class="ref" href="#g_t_5f15_7528">引用</a>）。
不过，与通常不能嵌套的双引号不同，下标表达式可能出现在双引号引用字符串内部，也可能出现在其他下标表达式内部（或两者兼而有之！），因此这些规则有两个重要区别。
</p>
<p>第一个区别是，括号（&lsquo;<code class="t">[</code>&rsquo; 和 &lsquo;<code class="t">]</code>&rsquo;）必须作为平衡对出现在下标表达式中，除非它们前面有反斜线（&lsquo;<code class="t">\</code>&rsquo;）。
因此，在下标表达式中（与真正的双引号不同）， &lsquo;<code class="t">\[</code>&rsquo; 序列变为 &lsquo;<code class="t">[</code>&rsquo;，同样， &lsquo;<code class="t">\]</code>&rsquo; 变为 &lsquo;<code class="t">]</code>&rsquo; 。
这甚至适用于通常不需要反斜线的情况；例如，模式 &lsquo;<code class="t">[^[]</code>&rsquo;（匹配开放括号以外的任何字符）在反向下标模式中应写成&lsquo; <code class="t">[^\[]</code>&rsquo; 。
不过，请注意， &lsquo;<code class="t">\[^\[\]</code>&rsquo; 甚至 &lsquo;<code class="t">\[^[]</code>&rsquo; 都是 <em class="emph">一样</em> 的意思，因为反斜线出现在括号前时总是会被去掉！
</p>
<p>同样的规则也适用于小括号（&lsquo;<code class="t">(</code>&rsquo; 和 &lsquo;<code class="t">)</code>&rsquo;）和大括号（&lsquo;<code class="t">{</code>&rsquo; 和
&lsquo;<code class="t">}</code>&rsquo;）：它们必须以平衡对形式出现，或在前面加上反斜线，在解析过程中，保护小括号或大括号的反斜线会被删除。
这是因为参数扩展可以用平衡大括号包围，而下标标志则由平衡小括号引入。
</p>
<p>第二个区别是，双引号 (&lsquo;<code class="t">&quot;</code>&rsquo;)可以作为下标表达式的一部分出现，而不需要在前面加上反斜线，因此 &lsquo;<code class="t">\&quot;</code>&rsquo;
这两个字符仍然是下标中的两个字符（在真正的双引号中，&lsquo;<code class="t">\&quot;</code>&rsquo; 变成了&lsquo;<code class="t">&quot;</code>&rsquo;）。 然而，由于标准的 shell
引用规则，任何出现的双引号都必须成对出现，除非前面有反斜线。
这就增加了编写包含奇数双引号字符的下标表达式的难度，但之所以存在这种差异，是因为当下标表达式出现在真正的双引号内时，我们仍然可以把 &lsquo;<code class="t">\&quot;</code>&rsquo;
写成 &lsquo;<code class="t">\&quot;</code>&rsquo;（而不是 &lsquo;<code class="t">\\\&quot;</code>&rsquo; ）。
</p>
<p>要在赋值中使用奇数双引号作为键，请使用 <code class="t">typeset</code> 内置命令和一对双引号；要引用该键的值，同样使用双引号：
</p>
<div class="example">
<pre class="example-preformatted">typeset -A aa
typeset &quot;aa[one\&quot;two\&quot;three\&quot;quotes]&quot;=QQQ
print &quot;$aa[one\&quot;two\&quot;three\&quot;quotes]&quot;
</pre></div>

<p>值得注意的是，当带有下标的参数扩展嵌套在另一个下标表达式中时，引用规则不会改变。
也就是说，不需要在内部下标表达式中使用额外的反斜线；只需从最内层下标向外删除一次反斜线。
参数也是先从最内层的下标开始展开，因为在外层表达式中，每次展开都是从左向右进行的。
</p>
<p>下标解析与双引号解析<em class="emph">并没有不同</em> （not different），这就造成了进一步的复杂性。 与真正的双引号一样， &lsquo;<code class="t">\*</code>&rsquo;
和&lsquo;<code class="t">\@</code>&rsquo; 序列在下标表达式中出现时仍是两个字符。 要使用字面的  &lsquo;<code class="t">*</code>&rsquo; 或 &lsquo;<code class="t">@</code>&rsquo; 作为关联数组的键，必须使用
&lsquo;<code class="t">e</code>&rsquo; 标志：
</p>
<div class="example">
<pre class="example-preformatted">typeset -A aa
aa[(e)*]=star
print $aa[(e)*]
</pre></div>

<p>在执行反向下标时，必须考虑最后一个细节。 下标表达式中出现的参数首先会被展开，然后整个表达式会被解释为一个模式。 这有两个影响：首先，参数的行为就好像
<code class="t">GLOB_SUBST</code> 是开启的一样（而且无法关闭）；其次，反斜线会被解释两次，一次是在解析数组下标时，另一次是在解析模式时。
在反向下标中，必须使用 <em class="emph">四个</em> 反斜线，才能使单个反斜线与模式中的字面意思相匹配。
对于复杂的模式，通常最简单的做法是将所需模式指定给一个参数，然后在下标中引用该参数，因为只有在将完整表达式转换为模式时才会看到反斜线、花括号、小括号等。
要匹配反向下标中的参数字面值而不是模式，可使用 &lsquo;<code class="t">${(q</code><code class="t">)</code><var class="var">name</var><code class="t">}</code>&rsquo;
（<a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a>）来为扩展后的值加引用。
</p>
<p>请注意，&lsquo;<code class="t">k</code>&rsquo; 和 &lsquo;<code class="t">K</code>&rsquo; 标志对于普通数组来说是反向下标，但对于关联数组来说是 <em class="emph">不是</em>
反向下标！(对于关联数组，数组本身的键被这些标志解释为模式；在这种情况下，下标是一个纯字符串）。
</p>
<p>最后注意一点,与下标语法没有直接关系：位置参数（<a class="ref" href="#g_t_4f4d_7f6e_53c2_6570">位置参数</a>）的数字名称会被特殊解析，例如， &lsquo;<code class="t">$2foo</code>&rsquo; 等同于
&lsquo;<code class="t">${2}foo</code>&rsquo; 。 因此，要使用下标语法从位置参数中提取子串，必须用大括号括起来；例如， &lsquo;<code class="t">${2[3,5]}</code>&rsquo;
的值是第二个位置参数的第三到第五个字符，但 &lsquo;<code class="t">$2[3,5]</code>&rsquo; 是整个第二个参数与文件名生成模式 &lsquo;<code class="t">[3,5]</code>&rsquo; 的连接。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_4f4d_7f6e_53c2_6570">

<h3 class="section" id="Wei-Zhi-Can-Shu-"><span>15.3 位置参数<a class="copiable-link" href="#Wei-Zhi-Can-Shu-"> &para;</a></span></h3>
<p>位置参数用于访问 shell 函数、shell 脚本或 shell 本身的命令行参数；参见 <a class="ref" href="#g_t_8c03_7528">调用</a>，以及 <a class="ref" href="#g_t_51fd_6570">函数</a>。 参数
<var class="var">n</var> 是第 <var class="var">n</var> 个位置参数，其中 <var class="var">n</var> 是一个数字。 参数 &lsquo;<code class="t">$0</code>&rsquo; 是一个特例，参见 <a class="ref" href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a>。
</p>
<p>参数 <code class="t">*</code>, <code class="t">@</code> 和 <code class="t">argv</code> 是包含所有位置参数的数组；因此 &lsquo;<code class="t">$argv[</code><var class="var">n</var><code class="t">]</code>&rsquo; 等，等同于
&lsquo;<code class="t">$</code><var class="var">n</var>&rsquo; 。 需要注意的是，选项 <code class="t">KSH_ARRAYS</code> 或 <code class="t">KSH_ZERO_SUBSCRIPT</code>
也适用于这些数组，因此在设置了这两个选项之一的情况下，&lsquo;<code class="t">${argv[0]}</code>&rsquo; 等价于 &lsquo;<code class="t">$1</code>&rsquo; ，以此类推。
</p>
<p>位置参数可以在 shell 或函数启动后通过 <code class="t">set</code> 内置命令、赋值给 <code class="t">argv</code> 数组或
&lsquo;<var class="var">n</var><code class="t">=</code><var class="var">value</var>&rsquo; 的形式直接赋值进行修改，其中 <var class="var">n</var> 是要修改的位置参数的编号。 这也会创建（用空值）从 1
到 <var class="var">n</var> 尚未有值的任何位置。 需要注意的是，由于位置参数组成了一个数组，因此允许使用形式为
&lsquo;<var class="var">n</var><code class="t">=(</code><var class="var">value</var> ...<code class="t">)</code>&rsquo; 的数组赋值，其效果是将所有大于 <var class="var">n</var>
的位置值移动需要的位置，以容纳新值。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_5c40_90e8_53c2_6570">

<h3 class="section" id="Ju-Bu-Can-Shu-"><span>15.4 局部参数<a class="copiable-link" href="#Ju-Bu-Can-Shu-"> &para;</a></span></h3>
<p>shell 函数的执行为 shell 参数限定了作用域（参数是动态作用域）。 (参数是动态作用域的。）<code class="t">typeset</code> 内置命令及其替代形式
<code class="t">declare</code>、<code class="t">integer</code>、<code class="t">local</code> 和 <code class="t">readonly</code>（但不包括
<code class="t">export</code>）可用于将参数声明为最内层作用域的局部参数。
</p>
<p>当读取或赋值一个参数时，会使用该参数名的最内层现有参数（也就是说，局部参数会隐藏任何外层（less-local）参数）。
(不过，如果赋值给一个不存在的参数，或使用 <code class="t">export</code> 声明一个新参数，则会在 <em class="emph">最外层</em>（outermost）作用域创建该参数。
</p>
<p>局部参数会在其作用域结束时消失。 <code class="t">unset</code> 可用于删除仍在作用域中的参数；任何同名的外层参数仍会被隐藏。
</p>
<p>特殊参数也可以设置为局部参数；除非现有参数或新创建的参数具有 <code class="t">-h</code>（hide）属性，否则特殊参数将保留其特殊属性。
这可能会产生意想不到的效果：变量没有默认值，因此如果在变量局部化时没有赋值，它将被设置为空值（如果是整数，则为零）。 下面是
</p>
<div class="example">
<pre class="example-preformatted">typeset PATH=/new/directory:$PATH
</pre></div>

<p>可以暂时允许 shell 或从 shell 调用的程序在函数内查找 <code class="t">/new/directory</code> 中的程序。
</p>
<p>请注意，旧版本的 zsh 中关于永不导出局部参数的限制已被删除。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">

<h3 class="section" id="You-Shell-She-Zhi-De-Can-Shu-"><span>15.5 由 Shell 设置的参数<a class="copiable-link" href="#You-Shell-She-Zhi-De-Can-Shu-"> &para;</a></span></h3>
<p>在后面的参数列表中，标记 &lsquo;&lt;S&gt;&rsquo;  表示参数是特殊的。 &lsquo;&lt;Z&gt;&rsquo; 表示 shell 在 <code class="t">sh</code> 或 <code class="t">ksh</code>
模拟模式下初始化时该参数不存在。
</p>
<p>参数 &lsquo;<code class="t">!</code>&rsquo;, &lsquo;<code class="t">#</code>&rsquo;, &lsquo;<code class="t">*</code>&rsquo;, &lsquo;<code class="t">-</code>&rsquo;, &lsquo;<code class="t">?</code>&rsquo;, &lsquo;<code class="t">@</code>&rsquo;, &lsquo;<code class="t">$</code>&rsquo;,
&lsquo;<code class="t">ARGC</code>&rsquo;, &lsquo;<code class="t">HISTCMD</code>&rsquo;, &lsquo;<code class="t">LINENO</code>&rsquo;, &lsquo;<code class="t">PPID</code>&rsquo;, &lsquo;<code class="t">status</code>&rsquo;,
&lsquo;<code class="t">TTYIDLE</code>&rsquo;, &lsquo;<code class="t">zsh_eval_context</code>&rsquo;, &lsquo;<code class="t">ZSH_EVAL_CONTEXT</code>&rsquo;,和
&lsquo;<code class="t">ZSH_SUBSHELL</code>&rsquo; 是只读的因此用户无法恢复（restore）, 所以它们不能通过 &lsquo;<code class="t">typeset -p</code>&rsquo; 输出。
这也适用于从模块加载的许多只读参数。
</p>
<p>以下参数由 shell 自动设置：
</p>
<dl class="table">
<dt><a id="index-_0021"></a><span><code class="t">!</code> &lt;S&gt;<a class="copiable-link" href="#index-_0021"> &para;</a></span></dt>
<dd><p>使用 <code class="t">&amp;</code> 在后台启动、使用 <code class="t">bg</code> 内置命令进入后台或使用 <code class="t">coproc</code> 生成的最后一条命令的进程 ID。
</p>
</dd>
<dt><a id="index-_0023"></a><span><code class="t">#</code> &lt;S&gt;<a class="copiable-link" href="#index-_0023"> &para;</a></span></dt>
<dd><p>位置参数的个数（十进制）。 请注意， <code class="t">$#</code><var class="var">param</var>  的语法可能会与 <var class="var">param</var> 的长度产生混淆。 请使用
<code class="t">${#}</code> 来消除歧义。 特别是，算术表达式中的序列 &lsquo;<code class="t">$#-</code><var class="var">...</var>&rsquo; 会被解释为参数 <code class="t">-</code> 的长度，参阅
</p>
</dd>
<dt><a id="index-ARGC"></a><span><code class="t">ARGC</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-ARGC"> &para;</a></span></dt>
<dd><p>与 <code class="t">#</code> 一样。
</p>
</dd>
<dt><a id="index-_0024"></a><span><code class="t">$</code> &lt;S&gt;<a class="copiable-link" href="#index-_0024"> &para;</a></span></dt>
<dd><p>此 shell 的进程 ID，在 shell 初始化时设置。 在不执行新程序的情况下从 shell 分支出来的进程，如命令替换和以
<code class="t">(</code><var class="var">...</var><code class="t">)</code> 分组的命令，都是复制当前 shell 的子 shell，因此其 <code class="t">$$</code> 值与父 shell 相同。
</p>
</dd>
<dt><a id="index-_002d-1"></a><span><code class="t">-</code> &lt;S&gt;<a class="copiable-link" href="#index-_002d-1"> &para;</a></span></dt>
<dd><p>调用 shell 时或通过 <code class="t">set</code> 或 <code class="t">setopt</code> 命令提供给 shell 的标志。
</p>
</dd>
<dt><a id="index-_002a"></a><span><code class="t">*</code> &lt;S&gt;<a class="copiable-link" href="#index-_002a"> &para;</a></span></dt>
<dd><p>包含位置参数的数组。
</p>
</dd>
<dt><a id="index-argv"></a><span><code class="t">argv</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-argv"> &para;</a></span></dt>
<dd><p>与 <code class="t">*</code> 相同。 向 <code class="t">argv</code> 赋值会改变局部位置参数，但 <code class="t">argv</code> 本身 <em class="emph">不是</em> 局部参数。 在任何函数中使用
<code class="t">unset</code> 删除 <code class="t">argv</code> 都会把它从所有位置删除，但只删除最内层的位置参数数组（因此其他作用域中的 <code class="t">*</code> 和 <code class="t">@</code>
不受影响）。
</p>
</dd>
<dt><a id="index-_0040"></a><span><code class="t">@</code> &lt;S&gt;<a class="copiable-link" href="#index-_0040"> &para;</a></span></dt>
<dd><p>与 <code class="t">argv[@]</code>相同，即使 <code class="t">argv</code> 未设置。
</p>
</dd>
<dt><a id="index-_003f"></a><span><code class="t">?</code> &lt;S&gt;<a class="copiable-link" href="#index-_003f"> &para;</a></span></dt>
<dd><p>最后一条命令返回的退出状态。
</p>
</dd>
<dt><a id="index-0"></a><span><code class="t">0</code> &lt;S&gt;<a class="copiable-link" href="#index-0"> &para;</a></span></dt>
<dd><p>调用当前 shell 时使用的名称，或由 <code class="t">-c</code> 命令行选项在调用时设置的名称。 如果设置了 <code class="t">FUNCTION_ARGZERO</code>
选项，在进入 shell 函数时 <code class="t">$0</code> 将被设置为该函数的名称，在进入引入（sourced）的脚本时 <code class="t">$0</code>
将被设置为该脚本的名称，并在函数或脚本返回时重置为之前的值。
</p>
</dd>
<dt><a id="index-status"></a><span><code class="t">status</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-status"> &para;</a></span></dt>
<dd><p>与 <code class="t">?</code> 一样。
</p>
</dd>
<dt><a id="index-pipestatus"></a><span><code class="t">pipestatus</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-pipestatus"> &para;</a></span></dt>
<dd><p>数组，包含最后一条管道中所有命令返回的退出状态。
</p>
</dd>
<dt><a id="index-_005f"></a><span><code class="t">_</code> &lt;S&gt;<a class="copiable-link" href="#index-_005f"> &para;</a></span></dt>
<dd><p>上一条命令的最后一个参数。 此外，在执行每条命令时，该参数都会在环境中设置为命令的完整路径名。
</p>
</dd>
<dt><a id="index-CPUTYPE"></a><span><code class="t">CPUTYPE</code><a class="copiable-link" href="#index-CPUTYPE"> &para;</a></span></dt>
<dd><p>运行时确定的机器类型（微处理器类别或机器型号）。
</p>
</dd>
<dt><a id="index-EGID"></a><span><code class="t">EGID</code> &lt;S&gt;<a class="copiable-link" href="#index-EGID"> &para;</a></span></dt>
<dd><p>shell 进程的有效组 ID。 如果您有足够的权限，可以通过指定此参数来更改 shell 进程的有效组 ID。 此外（假设有足够权限），还可以通过
&lsquo;<code class="t">(EGID=</code><var class="var">gid</var><code class="t">; command)</code>&rsquo; 以不同的有效组 ID 启动单个命令。
</p>
<p>如果将其设置为局部的，则不会隐式设置为 0，但是可以显式且局部地设置为0。
</p>
</dd>
<dt><a id="index-EUID"></a><span><code class="t">EUID</code> &lt;S&gt;<a class="copiable-link" href="#index-EUID"> &para;</a></span></dt>
<dd><p>shell 进程的有效用户 ID。 如果您有足够的权限，可以通过指定此参数来更改 shell 进程的有效用户 ID。 此外（假设有足够权限），还可以通过
&lsquo;<code class="t">(EUID=</code><var class="var">uid</var><code class="t">; command)</code>&rsquo; 以不同的有效用户 ID 启动单个命令。
</p>
<p>如果将其设置为局部的，则不会隐式设置为 0，但是可以显式且局部地设置为0。
</p>
</dd>
<dt><a id="index-ERRNO"></a><span><code class="t">ERRNO</code> &lt;S&gt;<a class="copiable-link" href="#index-ERRNO"> &para;</a></span></dt>
<dd><p>最近一次失败的系统调用所设置的 <code class="t">errno</code>（参见 errno(3)）值。 该值取决于系统，用于调试目的。 在与 <code class="t">zsh/system</code>
模块一起使用时也很有用，该模块允许将数字转换为名称或信息。
</p>
<p>要使用该参数，必须先为其赋值（通常为 0（零））。 为了与脚本兼容，该参数最初未设置。
</p>
</dd>
<dt><a id="index-FUNCNEST"></a><span><code class="t">FUNCNEST</code> &lt;S&gt;<a class="copiable-link" href="#index-FUNCNEST"> &para;</a></span></dt>
<dd><p>整数。 如果大于或等于零，则为 shell 函数的最大嵌套深度。 超过该值时，将在调用函数时出错。 默认值在配置 shell 时确定，但通常为 500。
增加该值会增加函数递归失控导致 shell 崩溃的危险。 设置负值则会关闭检查。
</p>
</dd>
<dt><a id="index-GID"></a><span><code class="t">GID</code> &lt;S&gt;<a class="copiable-link" href="#index-GID"> &para;</a></span></dt>
<dd><p>shell 进程的真实组 ID。 如果您有足够的权限，可以通过为该参数赋值来更改 shell 进程的组 ID。 此外（假设有足够权限），还可以通过
&lsquo;<code class="t">(GID=</code><var class="var">gid</var><code class="t">; command)</code>&rsquo; 在不同的组 ID 下启动一条命令。
</p>
<p>如果将其设置为局部的，则不会隐式设置为 0，但是可以显式且局部地设置为0。
</p>
</dd>
<dt><a id="index-HISTCMD"></a><span><code class="t">HISTCMD</code><a class="copiable-link" href="#index-HISTCMD"> &para;</a></span></dt>
<dd><p>交互式 shell 中的当前历史事件编号，换句话说，就是导致 <code class="t">$HISTCMD</code> 被读取的命令的事件编号。
如果当前历史事件修改了历史记录，<code class="t">HISTCMD</code> 将更改为新的最大历史事件编号。
</p>
</dd>
<dt><a id="index-HOST"></a><span><code class="t">HOST</code><a class="copiable-link" href="#index-HOST"> &para;</a></span></dt>
<dd><p>当前主机名。
</p>
</dd>
<dt><a id="index-LINENO"></a><span><code class="t">LINENO</code> &lt;S&gt;<a class="copiable-link" href="#index-LINENO"> &para;</a></span></dt>
<dd><p>当前脚本、源文件或正在执行的 shell 函数（以最近启动者为准）中当前行的行号。 请注意，对于 shell
函数，行号指的是函数在原始定义中的行号，而不一定是 <code class="t">functions</code> 内置命令所显示的行号。
</p>
</dd>
<dt><a id="index-LOGNAME"></a><span><code class="t">LOGNAME</code><a class="copiable-link" href="#index-LOGNAME"> &para;</a></span></dt>
<dd><p>如果 shell 环境中未设置相应变量，则会将其初始化为当前登录会话对应的登录名。默认情况下会导出此参数，但可以使用 <code class="t">typeset</code>
内置命令禁用。 如果 getlogin(3) 系统调用返回的字符串可用，该值将被设置为该字符串。
</p>
</dd>
<dt><a id="index-MACHTYPE"></a><span><code class="t">MACHTYPE</code><a class="copiable-link" href="#index-MACHTYPE"> &para;</a></span></dt>
<dd><p>编译时确定的机器类型（微处理器类别或机器型号）。
</p>
</dd>
<dt><a id="index-OLDPWD"></a><span><code class="t">OLDPWD</code><a class="copiable-link" href="#index-OLDPWD"> &para;</a></span></dt>
<dd><p>上一个工作目录。 它在 shell 初始化和目录更改时设置。
</p>
</dd>
<dt><a id="index-OPTARG"></a><span><code class="t">OPTARG</code> &lt;S&gt;<a class="copiable-link" href="#index-OPTARG"> &para;</a></span></dt>
<dd><p><code class="t">getopts</code> 命令处理的最后一个选项参数的值。
</p>
</dd>
<dt><a id="index-OPTIND"></a><span><code class="t">OPTIND</code> &lt;S&gt;<a class="copiable-link" href="#index-OPTIND"> &para;</a></span></dt>
<dd><p><code class="t">getopts</code> 命令处理的最后一个选项参数的索引。
</p>
</dd>
<dt><a id="index-OSTYPE"></a><span><code class="t">OSTYPE</code><a class="copiable-link" href="#index-OSTYPE"> &para;</a></span></dt>
<dd><p>编译时确定的操作系统。
</p>
</dd>
<dt><a id="index-PPID"></a><span><code class="t">PPID</code> &lt;S&gt;<a class="copiable-link" href="#index-PPID"> &para;</a></span></dt>
<dd><p>shell 初始化时设置的 shell 父进程 ID。 与 <code class="t">$$</code> 一样，在作为当前 shell 的副本创建的子 shell 中，该值不会改变。
</p>
</dd>
<dt><a id="index-PWD"></a><span><code class="t">PWD</code><a class="copiable-link" href="#index-PWD"> &para;</a></span></dt>
<dd><p>当前工作目录。 它在 shell 初始化和目录更改时设置。
</p>
</dd>
<dt><a id="index-RANDOM"></a><span><code class="t">RANDOM</code> &lt;S&gt;<a class="copiable-link" href="#index-RANDOM"> &para;</a></span></dt>
<dd><p>一个从 0 到 32767 的伪随机整数，每次引用该参数时都会新生成。 可以通过为 <code class="t">RANDOM</code> 赋值来给随机数生成器一个随机数种子。
</p>
<p><code class="t">RANDOM</code> 的值构成了一个可有意重复的伪随机序列；引用 <code class="t">RANDOM</code> 的子 shell 将产生完全相同的伪随机值，除非在子 shell
调用之间引用 <code class="t">RANDOM</code> 的值或在父 shell 中设置（seed） <code class="t">RANDOM</code> 的值。
</p>
</dd>
<dt><a id="index-SECONDS"></a><span><code class="t">SECONDS</code> &lt;S&gt;<a class="copiable-link" href="#index-SECONDS"> &para;</a></span></dt>
<dd><p>调用 shell 后的秒数。 如果为该参数赋值，则引用后返回的值将是赋值的值加上赋值后的秒数。
</p>
<p>与其他特殊参数不同，<code class="t">SECONDS</code> 参数的类型可以通过 <code class="t">typeset</code> 命令来更改。 类型只能改为浮点类型或整数类型。 例如，
&lsquo;<code class="t">typeset -F SECONDS</code>&rsquo; 会将数值报告为浮点数。 虽然 shell 可能会根据 <code class="t">typeset</code>
的使用显示更多或更少的位数，但数值的精度可以达到微秒级。 更多详情，请参阅 <a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a> 中的 <code class="t">typeset</code> 文档。
</p>
</dd>
<dt><a id="index-SHLVL"></a><span><code class="t">SHLVL</code> &lt;S&gt;<a class="copiable-link" href="#index-SHLVL"> &para;</a></span></dt>
<dd><p>每次启动一个新 shell 时递增 1。
</p>
</dd>
<dt><a id="index-signals"></a><span><code class="t">signals</code><a class="copiable-link" href="#index-signals"> &para;</a></span></dt>
<dd><p>包含信号名称的数组。 请注意，按照标准的 zsh 数组索引编号（第一个元素的索引为 1），信号与操作系统使用的信号编号相差 1。 例如，在典型的类
Unix 系统中 <code class="t">HUP</code> 是信号编号 1，但这里引用为 <code class="t">$signals[2]</code>。 这是因为 <code class="t">EXIT</code> 位于数组的第 1
位，zsh 在内部使用它，但操作系统并不知道它。
</p>
</dd>
<dt><a id="index-TRY_005fBLOCK_005fERROR"></a><span><code class="t">TRY_BLOCK_ERROR</code> &lt;S&gt;<a class="copiable-link" href="#index-TRY_005fBLOCK_005fERROR"> &para;</a></span></dt>
<dd><p>在 <code class="t">always</code> 块中，表示前面的代码列表是否导致错误。 值为 1 表示出错，否则为 0。 可以重置该值，清除错误条件。 参见
<a class="ref" href="#g_t_590d_6742_547d_4ee4">复杂命令</a>
</p>
</dd>
<dt><a id="index-TRY_005fBLOCK_005fINTERRUPT"></a><span><code class="t">TRY_BLOCK_INTERRUPT</code> &lt;S&gt;<a class="copiable-link" href="#index-TRY_005fBLOCK_005fINTERRUPT"> &para;</a></span></dt>
<dd><p>该变量的工作方式与 <code class="t">TRY_BLOCK_ERROR</code> 类似，但它代表来自 SIGINT 信号的中断状态，通常在用户从键盘键入 <code class="t">^C</code> 时。
如果设置为 0，任何此类中断都将被重置；否则，中断将在 <code class="t">always</code> 代码块之后传播。
</p>
<p>需要注意的是，在 <code class="t">always</code> 块执行过程中可能会出现中断；该中断也会被传播。
</p>
</dd>
<dt><a id="index-TTY"></a><span><code class="t">TTY</code><a class="copiable-link" href="#index-TTY"> &para;</a></span></dt>
<dd><p>与 shell 关联的 tty 的名称（如果有）。
</p>
</dd>
<dt><a id="index-TTYIDLE"></a><span><code class="t">TTYIDLE</code> &lt;S&gt;<a class="copiable-link" href="#index-TTYIDLE"> &para;</a></span></dt>
<dd><p>与 shell 关联的 tty 的空闲时间（以秒为单位），如果没有此类 tty，则为-1。
</p>
</dd>
<dt><a id="index-UID"></a><span><code class="t">UID</code> &lt;S&gt;<a class="copiable-link" href="#index-UID"> &para;</a></span></dt>
<dd><p>shell 进程的真实用户 ID。 如果您有足够的权限，可以通过为该参数赋值来更改 shell 的用户 ID。 此外（假设有足够权限），还可以通过
&lsquo;<code class="t">(UID=</code><var class="var">uid</var><code class="t">; command)</code>&rsquo; 以不同的用户 ID 启动一条命令。
</p>
<p>如果将其设置为局部的，则不会隐式设置为 0，但是可以显式且局部地设置为0。
</p>
</dd>
<dt><a id="index-USERNAME"></a><span><code class="t">USERNAME</code> &lt;S&gt;<a class="copiable-link" href="#index-USERNAME"> &para;</a></span></dt>
<dd><p>与 shell 进程真实用户 ID 相对应的用户名。 如果您有足够的权限，可以通过指定该参数来更改 shell 的用户名（以及用户 ID 和组 ID）。
此外（假设有足够权限），还可以通过  &lsquo;<code class="t">(USERNAME=</code><var class="var">username</var><code class="t">; command)</code>&rsquo; 以不同的用户名（以及用户
ID 和组 ID）启动单个命令。
</p>
</dd>
<dt><a id="index-VENDOR"></a><span><code class="t">VENDOR</code><a class="copiable-link" href="#index-VENDOR"> &para;</a></span></dt>
<dd><p>编译时确定的供应商。
</p>
</dd>
<dt><a class="index-entry-id" id="index-ZSH_005fEVAL_005fCONTEXT"></a>
<a id="index-zsh_005feval_005fcontext"></a><span><code class="t">zsh_eval_context</code> &lt;S&gt; &lt;Z&gt; (<code class="t">ZSH_EVAL_CONTEXT</code> &lt;S&gt;)<a class="copiable-link" href="#index-zsh_005feval_005fcontext"> &para;</a></span></dt>
<dd><p>一个数组（以冒号分隔的列表），表示正在运行的 shell 代码的上下文。 每次执行一段存储在 shell 中的 shell
代码时，都会在数组中临时添加一个字符串，以指示正在执行的操作类型。 按顺序读取时，数组会显示正在执行的操作堆栈，最近的操作放在最后。
</p>
<p>需要注意的是，该变量不提供诸如管道或子 shell 等语法上下文信息。 请使用 <code class="t">$ZSH_SUBSHELL</code> 来检测子 shell。
</p>
<p>上下文是以下情况之一：
</p><dl class="table">
<dt><code class="t">cmdarg</code></dt>
<dd><p>由 <code class="t">-c</code> 选项指定的调用 shell 的命令行代码。
</p>
</dd>
<dt><code class="t">cmdsubst</code></dt>
<dd><p>使用 <code class="t">`</code><var class="var">...</var><code class="t">`</code> or <code class="t">$(</code><var class="var">...</var><code class="t">)</code> 结构进行的命令替换。
</p>
</dd>
<dt><code class="t">equalsubst</code></dt>
<dd><p>使用 <code class="t">=(</code><var class="var">...</var><code class="t">)</code> 结构进行的文件替换。
</p>
</dd>
<dt><code class="t">eval</code></dt>
<dd><p>由 <code class="t">eval</code> 内置命令执行的代码。
</p>
</dd>
<dt><code class="t">evalautofunc</code></dt>
<dd><p>使用 <code class="t">KSH_AUTOLOAD</code> 机制执行的代码，用于定义自动加载函数。
</p>
</dd>
<dt><code class="t">fc</code></dt>
<dd><p>通过 <code class="t">fc</code> 内置命令的 <code class="t">-e</code> 选项执行的 shell 历史代码。
</p>
</dd>
<dt><code class="t">file</code></dt>
<dd><p>直接从文件（例如 <code class="t">source</code> 内置命令）读取的代码行。
</p>
</dd>
<dt><code class="t">filecode</code></dt>
<dd><p>从 <code class="t">.zwc</code> 文件而不是直接从源文件中读取的代码行。
</p>
</dd>
<dt><code class="t">globqual</code></dt>
<dd><p>由 glob 限定符 <code class="t">e</code> 或 <code class="t">+</code> 执行的代码。
</p>
</dd>
<dt><code class="t">globsort</code></dt>
<dd><p>根据glob 限定符 <code class="t">o</code> 对文件进行排序的代码。
</p>
</dd>
<dt><code class="t">insubst</code></dt>
<dd><p>使用 <code class="t">&lt;(</code><var class="var">...</var><code class="t">)</code> 结构的文件替换。
</p>
</dd>
<dt><code class="t">loadautofunc</code></dt>
<dd><p>直接从文件中读取以便定义自动加载函数的代码。
</p>
</dd>
<dt><code class="t">outsubst</code></dt>
<dd><p>使用 <code class="t">&gt;(</code><var class="var">...</var><code class="t">)</code> 结构进行文件替换。
</p>
</dd>
<dt><code class="t">sched</code></dt>
<dd><p>由 <code class="t">sched</code> 内置命令执行的代码。
</p>
</dd>
<dt><code class="t">shfunc</code></dt>
<dd><p>一个 shell 函数。
</p>
</dd>
<dt><code class="t">stty</code></dt>
<dd><p>由 <code class="t">STTY</code> 环境变量传递给 <code class="t">stty</code> 的代码。 通常情况下，该值会直接传递给系统的 <code class="t">stty</code>
命令，因此在实际应用中不太可能看到这个值。
</p>
</dd>
<dt><code class="t">style</code></dt>
<dd><p>作为 <code class="t">zsh/zutil</code> 模块中 <code class="t">zstyle</code> 内置命令获取的样式的一部分执行的代码。
</p>
</dd>
<dt><code class="t">toplevel</code></dt>
<dd><p>脚本或交互式 shell 的最高执行级别。
</p>
</dd>
<dt><code class="t">trap</code></dt>
<dd><p>以 <code class="t">trap</code> 内置命令定义的陷阱形式执行的代码。 定义为函数的陷阱上下文为 <code class="t">shfunc</code>。
由于陷阱是异步的，它们的层次结构可能与其他代码不同。
</p>
</dd>
<dt><code class="t">zpty</code></dt>
<dd><p>由 <code class="t">zsh/zpty</code> 模块中的 <code class="t">zpty</code> 内置命令执行的代码。
</p>
</dd>
<dt><code class="t">zregexparse-guard</code></dt>
<dd><p><code class="t">zsh/zutil</code> 模块中的 <code class="t">zregexparse</code> 命令执行时，会被作为保护代码执行。
</p>
</dd>
<dt><code class="t">zregexparse-action</code></dt>
<dd><p>由 <code class="t">zsh/zutil</code> 模块中的 <code class="t">zregexparse</code> 命令作为操作（action）执行的代码。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-ZSH_005fARGZERO"></a><span><code class="t">ZSH_ARGZERO</code><a class="copiable-link" href="#index-ZSH_005fARGZERO"> &para;</a></span></dt>
<dd><p>如果调用 zsh 是为了运行脚本，则这是脚本的名称。 否则，它就是用于调用当前 shell 的名称。 这与设置 <code class="t">POSIX_ARGZERO</code>
选项时 <code class="t">$0</code> 的值相同，但始终可用。
</p>
</dd>
<dt><a id="index-ZSH_005fEXECUTION_005fSTRING"></a><span><code class="t">ZSH_EXECUTION_STRING</code><a class="copiable-link" href="#index-ZSH_005fEXECUTION_005fSTRING"> &para;</a></span></dt>
<dd><p>如果 shell 是使用 <code class="t">-c</code> 选项启动的，则此处包含该选项传递的参数。 否则不设置。
</p>
</dd>
<dt><a id="index-ZSH_005fNAME"></a><span><code class="t">ZSH_NAME</code><a class="copiable-link" href="#index-ZSH_005fNAME"> &para;</a></span></dt>
<dd><p>扩展为用于调用此 zsh 实例的命令的基名。
</p>
</dd>
<dt><a id="index-ZSH_005fPATCHLEVEL"></a><span><code class="t">ZSH_PATCHLEVEL</code><a class="copiable-link" href="#index-ZSH_005fPATCHLEVEL"> &para;</a></span></dt>
<dd><p>用于构建 shell 的 zsh 仓库的 &lsquo;<code class="t">git describe --tags --long</code>&rsquo; 输出。 在开发过程中，为了跟踪 shell
的发布版本，这个输出是最有用的；因此大多数用户不应使用它，而应依赖 <code class="t">$ZSH_VERSION</code>。
</p>
</dd>
<dt><code class="t">zsh_scheduled_events</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fsched-_6a21_5757">zsh/sched 模块</a>.
</p>
</dd>
<dt><a id="index-ZSH_005fSCRIPT"></a><span><code class="t">ZSH_SCRIPT</code><a class="copiable-link" href="#index-ZSH_005fSCRIPT"> &para;</a></span></dt>
<dd><p>如果调用 zsh 是为了运行脚本，则这是脚本的名称，否则不设置。
</p>
</dd>
<dt><a id="index-ZSH_005fSUBSHELL-_003cS_003e"></a><span><code class="t">ZSH_SUBSHELL</code><a class="copiable-link" href="#index-ZSH_005fSUBSHELL-_003cS_003e"> &para;</a></span></dt>
<dd><p>只读整数。 初始值为 0，每次 shell 分叉创建用于执行代码的子 shell 时都会递增。 因此， &lsquo;<code class="t">(print
$ZSH_SUBSHELL)</code>&rsquo; 和 &lsquo;<code class="t">print $(print $ZSH_SUBSHELL)</code>&rsquo; 输出 1，而 &lsquo;<code class="t">( (print
$ZSH_SUBSHELL) )</code>&rsquo; 输出 2。
</p>
</dd>
<dt><a id="index-ZSH_005fVERSION"></a><span><code class="t">ZSH_VERSION</code><a class="copiable-link" href="#index-ZSH_005fVERSION"> &para;</a></span></dt>
<dd><p>zsh 版本的版本号。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="Shell-_4f7f_7528_7684_53c2_6570">

<h3 class="section" id="Shell-Shi-Yong-De-Can-Shu-"><span>15.6 Shell 使用的参数<a class="copiable-link" href="#Shell-Shi-Yong-De-Can-Shu-"> &para;</a></span></h3>
<p>shell 会使用下列参数。 同样， &lsquo;&lt;S&gt;&rsquo; 表示该参数是特殊的， &lsquo;&lt;Z&gt;&rsquo;  表示当 shell 在 <code class="t">sh</code> 或 <code class="t">ksh</code>
模拟模式下初始化时，该参数不存在。
</p>
<p>如果两个参数的是同一个名称的大小写版本，例如 <code class="t">path</code> 和
<code class="t">PATH</code>，则小写形式的参数是一个数组，大写形式的参数是一个标量（以数组中的元素用冒号连接在一起组成）。 这些参数类似于通过
&lsquo;<code class="t">typeset -T</code>&rsquo; 创建的绑定参数。 以冒号分隔的形式通常用于导出到环境中，而数组形式则更易于在 shell 中操作。
需要注意的是，取消设置这对参数中的任何一个都会取消设置另一个；它们在重新创建时会保留各自的特殊属性，重新创建这对参数中的一个也会重新创建另一个。
</p>
<dl class="table">
<dt><a id="index-ARGV0"></a><span><code class="t">ARGV0</code><a class="copiable-link" href="#index-ARGV0"> &para;</a></span></dt>
<dd><p>如果导出，其值将用作外部命令的 <code class="t">argv[0]</code>。 通常用于 &lsquo;<code class="t">ARGV0=emacs nethack</code>&rsquo; 等结构体。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Man-Su-Lian-Jie-_002c-Bian-Ji-"></a>
<a class="index-entry-id" id="index-BAUD"></a>
<a id="index-Tong-Guo-Man-Su-Lian-Jie-Jin-Xing-Bian-Ji-"></a><span><code class="t">BAUD</code><a class="copiable-link" href="#index-Tong-Guo-Man-Su-Lian-Jie-Jin-Xing-Bian-Ji-"> &para;</a></span></dt>
<dd><p>数据到达终端的速率（比特/秒）。 行编辑器将使用该值对缓慢的终端进行补偿，在必要时延迟更新显示内容。 如果参数未设置或值为零，补偿机制将被关闭。
默认情况下不设置该参数。
</p>
<p>在某些情况下，例如对于拨号到通信服务器的慢速调制解调器或在慢速广域网中，设置该参数可能是有益的。 应将其设置为链路最慢部分的波特率，以获得最佳性能。
</p>
</dd>
<dt><a class="index-entry-id" id="index-CDPATH"></a>
<a id="index-cdpath"></a><span><code class="t">cdpath</code> &lt;S&gt; &lt;Z&gt; (<code class="t">CDPATH</code> &lt;S&gt;)<a class="copiable-link" href="#index-cdpath"> &para;</a></span></dt>
<dd><p>指定 <code class="t">cd</code> 命令搜索路径的目录数组（以冒号分隔的列表）。
</p>
</dd>
<dt><a id="index-COLUMNS"></a><span><code class="t">COLUMNS</code> &lt;S&gt;<a class="copiable-link" href="#index-COLUMNS"> &para;</a></span></dt>
<dd><p>该终端会话的列数。 用于打印选择列表和行编辑器。
</p>
</dd>
<dt><a id="index-CORRECT_005fIGNORE"></a><span><code class="t">CORRECT_IGNORE</code><a class="copiable-link" href="#index-CORRECT_005fIGNORE"> &para;</a></span></dt>
<dd><p>如果设置，则在拼写纠错过程中被视为模式。 任何与该模式匹配的潜在纠错都会被忽略。 例如，如果值为 &lsquo;<code class="t">_*</code>&rsquo; ，则补全函数（按照惯例，其名称以
&lsquo;<code class="t">_</code>&rsquo; 开头）将永远不会作为拼写纠错提供。 该模式不适用于 <code class="t">CORRECT_ALL</code>
选项对文件名的纠错（因此，在刚才的例子中，当前目录中以 &lsquo;<code class="t">_</code>&rsquo; 开头的文件仍会被补全）。
</p>
</dd>
<dt><a id="index-CORRECT_005fIGNORE_005fFILE"></a><span><code class="t">CORRECT_IGNORE_FILE</code><a class="copiable-link" href="#index-CORRECT_005fIGNORE_005fFILE"> &para;</a></span></dt>
<dd><p>如果设置，在文件名拼写纠错时将被视为模式。 任何与该模式匹配的文件名都不会作为纠错提供。 例如，如果值为 &lsquo;<code class="t">.*</code>&rsquo;
，则点文件名永远不会作为拼写纠错提供。 这对于和 <code class="t">CORRECT_ALL</code> 选项一起使用非常有用。
</p>
</dd>
<dt><a id="index-DIRSTACKSIZE"></a><span><code class="t">DIRSTACKSIZE</code><a class="copiable-link" href="#index-DIRSTACKSIZE"> &para;</a></span></dt>
<dd><p>目录堆栈的最大大小，默认情况下没有限制。 如果目录栈大于此值，将自动截断。 这和 <code class="t">AUTO_PUSHD</code> 选项一起使用非常有用。
<a class="index-entry-id" id="index-AUTO_005fPUSHD_002c-use-of"></a>
</p>
</dd>
<dt><a id="index-ENV"></a><span><code class="t">ENV</code><a class="copiable-link" href="#index-ENV"> &para;</a></span></dt>
<dd><p>如果在以 <code class="t">sh</code> 或 <code class="t">ksh</code> 的方式调用 zsh 时设置了 <code class="t">ENV</code> 环境变量，则 <code class="t">$ENV</code> 将在 profile
脚本之后引入。 在将 <code class="t">ENV</code> 的值解释为路径名之前，会对其进行参数扩展、命令替换和算术扩展。 请注意，除非 shell 是交互式的，并且 zsh
正在模拟 <cite class="cite">sh</cite> 或 <cite class="cite">ksh</cite>，否则 <code class="t">ENV</code>是 <em class="emph">不</em>被使用的。
</p>
</dd>
<dt><a id="index-FCEDIT"></a><span><code class="t">FCEDIT</code><a class="copiable-link" href="#index-FCEDIT"> &para;</a></span></dt>
<dd><p><code class="t">fc</code> 内置编辑器的默认编辑器。 如果未设置 <code class="t">FCEDIT</code>，则使用参数 <code class="t">EDITOR</code>；如果也未设置 ，则使用内置默认编辑器，通常是
<code class="t">vi</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-FIGNORE"></a>
<a id="index-fignore"></a><span><code class="t">fignore</code> &lt;S&gt; &lt;Z&gt; (<code class="t">FIGNORE</code> &lt;S&gt;)<a class="copiable-link" href="#index-fignore"> &para;</a></span></dt>
<dd><p>数组（冒号分隔的列表），包含在文件名补全过程中要忽略的文件后缀。 不过，如果补全在此列表中只生成带后缀的文件，那么这些文件还是会被补全。
</p>
</dd>
<dt><a class="index-entry-id" id="index-FPATH"></a>
<a id="index-fpath"></a><span><code class="t">fpath</code> &lt;S&gt; &lt;Z&gt; (<code class="t">FPATH</code> &lt;S&gt;)<a class="copiable-link" href="#index-fpath"> &para;</a></span></dt>
<dd><p>指定函数定义搜索路径的目录数组（冒号分隔列表）。 当带有 <code class="t">-u</code> 属性的函数被引用时，将搜索该路径。
如果找到可执行文件，则在当前环境下读取并执行该文件。
</p>
</dd>
<dt><a id="index-histchars"></a><span><code class="t">histchars</code> &lt;S&gt;<a class="copiable-link" href="#index-histchars"> &para;</a></span></dt>
<dd><p>shell 的历史和词法分析机制使用的三个字符。 第一个字符表示历史扩展的开始（默认为 &lsquo;<code class="t">!</code>&rsquo; ）。
第二个字符表示快速历史替换的开始（默认为&lsquo;<code class="t">^</code>&rsquo;）。 第三个字符是注释字符（默认为&lsquo;<code class="t">#</code>&rsquo;）。
</p>
<p>字符必须是 ASCII 字符集中的字符；任何将 <code class="t">histchars</code>
设置为具有区域相关（locale-dependent）的字符的尝试都会被拒绝，并显示错误信息。
</p>
</dd>
<dt><a id="index-HISTCHARS"></a><span><code class="t">HISTCHARS</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-HISTCHARS"> &para;</a></span></dt>
<dd><p>与 <code class="t">histchars</code> 相同。 (已废弃）。
</p>
</dd>
<dt><a id="index-HISTFILE"></a><span><code class="t">HISTFILE</code><a class="copiable-link" href="#index-HISTFILE"> &para;</a></span></dt>
<dd><p>交互式 shell 退出时保存历史记录的文件。 如果未设置，则不保存历史记录。
</p>
</dd>
<dt><a id="index-HISTORY_005fIGNORE"></a><span><code class="t">HISTORY_IGNORE</code><a class="copiable-link" href="#index-HISTORY_005fIGNORE"> &para;</a></span></dt>
<dd><p>如果设置，则在写入历史文件时被视为一种模式。 任何与该模式匹配的潜在历史条目都会被跳过。 例如，如果值为 &lsquo;<code class="t">fc *</code>&rsquo;
，则调用交互式历史编辑器的命令永远不会写入历史文件。
</p>
<p>请注意，<code class="t">HISTORY_IGNORE</code> 只定义了一种模式：要指定其他模式，请使用
&lsquo;<code class="t">(</code><var class="var">first</var><code class="t">|</code><var class="var">second</var><code class="t">|</code><var class="var">...</var><code class="t">)</code>&rsquo; 语法。
</p>
<p>对比 <code class="t">HIST_NO_STORE</code> 选项或 <code class="t">zshaddhistory</code> 钩子，这两种方法都会阻止此类命令被添加到交互式历史记录中。
如果希望使用 <code class="t">HISTORY_IGNORE</code> 来阻止历史记录的添加，可以定义以下钩子：
</p>
<div class="example">
<pre class="example-preformatted">zshaddhistory() {
  emulate -L zsh
  ## uncomment if HISTORY_IGNORE
  ## should use EXTENDED_GLOB syntax
  # setopt extendedglob
  [[ $1 != ${~HISTORY_IGNORE} ]]
}
</pre></div>

</dd>
<dt><a id="index-HISTSIZE"></a><span><code class="t">HISTSIZE</code> &lt;S&gt;<a class="copiable-link" href="#index-HISTSIZE"> &para;</a></span></dt>
<dd><p>存储在内部历史列表中的最大事件数。 如果使用 <code class="t">HIST_EXPIRE_DUPS_FIRST</code> 选项，将此值设置为大于 <code class="t">SAVEHIST</code>
大小，就能获得差值作为保存重复历史事件的缓冲。
</p>
<p>如果将其设置为局部的，则不会隐式设置为 0，但是可以显式且局部地设置为0。
</p>
</dd>
<dt><a id="index-HOME"></a><span><code class="t">HOME</code> &lt;S&gt;<a class="copiable-link" href="#index-HOME"> &para;</a></span></dt>
<dd><p><code class="t">cd</code> 命令的默认参数。在 <code class="t">sh</code>、<code class="t">ksh</code> 或 <code class="t">csh</code> 模拟中，shell
不会自动设置该参数，但通常它会存在于环境中，如果被设置，那么通常会出现特殊行为。
</p>
</dd>
<dt><a id="index-IFS"></a><span><code class="t">IFS</code> &lt;S&gt;<a class="copiable-link" href="#index-IFS"> &para;</a></span></dt>
<dd><p>内部字段分隔符（默认为空格、制表符、换行符和 NUL），用于分隔命令或参数扩展产生的字和 <code class="t">read</code> 内置命令读取的词。 在 IFS
中出现的空格、制表符和换行符中的任何字符都称为 <em class="emph">IFS空白字符</em>。 一个或多个 IFS 空白字符或一个非 IFS 空白字符连同任何相邻的
IFS 空格字符构成一个字段的分界。 如果一个 IFS 空白字符在 IFS 中连续出现两次，该字符不会被视为  IFS 空格字符。
</p>
<p>如果参数未设置，则使用默认值。 请注意，这与将参数设置为空字符串的效果不同。
</p>
</dd>
<dt><a id="index-KEYBOARD_005fHACK"></a><span><code class="t">KEYBOARD_HACK</code><a class="copiable-link" href="#index-KEYBOARD_005fHACK"> &para;</a></span></dt>
<dd><p>该变量定义了在解释命令行（仅限交互式 shell）之前从命令行末尾移除的字符。它的目的是解决按键与回车键距离过近的问题，并取代
<code class="t">SUNKEYBOARDHACK</code> 选项，后者只针对反引号。
如果选择的字符是单引号、双引号或反引号之一，那么命令行中必须有奇数个单引号、双引号或反引号，最后一个才会被移除。
</p>
<p>为了向后兼容，如果 <code class="t">SUNKEYBOARDHACK</code> 选项被明确设置，<code class="t">KEYBOARD_HACK</code> 的值将恢复为反引号。
如果明确未设置该选项，则该变量将被设置为空。
</p>
</dd>
<dt><a id="index-KEYTIMEOUT"></a><span><code class="t">KEYTIMEOUT</code><a class="copiable-link" href="#index-KEYTIMEOUT"> &para;</a></span></dt>
<dd><p>shell 等待的时间， 在读取绑定的多字符序列时等待按下另一个键的时间，以百分之一秒为单位。
</p>
</dd>
<dt><a id="index-LANG"></a><span><code class="t">LANG</code> &lt;S&gt;<a class="copiable-link" href="#index-LANG"> &para;</a></span></dt>
<dd><p>对于未通过以 &lsquo;<code class="t">LC_</code>&rsquo; 开头的变量具体选择的区域类别，该变量将决定其本地化类别。
</p>
</dd>
<dt><a id="index-LC_005fALL"></a><span><code class="t">LC_ALL</code> &lt;S&gt;<a class="copiable-link" href="#index-LC_005fALL"> &para;</a></span></dt>
<dd><p>该变量会覆盖 &lsquo;<code class="t">LANG</code>&rsquo; 变量和其他以 &lsquo;<code class="t">LC_</code>&rsquo; 开头的变量的值。
</p>
</dd>
<dt><a id="index-LC_005fCOLLATE"></a><span><code class="t">LC_COLLATE</code> &lt;S&gt;<a class="copiable-link" href="#index-LC_005fCOLLATE"> &para;</a></span></dt>
<dd><p>该变量用于确定 glob 括弧范围内字符对比信息和排序的本地化类别。
</p>
</dd>
<dt><a id="index-LC_005fCTYPE"></a><span><code class="t">LC_CTYPE</code> &lt;S&gt;<a class="copiable-link" href="#index-LC_005fCTYPE"> &para;</a></span></dt>
<dd><p>该变量决定字符处理功能的本地化类别。 如果使用 <code class="t">MULTIBYTE</code> 选项，则该变量或 <code class="t">LANG</code>
应包含一个能反映所用字符集的值，即使是单字节字符集，除非只使用 7 位子集（ASCII）。 例如，如果字符集是 ISO-8859-1，合适的值可能是
<code class="t">en_US.iso88591</code>（某些 Linux 发行版）或 <code class="t">en_US.ISO8859-1</code>（MacOS）。
</p>
</dd>
<dt><a id="index-LC_005fMESSAGES"></a><span><code class="t">LC_MESSAGES</code> &lt;S&gt;<a class="copiable-link" href="#index-LC_005fMESSAGES"> &para;</a></span></dt>
<dd><p>该变量决定了信息的编写语言。 请注意，zsh 不使用消息类。
</p>
</dd>
<dt><a id="index-LC_005fNUMERIC"></a><span><code class="t">LC_NUMERIC</code> &lt;S&gt;<a class="copiable-link" href="#index-LC_005fNUMERIC"> &para;</a></span></dt>
<dd><p>此变量会影响格式化输入/输出函数和字符串转换函数的小数点字符和千位分隔符。 请注意，在解析浮点数学表达式时，zsh 会忽略此设置。
</p>
</dd>
<dt><a id="index-LC_005fTIME"></a><span><code class="t">LC_TIME</code> &lt;S&gt;<a class="copiable-link" href="#index-LC_005fTIME"> &para;</a></span></dt>
<dd><p>该变量决定提示符转义序列中日期和时间格式化的本地化类别。
</p>
</dd>
<dt><a id="index-LINES"></a><span><code class="t">LINES</code> &lt;S&gt;<a class="copiable-link" href="#index-LINES"> &para;</a></span></dt>
<dd><p>该终端会话的行数。 用于打印选择列表和行编辑器。
</p>
</dd>
<dt><a id="index-LISTMAX"></a><span><code class="t">LISTMAX</code><a class="copiable-link" href="#index-LISTMAX"> &para;</a></span></dt>
<dd><p>在行编辑器中，无需先询问即可列出的匹配条数。如果该值为负数，则最多只能显示与绝对值相同行数的列表。 如果设置为零，则 shell
仅在列表顶部会滚动出屏幕时才会询问。
</p>
</dd>
<dt><a id="index-MAIL"></a><span><code class="t">MAIL</code><a class="copiable-link" href="#index-MAIL"> &para;</a></span></dt>
<dd><p>如果设置了该参数，而 <code class="t">mailpath</code> 未设置，shell 会在指定文件中查找邮件。
</p>
</dd>
<dt><a id="index-MAILCHECK"></a><span><code class="t">MAILCHECK</code><a class="copiable-link" href="#index-MAILCHECK"> &para;</a></span></dt>
<dd><p>检查新邮件的间隔时间（秒）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-MAILPATH"></a>
<a id="index-mailpath"></a><span><code class="t">mailpath</code> &lt;S&gt; &lt;Z&gt; (<code class="t">MAILPATH</code> &lt;S&gt;)<a class="copiable-link" href="#index-mailpath"> &para;</a></span></dt>
<dd><p>用于检查新邮件的文件名数组（以冒号分隔的列表）。 每个文件名后可跟一个 &lsquo;<code class="t">?</code>&rsquo; 和一条将被打印的信息。
信息将进行参数扩展、命令替换和算术扩展，变量 <code class="t">$_</code> 被定义为已更改的文件名。 默认信息为 &lsquo;<code class="t">You have new mail</code>&rsquo; 。
如果元素是目录而不是文件，shell 将递归检查元素的每个子目录中的每个文件。
</p>
</dd>
<dt><a class="index-entry-id" id="index-MANPATH"></a>
<a id="index-manpath"></a><span><code class="t">manpath</code> &lt;S&gt; &lt;Z&gt; (<code class="t">MANPATH</code> &lt;S&gt; &lt;Z&gt;)<a class="copiable-link" href="#index-manpath"> &para;</a></span></dt>
<dd><p>数组（以冒号分隔的列表），其值不被 shell 使用。 不过，<code class="t">manpath</code> 数组可能很有用，因为设置它也会设置
<code class="t">MANPATH</code>，反之亦然。
</p>
</dd>
<dt><code class="t">match</code></dt>
<dt><code class="t">mbegin</code></dt>
<dt><code class="t">mend</code></dt>
<dd><p>在模式匹配中使用 <code class="t">b</code> globbing 标志时由 shell 设置的数组。 参见 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中的 <em class="emph">Globbing
标志</em> 小节。
</p>
</dd>
<dt><code class="t">MATCH</code></dt>
<dt><code class="t">MBEGIN</code></dt>
<dt><code class="t">MEND</code></dt>
<dd><p>在模式匹配中使用 <code class="t">m</code> globbing 标志时由 shell 设置。 参见 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中的 <em class="emph">Globbing 标志</em>
小节。
</p>
</dd>
<dt><a class="index-entry-id" id="index-MODULE_005fPATH"></a>
<a id="index-module_005fpath"></a><span><code class="t">module_path</code> &lt;S&gt; &lt;Z&gt; (<code class="t">MODULE_PATH</code> &lt;S&gt;)<a class="copiable-link" href="#index-module_005fpath"> &para;</a></span></dt>
<dd><p>一个数组（以冒号分隔的列表），包含 <code class="t">zmodload</code> 用于搜索动态加载模块的目录。 它被初始化为一个标准路径名，通常是
&lsquo;<code class="t">/usr/local/lib/zsh/$ZSH_VERSION</code>&rsquo;。 ( &lsquo;<code class="t">/usr/local/lib</code>&rsquo;
部分因安装情况而异）。出于安全考虑，启动 shell 时在环境中设置的任何值都将被忽略。
</p>
<p>只有当安装支持动态模块加载时，这些参数才会存在。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Kong-Ming-Ling-Yang-Shi-"></a>
<a class="index-entry-id" id="index-csh_002c-Kong-Ming-Ling-Yang-Shi-"></a>
<a class="index-entry-id" id="index-ksh_002c-Kong-Ming-Ling-Yang-Shi-"></a>
<a id="index-NULLCMD"></a><span><code class="t">NULLCMD</code> &lt;S&gt;<a class="copiable-link" href="#index-NULLCMD"> &para;</a></span></dt>
<dd><p>如果重定向未指定命令，使用的假定的命令名称。 默认为 <code class="t">cat</code>。 若要使用 <cite class="cite">sh</cite>/<cite class="cite">ksh</cite> 行为，请将其更改为
<code class="t">:</code>。 对于 <cite class="cite">csh</cite> 风格的行为，请取消设置此参数；如果输入了空命令，shell 将打印错误信息。
</p>
</dd>
<dt><a class="index-entry-id" id="index-PATH"></a>
<a id="index-path"></a><span><code class="t">path</code> &lt;S&gt; &lt;Z&gt; (<code class="t">PATH</code> &lt;S&gt;)<a class="copiable-link" href="#index-path"> &para;</a></span></dt>
<dd><p>用于搜索命令的目录数组（以冒号分隔的列表）。 设置该参数后，将扫描每个目录，并将找到的所有文件放入哈希表中。
</p>
</dd>
<dt><a id="index-POSTEDIT"></a><span><code class="t">POSTEDIT</code> &lt;S&gt;<a class="copiable-link" href="#index-POSTEDIT"> &para;</a></span></dt>
<dd><p>该字符串在行编辑器退出时输出。 它通常包含重置终端的 termcap 字符串。
</p>
</dd>
<dt><a id="index-PROMPT"></a><span><code class="t">PROMPT</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-PROMPT"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-PROMPT2"></a>
</dd>
<dt><code class="t">PROMPT2</code> &lt;S&gt; &lt;Z&gt;</dt>
<dd><a class="index-entry-id" id="index-PROMPT3"></a>
</dd>
<dt><code class="t">PROMPT3</code> &lt;S&gt; &lt;Z&gt;</dt>
<dd><a class="index-entry-id" id="index-PROMPT4"></a>
</dd>
<dt><code class="t">PROMPT4</code> &lt;S&gt; &lt;Z&gt;</dt>
<dd><p>分别与 <code class="t">PS1</code>、<code class="t">PS2</code>、<code class="t">PS3</code> 和 <code class="t">PS4</code> 相同。
</p>
</dd>
<dt><a id="index-prompt"></a><span><code class="t">prompt</code> &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-prompt"> &para;</a></span></dt>
<dd><p>与 <code class="t">PS1</code> 相同。
</p>
</dd>
<dt><a id="index-PROMPT_005fEOL_005fMARK"></a><span><code class="t">PROMPT_EOL_MARK</code><a class="copiable-link" href="#index-PROMPT_005fEOL_005fMARK"> &para;</a></span></dt>
<dd><p>设置 <code class="t">PROMPT_CR</code> 和 <code class="t">PROMPT_SP</code> 选项后，可以使用 <code class="t">PROMPT_EOL_MARK</code>
参数自定义部分行结束符的显示方式。 在设置 <code class="t">PROMPT_PERCENT</code> 选项后，该参数会进行提示符扩展。 如果未设置，默认行为等同于值
&lsquo;<code class="t">%B%S%#%s%b</code>&rsquo;。
</p>
</dd>
<dt><a id="index-PS1"></a><span><code class="t">PS1</code> &lt;S&gt;<a class="copiable-link" href="#index-PS1"> &para;</a></span></dt>
<dd><p>主要提示符字符串，在读取命令前打印。 在显示之前，它会经过特殊形式的扩展；请参阅 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>。 默认值为&lsquo;<code class="t">%m%# </code>&rsquo;。
</p>
</dd>
<dt><a id="index-PS2"></a><span><code class="t">PS2</code> &lt;S&gt;<a class="copiable-link" href="#index-PS2"> &para;</a></span></dt>
<dd><p>次级提示符，在 shell 需要更多信息来完成命令时打印。 其展开方式与 <code class="t">PS1</code> 相同。 默认值为 &lsquo;<code class="t">%_&gt; </code>&rsquo;，显示当前正在处理的任何
shell 结构或引号。
</p>
</dd>
<dt><a id="index-PS3"></a><span><code class="t">PS3</code> &lt;S&gt;<a class="copiable-link" href="#index-PS3"> &para;</a></span></dt>
<dd><p>在 <code class="t">select</code> 循环中使用的选择提示符。 其展开方式与 <code class="t">PS1</code> 相同。 默认为 &lsquo;<code class="t">?# </code>&rsquo;。
</p>
</dd>
<dt><a id="index-PS4"></a><span><code class="t">PS4</code> &lt;S&gt;<a class="copiable-link" href="#index-PS4"> &para;</a></span></dt>
<dd><p>执行跟踪提示符。 默认为 &lsquo;<code class="t">+%N:%i&gt; </code>&rsquo;，显示当前 shell 结构的名称及其中的行号。 在 sh 或 ksh 模拟中，默认为 &lsquo;<code class="t">+
</code>&rsquo;。
</p>
</dd>
<dt><a class="index-entry-id" id="index-PSVAR"></a>
<a id="index-psvar"></a><span><code class="t">psvar</code> &lt;S&gt; &lt;Z&gt; (<code class="t">PSVAR</code> &lt;S&gt;)<a class="copiable-link" href="#index-psvar"> &para;</a></span></dt>
<dd><p>数组（以冒号分隔的列表），其元素可用于 <code class="t">PROMPT</code> 字符串。 设置 <code class="t">psvar</code> 也会设置 <code class="t">PSVAR</code>，反之亦然。
</p>
</dd>
<dt><a id="index-READNULLCMD"></a><span><code class="t">READNULLCMD</code> &lt;S&gt;<a class="copiable-link" href="#index-READNULLCMD"> &para;</a></span></dt>
<dd><p>如果指定的是无命令的单输入重定向时，假定的命令名称。 默认为 <code class="t">more</code>。
</p>
</dd>
<dt><a id="index-REPORTMEMORY"></a><span><code class="t">REPORTMEMORY</code><a class="copiable-link" href="#index-REPORTMEMORY"> &para;</a></span></dt>
<dd><p>如果是非负值，则以千字节为单位的最大驻留集大小（粗略地说，就是主内存使用量）大于此值的命令将被报告计时统计信息。 输出统计信息的格式是
<code class="t">TIMEFMT</code> 参数的值，与 <code class="t">REPORTTIME</code> 变量和 <code class="t">time</code> 内置命令相同；注意，默认情况下不输出内存使用情况。 在
<code class="t">TIMEFMT</code> 值后面加上  <code class="t">&quot; max RSS %M&quot;</code>，就会输出触发报告的值。 如果 <code class="t">REPORTTIME</code>
也在使用中，则两个触发器最多只能打印一份报告。 此功能需要使用 <code class="t">getrusage()</code>系统调用，现代类 Unix 系统通常都支持该调用。
</p>
</dd>
<dt><a id="index-REPORTTIME"></a><span><code class="t">REPORTTIME</code><a class="copiable-link" href="#index-REPORTTIME"> &para;</a></span></dt>
<dd><p>如果是非负值，则用户和系统执行时间（以秒为单位）之和大于此值的命令将被打印计时统计数据。
在行编辑器中执行的命令（包括补全）的输出将被抑制（suppressed）；在这种情况下，用 <code class="t">time</code> 关键字明确标记的命令仍会打印摘要。
</p>
</dd>
<dt><a id="index-REPLY"></a><span><code class="t">REPLY</code><a class="copiable-link" href="#index-REPLY"> &para;</a></span></dt>
<dd><p>按照惯例，该参数用于在不可能或不希望调用函数或重定向的情况下，在 shell 脚本和 shell 内置命令之间传递字符串值。 <code class="t">read</code>
内置命令和 <code class="t">select</code> 复杂命令可以设置 <code class="t">REPLY</code>，而文件名生成器在计算某些表达式时，既可以设置也可以检查其值。 某些模块也使用
<code class="t">REPLY</code> 来达到类似目的。
</p>
</dd>
<dt><a id="index-reply"></a><span><code class="t">reply</code><a class="copiable-link" href="#index-reply"> &para;</a></span></dt>
<dd><p>与 <code class="t">REPLY</code>相同，但用于数组值而非字符串。
</p>
</dd>
<dt><a id="index-RPROMPT"></a><span><code class="t">RPROMPT</code> &lt;S&gt;<a class="copiable-link" href="#index-RPROMPT"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-RPS1"></a>
</dd>
<dt><code class="t">RPS1</code> &lt;S&gt;</dt>
<dd><p>当主提示符显示在屏幕左侧时，该提示将符显示在屏幕右侧。 如果设置了 <code class="t">SINGLE_LINE_ZLE</code> 选项，则此提示符不起作用。 其扩展方式与
<code class="t">PS1</code> 相同。
</p>
</dd>
<dt><a id="index-RPROMPT2"></a><span><code class="t">RPROMPT2</code> &lt;S&gt;<a class="copiable-link" href="#index-RPROMPT2"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-RPS2"></a>
</dd>
<dt><code class="t">RPS2</code> &lt;S&gt;</dt>
<dd><p>当次级提示符显示在屏幕左侧时，该提示将显示在屏幕右侧。 如果设置了 <code class="t">SINGLE_LINE_ZLE</code> 选项，则此提示符不起作用。 其扩展方式与
<code class="t">PS2</code> 相同。
</p>
</dd>
<dt><a id="index-SAVEHIST"></a><span><code class="t">SAVEHIST</code><a class="copiable-link" href="#index-SAVEHIST"> &para;</a></span></dt>
<dd><p>要保存在历史文件中的历史事件的最大数量。
</p>
<p>如果将其设置为局部的，则不会隐式设置为 0，但是可以显式且局部地设置为0。
</p>
</dd>
<dt><a id="index-SPROMPT"></a><span><code class="t">SPROMPT</code> &lt;S&gt;<a class="copiable-link" href="#index-SPROMPT"> &para;</a></span></dt>
<dd><p>用于拼写更正的提示符。 序列 &lsquo;<code class="t">%R</code>&rsquo; 扩展为需要拼写更正的字符串，&lsquo;<code class="t">%r</code>&rsquo;  展开为建议更正的字符串。 还允许使用所有其他提示符转义。
</p>
<p>提示符下可用的操作是 <code class="t">[nyae]</code>：
</p><dl class="table">
<dt><code class="t">n</code> (&lsquo;no&rsquo;) (default)</dt>
<dd><p>放弃更正并运行命令。
</p></dd>
<dt><code class="t">y</code> (&lsquo;yes&rsquo;)</dt>
<dd><p>更正并运行命令。
</p></dd>
<dt><code class="t">a</code> (&lsquo;abort&rsquo;)</dt>
<dd><p>不运行命令行，直接丢弃整个命令行。
</p></dd>
<dt><code class="t">e</code> (&lsquo;edit&rsquo;)</dt>
<dd><p>继续编辑命令行。
</p></dd>
</dl>

</dd>
<dt><a id="index-STTY"></a><span><code class="t">STTY</code><a class="copiable-link" href="#index-STTY"> &para;</a></span></dt>
<dd><p>如果在命令的环境中设置了该参数，shell 将以该参数的值为参数运行 <code class="t">stty</code>
命令，以便在执行命令前设置终端。模式仅适用于命令，并在命令结束或暂停时重置。如果命令被暂停，随后使用 <code class="t">fg</code> 或 <code class="t">wait</code>
内置命令继续执行，则会看到 <code class="t">STTY</code> 指定的模式，就好像命令没有被暂停一样。 如果通过 &lsquo;<code class="t">kill -CONT</code>&rsquo;
继续执行命令，则（故意）不适用此规定。 如果命令在后台运行，或者命令在 shell 环境中但未在输入行中明确指定，则 <code class="t">STTY</code>
将被忽略。这样可以避免在每条外部命令中运行 stty 时意外导出它。还要注意的是，<code class="t">STTY</code>
不应被用于指定窗口大小，因为这些指定并不是命令的本地化指定。
</p>
<p>如果参数被设置为空，除了 <code class="t">stty</code> 不被运行外，上述所有功能都适用。这可以用来冻结单个命令周围的 tty，阻止命令对 tty 设置的更改，类似于
<code class="t">ttyctl</code> 内置命令。
</p>
</dd>
<dt><a id="index-TERM"></a><span><code class="t">TERM</code> &lt;S&gt;<a class="copiable-link" href="#index-TERM"> &para;</a></span></dt>
<dd><p>使用的终端类型。 在查找 termcap 序列时使用。 赋值给 <code class="t">TERM</code> 会导致 zsh
重新初始化终端，即使值没有改变（例如，&lsquo;<code class="t">TERM=$TERM</code>&rsquo; ）。
有必要在终端定义数据库或终端类型发生任何更改时进行这样的赋值，以使新设置生效。
</p>
</dd>
<dt><a id="index-TERMINFO"></a><span><code class="t">TERMINFO</code> &lt;S&gt;<a class="copiable-link" href="#index-TERMINFO"> &para;</a></span></dt>
<dd><p>terminfo 数据库的引用，当系统有该数据库时，&lsquo;terminfo&rsquo; 库会使用它；参见 terminfo(5)。 如果设置了这个参数，shell
就会重新初始化终端，这样就不需要使用 &lsquo;<code class="t">TERM=$TERM</code>&rsquo; 。
</p>
</dd>
<dt><a id="index-TERMINFO_005fDIRS"></a><span><code class="t">TERMINFO_DIRS</code> &lt;S&gt;<a class="copiable-link" href="#index-TERMINFO_005fDIRS"> &para;</a></span></dt>
<dd><p>以冒号为分隔符的 terminfo 数据库列表，在系统有 &lsquo;terminfo&rsquo; 库时使用；参见 terminfo(5)。该变量仅用于某些终端库，尤其是
ncurses；请参见 terminfo(5) 检查系统是否支持该变量。 如果设置了该变量，shell 将重新初始化终端，从而无需使用
&lsquo;<code class="t">TERM=$TERM</code>&rsquo;。 请注意，与其他以冒号分隔的数组不同，它并没有绑定到一个 zsh 数组。
</p>
</dd>
<dt><a id="index-TIMEFMT"></a><span><code class="t">TIMEFMT</code><a class="copiable-link" href="#index-TIMEFMT"> &para;</a></span></dt>
<dd><p>使用 <code class="t">time</code> 关键字的进程时间报告格式。 默认格式为 &lsquo;<code class="t">%J %U user %S system %P cpu %*E total</code>&rsquo;
。 可识别下列转义序列，但并非所有系统都能使用所有这些转义序列，而且有些转义序列可能并不实用：
</p>
<dl class="table">
<dt><code class="t">%%</code></dt>
<dd><p>一个 &lsquo;<code class="t">%</code>&rsquo;.
</p></dd>
<dt><code class="t">%U</code></dt>
<dd><p>用户模式下花费的 CPU 秒数。
</p></dd>
<dt><code class="t">%S</code></dt>
<dd><p>在内核模式下占用的 CPU 秒数。
</p></dd>
<dt><code class="t">%E</code></dt>
<dd><p>所用时间（秒）。
</p></dd>
<dt><code class="t">%P</code></dt>
<dd><p>CPU 百分比，计算公式为 100*(<code class="t">%U</code>+<code class="t">%S</code>)/<code class="t">%E</code>。
</p></dd>
<dt><code class="t">%W</code></dt>
<dd><p>进程被交换的次数。
</p></dd>
<dt><code class="t">%X</code></dt>
<dd><p>使用的（共享）文本空间的平均数量（千字节）。
</p></dd>
<dt><code class="t">%D</code></dt>
<dd><p>使用的（非共享）数据/堆栈空间的平均数量（千字节）。
</p></dd>
<dt><code class="t">%K</code></dt>
<dd><p>使用的总空间（<code class="t">%X</code>+<code class="t">%D</code>），单位为千字节。
</p></dd>
<dt><code class="t">%M</code></dt>
<dd><p>进程在任何时候使用的最大内存（千字节）。
</p></dd>
<dt><code class="t">%F</code></dt>
<dd><p>主要页面故障（需要从磁盘调用页面）的数量。
</p></dd>
<dt><code class="t">%R</code></dt>
<dd><p>次要页面故障的数量。
</p></dd>
<dt><code class="t">%I</code></dt>
<dd><p>输入操作的数量。
</p></dd>
<dt><code class="t">%O</code></dt>
<dd><p>输出操作的次数。
</p></dd>
<dt><code class="t">%r</code></dt>
<dd><p>收到的套接字消息数量。
</p></dd>
<dt><code class="t">%s</code></dt>
<dd><p>发送的套接字消息数量。
</p></dd>
<dt><code class="t">%k</code></dt>
<dd><p>接收到的信号数量。
</p></dd>
<dt><code class="t">%w</code></dt>
<dd><p>自愿上下文切换（等待）的次数。
</p></dd>
<dt><code class="t">%c</code></dt>
<dd><p>非自愿上下文切换次数。
</p></dd>
<dt><code class="t">%J</code></dt>
<dd><p>这个作业的名字。
</p></dd>
</dl>

<p>打印时间j时，可以在百分号和标志之间插入星号（例如，&lsquo;<code class="t">%*E</code>&rsquo;）；这将导致时间以
&lsquo;<var class="var">hh</var><code class="t">:</code><var class="var">mm</var><code class="t">:</code><var class="var">ss</var><code class="t">.</code><var class="var">ttt</var>&rsquo; 格式打印（小时和分钟仅在不为零时才打印）。
也可以使用 &lsquo;<code class="t">m</code>&rsquo; 或 &lsquo;<code class="t">u</code>&rsquo;（例如 &lsquo;<code class="t">%mE</code>&rsquo; ）分别以毫秒或微秒为单位输出时间。
</p>
</dd>
<dt><a id="index-TMOUT"></a><span><code class="t">TMOUT</code><a class="copiable-link" href="#index-TMOUT"> &para;</a></span></dt>
<dd><p>如果该参数非零，则在发出提示符后的指定秒数内未输入命令，shell 将收到 <code class="t">ALRM</code> 信号。如果 <code class="t">SIGALRM</code>
上有陷阱，则会执行该陷阱，并在执行陷阱后使用 <code class="t">TMOUT</code> 参数的值调度新的警报。 如果没有设置陷阱，并且终端的空闲时间不小于 <code class="t">TMOUT</code>
参数的值，zsh 就会终止。 否则会在最后一次按键后的 <code class="t">TMOUT</code> 秒内发出新的警报。
</p>
</dd>
<dt><a id="index-TMPPREFIX"></a><span><code class="t">TMPPREFIX</code><a class="copiable-link" href="#index-TMPPREFIX"> &para;</a></span></dt>
<dd><p>路径名前缀，shell 会用于所有临时文件。 请注意，这应包括文件名的首部以及任何目录名。 默认值为 &lsquo;<code class="t">/tmp/zsh</code>&rsquo;。
</p>
</dd>
<dt><a id="index-TMPSUFFIX"></a><span><code class="t">TMPSUFFIX</code><a class="copiable-link" href="#index-TMPSUFFIX"> &para;</a></span></dt>
<dd><p>文件名后缀，shell 会将其用于进程替换创建的临时文件（例如，&lsquo;<code class="t">=(<var class="var">list</var>)</code>&rsquo;）。
请注意，如果要将该值解释为文件扩展名，则应包含一个前导点 &lsquo;<code class="t">.</code>&rsquo;。 默认情况下不附加任何后缀，因此只有在需要时才分配该参数，然后再取消设置。
</p>
</dd>
<dt><a id="index-WORDCHARS"></a><span><code class="t">WORDCHARS</code> &lt;S&gt;<a class="copiable-link" href="#index-WORDCHARS"> &para;</a></span></dt>
<dd><p>行编辑器认为属于单词一部分的非字母数字字符列表。
</p>
</dd>
<dt><a id="index-ZBEEP"></a><span><code class="t">ZBEEP</code><a class="copiable-link" href="#index-ZBEEP"> &para;</a></span></dt>
<dd><p>如果设置了该选项，就会向终端输出一串字符，这串字符可以使用 <a class="ref" href="#zsh_002fzle-_6a21_5757">zsh/zle 模块</a> 中描述的 <code class="t">bindkey</code>
命令的所有相同代码，而不是发出蜂鸣声。 例如，在 vt100 或 xterm 上使用字符串 &lsquo;<code class="t">\e[?5h\e[?5l</code>&rsquo;
会产生反向视频闪烁的效果（如果通常使用反向视频，则应使用字符串 &lsquo;<code class="t">\e[?5l\e[?5h</code>&rsquo;）。 该选项优先于 <code class="t">NOBEEP</code> 选项。
</p>
</dd>
<dt><a id="index-ZDOTDIR"></a><span><code class="t">ZDOTDIR</code><a class="copiable-link" href="#index-ZDOTDIR"> &para;</a></span></dt>
<dd><p>如果不是 <code class="t">$HOME</code>，则为搜索 shell 启动文件（.zshrc 等）的目录。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Gua-Hao-Nian-Tie-"></a>
<a class="index-entry-id" id="index-Qi-Yong-Gua-Hao-Nian-Tie-"></a>
<a id="index-zle_005fbracketed_005fpaste"></a><span><code class="t">zle_bracketed_paste</code><a class="copiable-link" href="#index-zle_005fbracketed_005fpaste"> &para;</a></span></dt>
<dd><p>许多终端模拟器都有一项功能，允许应用程序识别文本是何时粘贴到终端而不是正常键入的。对于 ZLE
来说，这意味着可以插入制表符和换行符等特殊字符，而不是调用编辑器命令。 此外，粘贴的文本会形成单个撤销事件，如果区域处于活动状态，粘贴的文本将取代区域。
</p>
<p>该双元素数组包含用于启用和禁用该功能的终端转义序列。这些转义序列用于在 ZLE 处于活动状态时启用括号粘贴功能，而在其他时间禁用该功能。
取消设置该参数可确保括号粘贴功能保持禁用状态。
</p>
</dd>
<dt><a id="index-zle_005fhighlight"></a><span><code class="t">zle_highlight</code><a class="copiable-link" href="#index-zle_005fhighlight"> &para;</a></span></dt>
<dd><p>一个数组，用于描述 ZLE 应高亮显示输入文本的上下文。 请参阅 <a class="ref" href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a>。
</p>
</dd>
<dt><a id="index-ZLE_005fLINE_005fABORTED"></a><span><code class="t">ZLE_LINE_ABORTED</code><a class="copiable-link" href="#index-ZLE_005fLINE_005fABORTED"> &para;</a></span></dt>
<dd><p>该参数由行编辑器在发生错误时设置。 它包含发生错误时正在编辑的行。 可以使用 &lsquo;<code class="t">print -zr -- $ZLE_LINE_ABORTED</code>&rsquo;
来恢复该行。 只有最近的一行才会被记住。
</p>
</dd>
<dt><a class="index-entry-id" id="index-ZLE_005fSPACE_005fSUFFIX_005fCHARS"></a>
<a id="index-ZLE_005fREMOVE_005fSUFFIX_005fCHARS"></a><span><code class="t">ZLE_REMOVE_SUFFIX_CHARS</code><a class="copiable-link" href="#index-ZLE_005fREMOVE_005fSUFFIX_005fCHARS"> &para;</a></span></dt>
<dt><code class="t">ZLE_SPACE_SUFFIX_CHARS</code></dt>
<dd><p>行编辑器会使用这些参数。
在某些情况下，补全系统添加的后缀（通常是空格或斜线）会自动删除，这可能是因为下一个编辑命令不是可插入字符，也可能是因为该字符被标记为需要删除后缀。
</p>
<p>这些变量可以包含会导致后缀被移除的字符集。 如果设置了 <code class="t">ZLE_REMOVE_SUFFIX_CHARS</code>，这些字符会导致后缀被移除；如果设置了
<code class="t">ZLE_SPACE_SUFFIX_CHARS</code>，这些字符会导致后缀被移除并替换为空格。
</p>
<p>如果未设置 <code class="t">ZLE_REMOVE_SUFFIX_CHARS</code>，则默认行为等同于：
</p>
<div class="example">
<pre class="example-preformatted">ZLE_REMOVE_SUFFIX_CHARS=$' \t\n;&amp;|'
</pre></div>

<p>如果 <code class="t">ZLE_REMOVE_SUFFIX_CHARS</code> 已设置但为空，则没有字符具有这种行为。
<code class="t">ZLE_SPACE_SUFFIX_CHARS</code>优先，因此下面的内容：
</p>
<div class="example">
<pre class="example-preformatted">ZLE_SPACE_SUFFIX_CHARS=$'&amp;|'
</pre></div>

<p>会导致字符 &lsquo;<code class="t">&amp;</code>&rsquo; 和 &lsquo;<code class="t">|</code>&rsquo; 删除后缀，但用空格代替。
</p>
<p>为了说明两者的区别，假设 <code class="t">AUTO_REMOVE_SLASH</code> 选项有效，目录 <code class="t">DIR</code> 刚刚补全，并附加了 <code class="t">/</code>，用户随后键入了
&lsquo;<code class="t">&amp;</code>&rsquo;。 默认结果为 &lsquo;<code class="t">DIR&amp;</code>&rsquo;。 如果设置了 <code class="t">ZLE_REMOVE_SUFFIX_CHARS</code>，但未包含 &lsquo;<code class="t">&amp;</code>&rsquo;
，则结果为 &lsquo;<code class="t">DIR/&amp;</code>&rsquo;。 设置了 <code class="t">ZLE_SPACE_SUFFIX_CHARS</code> 并包含 &lsquo;<code class="t">&amp;</code>&rsquo; ，结果是  &lsquo;<code class="t">DIR
&amp;</code>&rsquo;。
</p>
<p>请注意，某些补全可能会提供自己的后缀移除或替换行为，从而覆盖此处描述的值。 请参阅 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a> 中的补全系统文档。
</p>
</dd>
<dt><a id="index-ZLE_005fRPROMPT_005fINDENT"></a><span><code class="t">ZLE_RPROMPT_INDENT</code> &lt;S&gt;<a class="copiable-link" href="#index-ZLE_005fRPROMPT_005fINDENT"> &para;</a></span></dt>
<dd><p>如果设置，用于给出 <code class="t">RPS1</code> 或 <code class="t">RPROMPT</code> 所给出的行编辑器右侧提示符与屏幕右侧之间的缩进。 如果未设置，则使用值 1。
</p>
<p>通常情况下，可以将该值设置为 0，这样提示符就会与屏幕右侧齐平。 这不是默认值，因为许多终端无法正确处理这种情况，尤其是当提示出现在屏幕右下方时。
最新的虚拟终端更有可能正确处理这种情况。 有必要进行一些试验。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_9009_9879">

<h2 class="chapter" id="Xuan-Xiang--1"><span>16 选项<a class="copiable-link" href="#Xuan-Xiang--1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Xuan-Xiang-"></a>
<hr>
<div class="section-level-extent" id="g_t_6307_5b9a_9009_9879">

<h3 class="section" id="Zhi-Ding-Xuan-Xiang-"><span>16.1 指定选项<a class="copiable-link" href="#Zhi-Ding-Xuan-Xiang-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xuan-Xiang-_002c-Zhi-Ding-"></a>
<p>选项主要用名称表示。 这些名称不区分大小写，下划线将被忽略。 例如，&lsquo;<code class="t">allexport</code>&rsquo; 等同于 &lsquo;<code class="t">A__lleXP_ort</code>&rsquo;。
</p>
<p>选项名称的含义可以通过在其前面加上 &lsquo;<code class="t">no</code>&rsquo; 来反转，因此 &lsquo;<code class="t">setopt No_Beep</code>&rsquo; 等同 &lsquo;<code class="t">unsetopt
beep</code>&rsquo; 。 这种反转只能进行一次，所以 &lsquo;<code class="t">nonobeep</code>&rsquo; 不是 &lsquo;<code class="t">beep</code>&rsquo; 的同义词。 同样，&lsquo;<code class="t">tify</code>&rsquo; 也不是
&lsquo;<code class="t">nonotify</code>&rsquo; （ &lsquo;<code class="t">notify</code>&rsquo; 的反义词）的同义词。
</p>
<p>有些选项还有一个或多个单字母名称。 有两组单字母选项：一组默认使用，另一组用于模拟 <cite class="cite">sh</cite>/<cite class="cite">ksh</cite>（当设置了
<code class="t">SH_OPTION_LETTERS</code> 选项时使用）。 单字母选项可以在 shell 命令行中使用，也可以与 <code class="t">set</code>、<code class="t">setopt</code>
和 <code class="t">unsetopt</code> 内置命令一起使用，就像以 &lsquo;<code class="t">-</code>&rsquo; 为前缀的普通 Unix 选项一样。
</p>
<p>使用 &lsquo;<code class="t">+</code>&rsquo; 而不是 &lsquo;<code class="t">-</code>&rsquo; 可以反转单字母选项的含义。 有些单字母选项名称指的是关闭选项，在这种情况下，该名称的反义词指的是开启选项。
例如， &lsquo;<code class="t">+n</code>&rsquo; 是  &lsquo;<code class="t">exec</code>&rsquo; 的简称，而 &lsquo;<code class="t">-n</code>&rsquo;  是其反义词 &lsquo;<code class="t">noexec</code>&rsquo; 的简称。
</p>
<p>在启动时提供给 shell 的单字母选项字符串中，尾部空白将被忽略；例如，字符串 &lsquo;<code class="t">-f </code>&rsquo; 将被视为 &lsquo;<code class="t">-f</code>&rsquo;，但字符串 &lsquo;<code class="t">-f
i</code>&rsquo; 则是一个错误。 这是因为许多采用 &lsquo;<code class="t">#!</code>&rsquo; 机制调用脚本的系统并不清除尾部空白。
</p>
<p>可以在函数作用域内设置选项。 请参阅下文对 <code class="t">LOCAL_OPTIONS</code> 选项的描述。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_9009_9879_8bf4_660e">

<h3 class="section" id="Xuan-Xiang-Shuo-Ming-"><span>16.2 选项说明<a class="copiable-link" href="#Xuan-Xiang-Shuo-Ming-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xuan-Xiang-_002c-Miao-Shu-"></a>
<p>在以下列表中，所有模拟中默认设置的选项都标为 &lt;D&gt;；仅在 csh、ksh、sh 或 zsh 模拟中默认设置的选项则根据情况标为
&lt;C&gt;、&lt;K&gt;、&lt;S&gt;、&lt;Z&gt;。 在列出选项（通过&lsquo;<code class="t">setopt</code>&rsquo;, &lsquo;<code class="t">unsetopt</code>&rsquo;, &lsquo;<code class="t">set -o</code>&rsquo; 或
&lsquo;<code class="t">set +o</code>&rsquo;）时，默认开启的选项会以 &lsquo;<code class="t">no</code>&rsquo; 为前缀出现在列表中。 因此（除非设置了
<code class="t">KSH_OPTION_PRINT</code>），&lsquo;<code class="t">setopt</code>&rsquo; 会显示所有设置与默认值不同的选项。
</p>

<div class="subsection-level-extent" id="Gai-Bian-Mu-Lu-">
<h4 class="subsection"><span>16.2.1 改变目录<a class="copiable-link" href="#Gai-Bian-Mu-Lu-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fCD"></a>
<a class="index-entry-id" id="index-AUTOCD"></a>
<a class="index-entry-id" id="index-NOAUTOCD"></a>
<a class="index-entry-id" id="index-cd_002c-Zi-Dong-"></a>
<a id="index-AUTO_005fCD"></a><span><code class="t">AUTO_CD</code> (<code class="t">-J</code>)<a class="copiable-link" href="#index-AUTO_005fCD"> &para;</a></span></dt>
<dd><p>如果发出的命令不能作为普通命令执行，且该命令是一个目录的名称，则执行 <code class="t">cd</code> 命令以进入该目录。 只有设置了
<code class="t">SHIN_STDIN</code>，即从标准输入读取命令时，该选项才适用。 该选项专为交互式使用而设计；建议在脚本中明确使用 <code class="t">cd</code>，以避免歧义。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fPUSHD"></a>
<a class="index-entry-id" id="index-AUTOPUSHD"></a>
<a class="index-entry-id" id="index-NOAUTOPUSHD"></a>
<a class="index-entry-id" id="index-cd_002c-Xiang-pushd-YiYang-"></a>
<a class="index-entry-id" id="index-pushd_002c-Shi-Yong-cd-Xiang-"></a>
<a id="index-AUTO_005fPUSHD"></a><span><code class="t">AUTO_PUSHD</code> (<code class="t">-N</code>)<a class="copiable-link" href="#index-AUTO_005fPUSHD"> &para;</a></span></dt>
<dd><p>让 <code class="t">cd</code> 将旧目录推送到目录栈。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCDABLE_005fVARS"></a>
<a class="index-entry-id" id="index-CDABLEVARS"></a>
<a class="index-entry-id" id="index-NOCDABLEVARS"></a>
<a class="index-entry-id" id="index-cd_002c-to-parameter"></a>
<a id="index-CDABLE_005fVARS"></a><span><code class="t">CDABLE_VARS</code> (<code class="t">-T</code>)<a class="copiable-link" href="#index-CDABLE_005fVARS"> &para;</a></span></dt>
<dd><p>如果 <code class="t">cd</code> 命令（或设置了 <code class="t">AUTO_CD</code> 选项的隐式
<code class="t">cd</code>）的参数不是目录，也不是以斜线开头的，则尝试扩展表达式，就好像在表达式前面加上了 &lsquo;<code class="t">~</code>&rsquo;（参见 <a class="ref" href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCD_005fSILENT"></a>
<a class="index-entry-id" id="index-CDSILENT"></a>
<a class="index-entry-id" id="index-NOCDSILENT"></a>
<a class="index-entry-id" id="index-cd_002c-Jing-Mo-"></a>
<a class="index-entry-id" id="index-autocd_002c-Jing-Mo-"></a>
<a id="index-CD_005fSILENT"></a><span><code class="t">CD_SILENT</code><a class="copiable-link" href="#index-CD_005fSILENT"> &para;</a></span></dt>
<dd><p>切勿在 <code class="t">cd</code>（无论是显式还是通过设置 <code class="t">AUTO_CD</code> 选项隐含）之后打印工作目录。当 <code class="t">cd</code> 的参数是 <code class="t">-</code>、堆栈条目或
<code class="t">CDPATH</code> 下的目录名时，<code class="t">cd</code> 通常会打印工作目录。请注意，这与 <code class="t">pushd</code> 的堆栈打印行为不同，后者由
<code class="t">PUSHD_SILENT</code> 控制。此选项会覆盖 <code class="t">POSIX_CD</code> 的打印相关效果。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCHASE_005fDOTS"></a>
<a class="index-entry-id" id="index-CHASEDOTS"></a>
<a class="index-entry-id" id="index-NOCHASEDOTS"></a>
<a class="index-entry-id" id="index-cd_002c-Zai-Can-Shu-ZhongShi-Yong-_002e_002e"></a>
<a id="index-CHASE_005fDOTS"></a><span><code class="t">CHASE_DOTS</code><a class="copiable-link" href="#index-CHASE_005fDOTS"> &para;</a></span></dt>
<dd><p>当切换到一个目录时，如果该目录中包含路径段 &lsquo;<code class="t">..</code>&rsquo;，这通常会被认为是取消前一个路径段的意思（也就是说，&lsquo;<code class="t">foo/..</code>&rsquo;
会在路径中被移除，或者如果 &lsquo;<code class="t">..</code>&rsquo; 是路径的第一部分，那么当前工作目录的最后一部分会被移除。），而不是解析物理目录的路径。 该选项被
<code class="t">CHASE_LINKS</code> 覆盖。
</p>
<p>例如，假设 <code class="t">/foo/bar</code> 是指向 <code class="t">/alt/rod</code> 目录的链接。 如果没有设置该选项，&lsquo;<code class="t">cd /foo/bar/..</code>&rsquo;
会更改为 <code class="t">/foo</code>；如果设置了该选项，则会更改为 <code class="t">/alt</code>。 如果当前目录是 <code class="t">/foo/bar</code>，并使用了 &lsquo;<code class="t">cd ..</code>&rsquo;
，情况也一样。 请注意，路径中的所有其他符号链接也将被解析。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCHASE_005fLINKS"></a>
<a class="index-entry-id" id="index-CHASELINKS"></a>
<a class="index-entry-id" id="index-NOCHASELINKS"></a>
<a class="index-entry-id" id="index-Lian-Jie-_002c-Fu-Hao-"></a>
<a class="index-entry-id" id="index-Fu-Hao-Lian-Jie-"></a>
<a id="index-CHASE_005fLINKS"></a><span><code class="t">CHASE_LINKS</code> (<code class="t">-w</code>)<a class="copiable-link" href="#index-CHASE_005fLINKS"> &para;</a></span></dt>
<dd><p>更改目录时，将符号链接转换为其真实值。 这也具有 <code class="t">CHASE_DOTS</code> 的效果，即 &lsquo;<code class="t">..</code>&rsquo;
路径段将被视为指向物理父目录，即使前面的路径段是符号链接。
</p>
</dd>
<dt><a class="index-entry-id" id="index-POSIXCD"></a>
<a class="index-entry-id" id="index-NO_005fPOSIX_005fCD"></a>
<a class="index-entry-id" id="index-NOPOSIXCD"></a>
<a class="index-entry-id" id="index-CDPATH_002c-Jian-Cha-De-Shun-Xu-"></a>
<a id="index-POSIX_005fCD"></a><span><code class="t">POSIX_CD</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fCD"> &para;</a></span></dt>
<dd><p>修改 <code class="t">cd</code>、<code class="t">chdir</code> 和 <code class="t">pushd</code> 命令的行为，使其更符合 POSIX 标准。未设置该选项时的行为，参见
<a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a> 中 <code class="t">cd</code> 内置命令的文档。 如果设置了该选项，在 <code class="t">cdpath</code> 中的所有目录都测试完毕之前，shell
不会测试本地目录 ( &lsquo;<code class="t">.</code>&rsquo; )下的目录，并且 <code class="t">cd</code> 和 <code class="t">chdir</code> 命令不会将形式为
&lsquo;{<code class="t">+</code>|<code class="t">-</code>}<var class="var">n</var>&rsquo; 的参数视为目录栈条目。
</p>
<p>此外，如果设置了该选项，shell 打印新目录的条件也会发生变化。 它不再仅限于交互式 shell（尽管使用 <code class="t">pushd</code>
打印目录堆栈仍仅限于交互式 shell）；任何使用 <code class="t">CDPATH</code> 的组件，包括 &lsquo;<code class="t">.</code>&rsquo; ，但不包括空组件（空组件在其他情况下被视为
&lsquo;<code class="t">.</code>&rsquo; ），都会导致目录被打印。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPUSHD_005fIGNORE_005fDUPS"></a>
<a class="index-entry-id" id="index-PUSHDIGNOREDUPS"></a>
<a class="index-entry-id" id="index-NOPUSHDIGNOREDUPS"></a>
<a class="index-entry-id" id="index-Mu-Lu-Zhan-_002c-Hu-Lue-Zhong-Fu-"></a>
<a id="index-PUSHD_005fIGNORE_005fDUPS"></a><span><code class="t">PUSHD_IGNORE_DUPS</code><a class="copiable-link" href="#index-PUSHD_005fIGNORE_005fDUPS"> &para;</a></span></dt>
<dd><p>不要将同一目录的多个副本推送到目录堆栈中。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPUSHD_005fMINUS"></a>
<a class="index-entry-id" id="index-PUSHDMINUS"></a>
<a class="index-entry-id" id="index-NOPUSHDMINUS"></a>
<a class="index-entry-id" id="index-Mu-Lu-Zhan-_002c-Kong-Zhi-Yu-Fa-"></a>
<a id="index-PUSHD_005fMINUS"></a><span><code class="t">PUSHD_MINUS</code><a class="copiable-link" href="#index-PUSHD_005fMINUS"> &para;</a></span></dt>
<dd><p>在使用数字指定堆栈中的目录时，交换 &lsquo;<code class="t">+</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo; 的含义。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPUSHD_005fSILENT"></a>
<a class="index-entry-id" id="index-PUSHDSILENT"></a>
<a class="index-entry-id" id="index-NOPUSHDSILENT"></a>
<a class="index-entry-id" id="index-Mu-Lu-Zhan-_002c-Jing-Mo-"></a>
<a id="index-PUSHD_005fSILENT"></a><span><code class="t">PUSHD_SILENT</code> (<code class="t">-E</code>)<a class="copiable-link" href="#index-PUSHD_005fSILENT"> &para;</a></span></dt>
<dd><p>不在 <code class="t">pushd</code> 或 <code class="t">popd</code> 之后打印目录堆栈。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPUSHD_005fTO_005fHOME"></a>
<a class="index-entry-id" id="index-PUSHDTOHOME"></a>
<a class="index-entry-id" id="index-NOPUSHDTOHOME"></a>
<a class="index-entry-id" id="index-pushd_002c-Dao-home"></a>
<a id="index-PUSHD_005fTO_005fHOME"></a><span><code class="t">PUSHD_TO_HOME</code> (<code class="t">-D</code>)<a class="copiable-link" href="#index-PUSHD_005fTO_005fHOME"> &para;</a></span></dt>
<dd><p>让不带参数的 <code class="t">pushd</code> 像 &lsquo;<code class="t">pushd $HOME</code>&rsquo; 一样运行。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Bu-Quan--1">
<h4 class="subsection"><span>16.2.2 补全<a class="copiable-link" href="#Bu-Quan--1"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fALWAYS_005fLAST_005fPROMPT"></a>
<a class="index-entry-id" id="index-ALWAYSLASTPROMPT"></a>
<a class="index-entry-id" id="index-NOALWAYSLASTPROMPT"></a>
<a id="index-ALWAYS_005fLAST_005fPROMPT"></a><span><code class="t">ALWAYS_LAST_PROMPT</code> &lt;D&gt;<a class="copiable-link" href="#index-ALWAYS_005fLAST_005fPROMPT"> &para;</a></span></dt>
<dd><p>如果未设置，则列出补全的关键函数会在给出数字参数时尝试返回最后一个提示符。如果设置，这些函数在<em class="emph">没有</em>数字参数的情况下会尝试返回最后一个提示符。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fALWAYS_005fTO_005fEND"></a>
<a class="index-entry-id" id="index-ALWAYSTOEND"></a>
<a class="index-entry-id" id="index-NOALWAYSTOEND"></a>
<a id="index-ALWAYS_005fTO_005fEND"></a><span><code class="t">ALWAYS_TO_END</code><a class="copiable-link" href="#index-ALWAYS_005fTO_005fEND"> &para;</a></span></dt>
<dd><p>如果光标在单词内执行了补全操作，并且插入了完整补全，则光标会移动到单词的末尾。 也就是说，如果插入了单个匹配或执行了菜单补全，光标就会移动到单词的末尾。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fLIST"></a>
<a class="index-entry-id" id="index-AUTOLIST"></a>
<a class="index-entry-id" id="index-NOAUTOLIST"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Lie-Chu-Xuan-Ze-"></a>
<a id="index-AUTO_005fLIST"></a><span><code class="t">AUTO_LIST</code> (<code class="t">-9</code>) &lt;D&gt;<a class="copiable-link" href="#index-AUTO_005fLIST"> &para;</a></span></dt>
<dd><p>自动列出模棱两可的补全选项。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fMENU"></a>
<a class="index-entry-id" id="index-AUTOMENU"></a>
<a class="index-entry-id" id="index-NOAUTOMENU"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Cai-Dan-"></a>
<a id="index-AUTO_005fMENU"></a><span><code class="t">AUTO_MENU</code> &lt;D&gt;<a class="copiable-link" href="#index-AUTO_005fMENU"> &para;</a></span></dt>
<dd><p>在连续两次请求补全（例如重复按下制表符键）后自动使用菜单完成。该选项被 <code class="t">MENU_COMPLETE</code> 覆盖。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fNAME_005fDIRS"></a>
<a class="index-entry-id" id="index-AUTONAMEDIRS"></a>
<a class="index-entry-id" id="index-NOAUTONAMEDIRS"></a>
<a class="index-entry-id" id="index-Mu-Lu-_002c-Ming-Ming-De-"></a>
<a id="index-AUTO_005fNAME_005fDIRS"></a><span><code class="t">AUTO_NAME_DIRS</code><a class="copiable-link" href="#index-AUTO_005fNAME_005fDIRS"> &para;</a></span></dt>
<dd><p>任何被设置为目录绝对名称的参数都会立即成为该目录的名称，将被 &lsquo;<code class="t">%~</code>&rsquo; 和相关提示符序列使用，并在对以  &lsquo;<code class="t">~</code>&rsquo;
开头的单词进行补全时可用（否则，必须先以 &lsquo;<code class="t">~</code><var class="var">param</var>&rsquo; 的形式使用该参数）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fPARAM_005fKEYS"></a>
<a class="index-entry-id" id="index-AUTOPARAMKEYS"></a>
<a class="index-entry-id" id="index-NOAUTOPARAMKEYS"></a>
<a id="index-AUTO_005fPARAM_005fKEYS"></a><span><code class="t">AUTO_PARAM_KEYS</code> &lt;D&gt;<a class="copiable-link" href="#index-AUTO_005fPARAM_005fKEYS"> &para;</a></span></dt>
<dd><p>如果参数名称补全后，后面的字符（通常是空格）被自动插入，而下一个输入的字符必须直接位于参数名称之后（如 &lsquo;<code class="t">}</code>&rsquo;,
&lsquo;<code class="t">:</code>&rsquo;等），则自动添加的字符将被删除，这样输入的字符将紧接在参数名称之后。
在括号扩展中补全也会受到类似影响：添加的字符是&lsquo;<code class="t">,</code>&rsquo;，如果接下来输入 &lsquo;<code class="t">}</code>&rsquo;，该字符将被删除。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fPARAM_005fSLASH"></a>
<a class="index-entry-id" id="index-AUTOPARAMSLASH"></a>
<a class="index-entry-id" id="index-NOAUTOPARAMSLASH"></a>
<a id="index-AUTO_005fPARAM_005fSLASH"></a><span><code class="t">AUTO_PARAM_SLASH</code> &lt;D&gt;<a class="copiable-link" href="#index-AUTO_005fPARAM_005fSLASH"> &para;</a></span></dt>
<dd><p>如果补全的参数内容是一个目录的名称，则在后面加上斜线而不是空格。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fREMOVE_005fSLASH"></a>
<a class="index-entry-id" id="index-AUTOREMOVESLASH"></a>
<a class="index-entry-id" id="index-NOAUTOREMOVESLASH"></a>
<a class="index-entry-id" id="index-Xie-Xian-_002c-Qu-Diao-Wei-Bu-De-"></a>
<a id="index-AUTO_005fREMOVE_005fSLASH"></a><span><code class="t">AUTO_REMOVE_SLASH</code> &lt;D&gt;<a class="copiable-link" href="#index-AUTO_005fREMOVE_005fSLASH"> &para;</a></span></dt>
<dd><p>如果补全后的最后一个字符是斜线，而输入的下一个字符是单词分隔符、斜线或命令结束符（如分号或括弧），则删除斜线。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBASH_005fAUTO_005fLIST"></a>
<a class="index-entry-id" id="index-BASHAUTOLIST"></a>
<a class="index-entry-id" id="index-NOBASHAUTOLIST"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Lie-Chu-Xuan-Ze-_002c-bash-Feng-Ge-"></a>
<a id="index-BASH_005fAUTO_005fLIST"></a><span><code class="t">BASH_AUTO_LIST</code><a class="copiable-link" href="#index-BASH_005fAUTO_005fLIST"> &para;</a></span></dt>
<dd><p>在补全模棱两可时，如果补全函数被连续调用两次时，会自动列出选项。 这优先于 <code class="t">AUTO_LIST</code>。 将尊重 <code class="t">LIST_AMBIGUOUS</code>
的设置。 如果设置了 <code class="t">AUTO_MENU</code>，则菜单行为将从第三次按下时开始。 请注意，在使用 <code class="t">MENU_COMPLETE</code>
时，此功能将无法正常工作，因为在这种情况下，重复执行的补全调用会立即在列表中循环。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCOMPLETE_005fALIASES"></a>
<a class="index-entry-id" id="index-COMPLETEALIASES"></a>
<a class="index-entry-id" id="index-NOCOMPLETEALIASES"></a>
<a class="index-entry-id" id="index-Bie-Ming-_002c-Bu-Quan-"></a>
<a id="index-COMPLETE_005fALIASES"></a><span><code class="t">COMPLETE_ALIASES</code><a class="copiable-link" href="#index-COMPLETE_005fALIASES"> &para;</a></span></dt>
<dd><p>防止命令行上的别名在尝试补全前被内部替换。 这样做的目的是使别名成为一个独立的命令。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCOMPLETE_005fIN_005fWORD"></a>
<a class="index-entry-id" id="index-COMPLETEINWORD"></a>
<a class="index-entry-id" id="index-NOCOMPLETEINWORD"></a>
<a id="index-COMPLETE_005fIN_005fWORD"></a><span><code class="t">COMPLETE_IN_WORD</code><a class="copiable-link" href="#index-COMPLETE_005fIN_005fWORD"> &para;</a></span></dt>
<dd><p>如果未设置，则在开始补全时将光标设置到字尾。否则，光标将停留在该处，并从两端开始补全。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOB_005fCOMPLETE"></a>
<a class="index-entry-id" id="index-GLOBCOMPLETE"></a>
<a class="index-entry-id" id="index-NOGLOBCOMPLETE"></a>
<a id="index-GLOB_005fCOMPLETE"></a><span><code class="t">GLOB_COMPLETE</code><a class="copiable-link" href="#index-GLOB_005fCOMPLETE"> &para;</a></span></dt>
<dd><p>当当前单词包含一个 glob 模式时，不会插入扩展后的所有单词，而是像 <code class="t">MENU_COMPLETE</code>
一样生成补全匹配并循环播放。在生成匹配时，就好像在单词末尾添加了一个 &lsquo;<code class="t">*</code>&rsquo;，或者在设置 <code class="t">COMPLETE_IN_WORD</code>
时在光标处插入了一个 &lsquo;<code class="t">*</code>&rsquo;。 这实际上使用的是模式匹配，而不是 globbing
匹配，因此它不仅适用于文件，也适用于任何补全，如选项、用户名等。
</p>
<p>请注意，在使用模式匹配器时，不能使用匹配控制（例如，不区分大小写或锚定匹配）。 这一限制仅适用于当前单词包含模式的情况；简单地打开
<code class="t">GLOB_COMPLETE</code> 选项不会产生这种效果。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHASH_005fLIST_005fALL"></a>
<a class="index-entry-id" id="index-HASHLISTALL"></a>
<a class="index-entry-id" id="index-NOHASHLISTALL"></a>
<a id="index-HASH_005fLIST_005fALL"></a><span><code class="t">HASH_LIST_ALL</code> &lt;D&gt;<a class="copiable-link" href="#index-HASH_005fLIST_005fALL"> &para;</a></span></dt>
<dd><p>无论何时尝试命令补全或拼写更正，都要确保先对整个命令路径进行散列(hash)。 这样会降低首次补全的速度，但可以避免拼写错误的错误报告。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLIST_005fAMBIGUOUS"></a>
<a class="index-entry-id" id="index-LISTAMBIGUOUS"></a>
<a class="index-entry-id" id="index-NOLISTAMBIGUOUS"></a>
<a class="index-entry-id" id="index-Bu-Ming-Que-De-Bu-Quan-"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Bu-Ming-Que-De-"></a>
<a id="index-LIST_005fAMBIGUOUS"></a><span><code class="t">LIST_AMBIGUOUS</code> &lt;D&gt;<a class="copiable-link" href="#index-LIST_005fAMBIGUOUS"> &para;</a></span></dt>
<dd><p>当 <code class="t">AUTO_LIST</code> 或 <code class="t">BASH_AUTO_LIST</code> 也被设置时，该选项才会起作用。
如果要在命令行中插入一个明确的前缀，则无需显示补全列表即可完成；换句话说，只有在不会插入任何前缀的情况下，才会执行自动列表行为。 在
<code class="t">BASH_AUTO_LIST</code> 的情况下，这意味着列表将延迟到函数的第三次调用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLIST_005fBEEP"></a>
<a class="index-entry-id" id="index-LISTBEEP"></a>
<a class="index-entry-id" id="index-NOLISTBEEP"></a>
<a class="index-entry-id" id="index-beep_002c-Bu-Ming-Que-De-Bu-Quan-"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Bu-Ming-Que-Shi-beep"></a>
<a id="index-LIST_005fBEEP"></a><span><code class="t">LIST_BEEP</code> &lt;D&gt;<a class="copiable-link" href="#index-LIST_005fBEEP"> &para;</a></span></dt>
<dd><p>在模棱两可的补全时发出蜂鸣声。 更准确地说，如果同时设置了选项 <code class="t">BEEP</code>，这将强制补全小部件在模棱两可的补全时返回状态 1，从而导致 shell
发出蜂鸣声；如果补全是从用户自定义的小部件调用的，这一点可以修改。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLIST_005fPACKED"></a>
<a class="index-entry-id" id="index-LISTPACKED"></a>
<a class="index-entry-id" id="index-NOLISTPACKED"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Lie-Biao-"></a>
<a id="index-LIST_005fPACKED"></a><span><code class="t">LIST_PACKED</code><a class="copiable-link" href="#index-LIST_005fPACKED"> &para;</a></span></dt>
<dd><p>尝试将匹配项打印在不同宽度的列中，使补全列表更小（占用的行数更少）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLIST_005fROWS_005fFIRST"></a>
<a class="index-entry-id" id="index-LISTROWSFIRST"></a>
<a class="index-entry-id" id="index-NOLISTROWSFIRST"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Lie-Biao-Shun-Xu-"></a>
<a id="index-LIST_005fROWS_005fFIRST"></a><span><code class="t">LIST_ROWS_FIRST</code><a class="copiable-link" href="#index-LIST_005fROWS_005fFIRST"> &para;</a></span></dt>
<dd><p>在补全列表中按水平排序排列匹配项，即第二个匹配项在第一个匹配项的右边，而不是像往常一样在第一个匹配项的下面。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLIST_005fTYPES"></a>
<a class="index-entry-id" id="index-LISTTYPES"></a>
<a class="index-entry-id" id="index-NOLISTTYPES"></a>
<a class="index-entry-id" id="index-Biao-Ji-WenJian-Lei-Xing-"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Biao-Ji-Lei-Xing-"></a>
<a id="index-LIST_005fTYPES"></a><span><code class="t">LIST_TYPES</code> (<code class="t">-X</code>) &lt;D&gt;<a class="copiable-link" href="#index-LIST_005fTYPES"> &para;</a></span></dt>
<dd><p>在列出可能补全的文件时，用尾部识别标记显示每个文件的类型。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMENU_005fCOMPLETE"></a>
<a class="index-entry-id" id="index-MENUCOMPLETE"></a>
<a class="index-entry-id" id="index-NOMENUCOMPLETE"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Cai-Dan--1"></a>
<a id="index-MENU_005fCOMPLETE"></a><span><code class="t">MENU_COMPLETE</code> (<code class="t">-Y</code>)<a class="copiable-link" href="#index-MENU_005fCOMPLETE"> &para;</a></span></dt>
<dd><p>在出现模棱两可的补全时，不要列出可能性或发出蜂鸣声，而是立即插入第一个匹配项。 然后，当再次要求补全时，移除第一个匹配项，插入第二个匹配项，等等。
当没有匹配项时，再返回第一个匹配项。 <code class="t">reverse-menu-complete</code> 可用来从另一个方向循环浏览列表。该选项覆盖
<code class="t">AUTO_MENU</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fREC_005fEXACT"></a>
<a class="index-entry-id" id="index-RECEXACT"></a>
<a class="index-entry-id" id="index-NORECEXACT"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Jing-Que-Pi-Pei-"></a>
<a id="index-REC_005fEXACT"></a><span><code class="t">REC_EXACT</code> (<code class="t">-S</code>)<a class="copiable-link" href="#index-REC_005fEXACT"> &para;</a></span></dt>
<dd><p>如果命令行上的字符串与其中一个可能的补全完全匹配，这个补全会被接受（即使有另一个补全&lt;即该字符串添加了其他内容&gt;也匹配）。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Kuo-Zhan-He-Globbing">
<h4 class="subsection"><span>16.2.3 扩展和 Globbing<a class="copiable-link" href="#Kuo-Zhan-He-Globbing"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fBAD_005fPATTERN"></a>
<a class="index-entry-id" id="index-BADPATTERN"></a>
<a class="index-entry-id" id="index-NOBADPATTERN"></a>
<a class="index-entry-id" id="index-globbing_002c-Pi-Mo-Shi-"></a>
<a class="index-entry-id" id="index-WenJian-Ming-Sheng-Cheng-_002c-Pi-Mo-Shi-"></a>
<a id="index-BAD_005fPATTERN"></a><span><code class="t">BAD_PATTERN</code> (<code class="t">+2</code>) &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-BAD_005fPATTERN"> &para;</a></span></dt>
<dd><p>如果文件名生成的模式不正确，则打印错误信息。 (如果未设置该选项，则模式将保持不变）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBARE_005fGLOB_005fQUAL"></a>
<a class="index-entry-id" id="index-BAREGLOBQUAL"></a>
<a class="index-entry-id" id="index-NOBAREGLOBQUAL"></a>
<a class="index-entry-id" id="index-globbing-Xian-Ding-Fu-_002c-Qi-Yong-"></a>
<a class="index-entry-id" id="index-Qi-Yong-globbing-Xian-Ding-Fu-"></a>
<a id="index-BARE_005fGLOB_005fQUAL"></a><span><code class="t">BARE_GLOB_QUAL</code> &lt;Z&gt;<a class="copiable-link" href="#index-BARE_005fGLOB_005fQUAL"> &para;</a></span></dt>
<dd><p>在 glob 模式中，如果尾部的括号不包含 &lsquo;<code class="t">|</code>&rsquo;, &lsquo;<code class="t">(</code>&rsquo; 或（如果指定） &lsquo;<code class="t">~</code>&rsquo; 字符，则将其视为限定符列表。 参见
<a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBRACE_005fCCL"></a>
<a class="index-entry-id" id="index-BRACECCL"></a>
<a class="index-entry-id" id="index-NOBRACECCL"></a>
<a class="index-entry-id" id="index-Gua-Hao-Kuo-Zhan-_002c-Kuo-Zhan-_0028extending_0029"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Gua-Hao-_002c-Kuo-Zhan-_0028extending_0029"></a>
<a id="index-BRACE_005fCCL"></a><span><code class="t">BRACE_CCL</code><a class="copiable-link" href="#index-BRACE_005fCCL"> &para;</a></span></dt>
<dd><p>将括号中的表达式扩展为一个包含所有字符的字面顺序的列表，否则这些表达式不会进行括号扩展。 参见 <a class="ref" href="#g_t_62ec_53f7_6269_5c55">括号扩展</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCASE_005fGLOB"></a>
<a class="index-entry-id" id="index-CASEGLOB"></a>
<a class="index-entry-id" id="index-NOCASEGLOB"></a>
<a class="index-entry-id" id="index-Bu-Qu-Fen-Da-Xiao-Xie-De-globbing_002c-Xuan-Xiang-"></a>
<a id="index-CASE_005fGLOB"></a><span><code class="t">CASE_GLOB</code> &lt;D&gt;<a class="copiable-link" href="#index-CASE_005fGLOB"> &para;</a></span></dt>
<dd><p>使 globbing（文件名生成）对大小写敏感。 请注意，模式的其他用法始终对大小写敏感。
如果未设置该选项，则文件名生成过程中出现的任何特殊字符都将导致不区分大小写的匹配。 例如，由于存在 globbing 标志，<code class="t">cvs(/)</code>
可以匹配目录 <code class="t">CVS</code>（除非未设置选项 <code class="t">BARE_GLOB_QUAL</code>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCASE_005fMATCH"></a>
<a class="index-entry-id" id="index-CASEMATCH"></a>
<a class="index-entry-id" id="index-NOCASEMATCH"></a>
<a class="index-entry-id" id="index-Bu-Qu-Fen-Da-Xiao-Xie-De-Zheng-Ze-Biao-Da-Shi-Pi-Pei-_002c-Xuan-Xiang-"></a>
<a class="index-entry-id" id="index-Zheng-Ze-Biao-Da-Shi-_002c-Bu-Qu-Fen-Da-Xiao-Xie-Pi-Pei-_002c-Xuan-Xiang-"></a>
<a id="index-CASE_005fMATCH"></a><span><code class="t">CASE_MATCH</code> &lt;D&gt;<a class="copiable-link" href="#index-CASE_005fMATCH"> &para;</a></span></dt>
<dd><p>使使用 <code class="t">zsh/regex</code> 模块的正则表达式（包括使用 <code class="t">=~</code> 的匹配）对大小写敏感。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCASE_005fPATHS"></a>
<a class="index-entry-id" id="index-CASEPATHS"></a>
<a class="index-entry-id" id="index-NOCASEPATHS"></a>
<a class="index-entry-id" id="index-Da-Xiao-Xie-Min-Gan-De-globbing_002c-Xuan-Xiang-"></a>
<a id="index-CASE_005fPATHS"></a><span><code class="t">CASE_PATHS</code><a class="copiable-link" href="#index-CASE_005fPATHS"> &para;</a></span></dt>
<dd><p>如果未设置 <code class="t">CASE_PATHS</code>（默认值），只要 <em class="emph">任意</em> 组件中出现特殊字符，<code class="t">CASE_GLOB</code> 就会影响
<em class="emph">每一个</em> 路径组件的解释。 设置 <code class="t">CASE_PATHS</code> 后，<em class="emph">不</em>
包含特殊文件名生成字符的文件路径组件始终对大小写敏感，因此 <code class="t">NO_CASE_GLOB</code> 只适用于包含 globing 字符的组件。
</p>
<p>请注意，如果文件系统本身对大小写不敏感，那么 <code class="t">CASE_PATHS</code> 就没有任何作用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCSH_005fNULL_005fGLOB"></a>
<a class="index-entry-id" id="index-CSHNULLGLOB"></a>
<a class="index-entry-id" id="index-NOCSHNULLGLOB"></a>
<a class="index-entry-id" id="index-csh_002c-Kong-globbing-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Kong-globbing-Feng-Ge-_002c-csh"></a>
<a class="index-entry-id" id="index-globbing_002c-Kong-_002c-Feng-Ge-_002c-csh"></a>
<a id="index-CSH_005fNULL_005fGLOB"></a><span><code class="t">CSH_NULL_GLOB</code> &lt;C&gt;<a class="copiable-link" href="#index-CSH_005fNULL_005fGLOB"> &para;</a></span></dt>
<dd><p>如果生成文件名的模式没有匹配项，则从参数列表中删除该模式；除非命令中的所有模式都没有匹配项，否则不报错。 覆盖 <code class="t">NOMATCH</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fEQUALS"></a>
<a class="index-entry-id" id="index-NOEQUALS"></a>
<a class="index-entry-id" id="index-WenJian-Ming-Kuo-Zhan-_002c-_003d"></a>
<a id="index-EQUALS"></a><span><code class="t">EQUALS</code> &lt;Z&gt;<a class="copiable-link" href="#index-EQUALS"> &para;</a></span></dt>
<dd><p>执行 <code class="t">=</code> 文件名扩展。 (参见 <a class="ref" href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fEXTENDED_005fGLOB"></a>
<a class="index-entry-id" id="index-EXTENDEDGLOB"></a>
<a class="index-entry-id" id="index-NOEXTENDEDGLOB"></a>
<a class="index-entry-id" id="index-globbing_002c-Kuo-Zhan-De-"></a>
<a id="index-EXTENDED_005fGLOB"></a><span><code class="t">EXTENDED_GLOB</code><a class="copiable-link" href="#index-EXTENDED_005fGLOB"> &para;</a></span></dt>
<dd><p>将 &lsquo;<code class="t">#</code>&rsquo;, &lsquo;<code class="t">~</code>&rsquo; 和 &lsquo;<code class="t">^</code>&rsquo; 字符视为文件名生成等的模式的一部分（初始的无引号的 &lsquo;<code class="t">~</code>&rsquo; 总是产生命名目录扩展）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fFORCE_005fFLOAT"></a>
<a class="index-entry-id" id="index-FORCEFLOAT"></a>
<a class="index-entry-id" id="index-NOFORCEFLOAT"></a>
<a class="index-entry-id" id="index-Fu-Dian-_002c-Qiang-Zhi-Shi-Yong-"></a>
<a class="index-entry-id" id="index-Qiang-Zhi-Shi-Yong-Fu-Dian-"></a>
<a id="index-FORCE_005fFLOAT"></a><span><code class="t">FORCE_FLOAT</code><a class="copiable-link" href="#index-FORCE_005fFLOAT"> &para;</a></span></dt>
<dd><p>即使不使用小数点，算术运算中的常量也将被视为浮点数；整数变量在算术表达式中使用时，其值将转换为浮点数。 任何基数的整数都会被转换。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOB"></a>
<a class="index-entry-id" id="index-NOGLOB"></a>
<a class="index-entry-id" id="index-globbing_002c-Qi-Yong-"></a>
<a class="index-entry-id" id="index-Qi-Yong-globbing"></a>
<a id="index-GLOB"></a><span><code class="t">GLOB</code> (<code class="t">+F</code>, ksh: <code class="t">+f</code>) &lt;D&gt;<a class="copiable-link" href="#index-GLOB"> &para;</a></span></dt>
<dd><p>执行文件名生成（globbing）。 (参见 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOB_005fASSIGN"></a>
<a class="index-entry-id" id="index-GLOBASSIGN"></a>
<a class="index-entry-id" id="index-NOGLOBASSIGN"></a>
<a id="index-GLOB_005fASSIGN"></a><span><code class="t">GLOB_ASSIGN</code> &lt;C&gt;<a class="copiable-link" href="#index-GLOB_005fASSIGN"> &para;</a></span></dt>
<dd><p>如果设置了该选项，文件名生成（globbing）将在&lsquo;<var class="var">name</var><code class="t">=</code><var class="var">pattern</var> &rsquo;(例如
&lsquo;<code class="t">foo=*</code>&rsquo;)形式的标量参数赋值的右侧进行。
如果结果有多个单词，参数将变成一个数组，并以这些单词作为参数。提供该选项只是为了向后兼容：globbing 总是在形式为
&lsquo;<var class="var">name</var><code class="t">=(</code><var class="var">value</var><code class="t">)</code>&rsquo; (e.g. &lsquo;<code class="t">foo=(*)</code>&rsquo;)
的数组赋值的右侧执行，为了清晰起见，推荐使用这种形式；设置该选项后，无法预测结果是数组还是标量。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOB_005fDOTS"></a>
<a class="index-entry-id" id="index-GLOBDOTS"></a>
<a class="index-entry-id" id="index-NOGLOBDOTS"></a>
<a class="index-entry-id" id="index-globbing_002c-of-_002e-files"></a>
<a id="index-GLOB_005fDOTS"></a><span><code class="t">GLOB_DOTS</code> (<code class="t">-4</code>)<a class="copiable-link" href="#index-GLOB_005fDOTS"> &para;</a></span></dt>
<dd><p>不要求明确匹配文件名中的前导 &lsquo;<code class="t">.</code>&rsquo;。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOB_005fSTAR_005fSHORT"></a>
<a class="index-entry-id" id="index-GLOBSTARSHORT"></a>
<a class="index-entry-id" id="index-NOGLOBSTARSHORT"></a>
<a class="index-entry-id" id="index-globbing_002c-Jian-Duan-Xing-Shi-"></a>
<a class="index-entry-id" id="index-globbing_002c-_002a_002a-special"></a>
<a id="index-GLOB_005fSTAR_005fSHORT"></a><span><code class="t">GLOB_STAR_SHORT</code><a class="copiable-link" href="#index-GLOB_005fSTAR_005fSHORT"> &para;</a></span></dt>
<dd><p>当设置了该选项且默认的 zsh 风格 globbing 有效时，&lsquo;<code class="t">**/*</code>&rsquo; 模式可缩写为 &lsquo;<code class="t">**</code>&rsquo; ，而 &lsquo;<code class="t">***/*</code>&rsquo;
模式可缩写为 <code class="t">***</code>。 因此， &lsquo;<code class="t">**.c</code>&rsquo; 可以在任何子目录中找到以 <code class="t">.c</code> 结尾的文件，而 &lsquo;<code class="t">***.c</code>&rsquo;
也可以在跟踪符号链接的同时找到以 <code class="t">***.c</code> 结尾的文件。 紧跟在&lsquo;<code class="t">**</code>&rsquo; 或  &lsquo;<code class="t">***</code>&rsquo;  之后的 <code class="t">/</code>
会强制将模式视为未缩写形式。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOB_005fSUBST"></a>
<a class="index-entry-id" id="index-GLOBSUBST"></a>
<a class="index-entry-id" id="index-NOGLOBSUBST"></a>
<a id="index-GLOB_005fSUBST"></a><span><code class="t">GLOB_SUBST</code> &lt;C&gt; &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-GLOB_005fSUBST"> &para;</a></span></dt>
<dd><p>将参数扩展产生的任何字符视为符合文件名扩展和文件名生成条件，将命令替换产生的任何字符视为符合文件名生成条件。 括号（和中间的逗号）不符合扩展条件。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fSUBST_005fPATTERN"></a>
<a class="index-entry-id" id="index-HISTSUBSTPATTERN"></a>
<a class="index-entry-id" id="index-NOHISTSUBSTPATTERN"></a>
<a id="index-HIST_005fSUBST_005fPATTERN"></a><span><code class="t">HIST_SUBST_PATTERN</code><a class="copiable-link" href="#index-HIST_005fSUBST_005fPATTERN"> &para;</a></span></dt>
<dd><p>使用 <code class="t">:s</code> 和  <code class="t">:&amp;</code>
历史修饰符的替换的执行，是使用模式匹配而不是字符串匹配。只要历史修饰符（包括glob限定符和参数）有效，就会发生这种情况。请参见 <a class="ref" href="#g_t_4fee_9970_7b26">修饰符</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fIGNORE_005fBRACES"></a>
<a class="index-entry-id" id="index-IGNOREBRACES"></a>
<a class="index-entry-id" id="index-NOIGNOREBRACES"></a>
<a class="index-entry-id" id="index-Jin-Yong-Gua-Hao-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Gua-Hao-Kuo-Zhan-_002c-Jin-Yong-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-_002c-Gua-Hao-_002c-Jin-Yong-"></a>
<a id="index-IGNORE_005fBRACES"></a><span><code class="t">IGNORE_BRACES</code> (<code class="t">-I</code>) &lt;S&gt;<a class="copiable-link" href="#index-IGNORE_005fBRACES"> &para;</a></span></dt>
<dd><p>不执行括号扩展。 由于历史原因，这也包括 <code class="t">IGNORE_CLOSE_BRACES</code> 选项的效果。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fIGNORE_005fCLOSE_005fBRACES"></a>
<a class="index-entry-id" id="index-IGNORECLOSEBRACES"></a>
<a class="index-entry-id" id="index-NOIGNORECLOSEBRACES"></a>
<a id="index-IGNORE_005fCLOSE_005fBRACES"></a><span><code class="t">IGNORE_CLOSE_BRACES</code><a class="copiable-link" href="#index-IGNORE_005fCLOSE_005fBRACES"> &para;</a></span></dt>
<dd><p>如果既未设置该选项，也未设置 <code class="t">IGNORE_BRACES</code>，那么在命令行的任何位置，单一的封闭括号字符 &lsquo;<code class="t">}</code>&rsquo; 都具有语法意义。
这样一来，在结束函数或当前 shell 结构的括号前就不需要分号或换行符了。 如果设置了这两个选项中的任何一个，则结尾大括号只在命令行位置有语法意义。
与 <code class="t">IGNORE_BRACES</code> 不同，该选项不会禁用括号扩展。
</p>
<p>例如，在两个选项都未设置的情况下，可以按以下方式定义一个函数：
</p>
<div class="example">
<pre class="example-preformatted">args() { echo $# }
</pre></div>

<p>而如果设置了这两个选项中的任何一个，则不起作用，需要类似下面的设置：
</p>
<div class="example">
<pre class="example-preformatted">args() { echo $#; }
</pre></div>


</dd>
<dt><a class="index-entry-id" id="index-NO_005fKSH_005fGLOB"></a>
<a class="index-entry-id" id="index-KSHGLOB"></a>
<a class="index-entry-id" id="index-NOKSHGLOB"></a>
<a id="index-KSH_005fGLOB"></a><span><code class="t">KSH_GLOB</code> &lt;K&gt;<a class="copiable-link" href="#index-KSH_005fGLOB"> &para;</a></span></dt>
<dd><p>在模式匹配中，括号的解释受前面的 &lsquo;<code class="t">@</code>&rsquo;, &lsquo;<code class="t">*</code>&rsquo;, &lsquo;<code class="t">+</code>&rsquo;, &lsquo;<code class="t">?</code>&rsquo; 或 &lsquo;<code class="t">!</code>&rsquo; 的影响。 参见
<a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMAGIC_005fEQUAL_005fSUBST"></a>
<a class="index-entry-id" id="index-MAGICEQUALSUBST"></a>
<a class="index-entry-id" id="index-NOMAGICEQUALSUBST"></a>
<a id="index-MAGIC_005fEQUAL_005fSUBST"></a><span><code class="t">MAGIC_EQUAL_SUBST</code><a class="copiable-link" href="#index-MAGIC_005fEQUAL_005fSUBST"> &para;</a></span></dt>
<dd><p>在命令名之后出现的所有未加引号的参数，其形式为 &lsquo;<var class="var">anything</var><code class="t">=</code><var class="var">expression</var>&rsquo;，其文件名扩展（即
<var class="var">expression</var> 带有前导 &lsquo;<code class="t">~</code>&rsquo; 或 &lsquo;<code class="t">=</code>&rsquo; ）在 <var class="var">expression</var> 上执行，如同这是参数赋值。
参数不会受到其他特殊处理；它将作为单个参数传递给命令，而不是用作实际的参数赋值。 例如，在 <code class="t">echo foo=~/bar:~/rod</code>
中，<code class="t">~</code> 的两次出现都会被替换。 请注意，<code class="t">typeset</code> 和类似语句都会出现这种情况。
</p>
<p>该选项尊守 <code class="t">KSH_TYPESET</code> 选项的设置。 换句话说，如果两个选项都有效，看起来像赋值的参数将不会被分词。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMARK_005fDIRS"></a>
<a class="index-entry-id" id="index-MARKDIRS"></a>
<a class="index-entry-id" id="index-NOMARKDIRS"></a>
<a class="index-entry-id" id="index-Mu-Lu-_002c-Biao-Ji-"></a>
<a class="index-entry-id" id="index-Biao-Ji-Mu-Lu-"></a>
<a id="index-MARK_005fDIRS"></a><span><code class="t">MARK_DIRS</code> (<code class="t">-8</code>, ksh: <code class="t">-X</code>)<a class="copiable-link" href="#index-MARK_005fDIRS"> &para;</a></span></dt>
<dd><p>在文件名生成（globbing）过程中产生的所有目录名后添加尾部 &lsquo;<code class="t">/</code>&rsquo; 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMULTIBYTE"></a>
<a class="index-entry-id" id="index-NOMULTIBYTE"></a>
<a class="index-entry-id" id="index-Zi-Fu-_002c-Duo-Zi-Jie-_002c-Zai-Kuo-Zhan-He-globbing-Zhong"></a>
<a class="index-entry-id" id="index-Duo-Zi-Jie-Zi-Fu-_002c-Zai-Kuo-Zhan-He-globbing-Zhong"></a>
<a id="index-MULTIBYTE"></a><span><code class="t">MULTIBYTE</code> &lt;D&gt;<a class="copiable-link" href="#index-MULTIBYTE"> &para;</a></span></dt>
<dd><p>当字符串中出现多字节字符时，尊守多字节字符。 设置该选项后，将使用系统库检查字符串，以确定一个字符由多少个字节组成，具体取决于当前的本地语言。
这将影响字符在模式匹配、参数值和各种分隔符中的计数方式。
</p>
<p>如果 shell 在编译时使用了 <code class="t">MULTIBYTE_SUPPORT</code>，则默认开启该选项；否则默认关闭，开启后也不会有任何影响。
</p>
<p>如果关闭该选项，单字节将始终被视为单字符。 这一设置纯粹是为了检查已知包含原始字节或其他值的字符串，这些字节或值在当前本地语言中可能不是字符。
没有必要仅仅因为当前语言的字符集不包含多字节字符而取消设置该选项。
</p>
<p>该选项不会影响 shell 的编辑器，它始终使用本地设置来确定多字节字符。 这是因为终端模拟器显示的字符集与 shell 设置无关。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fNOMATCH"></a>
<a class="index-entry-id" id="index-NONOMATCH"></a>
<a class="index-entry-id" id="index-globbing_002c-Mei-You-Pi-Pei-"></a>
<a id="index-NOMATCH"></a><span><code class="t">NOMATCH</code> (<code class="t">+3</code>) &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-NOMATCH"> &para;</a></span></dt>
<dd><p>如果文件名生成的模式没有匹配项，则打印错误信息，而不是在参数列表中保持不变。 这也适用于起始为 &lsquo;<code class="t">~</code>&rsquo; 或 &lsquo;<code class="t">=</code>&rsquo;的文件扩展。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fNULL_005fGLOB"></a>
<a class="index-entry-id" id="index-NULLGLOB"></a>
<a class="index-entry-id" id="index-NONULLGLOB"></a>
<a class="index-entry-id" id="index-globbing_002c-Mei-You-Pi-Pei--1"></a>
<a id="index-NULL_005fGLOB"></a><span><code class="t">NULL_GLOB</code> (<code class="t">-G</code>)<a class="copiable-link" href="#index-NULL_005fGLOB"> &para;</a></span></dt>
<dd><p>如果文件名生成的模式没有匹配项，则从参数列表中删除该模式，而不是报错。 覆盖 <code class="t">NOMATCH</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fNUMERIC_005fGLOB_005fSORT"></a>
<a class="index-entry-id" id="index-NUMERICGLOBSORT"></a>
<a class="index-entry-id" id="index-NONUMERICGLOBSORT"></a>
<a class="index-entry-id" id="index-globbing_002c-An-Shu-Zhi-Pai-Xu-"></a>
<a id="index-NUMERIC_005fGLOB_005fSORT"></a><span><code class="t">NUMERIC_GLOB_SORT</code><a class="copiable-link" href="#index-NUMERIC_005fGLOB_005fSORT"> &para;</a></span></dt>
<dd><p>如果数字文件名与文件名生成模式相匹配，则按数字而不是按词法对文件名进行排序。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fRC_005fEXPAND_005fPARAM"></a>
<a class="index-entry-id" id="index-RCEXPANDPARAM"></a>
<a class="index-entry-id" id="index-NORCEXPANDPARAM"></a>
<a class="index-entry-id" id="index-rc_002c-Can-Shu-Kuo-Zhan-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Can-Shu-Kuo-Zhan-Feng-Ge-_002c-rc"></a>
<a id="index-RC_005fEXPAND_005fPARAM"></a><span><code class="t">RC_EXPAND_PARAM</code> (<code class="t">-P</code>)<a class="copiable-link" href="#index-RC_005fEXPAND_005fPARAM"> &para;</a></span></dt>
<dd><p>格式为  &lsquo;<var class="var">foo</var><code class="t">${</code><var class="var">xx</var><code class="t">}</code><var class="var">bar</var>&rsquo; 的数组扩展形式（其中参数 <var class="var">xx</var> 被设置为
<code class="t">(</code><var class="var">a b c</var><code class="t">)</code> ）, 将被替换为 &lsquo;<var class="var">fooabar foobbar foocbar</var>&rsquo; ，而不是默认的
&lsquo;<var class="var">fooa b cbar</var>&rsquo;。 请注意，如果数组为空，所有参数都会被移除。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fREMATCH_005fPCRE"></a>
<a class="index-entry-id" id="index-REMATCHPCRE"></a>
<a class="index-entry-id" id="index-NOREMATCHPCRE"></a>
<a class="index-entry-id" id="index-regexp_002c-PCRE"></a>
<a class="index-entry-id" id="index-PCRE_002c-regexp"></a>
<a id="index-REMATCH_005fPCRE"></a><span><code class="t">REMATCH_PCRE</code><a class="copiable-link" href="#index-REMATCH_005fPCRE"> &para;</a></span></dt>
<dd><p>如果设置，使用 <code class="t">=~</code> 操作符匹配的正则表达式将使用 PCRE 库中的 Perl 兼容正则表达式（<code class="t">zsh/pcre</code> 模块必须可用）。
如果未设置，正则表达式将使用系统库提供的扩展 regexp 语法。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSH_005fGLOB"></a>
<a class="index-entry-id" id="index-SHGLOB"></a>
<a class="index-entry-id" id="index-NOSHGLOB"></a>
<a class="index-entry-id" id="index-sh_002c-globbing-Feng-Ge-"></a>
<a class="index-entry-id" id="index-globbing-Feng-Ge-_002c-sh"></a>
<a id="index-SH_005fGLOB"></a><span><code class="t">SH_GLOB</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-SH_005fGLOB"> &para;</a></span></dt>
<dd><p>在参数和命令替换的结果进行通配符匹配（globbing） ，以及其它一些 shell 接受模式的地方，禁用 &lsquo;<code class="t">(</code>&rsquo;, &lsquo;<code class="t">|</code>&rsquo;,
&lsquo;<code class="t">)</code>&rsquo; 和 &rsquo;<code class="t">&lt;</code>&rsquo; 的特殊含义。 如果设置了 <code class="t">SH_GLOB</code>，但未设置 <code class="t">KSH_GLOB</code>，则 shell
允许在某些情况下解释括号中的子 shell 表达式，这些情况下括号前没有空格，例如 <code class="t">!(true)</code> 被解释为 <code class="t">!</code> 后有空格。 如果以
<code class="t">sh</code> 或 <code class="t">ksh</code> 模拟方式调用 zsh，则默认设置该选项。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fUNSET"></a>
<a class="index-entry-id" id="index-NOUNSET"></a>
<a class="index-entry-id" id="index-Can-Shu-_002cYong-Wei-She-Zhi-Dai-Ti-"></a>
<a class="index-entry-id" id="index-Wei-She-Zhi-Can-Shu-_002c-Ti-Huan-"></a>
<a id="index-UNSET"></a><span><code class="t">UNSET</code> (<code class="t">+u</code>, ksh: <code class="t">+u</code>) &lt;K&gt; &lt;S&gt; &lt;Z&gt;<a class="copiable-link" href="#index-UNSET"> &para;</a></span></dt>
<dd><p>在替换参数时，将未设置参数视为空参数；在算术扩展和算术命令中读取参数值时，将未设置参数视为零。 否则将作为错误处理。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fWARN_005fCREATE_005fGLOBAL"></a>
<a class="index-entry-id" id="index-WARNCREATEGLOBAL"></a>
<a class="index-entry-id" id="index-NOWARNCREATEGLOBAL"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Quan-Ju-Chuang-Jian-Shi-Fa-Chu-Jing-Gao-"></a>
<a id="index-WARN_005fCREATE_005fGLOBAL"></a><span><code class="t">WARN_CREATE_GLOBAL</code><a class="copiable-link" href="#index-WARN_005fCREATE_005fGLOBAL"> &para;</a></span></dt>
<dd><p>当函数中通过赋值或 在数学上下文中创建全局参数时，打印警告信息。 这通常表明某个参数本应声明为本地参数，但却未声明。 在函数中使用 <code class="t">typeset
-g</code> 明确声明的全局参数不会导致警告。 需要注意的是，在嵌套函数中赋值给局部参数时也不会发出警告，这也可能表明存在错误。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fWARN_005fNESTED_005fVAR"></a>
<a class="index-entry-id" id="index-WARNNESTEDVAR"></a>
<a class="index-entry-id" id="index-NO_005fWARNNESTEDVAR"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Zai-Bi-He-Zuo-Yong-Yu-ZhongShe-Zhi-Shi-Fa-Chu-Jing-Gao-"></a>
<a id="index-WARN_005fNESTED_005fVAR"></a><span><code class="t">WARN_NESTED_VAR</code><a class="copiable-link" href="#index-WARN_005fNESTED_005fVAR"> &para;</a></span></dt>
<dd><p>在函数中通过赋值或在数学上下文中设置闭合函数作用域或全局的现有参数时，打印警告信息。 对 shell 特殊参数赋值不会引起警告。 这与
<code class="t">WARN_CREATE_GLOBAL</code> 类似，因为在这种情况下，只有在 <em class="emph">没有</em> 创建参数时才会打印警告信息。 在可能的情况下，使用
<code class="t">typeset -g</code> 设置参数可以抑制错误，但需要注意的是，每次设置参数时都需要使用该方式。 要将此选项的作用限制在单个函数作用域内，请使用
&lsquo;<code class="t">functions -W</code>&rsquo;。
</p>
<p>例如，以下代码会对<code class="t">nested</code> 函数内的赋值产生警告，因为该赋值会覆盖 <code class="t">toplevel</code> 内的值
</p>
<div class="example">
<pre class="example-preformatted">toplevel() {
  local foo=&quot;in fn&quot;
  nested
}
nested() {
     foo=&quot;in nested&quot;
}
setopt warn_nested_var
toplevel
</pre></div>

</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Li-Shi-">
<h4 class="subsection"><span>16.2.4 历史<a class="copiable-link" href="#Li-Shi-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fAPPEND_005fHISTORY"></a>
<a class="index-entry-id" id="index-APPENDHISTORY"></a>
<a class="index-entry-id" id="index-NOAPPENDHISTORY"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Zhui-Jia-Dao-WenJian-"></a>
<a id="index-APPEND_005fHISTORY"></a><span><code class="t">APPEND_HISTORY</code> &lt;D&gt;<a class="copiable-link" href="#index-APPEND_005fHISTORY"> &para;</a></span></dt>
<dd><p>如果设置了此项，zsh 会话将会把它们的历史列表追加到历史文件中，而不是替换它。因此，多个并行的 zsh
会话都会按照退出的顺序，将其历史列表中的新条目添加到历史文件中。 当文件行数增长超过 <code class="t">$SAVEHIST</code> 指定值的 20%
时，文件仍会定期重写以进行修剪（另请参阅 <code class="t">HIST_SAVE_BY_COPY</code> 选项）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBANG_005fHIST"></a>
<a class="index-entry-id" id="index-BANGHIST"></a>
<a class="index-entry-id" id="index-NOBANGHIST"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Qi-Yong-Ti-Huan-"></a>
<a class="index-entry-id" id="index-Qi-Yong-Li-Shi-Ti-Huan-"></a>
<a id="index-BANG_005fHIST"></a><span><code class="t">BANG_HIST</code> (<code class="t">+K</code>) &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-BANG_005fHIST"> &para;</a></span></dt>
<dd><p>以 <cite class="cite">csh</cite> 风格执行文本性历史扩展，对字符 &lsquo;<code class="t">!</code>&rsquo; 进行特别处理。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fEXTENDED_005fHISTORY"></a>
<a class="index-entry-id" id="index-EXTENDEDHISTORY"></a>
<a class="index-entry-id" id="index-NOEXTENDEDHISTORY"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Shi-Jian-Chuo-"></a>
<a id="index-EXTENDED_005fHISTORY"></a><span><code class="t">EXTENDED_HISTORY</code> &lt;C&gt;<a class="copiable-link" href="#index-EXTENDED_005fHISTORY"> &para;</a></span></dt>
<dd><p>将每条命令的起始时间戳（以秒为单位，从纪元&lt;epoch&gt;开始）和持续时间（以秒为单位）保存到历史文件中。 这些前缀数据的格式为:
</p>
<p>&lsquo;<code class="t">: </code><var class="var">&lt;beginning time&gt;</var><code class="t">:</code><var class="var">&lt;elapsed
seconds&gt;</var><code class="t">;</code><var class="var">&lt;command&gt;</var>&rsquo;.
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fALLOW_005fCLOBBER"></a>
<a class="index-entry-id" id="index-HISTALLOWCLOBBER"></a>
<a class="index-entry-id" id="index-NOHISTALLOWCLOBBER"></a>
<a id="index-HIST_005fALLOW_005fCLOBBER"></a><span><code class="t">HIST_ALLOW_CLOBBER</code><a class="copiable-link" href="#index-HIST_005fALLOW_005fCLOBBER"> &para;</a></span></dt>
<dd><p>添加 &lsquo;<code class="t">|</code>&rsquo; 以在历史记录中输出重定向。 这样，即使 <code class="t">CLOBBER</code> 未设置，也能引用历史记录中的 clobber
（强制覆盖？重定向？）文件。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fBEEP"></a>
<a class="index-entry-id" id="index-HISTBEEP"></a>
<a class="index-entry-id" id="index-NOHISTBEEP"></a>
<a class="index-entry-id" id="index-history-beeping"></a>
<a class="index-entry-id" id="index-Feng-Ming-_002c-Li-Shi-"></a>
<a id="index-HIST_005fBEEP"></a><span><code class="t">HIST_BEEP</code> &lt;D&gt;<a class="copiable-link" href="#index-HIST_005fBEEP"> &para;</a></span></dt>
<dd><p>当小部件试图访问不存在的历史条目时，在 ZLE 中发出提示音。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fEXPIRE_005fDUPS_005fFIRST"></a>
<a class="index-entry-id" id="index-HISTEXPIREDUPSFIRST"></a>
<a class="index-entry-id" id="index-NOHISTEXPIREDUPSFIRST"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Ji-Jiang-Dao-Qi-De-Fu-Ben-"></a>
<a id="index-HIST_005fEXPIRE_005fDUPS_005fFIRST"></a><span><code class="t">HIST_EXPIRE_DUPS_FIRST</code><a class="copiable-link" href="#index-HIST_005fEXPIRE_005fDUPS_005fFIRST"> &para;</a></span></dt>
<dd><p>如果需要对内部历史记录进行修剪以添加当前命令行，则在丢失列表中的唯一事件之前，设置此选项将导致丢失有重复记录的最旧的历史事件。 请确保
<code class="t">HISTSIZE</code> 的值大于 <code class="t">SAVEHIST</code> 的值，以便为重复事件留出一定的空间，否则一旦历史记录被唯一事件填满，该选项的作用就和
<code class="t">HIST_IGNORE_ALL_DUPS</code> 一样了。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fFCNTL_005fLOCK"></a>
<a class="index-entry-id" id="index-HISTFCNTLLOCK"></a>
<a class="index-entry-id" id="index-NOHISTFCNTLLOCK"></a>
<a id="index-HIST_005fFCNTL_005fLOCK"></a><span><code class="t">HIST_FCNTL_LOCK</code><a class="copiable-link" href="#index-HIST_005fFCNTL_005fLOCK"> &para;</a></span></dt>
<dd><p>在写出历史文件时，zsh 默认使用临时（ad-hoc)文件锁定，以避免在某些操作系统上出现已知的锁定问题。 使用该选项时，锁定是通过系统的
<code class="t">fcntl</code> 调用（如果该方法可用）来完成的。 在最新的操作系统上，这可能会提供更好的性能，尤其是当文件存储在 NFS 上时，可以避免历史损坏。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fFIND_005fNO_005fDUPS"></a>
<a class="index-entry-id" id="index-HISTFINDNODUPS"></a>
<a class="index-entry-id" id="index-NOHISTFINDNODUPS"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Sou-Suo-ZhongHu-Lue-Zhong-Fu-"></a>
<a id="index-HIST_005fFIND_005fNO_005fDUPS"></a><span><code class="t">HIST_FIND_NO_DUPS</code><a class="copiable-link" href="#index-HIST_005fFIND_005fNO_005fDUPS"> &para;</a></span></dt>
<dd><p>在行编辑器中搜索历史条目时，不要显示与之前找到的行重复的内容，即使重复的内容并不连续。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fIGNORE_005fALL_005fDUPS"></a>
<a class="index-entry-id" id="index-HISTIGNOREALLDUPS"></a>
<a class="index-entry-id" id="index-NOHISTIGNOREALLDUPS"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Hu-Lue-Suo-You-Zhong-Fu-"></a>
<a id="index-HIST_005fIGNORE_005fALL_005fDUPS"></a><span><code class="t">HIST_IGNORE_ALL_DUPS</code><a class="copiable-link" href="#index-HIST_005fIGNORE_005fALL_005fDUPS"> &para;</a></span></dt>
<dd><p>如果添加到历史记录列表中的新命令行与旧命令行重复，旧命令行将从列表中删除（即使它不是上一个事件）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fIGNORE_005fDUPS"></a>
<a class="index-entry-id" id="index-HISTIGNOREDUPS"></a>
<a class="index-entry-id" id="index-NOHISTIGNOREDUPS"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Hu-Lue-Zhong-Fu-"></a>
<a id="index-HIST_005fIGNORE_005fDUPS"></a><span><code class="t">HIST_IGNORE_DUPS</code> (<code class="t">-h</code>)<a class="copiable-link" href="#index-HIST_005fIGNORE_005fDUPS"> &para;</a></span></dt>
<dd><p>如果命令行与前一个事件重复，不将其输入历史记录列表。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fIGNORE_005fSPACE"></a>
<a class="index-entry-id" id="index-HISTIGNORESPACE"></a>
<a class="index-entry-id" id="index-NOHISTIGNORESPACE"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Hu-Lue-Kong-Ge-"></a>
<a id="index-HIST_005fIGNORE_005fSPACE"></a><span><code class="t">HIST_IGNORE_SPACE</code> (<code class="t">-g</code>)<a class="copiable-link" href="#index-HIST_005fIGNORE_005fSPACE"> &para;</a></span></dt>
<dd><p>当命令行的第一个字符是空格，或扩展后的别名之一包含前导空格时，从历史记录列表中删除命令行。 只有普通别名（不是全局别名或后缀别名）才有这种行为。
需要注意的是，该命令会在内部历史记录中停留，直到输入下一条命令后才会消失，因此可以短暂重用或编辑该行。
如果想在不输入其他命令的情况下让该命令立即消失，请键入空格并按回车键。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fLEX_005fWORDS"></a>
<a class="index-entry-id" id="index-HISTLEXWORDS"></a>
<a class="index-entry-id" id="index-NOHISTLEXWORDS"></a>
<a id="index-HIST_005fLEX_005fWORDS"></a><span><code class="t">HIST_LEX_WORDS</code><a class="copiable-link" href="#index-HIST_005fLEX_005fWORDS"> &para;</a></span></dt>
<dd><p>默认情况下，从文件读入的 shell 历史记录会在所有空白处分割成单词。
这意味着有带引号的空白的参数不会被正确处理，结果是从文件读入的历史行中的单词引用可能会不准确。 设置该选项后，从历史文件读入的单词将以类似于正常
shell 命令行处理的方式分割。 虽然这样分隔的字词更准确，但如果历史文件很大，分隔速度可能会很慢。 这需要反复试验才能决定。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fNO_005fFUNCTIONS"></a>
<a class="index-entry-id" id="index-HISTNOFUNCTIONS"></a>
<a class="index-entry-id" id="index-NOHISTNOFUNCTIONS"></a>
<a id="index-HIST_005fNO_005fFUNCTIONS"></a><span><code class="t">HIST_NO_FUNCTIONS</code><a class="copiable-link" href="#index-HIST_005fNO_005fFUNCTIONS"> &para;</a></span></dt>
<dd><p>从历史记录列表中删除函数定义。 请注意，该函数会一直保留在内部历史记录中，直到输入下一条命令后才会消失，因此您可以短暂重用或编辑该定义。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fNO_005fSTORE"></a>
<a class="index-entry-id" id="index-HISTNOSTORE"></a>
<a class="index-entry-id" id="index-NOHISTNOSTORE"></a>
<a id="index-HIST_005fNO_005fSTORE"></a><span><code class="t">HIST_NO_STORE</code><a class="copiable-link" href="#index-HIST_005fNO_005fSTORE"> &para;</a></span></dt>
<dd><p>从历史记录列表中移除 <code class="t">history</code> （<code class="t">fc -l</code>）命令。(<code class="t">fc -l</code>)命令。
请注意，该命令会一直保留在内部历史记录中，直到输入下一条命令后才会消失，因此您可以短暂重用或编辑该行。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fREDUCE_005fBLANKS"></a>
<a class="index-entry-id" id="index-HISTREDUCEBLANKS"></a>
<a class="index-entry-id" id="index-NOHISTREDUCEBLANKS"></a>
<a id="index-HIST_005fREDUCE_005fBLANKS"></a><span><code class="t">HIST_REDUCE_BLANKS</code><a class="copiable-link" href="#index-HIST_005fREDUCE_005fBLANKS"> &para;</a></span></dt>
<dd><p>删除添加到历史记录列表的每行命令中多余的空白。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fSAVE_005fBY_005fCOPY"></a>
<a class="index-entry-id" id="index-HISTSAVEBYCOPY"></a>
<a class="index-entry-id" id="index-NOHISTSAVEBYCOPY"></a>
<a id="index-HIST_005fSAVE_005fBY_005fCOPY"></a><span><code class="t">HIST_SAVE_BY_COPY</code> &lt;D&gt;<a class="copiable-link" href="#index-HIST_005fSAVE_005fBY_005fCOPY"> &para;</a></span></dt>
<dd><p>重写历史文件时，我们通常会写出一个名为 <code class="t">$HISTFILE.new</code> 的文件副本，然后将其重命名为旧版本。
但如果未设置该选项，我们就会截断旧的历史文件，然后就地写出新版本。
如果启用了其中一个历史附加选项，那么只有在需要重新写入扩大的历史文件以缩小其大小时，该选项才会起作用。
只有在有特殊需要时才禁用此选项，因为这样做如果在保存过程中 zsh 被中断，则可能会丢失历史条目。
</p>
<p>在写出历史文件副本时，zsh 会保留旧文件的权限和组信息，但如果会更改历史文件的所有者，则会拒绝写出新文件。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fSAVE_005fNO_005fDUPS"></a>
<a class="index-entry-id" id="index-HISTSAVENODUPS"></a>
<a class="index-entry-id" id="index-NOHISTSAVENODUPS"></a>
<a id="index-HIST_005fSAVE_005fNO_005fDUPS"></a><span><code class="t">HIST_SAVE_NO_DUPS</code><a class="copiable-link" href="#index-HIST_005fSAVE_005fNO_005fDUPS"> &para;</a></span></dt>
<dd><p>在写出历史文件时，会省略与新命令重复的旧命令。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fVERIFY"></a>
<a class="index-entry-id" id="index-HISTVERIFY"></a>
<a class="index-entry-id" id="index-NOHISTVERIFY"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Yan-Zheng-Ti-Huan-"></a>
<a id="index-HIST_005fVERIFY"></a><span><code class="t">HIST_VERIFY</code><a class="copiable-link" href="#index-HIST_005fVERIFY"> &para;</a></span></dt>
<dd><p>每当用户输入带有历史扩展的行时，不要直接执行该行，而是执行历史扩展并将该行重新载入编辑缓冲区。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fINC_005fAPPEND_005fHISTORY"></a>
<a class="index-entry-id" id="index-INCAPPENDHISTORY"></a>
<a class="index-entry-id" id="index-NOINCAPPENDHISTORY"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Zeng-Liang-Zhui-Jia-Dao-WenJian-"></a>
<a id="index-INC_005fAPPEND_005fHISTORY"></a><span><code class="t">INC_APPEND_HISTORY</code><a class="copiable-link" href="#index-INC_005fAPPEND_005fHISTORY"> &para;</a></span></dt>
<dd><p>此选项的作用与 <code class="t">APPEND_HISTORY</code> 类似，只是新的历史行会以增量方式添加到 <code class="t">$HISTFILE</code> 中（一旦输入），而不是等到
shell 退出。 当文件行数增长超过 <code class="t">$SAVEHIST</code> 指定值的 20% 时，仍会定期重写文件以修剪行数（参见
<code class="t">HIST_SAVE_BY_COPY</code> 选项）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fINC_005fAPPEND_005fHISTORY_005fTIME"></a>
<a class="index-entry-id" id="index-INCAPPENDHISTORYTIME"></a>
<a class="index-entry-id" id="index-NOINCAPPENDHISTORYTIME"></a>
<a class="index-entry-id" id="index-Li-Shi-Ji-Lu-_002cDui-WenJian-Jin-Xing-Zeng-Liang-Zhui-Jia-_0028Fu-Jia-Shi-Jian-_0029"></a>
<a id="index-INC_005fAPPEND_005fHISTORY_005fTIME"></a><span><code class="t">INC_APPEND_HISTORY_TIME</code><a class="copiable-link" href="#index-INC_005fAPPEND_005fHISTORY_005fTIME"> &para;</a></span></dt>
<dd><p>该选项是 <code class="t">INC_APPEND_HISTORY</code> 的一个变体，在可能的情况下，历史条目会在命令执行完毕后写出到文件，这样命令所花费的时间就会以
<code class="t">EXTENDED_HISTORY</code> 的格式被正确地记录在历史文件中。 这意味着使用同一历史文件的其他 shell 实例无法立即获得该历史条目。
</p>
<p>该选项只有在 <code class="t">INC_APPEND_HISTORY</code> 和 <code class="t">SHARE_HISTORY</code> 关闭时才有用。 这三个选项应视为相互排斥。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSHARE_005fHISTORY"></a>
<a class="index-entry-id" id="index-SHAREHISTORY"></a>
<a class="index-entry-id" id="index-NOSHAREHISTORY"></a>
<a class="index-entry-id" id="index-Gong-Xiang-Li-Shi-Ji-Lu-"></a>
<a class="index-entry-id" id="index-Li-Shi-Ji-Lu-_002c-Gong-Xiang-"></a>
<a id="index-SHARE_005fHISTORY"></a><span><code class="t">SHARE_HISTORY</code> &lt;K&gt;<a class="copiable-link" href="#index-SHARE_005fHISTORY"> &para;</a></span></dt>
<dd>
<p>该选项既可以从历史文件中导入新命令，也可以将输入的命令添加到历史文件中（后者就像指定
<code class="t">INC_APPEND_HISTORY</code>，如果使用该选项，则应关闭 <code class="t">INC_APPEND_HISTORY</code>选项）。
历史记录行还会输出时间戳，如 <code class="t">EXTENDED_HISTORY</code>（这样就能在重写文件后更容易地找到我们停止读取文件的位置）。
</p>
<p>默认情况下，历史移动命令会同时访问导入的行和本地的行，但你可以使用 set-local-history zle 绑定打开或关闭这一功能。 也可以创建一个
zle 小部件，让某些命令忽略导入的命令，而另一些命令则包含导入的命令。
</p>
<p>如果你想对命令的导入时间有更多控制，不妨关闭 <code class="t">SHARE_HISTORY</code>、打开<code class="t">INC_APPPEND_HISTORY</code> 或
<code class="t">INC_APPPEND_HISTORY_TIME</code>（见上文），然后在需要时使用 &lsquo;<code class="t">fc -RI</code>&rsquo; 手动导入命令。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Chu-Shi-She-Zhi-">
<h4 class="subsection"><span>16.2.5 初始设置<a class="copiable-link" href="#Chu-Shi-She-Zhi-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fALL_005fEXPORT"></a>
<a class="index-entry-id" id="index-ALLEXPORT"></a>
<a class="index-entry-id" id="index-NOALLEXPORT"></a>
<a class="index-entry-id" id="index-Dao-Chu-_002c-Zi-Dong-"></a>
<a id="index-ALL_005fEXPORT"></a><span><code class="t">ALL_EXPORT</code> (<code class="t">-a</code>, ksh: <code class="t">-a</code>)<a class="copiable-link" href="#index-ALL_005fEXPORT"> &para;</a></span></dt>
<dd><p>随后定义的所有参数都会自动导出。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fGLOBAL_005fEXPORT"></a>
<a class="index-entry-id" id="index-GLOBALEXPORT"></a>
<a class="index-entry-id" id="index-NOGLOBALEXPORT"></a>
<a class="index-entry-id" id="index-Huan-Jing-_002c-He-Ben-Di-Can-Shu-"></a>
<a id="index-GLOBAL_005fEXPORT"></a><span><code class="t">GLOBAL_EXPORT</code> &lt;Z&gt;<a class="copiable-link" href="#index-GLOBAL_005fEXPORT"> &para;</a></span></dt>
<dd><p>如果设置了该选项，向内置函数 <code class="t">declare</code>、<code class="t">float</code>、<code class="t">integer</code>、<code class="t">readonly</code> 和
<code class="t">typeset</code>（但不包括 <code class="t">local</code>）传递 <code class="t">-x</code> 标志时，也会设置 <code class="t">-g</code>
标志；因此，导出到环境中的参数将不会在封闭（enclosing）函数中本地化，除非这些参数已经本地化或明确给出了 <code class="t">+g</code> 标志。
如果未设置该选项，导出参数将与其他参数一样被本地化。
</p>
<p>默认设置该选项是为了向后兼容；不建议依赖其行为。 请注意，内置的 <code class="t">export</code> 总是同时设置 <code class="t">-x</code> 和 <code class="t">-g</code>
标志，因此其作用超出了封闭函数的范围；这是实现这一行为的最便携（portable）的方法。
</p>
</dd>
<dt><a class="index-entry-id" id="index-GLOBAL_005fRCS"></a>
<a class="index-entry-id" id="index-NO_005fGLOBAL_005fRCS"></a>
<a class="index-entry-id" id="index-GLOBALRCS"></a>
<a class="index-entry-id" id="index-NOGLOBALRCS"></a>
<a class="index-entry-id" id="index-Qi-Dong-WenJian-_002c-Quan-Ju-_002c-Yi-Zhi-"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Quan-Ju-Qi-Dong-_002c-Yi-Zhi-"></a>
<a id="index-Dao-Chu-_002c-He-Ben-Di-Can-Shu-"></a><span><code class="t">GLOBAL_RCS</code> (<code class="t">+d</code>) &lt;D&gt;<a class="copiable-link" href="#index-Dao-Chu-_002c-He-Ben-Di-Can-Shu-"> &para;</a></span></dt>
<dd><p>如果未设置该选项，则不会运行启动文件 <code class="t">/etc/zprofile</code>、<code class="t">/etc/zshrc</code>、<code class="t">/etc/zlogin</code> 和
<code class="t">/etc/zlogout</code>。 可以随时禁用和重新启用，包括在本地启动文件（<code class="t">.zshrc</code>等）中禁用和重新启用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fRCS"></a>
<a class="index-entry-id" id="index-NORCS"></a>
<a class="index-entry-id" id="index-Qi-Dong-WenJian-_002c-Yin-Ru-"></a>
<a id="index-RCS"></a><span><code class="t">RCS</code> (<code class="t">+f</code>) &lt;D&gt;<a class="copiable-link" href="#index-RCS"> &para;</a></span></dt>
<dd><p>启动时引入（sourced） <code class="t">/etc/zshenv</code>后，将按照 <a class="ref" href="#g_t_6587_4ef6">文件</a> 中的说明，引入
<code class="t">.zshenv</code>、<code class="t">/etc/zprofile</code>、<code class="t">.zprofile</code>、<code class="t">/etc/zshrc</code>、<code class="t">.zshrc</code>、<code class="t">/etc/zlogin</code>、<code class="t">.zlogin</code>
和 <code class="t">.zlogout</code> 文件。 如果未设置该选项，<code class="t">/etc/zshenv</code>
文件仍会被引入，但其他文件将不会被引入；也可随时设置该选项，以防止当前执行文件之后的其他启动文件被引入。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shu-Ru-_002fShu-Chu-">
<h4 class="subsection"><span>16.2.6 输入/输出<a class="copiable-link" href="#Shu-Ru-_002fShu-Chu-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fALIASES"></a>
<a class="index-entry-id" id="index-NOALIASES"></a>
<a class="index-entry-id" id="index-Bie-Ming-_002c-Kuo-Zhan-"></a>
<a id="index-ALIASES"></a><span><code class="t">ALIASES</code> &lt;D&gt;<a class="copiable-link" href="#index-ALIASES"> &para;</a></span></dt>
<dd><p>扩展别名。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCLOBBER"></a>
<a class="index-entry-id" id="index-NOCLOBBER"></a>
<a class="index-entry-id" id="index-clobbering_002c-WenJian-"></a>
<a class="index-entry-id" id="index-WenJian-clobbering_002c-Yun-Xu-"></a>
<a id="index-CLOBBER"></a><span><code class="t">CLOBBER</code> (<code class="t">+C</code>, ksh: <code class="t">+C</code>) &lt;D&gt;<a class="copiable-link" href="#index-CLOBBER"> &para;</a></span></dt>
<dd><p>允许使用 &lsquo;<code class="t">&gt;</code>&rsquo; 重定向来截断现有文件。 否则，必须使用 &lsquo;<code class="t">&gt;!</code>&rsquo; 或 &lsquo;<code class="t">&gt;|</code>&rsquo; 来截断文件。
</p>
<p>如果未设置该选项，且选项 <code class="t">APPEND_CREATE</code> 也未设置，则必须使用 &lsquo;<code class="t">&gt;&gt;!</code>&rsquo; 或 &lsquo;<code class="t">&gt;&gt;|</code>&rsquo; 来创建文件。
如果设置了其中一个选项，则可以使用 &lsquo;<code class="t">&gt;&gt;</code>&rsquo; 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCLOBBER_005fEMPTY"></a>
<a class="index-entry-id" id="index-CLOBBEREMPTY"></a>
<a class="index-entry-id" id="index-NOCLOBBEREMPTY"></a>
<a class="index-entry-id" id="index-clobbering_002c-Kong-WenJian-"></a>
<a class="index-entry-id" id="index-WenJian-clobbering_002c-Kong-WenJian-"></a>
<a id="index-CLOBBER_005fEMPTY"></a><span><code class="t">CLOBBER_EMPTY</code><a class="copiable-link" href="#index-CLOBBER_005fEMPTY"> &para;</a></span></dt>
<dd><p>只有在未设置 <code class="t">CLOBBER</code> 选项时，才会使用该选项：注意，默认情况下是设置该选项的。
</p>
<p>如果设置了该选项，那么长度为零的常规文件可能会被改写（&lsquo;clobbered&rsquo;）。
需要注意的是，在本次测试和当前进程使用该文件两个时间之间，可能会有另一个进程写入该文件。 因此，如果要被 &lsquo;clobbered&rsquo;
的文件可能被异步写入，则不应使用此选项。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCORRECT"></a>
<a class="index-entry-id" id="index-NOCORRECT"></a>
<a class="index-entry-id" id="index-Geng-Zheng-_002c-Pin-Xie-"></a>
<a class="index-entry-id" id="index-Pin-Xie-Geng-Zheng-"></a>
<a id="index-CORRECT"></a><span><code class="t">CORRECT</code> (<code class="t">-0</code>)<a class="copiable-link" href="#index-CORRECT"> &para;</a></span></dt>
<dd><p>尝试纠正命令的拼写错误。 请注意，如果未设置 <code class="t">HASH_LIST_ALL</code>
选项，或路径中的某些目录不可读，在首次使用某些命令时，可能会错误地报告拼写错误。
</p>
<p>shell 变量 <code class="t">CORRECT_IGNORE</code> 可以设置为一个模式，以匹配永远不会作为更正提供的词语。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCORRECT_005fALL"></a>
<a class="index-entry-id" id="index-CORRECTALL"></a>
<a class="index-entry-id" id="index-NOCORRECTALL"></a>
<a id="index-CORRECT_005fALL"></a><span><code class="t">CORRECT_ALL</code> (<code class="t">-O</code>)<a class="copiable-link" href="#index-CORRECT_005fALL"> &para;</a></span></dt>
<dd><p>尝试纠正一行中所有参数的拼写。
</p>
<p>shell 变量 <code class="t">CORRECT_IGNORE_FILE</code> 可以设置为一个模式，以匹配永远不会作为更正提供的文件名。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fDVORAK"></a>
<a class="index-entry-id" id="index-NODVORAK"></a>
<a id="index-DVORAK"></a><span><code class="t">DVORAK</code><a class="copiable-link" href="#index-DVORAK"> &para;</a></span></dt>
<dd><p>为 <code class="t">CORRECT</code> 和 <code class="t">CORRECT_ALL</code> 选项以及 <code class="t">spell-word</code> 编辑器命令，使用 Dvorak 键盘而非标准
qwerty 键盘来检查拼写错误。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fFLOW_005fCONTROL"></a>
<a class="index-entry-id" id="index-FLOWCONTROL"></a>
<a class="index-entry-id" id="index-NOFLOWCONTROL"></a>
<a class="index-entry-id" id="index-Liu-Kong-Zhi-"></a>
<a id="index-FLOW_005fCONTROL"></a><span><code class="t">FLOW_CONTROL</code> &lt;D&gt;<a class="copiable-link" href="#index-FLOW_005fCONTROL"> &para;</a></span></dt>
<dd><p>如果未设置该选项，则 shell 编辑器中通过开始/停止字符（通常分配给 ^S/^Q）进行的输出流控制将被禁用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fIGNORE_005fEOF"></a>
<a class="index-entry-id" id="index-IGNOREEOF"></a>
<a class="index-entry-id" id="index-NOIGNOREEOF"></a>
<a class="index-entry-id" id="index-EOF_002c-Hu-Lue-"></a>
<a id="index-IGNORE_005fEOF"></a><span><code class="t">IGNORE_EOF</code> (<code class="t">-7</code>)<a class="copiable-link" href="#index-IGNORE_005fEOF"> &para;</a></span></dt>
<dd><p>文件结束（end-of-file)时不退出。 要求使用 <code class="t">exit</code> 或 <code class="t">logout</code> 代替。 不过，连续十次 EOF 还是会导致
shell 退出，以避免在 tty 消失时 shell 挂起。
</p>
<p>此外，如果设置了该选项并使用 Zsh 行编辑器，由 shell 函数实现的小部件可以绑定到 EOF（通常为
Control-D），而不会打印正常的警告信息。 这只适用于普通小部件，不适用于补全小部件。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fINTERACTIVE_005fCOMMENTS"></a>
<a class="index-entry-id" id="index-INTERACTIVECOMMENTS"></a>
<a class="index-entry-id" id="index-NOINTERACTIVECOMMENTS"></a>
<a class="index-entry-id" id="index-Zhu-Shi-_002c-Zai-Jiao-Hu-shell-Zhong"></a>
<a id="index-INTERACTIVE_005fCOMMENTS"></a><span><code class="t">INTERACTIVE_COMMENTS</code> (<code class="t">-k</code>) &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-INTERACTIVE_005fCOMMENTS"> &para;</a></span></dt>
<dd><p>即使在交互式 shell 中也允许注释。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHASH_005fCMDS"></a>
<a class="index-entry-id" id="index-HASHCMDS"></a>
<a class="index-entry-id" id="index-NOHASHCMDS"></a>
<a class="index-entry-id" id="index-Ha-Xi-_002c-Ming-Ling-De-"></a>
<a class="index-entry-id" id="index-Ming-Ling-Ha-Xi-"></a>
<a id="index-HASH_005fCMDS"></a><span><code class="t">HASH_CMDS</code> &lt;D&gt;<a class="copiable-link" href="#index-HASH_005fCMDS"> &para;</a></span></dt>
<dd><p>首次执行每条命令时，请注意其位置。 以后调用同一命令时将使用保存的位置，避免路径搜索。 如果未设置该选项，则根本不会进行路径散列。 不过，如果设置了
<code class="t">CORRECT</code>，则会对名称未出现在函数或别名哈希表中的命令进行哈希处理，以避免将其报告为拼写错误。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHASH_005fDIRS"></a>
<a class="index-entry-id" id="index-HASHDIRS"></a>
<a class="index-entry-id" id="index-NOHASHDIRS"></a>
<a class="index-entry-id" id="index-Ha-Xi-_002c-Mu-Lu-De-"></a>
<a class="index-entry-id" id="index-Mu-Lu-_002c-Ha-Xi-"></a>
<a id="index-HASH_005fDIRS"></a><span><code class="t">HASH_DIRS</code> &lt;D&gt;<a class="copiable-link" href="#index-HASH_005fDIRS"> &para;</a></span></dt>
<dd><p>每当对命令名进行散列时，都会对包含该命令名的目录以及路径中前面出现的所有目录进行散列。 如果未设置 <code class="t">HASH_CMDS</code> 和
<code class="t">CORRECT</code>，则不会产生任何影响。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHASH_005fEXECUTABLES_005fONLY"></a>
<a class="index-entry-id" id="index-HASHEXECUTABLESONLY"></a>
<a class="index-entry-id" id="index-NOHASHEXECUTABLESONLY"></a>
<a class="index-entry-id" id="index-Ha-Xi-_002c-Ke-Zhi-Xing-De-"></a>
<a class="index-entry-id" id="index-Ke-Zhi-Xing-De-_002c-Ha-Xi-"></a>
<a id="index-HASH_005fEXECUTABLES_005fONLY"></a><span><code class="t">HASH_EXECUTABLES_ONLY</code><a class="copiable-link" href="#index-HASH_005fEXECUTABLES_005fONLY"> &para;</a></span></dt>
<dd><p>当因为 <code class="t">HASH_CMDS</code> 对命令进行散列时，请检查要散列的文件是否为可执行文件。
默认情况下未设置此选项，因为如果路径包含大量命令，或由许多远程文件组成，额外的测试可能会花费很长时间。 该选项是否有用，还需要反复试验。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMAIL_005fWARNING"></a>
<a class="index-entry-id" id="index-MAILWARNING"></a>
<a class="index-entry-id" id="index-NOMAILWARNING"></a>
<a class="index-entry-id" id="index-You-Jian-_002c-Du-Jing-Gao-"></a>
<a id="index-MAIL_005fWARNING"></a><span><code class="t">MAIL_WARNING</code> (<code class="t">-U</code>)<a class="copiable-link" href="#index-MAIL_005fWARNING"> &para;</a></span></dt>
<dd><p>如果自 shell 上次检查以来有人访问过邮件文件，则打印警告信息。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPATH_005fDIRS"></a>
<a class="index-entry-id" id="index-PATHDIRS"></a>
<a class="index-entry-id" id="index-NOPATHDIRS"></a>
<a class="index-entry-id" id="index-Lu-Jing-Sou-Suo-_002c-Kuo-Zhan-De-"></a>
<a id="index-PATH_005fDIRS"></a><span><code class="t">PATH_DIRS</code> (<code class="t">-Q</code>)<a class="copiable-link" href="#index-PATH_005fDIRS"> &para;</a></span></dt>
<dd><p>即使命令名称中包含斜线，也会执行路径搜索。 因此，如果用户的路径中存在 &lsquo;<code class="t">/usr/local/bin</code>&rsquo; ，而用户输入了
&lsquo;<code class="t">X11/xinit</code>&rsquo; ，则将执行 &lsquo;<code class="t">/usr/local/bin/X11/xinit</code>&rsquo; 命令（假设它存在）。 明确以 &lsquo;<code class="t">/</code>&rsquo;,
&lsquo;<code class="t">./</code>&rsquo; 或 &lsquo;<code class="t">../</code>&rsquo; 开头的命令不受路径搜索的影响。 这也适用于 &lsquo;<code class="t">.</code>&rsquo; 和 <code class="t">source</code> 内置程序。
</p>
<p>请注意，以这种形式指定的可执行文件总是搜索当前目录下的子目录。 该搜索会在本选项指定的任何搜索之前进行,无论命令搜索路径中是否出现 &lsquo;<code class="t">.</code>&rsquo;
或当前目录，。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPATH_005fSCRIPT"></a>
<a class="index-entry-id" id="index-PATHSCRIPT"></a>
<a class="index-entry-id" id="index-NOPATHSCRIPT"></a>
<a class="index-entry-id" id="index-Lu-Jing-Sou-Suo-_002c-shell-De-Jiao-Ben-Can-Shu-"></a>
<a id="index-PATH_005fSCRIPT"></a><span><code class="t">PATH_SCRIPT</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-PATH_005fSCRIPT"> &para;</a></span></dt>
<dd><p>如果未设置此选项，作为第一个非选项参数传递给 shell 的脚本必须包含要打开的文件名。
如果设置了此选项，且脚本未指定目录路径，则首先在当前目录下查找脚本，然后在命令路径下查找。 参见 <a class="ref" href="#g_t_8c03_7528">调用</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPRINT_005fEIGHT_005fBIT"></a>
<a class="index-entry-id" id="index-PRINTEIGHTBIT"></a>
<a class="index-entry-id" id="index-NOPRINTEIGHTBIT"></a>
<a class="index-entry-id" id="index-8-bit-Zi-Fu-_002c-Da-Yin-"></a>
<a id="index-PRINT_005fEIGHT_005fBIT"></a><span><code class="t">PRINT_EIGHT_BIT</code><a class="copiable-link" href="#index-PRINT_005fEIGHT_005fBIT"> &para;</a></span></dt>
<dd><p>在补全列表等中按字面打印八位字符。 如果系统能正确返回八位字符的可打印性（参见 ctype(3)），则不需要使用该选项。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPRINT_005fEXIT_005fVALUE"></a>
<a class="index-entry-id" id="index-PRINTEXITVALUE"></a>
<a class="index-entry-id" id="index-NOPRINTEXITVALUE"></a>
<a class="index-entry-id" id="index-Tui-Chu-Zhuang-Tai-_002c-Da-Yin-"></a>
<a id="index-PRINT_005fEXIT_005fVALUE"></a><span><code class="t">PRINT_EXIT_VALUE</code> (<code class="t">-1</code>)<a class="copiable-link" href="#index-PRINT_005fEXIT_005fVALUE"> &para;</a></span></dt>
<dd><p>打印退出状态为非零的程序的退出值。 这只有在交互式 shell 的命令行中才能使用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fRC_005fQUOTES"></a>
<a class="index-entry-id" id="index-RCQUOTES"></a>
<a class="index-entry-id" id="index-NORCQUOTES"></a>
<a class="index-entry-id" id="index-rc_002c-Yin-Hao-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Yin-Hao-Feng-Ge-_002c-rc"></a>
<a id="index-RC_005fQUOTES"></a><span><code class="t">RC_QUOTES</code><a class="copiable-link" href="#index-RC_005fQUOTES"> &para;</a></span></dt>
<dd><p>允许使用字符序列 &lsquo;<code class="t">''</code>&rsquo; 表示单引号字符串中的单引号。 请注意，这不适用于使用 <code class="t">$'</code><var class="var">...</var><code class="t">'</code>
格式的带引号字符串，在这种字符串中可以使用反斜线单引号。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fRM_005fSTAR_005fSILENT"></a>
<a class="index-entry-id" id="index-RMSTARSILENT"></a>
<a class="index-entry-id" id="index-NORMSTARSILENT"></a>
<a class="index-entry-id" id="index-rm-_002a_002c-Zhi-Qian-Xun-Wen-"></a>
<a class="index-entry-id" id="index-rm-_002a-Zhi-Qian-Xun-Wen-"></a>
<a id="index-RM_005fSTAR_005fSILENT"></a><span><code class="t">RM_STAR_SILENT</code> (<code class="t">-H</code>) &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-RM_005fSTAR_005fSILENT"> &para;</a></span></dt>
<dd><p>在执行 &lsquo;<code class="t">rm *</code>&rsquo; 或 &lsquo;<code class="t">rm path/*</code>&rsquo; 之前不要查询用户。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fRM_005fSTAR_005fWAIT"></a>
<a class="index-entry-id" id="index-RMSTARWAIT"></a>
<a class="index-entry-id" id="index-NORMSTARWAIT"></a>
<a class="index-entry-id" id="index-rm-_002a_002c-Zhi-Qian-Deng-Dai-"></a>
<a class="index-entry-id" id="index-rm-_002a-Zhi-Qian-Deng-Dai-"></a>
<a id="index-RM_005fSTAR_005fWAIT"></a><span><code class="t">RM_STAR_WAIT</code><a class="copiable-link" href="#index-RM_005fSTAR_005fWAIT"> &para;</a></span></dt>
<dd><p>如果在执行 &lsquo;<code class="t">rm *</code>&rsquo; 或 &lsquo;<code class="t">rm path/*</code>&rsquo; 之前询问用户，则首先等待十秒钟，并忽略在此期间输入的任何内容。
这就避免了在并非真心实意的情况下条件反射地回答 &lsquo;是 &rsquo; 的问题。 通过在 ZLE 中扩展 &lsquo;<code class="t">*</code>&rsquo; （使用制表符），可以避免等待和查询。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSHORT_005fLOOPS"></a>
<a class="index-entry-id" id="index-SHORTLOOPS"></a>
<a class="index-entry-id" id="index-NOSHORTLOOPS"></a>
<a id="index-SHORT_005fLOOPS"></a><span><code class="t">SHORT_LOOPS</code> &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-SHORT_005fLOOPS"> &para;</a></span></dt>
<dd><p>允许 <code class="t">for</code>, <code class="t">repeat</code>, <code class="t">select</code>, <code class="t">if</code>, 和 <code class="t">function</code> 构造的简短形式.
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSHORT_005fREPEAT"></a>
<a class="index-entry-id" id="index-SHORTREPEAT"></a>
<a class="index-entry-id" id="index-NOSHORTREPEAT"></a>
<a id="index-SHORT_005fREPEAT"></a><span><code class="t">SHORT_REPEAT</code><a class="copiable-link" href="#index-SHORT_005fREPEAT"> &para;</a></span></dt>
<dd><p>像 <code class="t">SHORT_LOOPS</code> 一样允许使用简短形式 <code class="t">repeat</code>，但不在其他结构式中启用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSUN_005fKEYBOARD_005fHACK"></a>
<a class="index-entry-id" id="index-SUNKEYBOARDHACK"></a>
<a class="index-entry-id" id="index-NOSUNKEYBOARDHACK"></a>
<a class="index-entry-id" id="index-sun-Jian-Pan-_002c-Fan-Ren-De-"></a>
<a class="index-entry-id" id="index-Fan-Ren-De-Jian-Pan-_002c-sun"></a>
<a id="index-SUN_005fKEYBOARD_005fHACK"></a><span><code class="t">SUN_KEYBOARD_HACK</code> (<code class="t">-L</code>)<a class="copiable-link" href="#index-SUN_005fKEYBOARD_005fHACK"> &para;</a></span></dt>
<dd><p>如果一行以反引号结束，而该行的反引号数目为奇数，则忽略尾部的反引号。 在某些键盘上，回车键太小，而反引号键离回车键很近，这时会很有用。 作为替代，变量
<code class="t">KEYBOARD_HACK</code> 可以让你选择要删除的字符。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Zuo-Ye-Kong-Zhi-">
<h4 class="subsection"><span>16.2.7 作业控制<a class="copiable-link" href="#Zuo-Ye-Kong-Zhi-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fCONTINUE"></a>
<a class="index-entry-id" id="index-AUTOCONTINUE"></a>
<a class="index-entry-id" id="index-NOAUTOCONTINUE"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Zi-Dong-Ji-Xu-"></a>
<a class="index-entry-id" id="index-Zi-Dong-Ji-Xu-Zuo-Ye-"></a>
<a id="index-AUTO_005fCONTINUE"></a><span><code class="t">AUTO_CONTINUE</code><a class="copiable-link" href="#index-AUTO_005fCONTINUE"> &para;</a></span></dt>
<dd><p>设置该选项后，使用 <code class="t">disown</code> 内置命令从作业表中删除的已停止作业会自动被发送 <code class="t">CONT</code> 信号，使其恢复运行。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fAUTO_005fRESUME"></a>
<a class="index-entry-id" id="index-AUTORESUME"></a>
<a class="index-entry-id" id="index-NOAUTORESUME"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Zi-Dong-Hui-Fu-"></a>
<a class="index-entry-id" id="index-Zi-Dong-Hui-Fu-Zuo-Ye-"></a>
<a id="index-AUTO_005fRESUME"></a><span><code class="t">AUTO_RESUME</code> (<code class="t">-W</code>)<a class="copiable-link" href="#index-AUTO_005fRESUME"> &para;</a></span></dt>
<dd><p>将没有重定向的单字简单命令视为恢复现有作业的候选命令。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBG_005fNICE"></a>
<a class="index-entry-id" id="index-BGNICE"></a>
<a class="index-entry-id" id="index-NOBGNICE"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Hou-Tai-You-Xian-Ji-"></a>
<a class="index-entry-id" id="index-Hou-Tai-Zuo-Ye-_002c-You-Xian-Ji-"></a>
<a class="index-entry-id" id="index-Hou-Tai-Zuo-Ye-De-You-Xian-Ji-"></a>
<a id="index-BG_005fNICE"></a><span><code class="t">BG_NICE</code> (<code class="t">-6</code>) &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-BG_005fNICE"> &para;</a></span></dt>
<dd><p>以较低的优先级运行所有后台任务。 该选项为默认设置。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCHECK_005fJOBS"></a>
<a class="index-entry-id" id="index-CHECKJOBS"></a>
<a class="index-entry-id" id="index-NOCHECKJOBS"></a>
<a class="index-entry-id" id="index-Tui-Chu-Shi-_002c-Jian-Cha-Zuo-Ye-"></a>
<a class="index-entry-id" id="index-Deng-Chu-Shi-_002c-Jian-Cha-Zuo-Ye-"></a>
<a id="index-CHECK_005fJOBS"></a><span><code class="t">CHECK_JOBS</code> &lt;Z&gt;<a class="copiable-link" href="#index-CHECK_005fJOBS"> &para;</a></span></dt>
<dd><p>在退出受作业控制的 shell 之前，报告后台作业和挂起作业的状态；第二次尝试退出 shell 将成功。 <code class="t">NO_CHECK_JOBS</code> 最好与
<code class="t">NO_HUP</code> 结合使用，否则此类作业会被自动杀死。
</p>
<p>如果从上一条命令行运行的命令中包含 &lsquo;<code class="t">jobs</code>&rsquo; 命令，则省略检查，因为我们假定用户知道存在后台作业或暂停作业。 从 <a class="ref" href="#g_t_51fd_6570">函数</a> 中
&lsquo;特殊函数&rsquo; 一节定义的钩子函数之一运行的 &lsquo;<code class="t">jobs</code>&rsquo; 命令不计算在内。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCHECK_005fRUNNING_005fJOBS"></a>
<a class="index-entry-id" id="index-CHECKRUNNINGJOBS"></a>
<a class="index-entry-id" id="index-NOCHECKRUNNINGJOBS"></a>
<a class="index-entry-id" id="index-Tui-Chu-Shi-_002c-Jian-Cha-Yun-Xing-ZhongDe-Zuo-Ye-"></a>
<a class="index-entry-id" id="index-Deng-Chu-Shi-_002c-Jian-Cha-Yun-Xing-ZhongDe-Zuo-Ye-"></a>
<a id="index-CHECK_005fRUNNING_005fJOBS"></a><span><code class="t">CHECK_RUNNING_JOBS</code> &lt;Z&gt;<a class="copiable-link" href="#index-CHECK_005fRUNNING_005fJOBS"> &para;</a></span></dt>
<dd><p>启用 <code class="t">CHECK_JOBS</code> 时，会同时检查运行中和暂停中的作业。 禁用此选项后，zsh 只检查暂停的作业，这与 bash 的默认行为一致。
</p>
<p>除非设置了 <code class="t">CHECK_JOBS</code>，否则该选项不起作用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHUP"></a>
<a class="index-entry-id" id="index-NOHUP"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-HUP"></a>
<a id="index-HUP"></a><span><code class="t">HUP</code> &lt;Z&gt;<a class="copiable-link" href="#index-HUP"> &para;</a></span></dt>
<dd><p>当 shell 退出时，向正在运行的作业发送 <code class="t">HUP</code> 信号。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLONG_005fLIST_005fJOBS"></a>
<a class="index-entry-id" id="index-LONGLISTJOBS"></a>
<a class="index-entry-id" id="index-NOLONGLISTJOBS"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Lie-Biao-Ge-Shi-"></a>
<a id="index-LONG_005fLIST_005fJOBS"></a><span><code class="t">LONG_LIST_JOBS</code> (<code class="t">-R</code>)<a class="copiable-link" href="#index-LONG_005fLIST_005fJOBS"> &para;</a></span></dt>
<dd><p>默认以长格式打印作业通知。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMONITOR"></a>
<a class="index-entry-id" id="index-NOMONITOR"></a>
<a class="index-entry-id" id="index-Zuo-Ye-Kong-Zhi-_002c-Yun-Xu-"></a>
<a id="index-MONITOR"></a><span><code class="t">MONITOR</code> (<code class="t">-m</code>, ksh: <code class="t">-m</code>)<a class="copiable-link" href="#index-MONITOR"> &para;</a></span></dt>
<dd><p>允许作业控制。 在交互式 shell 中默认设置。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fNOTIFY"></a>
<a class="index-entry-id" id="index-NONOTIFY"></a>
<a class="index-entry-id" id="index-Hou-Tai-Zuo-Ye-_002c-Tong-Zhi-"></a>
<a class="index-entry-id" id="index-Hou-Tai-Zuo-Ye-Tong-Zhi-"></a>
<a id="index-NOTIFY"></a><span><code class="t">NOTIFY</code> (<code class="t">-5</code>, ksh: <code class="t">-b</code>) &lt;Z&gt;<a class="copiable-link" href="#index-NOTIFY"> &para;</a></span></dt>
<dd><p>立即报告后台作业的状态，而不是等到打印提示符前才报告。
</p>
</dd>
<dt><a class="index-entry-id" id="index-POSIXJOBS"></a>
<a class="index-entry-id" id="index-NO_005fPOSIX_005fJOBS"></a>
<a class="index-entry-id" id="index-NOPOSIXJOBS"></a>
<a class="index-entry-id" id="index-bg_002c-Yi-POSIX-Ge-Shi-Shu-Chu-"></a>
<a class="index-entry-id" id="index-fg_002c-Yi-POSIX-Ge-Shi-Shu-Chu-"></a>
<a class="index-entry-id" id="index-Zuo-Ye-Kong-Zhi-_002c-Zi-shell-Zhong"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Zi-shell-ZhongShu-Chu-"></a>
<a id="index-POSIX_005fJOBS"></a><span><code class="t">POSIX_JOBS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fJOBS"> &para;</a></span></dt>
<dd><p>该选项使作业控制更符合 POSIX 标准。
</p>
<p>未设置该选项时，进入子 shell 时 <code class="t">MONITOR</code> 选项将被取消设置，因此作业控制不再有效。 设置该选项后，<code class="t">MONITOR</code>
选项和作业控制在子 shell 中仍然有效，但需要注意的是，子 shell 无法访问父 shell 中的作业。
</p>
<p>不设置该选项时，用 <code class="t">bg</code> 或 <code class="t">fg</code> 放在后台或前台的作业会显示与 <code class="t">jobs</code> 报告的相同信息。 如果设置了该选项，则只打印文本。
<code class="t">jobs</code> 本身的输出不受该选项影响。
</p>
<p>不设置该选项时，父 shell 中的作业信息会保存到子 shell（例如管道）中输出。 设置该选项后，<code class="t">jobs</code> 的输出将为空，直到子 shell
中启动作业。
</p>
<p>在以前版本的 shell 中，必须启用 <code class="t">POSIX_JOBS</code>，内置命令 <code class="t">wait</code> 才能返回已退出的后台作业的状态。
现在不再需要这样做了。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Ti-Shi">
<h4 class="subsection"><span>16.2.8 提示<a class="copiable-link" href="#Ti-Shi"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fPROMPT_005fBANG"></a>
<a class="index-entry-id" id="index-PROMPTBANG"></a>
<a class="index-entry-id" id="index-NOPROMPTBANG"></a>
<a class="index-entry-id" id="index-Ti-ShiFu-_002c-_0021-Kuo-Zhan-"></a>
<a id="index-PROMPT_005fBANG"></a><span><code class="t">PROMPT_BANG</code> &lt;K&gt;<a class="copiable-link" href="#index-PROMPT_005fBANG"> &para;</a></span></dt>
<dd><p>如果设置， &lsquo;<code class="t">!</code>&rsquo;将在提示符扩展中被特殊处理。 请参阅 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPROMPT_005fCR"></a>
<a class="index-entry-id" id="index-PROMPTCR"></a>
<a class="index-entry-id" id="index-NOPROMPTCR"></a>
<a class="index-entry-id" id="index-Ti-ShiFu-_002c-Dai-You-CR"></a>
<a id="index-PROMPT_005fCR"></a><span><code class="t">PROMPT_CR</code> (<code class="t">+V</code>) &lt;D&gt;<a class="copiable-link" href="#index-PROMPT_005fCR"> &para;</a></span></dt>
<dd><p>在行编辑器中打印提示符前打印回车。 默认情况下是打开的，因为只有编辑器知道行的起始位置，才能进行多行编辑。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPROMPT_005fSP"></a>
<a class="index-entry-id" id="index-PROMPTSP"></a>
<a class="index-entry-id" id="index-NOPROMPTSP"></a>
<a class="index-entry-id" id="index-Ti-ShiFu-_002c-Bao-Cun-Bu-Fen-Xing-"></a>
<a id="index-PROMPT_005fSP"></a><span><code class="t">PROMPT_SP</code> &lt;D&gt;<a class="copiable-link" href="#index-PROMPT_005fSP"> &para;</a></span></dt>
<dd><p>试图保留因 <code class="t">PROMPT_CR</code> 选项而被命令提示符遮盖的部分行（partial line)（即未以换行结束的行）。
这将通过输出一些光标控制字符（包括一系列空格）来实现，当出现部分行时，这些字符将使终端换行到下一行（请注意，这只有在终端有自动页边距的情况下才能成功，而自动页边距是典型的）。
</p>
<p>保留部分行时，默认情况下会在部分行的末尾显示一个反转+粗体字符：普通用户为 &lsquo;<code class="t">%</code>&rsquo; ，root 用户为 &lsquo;<code class="t">#</code>&rsquo; 。 如果设置了
shell 参数 <code class="t">PROMPT_EOL_MARK</code>，则可以自定义部分行行尾的显示方式。
</p>
<p>注意：如果未设置 <code class="t">PROMPT_CR</code> 选项，启用该选项将没有任何效果。 该选项默认为开启。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPROMPT_005fPERCENT"></a>
<a class="index-entry-id" id="index-PROMPTPERCENT"></a>
<a class="index-entry-id" id="index-NOPROMPTPERCENT"></a>
<a class="index-entry-id" id="index-Ti-ShiFu-_002c-_0025-Kuo-Zhan-"></a>
<a id="index-PROMPT_005fPERCENT"></a><span><code class="t">PROMPT_PERCENT</code> &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-PROMPT_005fPERCENT"> &para;</a></span></dt>
<dd><p>如果设置了该选项，&lsquo;<code class="t">%</code>&rsquo; 将在提示符扩展中被特殊处理。 请参阅 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPROMPT_005fSUBST"></a>
<a class="index-entry-id" id="index-PROMPTSUBST"></a>
<a class="index-entry-id" id="index-NOPROMPTSUBST"></a>
<a class="index-entry-id" id="index-Ti-ShiFu-_002c-Can-Shu-Kuo-Zhan-"></a>
<a id="index-PROMPT_005fSUBST"></a><span><code class="t">PROMPT_SUBST</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-PROMPT_005fSUBST"> &para;</a></span></dt>
<dd><p>如果设置，<em class="emph">参数扩展</em>、<em class="emph">命令替换</em>和 <em class="emph"> 算术扩展</em>将在提示符中执行。 提示符内的替换不会影响命令状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fTRANSIENT_005fRPROMPT"></a>
<a class="index-entry-id" id="index-TRANSIENTRPROMPT"></a>
<a class="index-entry-id" id="index-NOTRANSIENTRPROMPT"></a>
<a id="index-TRANSIENT_005fRPROMPT"></a><span><code class="t">TRANSIENT_RPROMPT</code><a class="copiable-link" href="#index-TRANSIENT_005fRPROMPT"> &para;</a></span></dt>
<dd><p>在接受命令行时，移除显示的任何右侧提示符。 这对使用其他剪切/粘贴方法的终端可能有用。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Jiao-Ben-He-Han-Shu-">
<h4 class="subsection"><span>16.2.9 脚本和函数<a class="copiable-link" href="#Jiao-Ben-He-Han-Shu-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fALIAS_005fFUNC_005fDEF"></a>
<a class="index-entry-id" id="index-ALIASFUNCDEF"></a>
<a class="index-entry-id" id="index-NOALIASFUNCDEF"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-Yong-Kuo-Zhan-De-Bie-Ming-Ding-Yi-De-"></a>
<a class="index-entry-id" id="index-Bie-Ming-_002c-Zai-Han-Shu-Ding-Yi-ZhongKuo-Zhan-De-"></a>
<a id="index-ALIAS_005fFUNC_005fDEF"></a><span><code class="t">ALIAS_FUNC_DEF</code> &lt;S&gt;<a class="copiable-link" href="#index-ALIAS_005fFUNC_005fDEF"> &para;</a></span></dt>
<dd><p>默认情况下，如果 <var class="var">name</var> 被展开为别名，zsh 不允许使用 &lsquo;<var class="var">name</var> <code class="t">()</code>&rsquo; 语法定义函数：这将导致错误。
这通常是我们所希望的行为，否则基于相同定义的别名和函数的组合很容易导致问题。
</p>
<p>设置该选项后，可以使用别名来定义函数。
</p>
<p>例如，考虑启动文件中可能出现的以下定义。
</p>
<div class="example">
<pre class="example-preformatted">alias foo=bar
foo() {
  print This probably does not do what you expect.
}
</pre></div>

<p>在这里，<code class="t">foo</code> 在遇到 <code class="t">()</code> 之前被扩展为 <code class="t">bar</code> 的别名，因此定义的函数将被命名为 <code class="t">bar</code>。 默认情况下，在
native 模式下这反而是一个错误。 需要注意的是，函数名的任何部分加引号或使用关键字 <code class="t">function</code>
都可以避免这个问题，因此建议在函数名也可以是别名时使用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fC_005fBASES"></a>
<a class="index-entry-id" id="index-CBASES"></a>
<a class="index-entry-id" id="index-NOCBASES"></a>
<a class="index-entry-id" id="index-Ji-Shu-_002c-Yi-C-Ge-Shi-Shu-Chu-"></a>
<a class="index-entry-id" id="index-Shi-Liu-Jin-Zhi-_002c-Yi-C-Ge-Shi-Shu-Chu-"></a>
<a class="index-entry-id" id="index-Ba-Jin-Zhi-_002c-Yi-C-Ge-Shi-Shu-Chu-"></a>
<a id="index-C_005fBASES"></a><span><code class="t">C_BASES</code><a class="copiable-link" href="#index-C_005fBASES"> &para;</a></span></dt>
<dd><p>以标准 C 格式输出十六进制数，例如 &lsquo;<code class="t">0xFF</code>&rsquo; ，而不是通常的 &lsquo;<code class="t">16#FF</code>&rsquo;。 如果同时设置了选项
<code class="t">OCTAL_ZEROES</code>（默认情况下没有），八进制数也会被类似处理，因此会显示为 &lsquo;<code class="t">077</code>&rsquo;  而不是 &lsquo;<code class="t">8#77</code>&rsquo;。
该选项不会影响输出基数的选择，也不会影响十六进制和八进制以外基数的输出。 请注意，无论 <code class="t">C_BASES</code> 的设置如何，这些格式在输入时都能被理解。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fC_005fPRECEDENCES"></a>
<a class="index-entry-id" id="index-CPRECEDENCES"></a>
<a class="index-entry-id" id="index-NOCPRECEDENCES"></a>
<a class="index-entry-id" id="index-You-Xian-Ji-_002c-Cao-Zuo-Fu-"></a>
<a class="index-entry-id" id="index-Cao-Zuo-Fu-You-Xian-Ji-"></a>
<a id="index-C_005fPRECEDENCES"></a><span><code class="t">C_PRECEDENCES</code><a class="copiable-link" href="#index-C_005fPRECEDENCES"> &para;</a></span></dt>
<dd><p>这改变了算术运算符的优先级，使其更像 C 语言和其他编程语言；<a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>有一个显式列表。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fDEBUG_005fBEFORE_005fCMD"></a>
<a class="index-entry-id" id="index-DEBUGBEFORECMD"></a>
<a class="index-entry-id" id="index-NODEBUGBEFORECMD"></a>
<a class="index-entry-id" id="index-Xian-Jing-_002c-DEBUG_002c-Zai-Ming-Ling-Qian-Huo-Hou-"></a>
<a class="index-entry-id" id="index-DEBUG-Xian-Jing-_002c-Zai-Ming-Ling-Qian-Huo-Hou-"></a>
<a id="index-DEBUG_005fBEFORE_005fCMD"></a><span><code class="t">DEBUG_BEFORE_CMD</code> &lt;D&gt;<a class="copiable-link" href="#index-DEBUG_005fBEFORE_005fCMD"> &para;</a></span></dt>
<dd><p>在每条命令之前运行 <code class="t">DEBUG</code>陷阱，否则在每条命令之后运行。 设置该选项后，将模仿 ksh 93 的行为；不设置该选项时，将使用 ksh 88
的行为。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fERR_005fEXIT"></a>
<a class="index-entry-id" id="index-ERREXIT"></a>
<a class="index-entry-id" id="index-NOERREXIT"></a>
<a class="index-entry-id" id="index-Tui-Chu-Zhuang-Tai-_002c-Xian-Jing-Bu-Huo-"></a>
<a id="index-ERR_005fEXIT"></a><span><code class="t">ERR_EXIT</code> (<code class="t">-e</code>, ksh: <code class="t">-e</code>)<a class="copiable-link" href="#index-ERR_005fEXIT"> &para;</a></span></dt>
<dd><p>如果命令的退出状态为非零，则执行 <code class="t">ZERR</code> 陷阱（如果已设置）并退出。 运行初始化脚本时，该功能将被禁用。
</p>
<p>在 <code class="t">DEBUG</code> 陷阱中也会禁用该行为。 在这种情况下，会对选项进行特殊处理：在进入陷阱时取消设置。 如果设置了
<code class="t">DEBUG_BEFORE_CMD</code> 选项（默认情况），并且在退出时发现 <code class="t">ERR_EXIT</code> 选项已被设置，则跳过 <code class="t">DEBUG</code>
陷阱正在执行的命令。 该选项会在陷阱退出后恢复。
</p>
<p>包含 <code class="t">&amp;&amp;</code> 或 <code class="t">||</code> 的命令列表中，不在命令列表末尾的命令，其非零状态将被忽略。 因此
</p>
<div class="example">
<pre class="example-preformatted">false &amp;&amp; true
</pre></div>

<p>不会触发退出。
</p>
<p>由于 <code class="t">ERR_EXIT</code> 而退出，会与 <a class="ref" href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a> 中提到的异步作业产生某些交互。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fERR_005fRETURN"></a>
<a class="index-entry-id" id="index-ERRRETURN"></a>
<a class="index-entry-id" id="index-NOERRRETURN"></a>
<a class="index-entry-id" id="index-Han-Shu-Fan-Hui-_002c-Cuo-Wu-Shi-"></a>
<a class="index-entry-id" id="index-Cong-Han-Shu-Fan-Hui-_002c-Cuo-Wu-Shi-"></a>
<a id="index-ERR_005fRETURN"></a><span><code class="t">ERR_RETURN</code><a class="copiable-link" href="#index-ERR_005fRETURN"> &para;</a></span></dt>
<dd><p>如果命令的退出状态为非零，则立即从闭合函数中返回。 其逻辑与 <code class="t">ERR_EXIT</code> 类似，只是执行的是隐式 <code class="t">return</code> 语句而不是
<code class="t">exit</code>。 这将在非交互式脚本的最外层触发退出。
</p>
<p>通常，该选项继承了 <code class="t">ERR_EXIT</code> 的行为，即代码后跟 &lsquo;<code class="t">&amp;&amp;</code>&rsquo; &lsquo;<code class="t">||</code>&rsquo;不会触发返回。 因此，在下面的代码中
</p>
<div class="example">
<pre class="example-preformatted">summit || true
</pre></div>

<p>不强制返回，因为综合效果始终为零返回状态。
</p>
<p>但请注意，如果上例中的 <code class="t">summit</code> 本身是一个函数，那么其中的代码将被单独考虑：它可能强制从 <code class="t">summit</code> 返回（假设选项仍在
<code class="t">summit</code> 中设置），但不会强制从闭合上下文返回。 这种行为与 <code class="t">ERR_EXIT</code> 不同，后者不受函数作用域的影响。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fEVAL_005fLINENO"></a>
<a class="index-entry-id" id="index-EVALLINENO"></a>
<a class="index-entry-id" id="index-NOEVALLINENO"></a>
<a class="index-entry-id" id="index-Xing-Hao-_002c-Zai-Yi-Ji-Suan-De-Biao-Da-Shi-Zhong"></a>
<a id="index-EVAL_005fLINENO"></a><span><code class="t">EVAL_LINENO</code> &lt;Z&gt;<a class="copiable-link" href="#index-EVAL_005fLINENO"> &para;</a></span></dt>
<dd><p>如果设置了该参数，使用内置 <code class="t">eval</code> 求值的表达式的行号将与封闭环境分开跟踪。 这同时适用于参数 <code class="t">LINENO</code> 和提示符 <code class="t">%i</code>
输出的行号。 如果设置了该选项，提示符转义 <code class="t">%N</code> 将输出字符串 &lsquo;<code class="t">(eval)</code>&rsquo; ，而不是脚本或函数名称作为提示。
(这两个提示符转义符通常用于设置选项 <code class="t">XTRACE</code> 时，输出参数 <code class="t">PS4</code> ）。 如果未设置
<code class="t">EVAL_LINENO</code>，脚本或函数的行号将在求值过程中保留。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fEXEC"></a>
<a class="index-entry-id" id="index-NOEXEC"></a>
<a class="index-entry-id" id="index-Ming-Ling-Zhi-Xing-_002c-Qi-Yong-"></a>
<a id="index-EXEC"></a><span><code class="t">EXEC</code> (<code class="t">+n</code>, ksh: <code class="t">+n</code>) &lt;D&gt;<a class="copiable-link" href="#index-EXEC"> &para;</a></span></dt>
<dd><p>Do execute commands.  Without this option, commands are read and checked for
syntax errors, but not executed.  This option cannot be turned off in an
interactive shell, except when &lsquo;<code class="t">-n</code>&rsquo; is supplied to the shell at startup.
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fFUNCTION_005fARGZERO"></a>
<a class="index-entry-id" id="index-FUNCTIONARGZERO"></a>
<a class="index-entry-id" id="index-NOFUNCTIONARGZERO"></a>
<a class="index-entry-id" id="index-_00240_002c-She-Zhi-"></a>
<a id="index-FUNCTION_005fARGZERO"></a><span><code class="t">FUNCTION_ARGZERO</code> &lt;C&gt; &lt;Z&gt;<a class="copiable-link" href="#index-FUNCTION_005fARGZERO"> &para;</a></span></dt>
<dd><p>执行 shell 函数或引入脚本时，将 <code class="t">$0</code> 暂时设置为函数/脚本的名称。 请注意，将 <code class="t">FUNCTION_ARGZERO</code>
从打开切换到关闭（或从关闭切换到打开）并不会改变 <code class="t">$0</code> 的当前值。 只有进入函数或脚本时的状态才会产生影响。 比较
<code class="t">POSIX_ARGZERO</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLOCAL_005fLOOPS"></a>
<a class="index-entry-id" id="index-LOCALLOOPS"></a>
<a class="index-entry-id" id="index-NOLOCALLOOPS"></a>
<a class="index-entry-id" id="index-break_002c-Zai-Han-Shu-Nei-Bu-"></a>
<a class="index-entry-id" id="index-continue_002c-Zai-Han-Shu-Nei-Bu-"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-break-He-continue-De-Fan-Wei-"></a>
<a id="index-LOCAL_005fLOOPS"></a><span><code class="t">LOCAL_LOOPS</code><a class="copiable-link" href="#index-LOCAL_005fLOOPS"> &para;</a></span></dt>
<dd><p>如果未设置该选项，<code class="t">break</code> 和 <code class="t">continue</code> 命令的效果可能会传播到函数作用域之外，影响调用函数中的循环。
如果在(正在)调用的函数中设置了该选项，则未被调用函数捕获的 <code class="t">break</code> 或
<code class="t">continue</code>（无论在&lt;已&gt;调用函数中是否设置了该选项）会产生警告并取消效果。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLOCAL_005fOPTIONS"></a>
<a class="index-entry-id" id="index-LOCALOPTIONS"></a>
<a class="index-entry-id" id="index-NOLOCALOPTIONS"></a>
<a id="index-LOCAL_005fOPTIONS"></a><span><code class="t">LOCAL_OPTIONS</code> &lt;K&gt;<a class="copiable-link" href="#index-LOCAL_005fOPTIONS"> &para;</a></span></dt>
<dd><p>如果在从 shell 函数返回时设置了此选项，则会恢复大多数在进入函数时有效的选项（包括此选项）；不恢复的选项包括 <code class="t">PRIVILEGED</code> 和
<code class="t">RESTRICTED</code>。 否则，只有该选项、<code class="t">LOCAL_LOOPS</code>、<code class="t">XTRACE</code> 和 <code class="t">PRINT_EXIT_VALUE</code>
选项会被还原。 因此，如果 shell 函数显式地取消了该选项的设置，返回时有效的其他选项仍将保持不变。 shell 函数也可以通过类似于
&lsquo;<code class="t">emulate -L zsh</code>&rsquo; 的表述来保证自己拥有已知的 shell 配置；<code class="t">-L</code> 会激活 <code class="t">LOCAL_OPTIONS</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLOCAL_005fPATTERNS"></a>
<a class="index-entry-id" id="index-LOCALPATTERNS"></a>
<a class="index-entry-id" id="index-NOLOCALPATTERNS"></a>
<a id="index-LOCAL_005fPATTERNS"></a><span><code class="t">LOCAL_PATTERNS</code><a class="copiable-link" href="#index-LOCAL_005fPATTERNS"> &para;</a></span></dt>
<dd><p>如果在 shell 函数返回时设置了该选项，则通过内置命令 &lsquo;<code class="t">disable -p</code>&rsquo;设置的模式禁用状态将恢复到进入函数时的状态。
该选项的作用类似于 <code class="t">LOCAL_OPTIONS</code> 对选项的作用；因此， &lsquo;<code class="t">emulate -L sh</code>&rsquo; （或其他使用 <code class="t">-L</code>
选项的仿真）会激活 <code class="t">LOCAL_PATTERNS</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLOCAL_005fTRAPS"></a>
<a class="index-entry-id" id="index-LOCALTRAPS"></a>
<a class="index-entry-id" id="index-NOLOCALTRAPS"></a>
<a id="index-LOCAL_005fTRAPS"></a><span><code class="t">LOCAL_TRAPS</code> &lt;K&gt;<a class="copiable-link" href="#index-LOCAL_005fTRAPS"> &para;</a></span></dt>
<dd><p>如果在函数内部设置信号陷阱时设置了该选项，那么当函数退出时，该信号的陷阱状态将被恢复。请注意，必须在更改函数中的陷阱行为<code class="t">之前</code>设置该选项；与
<code class="t">LOCAL_OPTIONS</code> 不同的是，退出函数时的值并不重要。 不过，全局陷阱并不需要在函数正确恢复之前设置。 例如
</p>
<div class="example">
<pre class="example-preformatted">unsetopt localtraps
trap - INT
fn() { setopt localtraps; trap '' INT; sleep 3; }
</pre></div>

<p>将在函数退出后恢复对 <code class="t">SIGINT</code> 的正常处理。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMULTI_005fFUNC_005fDEF"></a>
<a class="index-entry-id" id="index-MULTIFUNCDEF"></a>
<a class="index-entry-id" id="index-NOMULTIFUNCDEF"></a>
<a id="index-MULTI_005fFUNC_005fDEF"></a><span><code class="t">MULTI_FUNC_DEF</code> &lt;Z&gt;<a class="copiable-link" href="#index-MULTI_005fFUNC_005fDEF"> &para;</a></span></dt>
<dd><p>允许以 &lsquo;<code class="t">fn1 fn2</code><var class="var">...</var><code class="t">()</code>&rsquo; 的形式同时定义多个函数；如果未设置该选项，则会导致解析错误。 始终允许使用
<code class="t">function</code> 关键字定义多个函数。 多重函数定义并不常用，可能会导致不明显的错误。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMULTIOS"></a>
<a class="index-entry-id" id="index-NOMULTIOS"></a>
<a id="index-MULTIOS"></a><span><code class="t">MULTIOS</code> &lt;Z&gt;<a class="copiable-link" href="#index-MULTIOS"> &para;</a></span></dt>
<dd><p>当尝试多次重定向时，执行隐式 <cite class="cite">tee</cite>s 或 <cite class="cite">cat</cite>s （请参阅 <a class="ref" href="#g_t_91cd_5b9a_5411">重定向</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fOCTAL_005fZEROES"></a>
<a class="index-entry-id" id="index-OCTALZEROES"></a>
<a class="index-entry-id" id="index-NOOCTALZEROES"></a>
<a class="index-entry-id" id="index-Ba-Jin-Zhi-_002c-Suan-Zhu-Biao-Da-Shi-"></a>
<a id="index-OCTAL_005fZEROES"></a><span><code class="t">OCTAL_ZEROES</code> &lt;S&gt;<a class="copiable-link" href="#index-OCTAL_005fZEROES"> &para;</a></span></dt>
<dd><p>根据 IEEE 标准 1003.2-1992（ISO 9945-2:1993），将以 0 开头的整数常量解释为八进制。
默认情况下不启用此功能，因为它会给日期和时间字符串等前导零字符串的解析带来问题。
</p>
<p>表示数值基数的数字序列，如 &lsquo;<code class="t">08#77</code>&rsquo; 中的 &lsquo;<code class="t">08</code>&rsquo;  分量，始终被解释为十进制，与前导零无关。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPIPE_005fFAIL"></a>
<a class="index-entry-id" id="index-PIPEFAIL"></a>
<a class="index-entry-id" id="index-NOPIPEFAIL"></a>
<a class="index-entry-id" id="index-Cong-Guan-Dao-ZhongTui-Chu-De-Zhuang-Tai-"></a>
<a class="index-entry-id" id="index-Zhuang-Tai-_002c-Cong-Guan-Dao-Tui-Chu-De-"></a>
<a class="index-entry-id" id="index-Guan-Dao-_002c-Tui-Chu-Zhuang-Tai-"></a>
<a id="index-PIPE_005fFAIL"></a><span><code class="t">PIPE_FAIL</code><a class="copiable-link" href="#index-PIPE_005fFAIL"> &para;</a></span></dt>
<dd><p>默认情况下，当管道退出时，shell 记录并由 shell 变量 <code class="t">$?</code> 返回的退出状态，反映的是管道最右端元素的状态。
如果设置了该选项，退出状态将反映管道最右端元素的非零状态，如果所有元素都以零状态退出，则返回零状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSOURCE_005fTRACE"></a>
<a class="index-entry-id" id="index-SOURCETRACE"></a>
<a class="index-entry-id" id="index-NOSOURCETRACE"></a>
<a id="index-SOURCE_005fTRACE"></a><span><code class="t">SOURCE_TRACE</code><a class="copiable-link" href="#index-SOURCE_005fTRACE"> &para;</a></span></dt>
<dd><p>如果设置了该选项，zsh 将打印一条信息消息，公布所加载的每个文件的名称。 输出格式与 <code class="t">XTRACE</code> 选项类似，信息为
<code class="t">&lt;sourcetrace&gt;</code>。 文件可以在 shell 启动和关闭时由 shell 本身加载（<code class="t">启动/关闭文件</code>），也可以通过使用
&lsquo;<code class="t">source</code>&rsquo; 和 &lsquo;<code class="t">dot</code>&rsquo; 内置命令加载。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fTYPESET_005fSILENT"></a>
<a class="index-entry-id" id="index-TYPESETSILENT"></a>
<a class="index-entry-id" id="index-NOTYPESETSILENT"></a>
<a id="index-TYPESET_005fSILENT"></a><span><code class="t">TYPESET_SILENT</code><a class="copiable-link" href="#index-TYPESET_005fSILENT"> &para;</a></span></dt>
<dd><p>如果未设置该选项，在执行任何不带任何选项的 &lsquo;<code class="t">typeset</code>&rsquo; 系列命令时，如果参数列表中已经存在的参数没有被赋值，则会显示该参数的值。
如果设置了该选项，则只有在使用 &lsquo;<code class="t">-m</code>&rsquo;  选项选择参数时，才会显示这些参数。 无论是否设置了该选项，都可以使用选项 &lsquo;<code class="t">-p</code>&rsquo; 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fTYPESET_005fTO_005fUNSET"></a>
<a class="index-entry-id" id="index-TYPESETTOUNSET"></a>
<a class="index-entry-id" id="index-NOTYPESETTOUNSET"></a>
<a id="index-TYPESET_005fTO_005fUNSET"></a><span><code class="t">TYPESET_TO_UNSET</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-TYPESET_005fTO_005fUNSET"> &para;</a></span></dt>
<dd><p>当使用 &lsquo;<code class="t">typeset</code>&rsquo; 系列相关命令声明一个新参数时，除非在 &lsquo;<code class="t">typeset</code>&rsquo;
命令本身或稍后的赋值语句中明确为其赋值，否则该参数将保持未设置状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fVERBOSE"></a>
<a class="index-entry-id" id="index-NOVERBOSE"></a>
<a class="index-entry-id" id="index-Gen-Zong-_002c-Shu-Ru-Xing-"></a>
<a class="index-entry-id" id="index-Shu-Ru-_002c-Gen-Zong-"></a>
<a id="index-VERBOSE"></a><span><code class="t">VERBOSE</code> (<code class="t">-v</code>, ksh: <code class="t">-v</code>)<a class="copiable-link" href="#index-VERBOSE"> &para;</a></span></dt>
<dd><p>在读取 shell 输入行时将其打印出来。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fXTRACE"></a>
<a class="index-entry-id" id="index-NOXTRACE"></a>
<a class="index-entry-id" id="index-Gen-Zong-_002c-Ming-Ling-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Gen-Zong-"></a>
<a id="index-XTRACE"></a><span><code class="t">XTRACE</code> (<code class="t">-x</code>, ksh: <code class="t">-x</code>)<a class="copiable-link" href="#index-XTRACE"> &para;</a></span></dt>
<dd><p>在执行命令时打印命令及其参数。 输出结果的前面是 <code class="t">$PS4</code> 的值，格式如 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a> 中所述。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shell-Fang-Zhen-">
<h4 class="subsection"><span>16.2.10 Shell 仿真<a class="copiable-link" href="#Shell-Fang-Zhen-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fAPPEND_005fCREATE"></a>
<a class="index-entry-id" id="index-APPENDCREATE"></a>
<a class="index-entry-id" id="index-NOAPPENDCREATE"></a>
<a class="index-entry-id" id="index-Fu-Gai-_0028clobbering_0029_002c-POSIX-Jian-Rong-Xing-"></a>
<a class="index-entry-id" id="index-WenJian-Fu-Gai-_0028clobbering_0029_002c-POSIX-Jian-Rong-Xing-"></a>
<a class="index-entry-id" id="index-Bu-Fu-Gai-_002c-POSIX-Jian-Rong-Xing-"></a>
<a id="index-APPEND_005fCREATE"></a><span><code class="t">APPEND_CREATE</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-APPEND_005fCREATE"> &para;</a></span></dt>
<dd><p>该选项仅在 <code class="t">NO_CLOBBER</code> （-<code class="t">C</code>）有效时适用。
</p>
<p>如果未设置该选项，当在一个不存在的文件上使用追加重定向（<code class="t">&gt;&gt;</code>）时，shell 将报错（传统的 zsh 行为 <code class="t">NO_CLOBBER</code>）。
如果设置了该选项，则不会报错（POSIX 行为）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBASH_005fREMATCH"></a>
<a class="index-entry-id" id="index-BASHREMATCH"></a>
<a class="index-entry-id" id="index-NOBASHREMATCH"></a>
<a class="index-entry-id" id="index-bash_002c-BASH_005fREMATCH-Bian-Liang-"></a>
<a class="index-entry-id" id="index-regexp_002c-bash-BASH_005fREMATCH-Bian-Liang-"></a>
<a id="index-BASH_005fREMATCH"></a><span><code class="t">BASH_REMATCH</code><a class="copiable-link" href="#index-BASH_005fREMATCH"> &para;</a></span></dt>
<dd><p>设置后，使用 <code class="t">=~</code> 操作符执行的匹配将设置 <code class="t">BASH_REMATCH</code> 数组变量，而不是默认的 <code class="t">MATCH</code> 和 <code class="t">match</code>
变量。 <code class="t">BASH_REMATCH</code> 数组的第一个元素将包含整个匹配文本，随后的元素将包含提取的子串。 如果同时设置了
<code class="t">KSH_ARRAYS</code>，整个匹配部分将存储在索引 0 处，第一个子串存储在索引 1 处，那么该选项就更有意义了。
如果不使用该选项，<code class="t">MATCH</code> 变量将包含整个匹配文本，而 <code class="t">match</code> 数组变量将包含子串。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fBSD_005fECHO"></a>
<a class="index-entry-id" id="index-BSDECHO"></a>
<a class="index-entry-id" id="index-NOBSDECHO"></a>
<a class="index-entry-id" id="index-echo_002c-BSD-Jian-Rong-"></a>
<a id="index-BSD_005fECHO"></a><span><code class="t">BSD_ECHO</code> &lt;S&gt;<a class="copiable-link" href="#index-BSD_005fECHO"> &para;</a></span></dt>
<dd><p>Make the <code class="t">echo</code> builtin compatible with the BSD echo(1) command.  This
disables backslashed escape sequences in echo strings unless the <code class="t">-e</code>
option is specified.
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCONTINUE_005fON_005fERROR"></a>
<a class="index-entry-id" id="index-CONTINUEONERROR"></a>
<a class="index-entry-id" id="index-NOCONTINUEONERROR"></a>
<a class="index-entry-id" id="index-Cuo-Wu-_002c-Ji-Xu-Jiao-Ben-De-Xuan-Xiang-"></a>
<a id="index-CONTINUE_005fON_005fERROR"></a><span><code class="t">CONTINUE_ON_ERROR</code><a class="copiable-link" href="#index-CONTINUE_005fON_005fERROR"> &para;</a></span></dt>
<dd><p>如果遇到致命错误（参见 <a class="ref" href="#g_t_9519_8bef">错误</a>），并且代码是在脚本中运行，shell 将在脚本的下一条语句的顶层恢复执行，换句话说，是在所有函数或 shell
结构（如循环和条件）之外恢复执行。 这模仿了交互式 shell 的行为，即 shell 返回行编辑器读取新命令；这是 5.0.1 之前的 zsh
版本的正常行为。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCSH_005fJUNKIE_005fHISTORY"></a>
<a class="index-entry-id" id="index-CSHJUNKIEHISTORY"></a>
<a class="index-entry-id" id="index-NOCSHJUNKIEHISTORY"></a>
<a class="index-entry-id" id="index-csh_002c-Li-Shi-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Li-Shi-Feng-Ge-_002c-csh"></a>
<a id="index-CSH_005fJUNKIE_005fHISTORY"></a><span><code class="t">CSH_JUNKIE_HISTORY</code> &lt;C&gt;<a class="copiable-link" href="#index-CSH_005fJUNKIE_005fHISTORY"> &para;</a></span></dt>
<dd><p>不带事件指示符的历史引用，将始终指向上一条命令。 如果没有该选项，历史记录引用将与当前命令行中的前一个历史记录引用指向相同的事件，默认为前一个命令。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCSH_005fJUNKIE_005fLOOPS"></a>
<a class="index-entry-id" id="index-CSHJUNKIELOOPS"></a>
<a class="index-entry-id" id="index-NOCSHJUNKIELOOPS"></a>
<a class="index-entry-id" id="index-csh_002c-Xun-Huan-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Xun-Huan-Feng-Ge-_002c-csh"></a>
<a id="index-CSH_005fJUNKIE_005fLOOPS"></a><span><code class="t">CSH_JUNKIE_LOOPS</code> &lt;C&gt;<a class="copiable-link" href="#index-CSH_005fJUNKIE_005fLOOPS"> &para;</a></span></dt>
<dd><p>允许循环体采用 &lsquo;<var class="var">list</var><code class="t">; end</code>&rsquo; 的形式，而不是&lsquo;<code class="t">do </code><var class="var">list</var><code class="t">; done</code>&rsquo;。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCSH_005fJUNKIE_005fQUOTES"></a>
<a class="index-entry-id" id="index-CSHJUNKIEQUOTES"></a>
<a class="index-entry-id" id="index-NOCSHJUNKIEQUOTES"></a>
<a class="index-entry-id" id="index-csh_002c-Yin-Hao-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Yin-Hao-Feng-Ge-_002c-csh"></a>
<a id="index-CSH_005fJUNKIE_005fQUOTES"></a><span><code class="t">CSH_JUNKIE_QUOTES</code> &lt;C&gt;<a class="copiable-link" href="#index-CSH_005fJUNKIE_005fQUOTES"> &para;</a></span></dt>
<dd><p>更改单引号和双引号文本的规则，使其与 <cite class="cite">csh</cite> 的规则一致。 这些规则要求内嵌换行符前必须有反斜线；未转义的换行符将导致错误信息。
在双引号字符串中，无法转义&lsquo;<code class="t">$</code>&rsquo;, &lsquo;<code class="t">`</code>&rsquo; 或 &lsquo;<code class="t">&quot;</code>&rsquo;（ &lsquo;<code class="t">\</code>&rsquo; 本身也不再需要转义）。 命令替换只扩展一次，不能嵌套。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCSH_005fNULLCMD"></a>
<a class="index-entry-id" id="index-CSHNULLCMD"></a>
<a class="index-entry-id" id="index-NOCSHNULLCMD"></a>
<a class="index-entry-id" id="index-NULLCMD_002c-Hu-Lue-"></a>
<a class="index-entry-id" id="index-READNULLCMD_002c-Hu-Lue-"></a>
<a class="index-entry-id" id="index-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-_002c-csh"></a>
<a class="index-entry-id" id="index-csh_002c-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-"></a>
<a id="index-CSH_005fNULLCMD"></a><span><code class="t">CSH_NULLCMD</code> &lt;C&gt;<a class="copiable-link" href="#index-CSH_005fNULLCMD"> &para;</a></span></dt>
<dd><p>在运行无命令重定向时，请勿使用 <code class="t">NULLCMD</code> 和 <code class="t">READNULLCMD</code> 的值。 这会导致重定向失败（参见 <a class="ref" href="#g_t_91cd_5b9a_5411">重定向</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fKSH_005fARRAYS"></a>
<a class="index-entry-id" id="index-KSHARRAYS"></a>
<a class="index-entry-id" id="index-NOKSHARRAYS"></a>
<a class="index-entry-id" id="index-Shu-Zu-_002c-ksh-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Shu-Zu-Feng-Ge-_002c-ksh"></a>
<a class="index-entry-id" id="index-ksh_002c-Shu-Zu-Feng-Ge-"></a>
<a id="index-KSH_005fARRAYS"></a><span><code class="t">KSH_ARRAYS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-KSH_005fARRAYS"> &para;</a></span></dt>
<dd><p>尽可能模拟 <cite class="cite">ksh</cite> 数组处理。
如果设置了该选项，数组元素将从零开始编号，不带下标的数组参数将指向第一个元素，而不是整个数组，并且需要使用大括号来分隔下标（
&lsquo;<code class="t">${path[2]}</code>&rsquo; 而不只是 &lsquo;<code class="t">$path[2]</code>&rsquo; ）或对任何参数应用修饰符（&lsquo;<code class="t">${PWD:h}</code>&rsquo; 而不是
&lsquo;<code class="t">$PWD:h</code>&rsquo;）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fKSH_005fAUTOLOAD"></a>
<a class="index-entry-id" id="index-KSHAUTOLOAD"></a>
<a class="index-entry-id" id="index-NOKSHAUTOLOAD"></a>
<a id="index-KSH_005fAUTOLOAD"></a><span><code class="t">KSH_AUTOLOAD</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-KSH_005fAUTOLOAD"> &para;</a></span></dt>
<dd><p>模拟 <cite class="cite">ksh</cite> 函数的自动加载。 这意味着当一个函数被自动加载时，相应的文件只是被执行，而且必须定义函数本身。
(默认情况下，函数是根据文件内容定义的。 不过，最常见的 <cite class="cite">ksh</cite> 风格情况&ndash;文件仅包含函数的简单定义&ndash;总是以 <cite class="cite">ksh</cite>
兼容的方式处理）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fKSH_005fOPTION_005fPRINT"></a>
<a class="index-entry-id" id="index-KSHOPTIONPRINT"></a>
<a class="index-entry-id" id="index-NOKSHOPTIONPRINT"></a>
<a class="index-entry-id" id="index-Xuan-Xiang-Da-Yin-_002c-ksh-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Xuan-Xiang-Da-Yin-Feng-Ge-_002c-ksh"></a>
<a class="index-entry-id" id="index-ksh_002c-Xuan-Xiang-Da-Yin-Feng-Ge-"></a>
<a id="index-KSH_005fOPTION_005fPRINT"></a><span><code class="t">KSH_OPTION_PRINT</code> &lt;K&gt;<a class="copiable-link" href="#index-KSH_005fOPTION_005fPRINT"> &para;</a></span></dt>
<dd><p>改变选项设置的打印方式：不再单独列出已设置和未设置的选项，而是显示所有选项，如果处于非默认状态，则标记为 &quot;on&quot;，否则标记为 &quot;off&quot;。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fKSH_005fTYPESET"></a>
<a class="index-entry-id" id="index-KSHTYPESET"></a>
<a class="index-entry-id" id="index-NOKSHTYPESET"></a>
<a class="index-entry-id" id="index-Can-Shu-Fen-Ge-_002c-Yong-typesetDeng-_002e-"></a>
<a class="index-entry-id" id="index-ksh_002c-Yong-typeset-Fen-Ge-Can-Shu-"></a>
<a id="index-KSH_005fTYPESET"></a><span><code class="t">KSH_TYPESET</code><a class="copiable-link" href="#index-KSH_005fTYPESET"> &para;</a></span></dt>
<dd><p>该选项现已过时：使用保留字接口
<code class="t">declare</code>、<code class="t">export</code>、<code class="t">float</code>、<code class="t">integer</code>、<code class="t">local</code>、<code class="t">readonly</code> 和
<code class="t">typeset</code> 可以更好地适应其他 shell 的行为。 需要注意的是，只有在<em class="emph">不</em> 使用保留字接口时，才会应用该选项。
</p>
<p>改变 <code class="t">typeset</code>系列命令的参数处理方式，包括
<code class="t">declare</code>、<code class="t">export</code>、<code class="t">float</code>、<code class="t">integer</code>、<code class="t">local</code> 和 <code class="t">readonly</code>。
如果没有此选项，zsh 会在赋值参数中的命令和参数扩展后执行正常的分词；如果有此选项，则不会执行分词。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fKSH_005fZERO_005fSUBSCRIPT"></a>
<a class="index-entry-id" id="index-KSHZEROSUBSCRIPT"></a>
<a class="index-entry-id" id="index-NOKSHZEROSUBSCRIPT"></a>
<a class="index-entry-id" id="index-Shu-Zu-_002c-0Suo-Yin-De-Xing-Wei-"></a>
<a id="index-KSH_005fZERO_005fSUBSCRIPT"></a><span><code class="t">KSH_ZERO_SUBSCRIPT</code><a class="copiable-link" href="#index-KSH_005fZERO_005fSUBSCRIPT"> &para;</a></span></dt>
<dd><p>将数组或字符串表达式中的零值下标视为对第一个元素的引用，即通常下标为 1 的元素。 如果同时设置了 <code class="t">KSH_ARRAYS</code> 则忽略。
</p>
<p>如果既没有设置这个选项，也没有设置
<code class="t">KSH_ARRAYS</code>，那么在访问数组或字符串时，如果下标为零，则会返回空元素或空字符串，而试图设置数组或字符串的零元素则会被视为错误。
但是，如果尝试设置包含零的有效下标范围，则会成功。 例如，如果 <code class="t">KSH_ZERO_SUBSCRIPT</code> 没有被设置，
</p>
<div class="example">
<pre class="example-preformatted">array[0]=(element)
</pre></div>

<p>是一个错误，而
</p>
<div class="example">
<pre class="example-preformatted">array[0,1]=(element)
</pre></div>

<p>不是，并且会替换数组的第一个元素。
</p>
<p>该选项是为了与旧版 shell 兼容，不建议在新代码中使用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPOSIX_005fALIASES"></a>
<a class="index-entry-id" id="index-POSIXALIASES"></a>
<a class="index-entry-id" id="index-NOPOSIXALIASES"></a>
<a id="index-POSIX_005fALIASES"></a><span><code class="t">POSIX_ALIASES</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fALIASES"> &para;</a></span></dt>
<dd><p>设置该选项后，保留字将不作为别名扩展的候选字：仍可将其中任何一个声明为别名，但该别名将永远不会被扩展。 保留字在 <a class="ref" href="#g_t_4fdd_7559_5b57">保留字</a> 中有描述。
</p>
<p>别名扩展是在读取文本时进行的；因此，当设置了该选项后，直到作为一个单元解析的函数或其他 shell 代码结束时才会生效。
请注意，即使该选项生效，也可能导致与其他 shell 的差异。 例如，当使用 &lsquo;<code class="t">zsh -c</code>&rsquo;，甚至 &lsquo;<code class="t">zsh -o
posixaliases -c</code>&rsquo; 运行命令时，整个命令参数会被解析为一个单元，因此在参数中定义的别名即使在后面的行中也无法使用。
如有疑问，请避免在非交互代码中使用别名。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPOSIX_005fARGZERO"></a>
<a class="index-entry-id" id="index-POSIXARGZERO"></a>
<a class="index-entry-id" id="index-NOPOSIXARGZERO"></a>
<a class="index-entry-id" id="index-_00240_002c-Shi-Yong-"></a>
<a id="index-POSIX_005fARGZERO"></a><span><code class="t">POSIX_ARGZERO</code><a class="copiable-link" href="#index-POSIX_005fARGZERO"> &para;</a></span></dt>
<dd><p>此选项可用于暂时禁用 <code class="t">FUNCTION_ARGZERO</code>，从而将 <code class="t">$0</code> 的值恢复为调用 shell 时使用的名称（或由 <code class="t">-c</code>
命令行选项设置的名称）。 为了与以前版本的 shell 兼容，仿真会使用 <code class="t">NO_FUNCTION_ARGZERO</code> 而不是
<code class="t">POSIX_ARGZERO</code>，如果在函数或脚本中改变仿真模式，可能会导致 <code class="t">$0</code> 的范围超出预期。 为避免这种情况，请在
<code class="t">emulate</code> 命令中明确启用 <code class="t">POSIX_ARGZERO</code>：
</p>
<div class="example">
<pre class="example-preformatted">emulate sh -o POSIX_ARGZERO
</pre></div>

<p>请注意，除非 <code class="t">FUNCTION_ARGZERO</code> 在进入函数或脚本时已经启用，否则 <code class="t">NO_POSIX_ARGZERO</code> 不会产生任何影响。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPOSIX_005fBUILTINS"></a>
<a class="index-entry-id" id="index-POSIXBUILTINS"></a>
<a class="index-entry-id" id="index-NOPOSIXBUILTINS"></a>
<a id="index-POSIX_005fBUILTINS"></a><span><code class="t">POSIX_BUILTINS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fBUILTINS"> &para;</a></span></dt>
<dd><p>设置该选项后，<code class="t">command</code> 内置命令可用于执行 shell 内置命令。 在 shell
函数和特殊内置命令前指定的参数赋值会在命令补全后保留，除非特殊内置命令前缀为 <code class="t">command</code> 内置命令。 特殊内置命令包括 <code class="t">.</code>,
<code class="t">:</code>, <code class="t">break</code>, <code class="t">continue</code>, <code class="t">declare</code>, <code class="t">eval</code>, <code class="t">exit</code>, <code class="t">export</code>,
<code class="t">integer</code>, <code class="t">local</code>, <code class="t">readonly</code>, <code class="t">return</code>, <code class="t">set</code>, <code class="t">shift</code>,
<code class="t">source</code>, <code class="t">times</code>, <code class="t">trap</code> 和 <code class="t">unset</code>。
</p>
<p>此外，与上述内置程序或 <code class="t">exec</code> 相关的各种错误条件会导致非交互式 shell 退出和交互式 shell 返回顶层处理。
</p>
<p>此外，函数和 shell 内置命令不会在 <code class="t">exec</code> 前缀后执行；要执行的命令必须是在路径中找到的外部命令。
</p>
<p>此外，<code class="t">getopts</code> 内置命令的行为与 POSIX 兼容，相关变量 <code class="t">OPTIND</code> 并非函数的本地变量，其值的计算方式也与其他 shell
不同。
</p>
<p>此外， <code class="t">[[ -o </code><var class="var">non_existent_option</var><code class="t"> ]]</code> 的警告和特殊退出代码也会被抑制。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPOSIX_005fIDENTIFIERS"></a>
<a class="index-entry-id" id="index-POSIXIDENTIFIERS"></a>
<a class="index-entry-id" id="index-NOPOSIXIDENTIFIERS"></a>
<a class="index-entry-id" id="index-Biao-Shi-Fu-_002c-Fei-Ke-Yi-Zhi-Zi-Fu-"></a>
<a class="index-entry-id" id="index-Can-Shu-Ming-_002c-Fei-Ke-Yi-Zhi-Zi-Fu-"></a>
<a id="index-POSIX_005fIDENTIFIERS"></a><span><code class="t">POSIX_IDENTIFIERS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fIDENTIFIERS"> &para;</a></span></dt>
<dd><p>设置该选项后，标识符（shell 参数和模块的名称）中只能使用 ASCII 字符 <code class="t">a</code> 至 <code class="t">z</code>、<code class="t">A</code> 至 <code class="t">Z</code>、<code class="t">0</code> 至
<code class="t">9</code> 和 <code class="t">_</code>。
</p>
<p>此外，设置该选项会限制无括号参数替换的效果，因此表达式 <code class="t">$#</code> 会被视为参数 <code class="t">$#</code>，即使后面跟了一个有效的参数名。 未设置该选项时，zsh
允许 <code class="t">$#</code><var class="var">name</var> 形式的表达式引用 <code class="t">$</code><var class="var">name</var> 的长度，即使是特殊变量，例如 <code class="t">$#-</code> 和
<code class="t">$#*</code> 这样的表达式。
</p>
<p>另一个区别是，在算术上下文中对未设置变量赋值时，选项设置会导致变量创建为标量而非数值类型。 因此，在 &lsquo;<code class="t">unset t; (( t = 3
))</code>&rsquo; 之后，如果没有设置 <code class="t">POSIX_IDENTIFIERS</code> ，<code class="t">t</code> 将是整数类型，而如果设置了
<code class="t">POSIX_IDENTIFIERS</code> ，<code class="t">t</code> 将是标量类型。
</p>
<p>如果未设置该选项，但启用了多字节字符支持（即编译了多字节字符支持并设置了 <code class="t">MULTIBYTE</code>
选项），则可在标识符中使用本地字符集中的任何字母数字字符。
需要注意的是，使用此功能编写的脚本和函数不可移植，而且必须在解析脚本或函数之前设置这两个选项；在执行过程中设置这两个选项是不够的，因为语法
<var class="var">variable</var><code class="t">=</code><var class="var">value</var> 已被解析为命令而非赋值。
</p>
<p>如果 shell 未编译多字节字符支持，该选项将被忽略；所有设置了最高位的八位字节都可用于标识符。 这是非标准的，但却是传统的 zsh 行为。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPOSIX_005fSTRINGS"></a>
<a class="index-entry-id" id="index-POSIXSTRINGS"></a>
<a class="index-entry-id" id="index-NOPOSIXSTRINGS"></a>
<a class="index-entry-id" id="index-Bing-Qi-_0024_0027_002e_002e_002e_0027-ZhongQian-Ru-De-Kong-Zhi-"></a>
<a class="index-entry-id" id="index-Qian-Ru-De-Kong-Zhi-_002c-_0024_0027_002e_002e_002e_0027-Zhong"></a>
<a class="index-entry-id" id="index-Kong-Zhi-_002c-Qian-Ru-_0024_0027_002e_002e_002e_0027"></a>
<a id="index-POSIX_005fSTRINGS"></a><span><code class="t">POSIX_STRINGS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fSTRINGS"> &para;</a></span></dt>
<dd><p>该选项会影响带引号字符串的处理。 目前，它只影响空字符的行为，即对应于 US ASCII 的可移植字符集中的字符 0。
</p>
<p>如果不设置该选项，嵌入  <code class="t">$'</code><var class="var">...</var><code class="t">'</code> 格式字符串中的空字符将被视为普通字符。整个字符串将保留在 shell
中，并在必要时输出到文件中，但由于库接口的限制，字符串会在文件名、环境变量或外部程序参数中的空字符处被截断。
</p>
<p>设置该选项后， <code class="t">$'</code><var class="var">...</var><code class="t">'</code> 表达式将在空字符处截断。 请注意，同一字符串中引号结束后的其余部分不会被截断。
</p>
<p>例如，命令行参数  <code class="t">a$'b\0c'd</code>  在选项关闭的情况下被视为 <code class="t">a</code>、<code class="t">b</code>、null、<code class="t">c</code>、<code class="t">d</code>
字符，而在选项开启的情况下被视为 <code class="t">a</code>、<code class="t">b</code>、<code class="t">d</code> 字符。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPOSIX_005fTRAPS"></a>
<a class="index-entry-id" id="index-POSIXTRAPS"></a>
<a class="index-entry-id" id="index-NOPOSIXTRAPS"></a>
<a class="index-entry-id" id="index-Xian-Jing-_002c-Han-Shu-Tui-Chu-Shi-"></a>
<a class="index-entry-id" id="index-Xian-Jing-_002c-POSIX-Jian-Rong-Xing-"></a>
<a id="index-POSIX_005fTRAPS"></a><span><code class="t">POSIX_TRAPS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-POSIX_005fTRAPS"> &para;</a></span></dt>
<dd><p>设置此选项后，zsh 通常在退出 shell 函数时执行 <code class="t">EXIT</code> 陷阱的行为将被抑制。 在这种情况下，对 <code class="t">EXIT</code>
陷阱的操作总是会改变用于退出 shell 的全局陷阱；对于 <code class="t">EXIT</code> 陷阱，<code class="t">LOCAL_TRAPS</code> 选项会被忽略。
</p>
<p>此外，在没有参数的陷阱中执行 <code class="t">return</code> 语句时，函数会传回周围上下文的值，而不是陷阱中执行的代码的值。
</p>
<p>此外，如果陷阱被设置为忽略，那么当进入子 shell 时，这种状态会持续存在。 如果没有该选项，陷阱此时会重置为默认状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSH_005fFILE_005fEXPANSION"></a>
<a class="index-entry-id" id="index-SHFILEEXPANSION"></a>
<a class="index-entry-id" id="index-NOSHFILEEXPANSION"></a>
<a class="index-entry-id" id="index-sh_002c-Kuo-Zhan-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Kuo-Zhan-Feng-Ge-_002c-sh"></a>
<a id="index-SH_005fFILE_005fEXPANSION"></a><span><code class="t">SH_FILE_EXPANSION</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-SH_005fFILE_005fEXPANSION"> &para;</a></span></dt>
<dd><p>在参数扩展、命令替换、算术扩展和括号扩展<em class="emph">之前</em>，执行文件名扩展（例如 <code class="t">~</code> 扩展） 。 如果未设置该选项，则在括号扩展
<em class="emph">之后</em>执行，因此类似于 &lsquo;<code class="t">~$USERNAME</code>&rsquo;  和&lsquo;<code class="t">~{pfalstad,rc}</code>&rsquo; 将正常工作。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSH_005fNULLCMD"></a>
<a class="index-entry-id" id="index-SHNULLCMD"></a>
<a class="index-entry-id" id="index-NOSHNULLCMD"></a>
<a class="index-entry-id" id="index-NULLCMD_002c-Hu-Lue--1"></a>
<a class="index-entry-id" id="index-READNULLCMD_002c-Hu-Lue--1"></a>
<a class="index-entry-id" id="index-sh_002c-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-"></a>
<a class="index-entry-id" id="index-ksh_002c-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-"></a>
<a class="index-entry-id" id="index-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-_002c-sh"></a>
<a class="index-entry-id" id="index-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-_002c-ksh"></a>
<a id="index-SH_005fNULLCMD"></a><span><code class="t">SH_NULLCMD</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-SH_005fNULLCMD"> &para;</a></span></dt>
<dd><p>重定向时，请勿使用 <code class="t">NULLCMD</code> 和 <code class="t">READNULLCMD</code> 的值，而应使用 &lsquo;<code class="t">:</code>&rsquo;（请参阅 <a class="ref" href="#g_t_91cd_5b9a_5411">重定向</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSH_005fOPTION_005fLETTERS"></a>
<a class="index-entry-id" id="index-SHOPTIONLETTERS"></a>
<a class="index-entry-id" id="index-NOSHOPTIONLETTERS"></a>
<a class="index-entry-id" id="index-sh_002c-Dan-Zi-Mu-Xuan-Xiang-Feng-Ge-"></a>
<a class="index-entry-id" id="index-ksh_002c-Dan-Zi-Mu-Xuan-Xiang-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Dan-Zi-Mu-Xuan-Xiang-_002c-ksh-Feng-Ge-"></a>
<a class="index-entry-id" id="index-Xuan-Xiang-_002c-Dan-Zi-Mu-_002c-ksh-Feng-Ge-"></a>
<a id="index-SH_005fOPTION_005fLETTERS"></a><span><code class="t">SH_OPTION_LETTERS</code> &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-SH_005fOPTION_005fLETTERS"> &para;</a></span></dt>
<dd><p>如果设置了该选项，shell 会尝试像 <cite class="cite">ksh</cite> 那样解释单字母选项（与 <code class="t">set</code> 和 <code class="t">setopt</code> 一起使用）。 这也会影响
<code class="t">-</code> 特殊参数的值。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSH_005fWORD_005fSPLIT"></a>
<a class="index-entry-id" id="index-SHWORDSPLIT"></a>
<a class="index-entry-id" id="index-NOSHWORDSPLIT"></a>
<a class="index-entry-id" id="index-Zi-Duan-Fen-Ge-_002c-sh-Feng-Ge-"></a>
<a class="index-entry-id" id="index-sh_002c-Zi-Duan-Fen-Ge-Feng-Ge-"></a>
<a id="index-SH_005fWORD_005fSPLIT"></a><span><code class="t">SH_WORD_SPLIT</code> (<code class="t">-y</code>) &lt;K&gt; &lt;S&gt;<a class="copiable-link" href="#index-SH_005fWORD_005fSPLIT"> &para;</a></span></dt>
<dd><p>使字段分割在无引号的参数扩展上执行。 请注意，此选项与分词无关。 (参见 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a>）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fTRAPS_005fASYNC"></a>
<a class="index-entry-id" id="index-TRAPSASYNC"></a>
<a class="index-entry-id" id="index-NOTRAPSASYNC"></a>
<a class="index-entry-id" id="index-Xian-Jing-_002c-Yi-Bu-"></a>
<a id="index-TRAPS_005fASYNC"></a><span><code class="t">TRAPS_ASYNC</code><a class="copiable-link" href="#index-TRAPS_005fASYNC"> &para;</a></span></dt>
<dd><p>在等待程序退出时，应立即处理信号和运行陷阱。 否则，陷阱将在子进程退出后运行。 请注意，除了 shell 等待子进程外，这不会影响运行陷阱的时间点。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shell-Zhuang-Tai-">
<h4 class="subsection"><span>16.2.11 Shell 状态<a class="copiable-link" href="#Shell-Zhuang-Tai-"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fINTERACTIVE"></a>
<a class="index-entry-id" id="index-NOINTERACTIVE"></a>
<a id="index-INTERACTIVE"></a><span><code class="t">INTERACTIVE</code> (<code class="t">-i</code>, ksh: <code class="t">-i</code>)<a class="copiable-link" href="#index-INTERACTIVE"> &para;</a></span></dt>
<dd><p>这是一个交互式 shell。 如果标准输入是 tty 且命令是从标准输入读取的，则初始化时会设置该选项（参见 <code class="t">SHIN_STDIN</code>
的讨论）。可以通过在命令行中指定该选项的状态来覆盖这一启发式方法。 该选项的值只能通过调用 shell 时提供的标志来更改。 zsh 运行后就无法更改。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLOGIN"></a>
<a class="index-entry-id" id="index-NOLOGIN"></a>
<a id="index-LOGIN"></a><span><code class="t">LOGIN</code> (<code class="t">-l</code>, ksh: <code class="t">-l</code>)<a class="copiable-link" href="#index-LOGIN"> &para;</a></span></dt>
<dd><p>这是一个登录 shell。 如果未明确设置此选项，则如果传给 shell 的 <code class="t">argv[0]</code> 第一个字符是 &lsquo;<code class="t">-</code>&rsquo;，则 shell
将成为登录 shell。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPRIVILEGED"></a>
<a class="index-entry-id" id="index-NOPRIVILEGED"></a>
<a class="index-entry-id" id="index-Te-Quan-Mo-Shi-"></a>
<a class="index-entry-id" id="index-Mo-Shi-_002c-Te-Quan-"></a>
<a id="index-PRIVILEGED"></a><span><code class="t">PRIVILEGED</code> (<code class="t">-p</code>, ksh: <code class="t">-p</code>)<a class="copiable-link" href="#index-PRIVILEGED"> &para;</a></span></dt>
<dd><p>开启特权模式。通常情况下，当脚本需要以提升的权限运行时会用到。具体操作如下：直接使用 zsh 的 <code class="t">-p</code> 选项，使其在启动时生效。
</p>
<div class="example">
<pre class="example-preformatted">#!/bin/zsh -p
</pre></div>

<p>如果有效用户（组）ID 不等于真实用户（组）ID，则启动时会自动启用该选项。在这种情况下，关闭该选项会将有效用户和组 ID 设置为真实用户和组
ID。需要注意的是，如果该选项失效，shell 运行时的 ID 可能与预期不同，因此脚本应检查是否失效并采取相应措施：
</p>
<div class="example">
<pre class="example-preformatted">unsetopt privileged || exit
</pre></div>

<p><code class="t">PRIVILEGED</code> 选项禁止引入用户启动文件。 如果在设置了该选项后以 &lsquo;<code class="t">sh</code>&rsquo; 或 &lsquo;<code class="t">ksh</code>&rsquo; 的方式调用 zsh，则会引入
<code class="t">/etc/suid_profile</code>（在交互式 shell 中位于 <code class="t">/etc/profile</code> 之后）。<code class="t">~/.profile</code>
将禁止引入，并且 <code class="t">ENV</code> 变量的内容将被忽略。使用 <code class="t">setopt</code> 和 <code class="t">unsetopt</code> 的 <code class="t">-m</code>
选项无法更改该选项，在函数内部更改该选项时，无论是否使用 <code class="t">LOCAL_OPTIONS</code> 选项，都会全局更改该选项。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fRESTRICTED"></a>
<a class="index-entry-id" id="index-NORESTRICTED"></a>
<a class="index-entry-id" id="index-Shou-Xian-De-shell-1"></a>
<a id="index-RESTRICTED-1"></a><span><code class="t">RESTRICTED</code> (<code class="t">-r</code>)<a class="copiable-link" href="#index-RESTRICTED-1"> &para;</a></span></dt>
<dd><p>启用受限模式。 使用 <code class="t">unsetopt</code> 无法更改此选项，在函数中设置此选项时，无论是否使用 <code class="t">LOCAL_OPTIONS</code>
选项，都会全局更改此选项。 参见 <a class="ref" href="#g_t_53d7_9650_7684-Shell">受限的 Shell</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSHIN_005fSTDIN"></a>
<a class="index-entry-id" id="index-SHINSTDIN"></a>
<a class="index-entry-id" id="index-NOSHINSTDIN"></a>
<a id="index-SHIN_005fSTDIN"></a><span><code class="t">SHIN_STDIN</code> (<code class="t">-s</code>, ksh: <code class="t">-s</code>)<a class="copiable-link" href="#index-SHIN_005fSTDIN"> &para;</a></span></dt>
<dd><p>从标准输入端读取命令。 如果没有使用 <code class="t">-c</code> 指定命令，也没有指定命令文件，则会从标准输入端读取命令。 如果在命令行中明确设置了
<code class="t">SHIN_STDIN</code>，任何本应作为运行文件的参数都将被视为普通位置参数。 需要注意的是，在命令行中设置或取消此选项，并不一定会影响 shell
运行时该选项的状态&ndash;这纯粹是一个指标，表明命令是否 <em class="emph">真的</em> 从标准输入端读取。 该选项的值只能通过调用 shell 时提供的标志来更改。
zsh 运行后将无法更改。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSINGLE_005fCOMMAND"></a>
<a class="index-entry-id" id="index-SINGLECOMMAND"></a>
<a class="index-entry-id" id="index-NOSINGLECOMMAND"></a>
<a class="index-entry-id" id="index-Dan-YiMing-Ling-"></a>
<a class="index-entry-id" id="index-INTERACTIVE_002c-use-of"></a>
<a id="index-SINGLE_005fCOMMAND"></a><span><code class="t">SINGLE_COMMAND</code> (<code class="t">-t</code>, ksh: <code class="t">-t</code>)<a class="copiable-link" href="#index-SINGLE_005fCOMMAND"> &para;</a></span></dt>
<dd><p>如果 shell 从标准输入读取数据，则会在执行完一条命令后退出。 除非在命令行中明确设置 <code class="t">INTERACTIVE</code> 选项，否则 shell
是非交互的。 该选项的值只能通过调用 shell 时提供的标志来更改。 zsh 运行后将无法更改。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Zle">
<h4 class="subsection"><span>16.2.12 Zle<a class="copiable-link" href="#Zle"> &para;</a></span></h4>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fBEEP"></a>
<a class="index-entry-id" id="index-NOBEEP"></a>
<a class="index-entry-id" id="index-Feng-Ming-Qi-_002c-Qi-Yong-"></a>
<a class="index-entry-id" id="index-Qi-Yong-Feng-Ming-Qi-"></a>
<a id="index-BEEP"></a><span><code class="t">BEEP</code> (<code class="t">+B</code>) &lt;D&gt;<a class="copiable-link" href="#index-BEEP"> &para;</a></span></dt>
<dd><p>ZLE 出错时发出蜂鸣声。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fCOMBINING_005fCHARS"></a>
<a class="index-entry-id" id="index-COMBININGCHARS"></a>
<a class="index-entry-id" id="index-NOCOMBININGCHARS"></a>
<a class="index-entry-id" id="index-Zi-Fu-_002c-_0028Unicode_0029-Zu-He-"></a>
<a class="index-entry-id" id="index-Zu-He-Zi-Fu-_0028Unicode_0029"></a>
<a class="index-entry-id" id="index-Unicode-Zu-He-Zi-Fu-"></a>
<a id="index-COMBINING_005fCHARS"></a><span><code class="t">COMBINING_CHARS</code><a class="copiable-link" href="#index-COMBINING_005fCHARS"> &para;</a></span></dt>
<dd><p>假设终端能正确显示组合字符。
具体来说，如果一个基本字母数字字符后面有一个或多个零宽度标点符号字符，则假定零宽度字符将显示为在相同宽度内对基本字符的修改。 并非所有终端都会这样处理。
如果不设置此选项，零宽度字符将以特殊标记单独显示。
</p>
<p>如果设置了该选项，则模式测试 <code class="t">[[:WORD:]]</code>  将匹配零宽度标点符号，前提是该字符将作为单词的一部分与单词字符结合使用。 否则，基本
shell 不会特别处理组合字符。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fEMACS"></a>
<a class="index-entry-id" id="index-NOEMACS"></a>
<a id="index-EMACS"></a><span><code class="t">EMACS</code><a class="copiable-link" href="#index-EMACS"> &para;</a></span></dt>
<dd><p>如果已加载 ZLE，则打开该选项的效果等同于 &lsquo;<code class="t">bindkey -e</code>&rsquo;。 此外，VI 选项是未设置的。 关闭该选项没有任何效果。
该选项的设置不能保证反映当前的键映射。 提供该选项是为了兼容；<code class="t">bindkey</code> 是推荐的接口。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fOVERSTRIKE"></a>
<a class="index-entry-id" id="index-NOOVERSTRIKE"></a>
<a class="index-entry-id" id="index-Bian-Ji-Qi-_002c-Die-Jia-Mo-Shi-"></a>
<a class="index-entry-id" id="index-Die-Jia-Mo-Shi-_002c-Bian-Ji-Qi-De-"></a>
<a id="index-OVERSTRIKE"></a><span><code class="t">OVERSTRIKE</code><a class="copiable-link" href="#index-OVERSTRIKE"> &para;</a></span></dt>
<dd><p>以叠加模式启动行编辑器。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSINGLE_005fLINE_005fZLE"></a>
<a class="index-entry-id" id="index-SINGLELINEZLE"></a>
<a class="index-entry-id" id="index-NOSINGLELINEZLE"></a>
<a class="index-entry-id" id="index-Bian-Ji-Qi-_002c-Dan-Xing-Mo-Shi-"></a>
<a id="index-SINGLE_005fLINE_005fZLE"></a><span><code class="t">SINGLE_LINE_ZLE</code> (<code class="t">-M</code>) &lt;K&gt;<a class="copiable-link" href="#index-SINGLE_005fLINE_005fZLE"> &para;</a></span></dt>
<dd><p>使用单行命令行编辑，而不是多行编辑。
</p>
<p>请注意，尽管在 ksh 模拟中该选项是默认开启的，但它仅提供了与 ksh 行编辑器的表面兼容性，并降低了 zsh 行编辑器的有效性。 由于它对
shell 语法没有影响，许多用户可能希望在交互式使用 ksh 模拟时禁用该选项。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fVI"></a>
<a class="index-entry-id" id="index-NOVI"></a>
<a id="index-VI"></a><span><code class="t">VI</code><a class="copiable-link" href="#index-VI"> &para;</a></span></dt>
<dd><p>如果已加载 ZLE，则打开该选项的效果等同于 &lsquo;<code class="t">bindkey -v</code>&rsquo;。 此外，EMACS 选项未设置。 关闭该选项没有任何效果。
选项设置并不能保证反映当前的键映射。 提供此选项是为了兼容；<code class="t">bindkey</code> 是推荐的接口。
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fZLE"></a>
<a class="index-entry-id" id="index-NOZLE"></a>
<a class="index-entry-id" id="index-Bian-Ji-Qi-_002c-Qi-Yong-"></a>
<a class="index-entry-id" id="index-Qi-Yong-Bian-Ji-Qi-"></a>
<a id="index-ZLE-1"></a><span><code class="t">ZLE</code> (<code class="t">-Z</code>)<a class="copiable-link" href="#index-ZLE-1"> &para;</a></span></dt>
<dd><p>使用 zsh 行编辑器。 在连接到终端的交互式 shell 中默认设置。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="Option-_522b_540d">

<h3 class="section" id="Option-Bie-Ming-"><span>16.3 Option 别名<a class="copiable-link" href="#Option-Bie-Ming-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xuan-Xiang-_002c-Bie-Ming-"></a>
<p>有些选项有别名。 这些别名从不用于输出，但在向 shell 指定选项时，可以像普通选项名一样使用。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-NO_005fBRACE_005fEXPAND"></a>
<a class="index-entry-id" id="index-BRACEEXPAND"></a>
<a class="index-entry-id" id="index-NOBRACEEXPAND"></a>
<a id="index-BRACE_005fEXPAND"></a><span><code class="t">BRACE_EXPAND</code><a class="copiable-link" href="#index-BRACE_005fEXPAND"> &para;</a></span></dt>
<dd><p><em class="emph">NO_</em><code class="t">IGNORE_BRACES</code> (ksh 和 bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fDOT_005fGLOB"></a>
<a class="index-entry-id" id="index-DOTGLOB"></a>
<a class="index-entry-id" id="index-NODOTGLOB"></a>
<a id="index-DOT_005fGLOB"></a><span><code class="t">DOT_GLOB</code><a class="copiable-link" href="#index-DOT_005fGLOB"> &para;</a></span></dt>
<dd><p><code class="t">GLOB_DOTS</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHASH_005fALL"></a>
<a class="index-entry-id" id="index-HASHALL"></a>
<a class="index-entry-id" id="index-NOHASHALL"></a>
<a id="index-HASH_005fALL"></a><span><code class="t">HASH_ALL</code><a class="copiable-link" href="#index-HASH_005fALL"> &para;</a></span></dt>
<dd><p><code class="t">HASH_CMDS</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fAPPEND"></a>
<a class="index-entry-id" id="index-HISTAPPEND"></a>
<a class="index-entry-id" id="index-NOHISTAPPEND"></a>
<a id="index-HIST_005fAPPEND"></a><span><code class="t">HIST_APPEND</code><a class="copiable-link" href="#index-HIST_005fAPPEND"> &para;</a></span></dt>
<dd><p><code class="t">APPEND_HISTORY</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fHIST_005fEXPAND"></a>
<a class="index-entry-id" id="index-HISTEXPAND"></a>
<a class="index-entry-id" id="index-NOHISTEXPAND"></a>
<a id="index-HIST_005fEXPAND"></a><span><code class="t">HIST_EXPAND</code><a class="copiable-link" href="#index-HIST_005fEXPAND"> &para;</a></span></dt>
<dd><p><code class="t">BANG_HIST</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fLOG"></a>
<a class="index-entry-id" id="index-NOLOG"></a>
<a id="index-LOG"></a><span><code class="t">LOG</code><a class="copiable-link" href="#index-LOG"> &para;</a></span></dt>
<dd><p><em class="emph">NO_</em><code class="t">HIST_NO_FUNCTIONS</code> (ksh 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fMAIL_005fWARN"></a>
<a class="index-entry-id" id="index-MAILWARN"></a>
<a class="index-entry-id" id="index-NOMAILWARN"></a>
<a id="index-MAIL_005fWARN"></a><span><code class="t">MAIL_WARN</code><a class="copiable-link" href="#index-MAIL_005fWARN"> &para;</a></span></dt>
<dd><p><code class="t">MAIL_WARNING</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fONE_005fCMD"></a>
<a class="index-entry-id" id="index-ONECMD"></a>
<a class="index-entry-id" id="index-NOONECMD"></a>
<a id="index-ONE_005fCMD"></a><span><code class="t">ONE_CMD</code><a class="copiable-link" href="#index-ONE_005fCMD"> &para;</a></span></dt>
<dd><p><code class="t">SINGLE_COMMAND</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPHYSICAL"></a>
<a class="index-entry-id" id="index-NOPHYSICAL"></a>
<a id="index-PHYSICAL"></a><span><code class="t">PHYSICAL</code><a class="copiable-link" href="#index-PHYSICAL"> &para;</a></span></dt>
<dd><p><code class="t">CHASE_LINKS</code> (ksh 和 bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fPROMPT_005fVARS"></a>
<a class="index-entry-id" id="index-PROMPTVARS"></a>
<a class="index-entry-id" id="index-NOPROMPTVARS"></a>
<a id="index-PROMPT_005fVARS"></a><span><code class="t">PROMPT_VARS</code><a class="copiable-link" href="#index-PROMPT_005fVARS"> &para;</a></span></dt>
<dd><p><code class="t">PROMPT_SUBST</code> (bash 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fSTDIN"></a>
<a class="index-entry-id" id="index-NOSTDIN"></a>
<a id="index-STDIN"></a><span><code class="t">STDIN</code><a class="copiable-link" href="#index-STDIN"> &para;</a></span></dt>
<dd><p><code class="t">SHIN_STDIN</code> (ksh 兼容性)
</p>
</dd>
<dt><a class="index-entry-id" id="index-NO_005fTRACK_005fALL"></a>
<a class="index-entry-id" id="index-TRACKALL"></a>
<a class="index-entry-id" id="index-NOTRACKALL"></a>
<a id="index-TRACK_005fALL"></a><span><code class="t">TRACK_ALL</code><a class="copiable-link" href="#index-TRACK_005fALL"> &para;</a></span></dt>
<dd><p><code class="t">HASH_CMDS</code> (ksh 兼容性)
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="g_t_5355_5b57_6bcd_9009_9879">

<h3 class="section" id="Dan-Zi-Mu-Xuan-Xiang-"><span>16.4 单字母选项<a class="copiable-link" href="#Dan-Zi-Mu-Xuan-Xiang-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xuan-Xiang-_002c-Dan-Zi-Mu-"></a>
<a class="index-entry-id" id="index-Dan-Zi-Mu-Xuan-Xiang-"></a>

<div class="subsection-level-extent" id="Mo-Ren-Ji-_0028set_0029">
<h4 class="subsection"><span>16.4.1 默认集(set)<a class="copiable-link" href="#Mo-Ren-Ji-_0028set_0029"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">-0</code></dt>
<dd><p>CORRECT
</p></dd>
<dt><code class="t">-1</code></dt>
<dd><p>PRINT_EXIT_VALUE
</p></dd>
<dt><code class="t">-2</code></dt>
<dd><p><em class="emph">NO_</em>BAD_PATTERN
</p></dd>
<dt><code class="t">-3</code></dt>
<dd><p><em class="emph">NO_</em>NOMATCH
</p></dd>
<dt><code class="t">-4</code></dt>
<dd><p>GLOB_DOTS
</p></dd>
<dt><code class="t">-5</code></dt>
<dd><p>NOTIFY
</p></dd>
<dt><code class="t">-6</code></dt>
<dd><p>BG_NICE
</p></dd>
<dt><code class="t">-7</code></dt>
<dd><p>IGNORE_EOF
</p></dd>
<dt><code class="t">-8</code></dt>
<dd><p>MARK_DIRS
</p></dd>
<dt><code class="t">-9</code></dt>
<dd><p>AUTO_LIST
</p></dd>
<dt><code class="t">-B</code></dt>
<dd><p><em class="emph">NO_</em>BEEP
</p></dd>
<dt><code class="t">-C</code></dt>
<dd><p><em class="emph">NO_</em>CLOBBER
</p></dd>
<dt><code class="t">-D</code></dt>
<dd><p>PUSHD_TO_HOME
</p></dd>
<dt><code class="t">-E</code></dt>
<dd><p>PUSHD_SILENT
</p></dd>
<dt><code class="t">-F</code></dt>
<dd><p><em class="emph">NO_</em>GLOB
</p></dd>
<dt><code class="t">-G</code></dt>
<dd><p>NULL_GLOB
</p></dd>
<dt><code class="t">-H</code></dt>
<dd><p>RM_STAR_SILENT
</p></dd>
<dt><code class="t">-I</code></dt>
<dd><p>IGNORE_BRACES
</p></dd>
<dt><code class="t">-J</code></dt>
<dd><p>AUTO_CD
</p></dd>
<dt><code class="t">-K</code></dt>
<dd><p><em class="emph">NO_</em>BANG_HIST
</p></dd>
<dt><code class="t">-L</code></dt>
<dd><p>SUN_KEYBOARD_HACK
</p></dd>
<dt><code class="t">-M</code></dt>
<dd><p>SINGLE_LINE_ZLE
</p></dd>
<dt><code class="t">-N</code></dt>
<dd><p>AUTO_PUSHD
</p></dd>
<dt><code class="t">-O</code></dt>
<dd><p>CORRECT_ALL
</p></dd>
<dt><code class="t">-P</code></dt>
<dd><p>RC_EXPAND_PARAM
</p></dd>
<dt><code class="t">-Q</code></dt>
<dd><p>PATH_DIRS
</p></dd>
<dt><code class="t">-R</code></dt>
<dd><p>LONG_LIST_JOBS
</p></dd>
<dt><code class="t">-S</code></dt>
<dd><p>REC_EXACT
</p></dd>
<dt><code class="t">-T</code></dt>
<dd><p>CDABLE_VARS
</p></dd>
<dt><code class="t">-U</code></dt>
<dd><p>MAIL_WARNING
</p></dd>
<dt><code class="t">-V</code></dt>
<dd><p><em class="emph">NO_</em>PROMPT_CR
</p></dd>
<dt><code class="t">-W</code></dt>
<dd><p>AUTO_RESUME
</p></dd>
<dt><code class="t">-X</code></dt>
<dd><p>LIST_TYPES
</p></dd>
<dt><code class="t">-Y</code></dt>
<dd><p>MENU_COMPLETE
</p></dd>
<dt><code class="t">-Z</code></dt>
<dd><p>ZLE
</p></dd>
<dt><code class="t">-a</code></dt>
<dd><p>ALL_EXPORT
</p></dd>
<dt><code class="t">-e</code></dt>
<dd><p>ERR_EXIT
</p></dd>
<dt><code class="t">-f</code></dt>
<dd><p><em class="emph">NO_</em>RCS
</p></dd>
<dt><code class="t">-g</code></dt>
<dd><p>HIST_IGNORE_SPACE
</p></dd>
<dt><code class="t">-h</code></dt>
<dd><p>HIST_IGNORE_DUPS
</p></dd>
<dt><code class="t">-i</code></dt>
<dd><p>INTERACTIVE
</p></dd>
<dt><code class="t">-k</code></dt>
<dd><p>INTERACTIVE_COMMENTS
</p></dd>
<dt><code class="t">-l</code></dt>
<dd><p>LOGIN
</p></dd>
<dt><code class="t">-m</code></dt>
<dd><p>MONITOR
</p></dd>
<dt><code class="t">-n</code></dt>
<dd><p><em class="emph">NO_</em>EXEC
</p></dd>
<dt><code class="t">-p</code></dt>
<dd><p>PRIVILEGED
</p></dd>
<dt><code class="t">-r</code></dt>
<dd><p>RESTRICTED
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p>SHIN_STDIN
</p></dd>
<dt><code class="t">-t</code></dt>
<dd><p>SINGLE_COMMAND
</p></dd>
<dt><code class="t">-u</code></dt>
<dd><p><em class="emph">NO_</em>UNSET
</p></dd>
<dt><code class="t">-v</code></dt>
<dd><p>VERBOSE
</p></dd>
<dt><code class="t">-w</code></dt>
<dd><p>CHASE_LINKS
</p></dd>
<dt><code class="t">-x</code></dt>
<dd><p>XTRACE
</p></dd>
<dt><code class="t">-y</code></dt>
<dd><p>SH_WORD_SPLIT
</p></dd>
</dl>

</div>
<div class="subsection-level-extent" id="sh_002fksh-Mo-Ni-Ji-">
<h4 class="subsection"><span>16.4.2 sh/ksh 模拟集<a class="copiable-link" href="#sh_002fksh-Mo-Ni-Ji-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">-C</code></dt>
<dd><p><em class="emph">NO_</em>CLOBBER
</p></dd>
<dt><code class="t">-T</code></dt>
<dd><p>TRAPS_ASYNC
</p></dd>
<dt><code class="t">-X</code></dt>
<dd><p>MARK_DIRS
</p></dd>
<dt><code class="t">-a</code></dt>
<dd><p>ALL_EXPORT
</p></dd>
<dt><code class="t">-b</code></dt>
<dd><p>NOTIFY
</p></dd>
<dt><code class="t">-e</code></dt>
<dd><p>ERR_EXIT
</p></dd>
<dt><code class="t">-f</code></dt>
<dd><p><em class="emph">NO_</em>GLOB
</p></dd>
<dt><code class="t">-i</code></dt>
<dd><p>INTERACTIVE
</p></dd>
<dt><code class="t">-l</code></dt>
<dd><p>LOGIN
</p></dd>
<dt><code class="t">-m</code></dt>
<dd><p>MONITOR
</p></dd>
<dt><code class="t">-n</code></dt>
<dd><p><em class="emph">NO_</em>EXEC
</p></dd>
<dt><code class="t">-p</code></dt>
<dd><p>PRIVILEGED
</p></dd>
<dt><code class="t">-r</code></dt>
<dd><p>RESTRICTED
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p>SHIN_STDIN
</p></dd>
<dt><code class="t">-t</code></dt>
<dd><p>SINGLE_COMMAND
</p></dd>
<dt><code class="t">-u</code></dt>
<dd><p><em class="emph">NO_</em>UNSET
</p></dd>
<dt><code class="t">-v</code></dt>
<dd><p>VERBOSE
</p></dd>
<dt><code class="t">-x</code></dt>
<dd><p>XTRACE
</p></dd>
</dl>

</div>
<div class="subsection-level-extent" id="LingQing-Zhu-Yi-">
<h4 class="subsection"><span>16.4.3 另请注意<a class="copiable-link" href="#LingQing-Zhu-Yi-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">-A</code></dt>
<dd><p>由 <code class="t">set</code> 使用，用于设置数组
</p></dd>
<dt><code class="t">-b</code></dt>
<dd><p>在命令行中使用，用于指定选项处理的结束
</p></dd>
<dt><code class="t">-c</code></dt>
<dd><p>在命令行中使用，用于指定单一命令
</p></dd>
<dt><code class="t">-m</code></dt>
<dd><p>由 <code class="t">setopt</code> 使用，用于模式匹配选项设置
</p></dd>
<dt><code class="t">-o</code></dt>
<dd><p>在所有地方使用，允许使用长选项名
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p>被 <code class="t">set</code> 用来对位置参数排序
</p></dd>
</dl>
<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Shell-_5185_7f6e_547d_4ee4">

<h2 class="chapter" id="Shell-Nei-Zhi-Ming-Ling-"><span>17 Shell 内置命令<a class="copiable-link" href="#Shell-Nei-Zhi-Ming-Ling-"> &para;</a></span></h2>

<a class="index-entry-id" id="index-Nei-Zhi-Ming-Ling-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Nei-Zhi-"></a>
<p>某些 shell 内置命令会使用个别条目中描述的选项；这些选项在下面的列表中通常被称为 &lsquo;<code class="t">标志</code>&rsquo;，以避免与 shell
选项混淆，后者也可能对内置命令的行为产生影响。 在本介绍性章节中，&lsquo;<code class="t">选项</code>&rsquo; 总是指大多数命令行用户熟悉的命令选项。
</p>
<p>通常情况下，选项为单个字母，前面有一个连字符（<code class="t">-</code>）。 带参数的选项要么紧跟在选项字母之后，要么在空白处之后接受参数，例如， &lsquo;<code class="t">print
-C3 {1..9}</code>&rsquo; 和 &lsquo;<code class="t">print -C 3 {1..9}</code>&rsquo; 是等价的。 选项的参数与命令的参数不同；文档中会说明哪个是哪个。
不带参数的选项可以合并为一个单词，例如， &lsquo;<code class="t">print -rca -- *</code>&rsquo; 和 &lsquo;<code class="t">print -r -c -a -- *</code>&rsquo; 是等价的。
</p>
<p>某些 shell 内置命令的选项也是以 &lsquo;<code class="t">+</code>&rsquo; 开头，而不是以 &lsquo;<code class="t">-</code>&rsquo; 开头。 下面的列表清楚地列出了这些命令。
</p>
<p>选项（及其单个参数（如果有））必须先于非选项参数出现在一组中；一旦找到第一个非选项参数，选项处理就会终止。
</p>
<p>除 &lsquo;<code class="t">echo</code>&rsquo; 和前置命令修饰符之外的所有内置命令，甚至那些没有选项的命令，都可以使用参数 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 来终止选项处理。
这表明后面的词是非选项参数，但在其他情况下会被忽略。 这在命令参数可能以 &lsquo;<code class="t">-</code>&rsquo; 开头的情况下非常有用。 由于历史原因，大多数内置命令（包括
&lsquo;<code class="t">echo</code>&rsquo;）也会为此目的在单独的单词中识别单个 &lsquo;<code class="t">-</code>&rsquo;；请注意，这不是标准的做法，建议使用 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;。
</p>
<dl class="table">
<dt><code class="t">-</code> <var class="var">simple command</var></dt>
<dd><p>请参阅 <a class="ref" href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a>
</p>
</dd>
<dt><a id="index-_002e"></a><span><code class="t">.</code> <var class="var">file</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-_002e"> &para;</a></span></dt>
<dd><p>从 <var class="var">file</var> 中读取命令，并在当前 shell 环境中执行。
</p>
<p>如果 <var class="var">file</var> 不包含斜线，或者 <code class="t">PATH_DIRS</code> 已被设置，shell 会在 <code class="t">$path</code> 的组件中查找包含
<var class="var">file</var> 的目录。 除非 <code class="t">$path</code> 中出现了&lsquo;<code class="t">.</code>&rsquo; ，否则不会读取当前目录下的文件。 如果找到名为
&lsquo;<var class="var">file</var><code class="t">.zwc</code>&rsquo; 的文件，该文件比 <var class="var">file</var> 新，并且是 <var class="var">file</var> 的编译形式（使用
<code class="t">zcompile</code> 内置程序创建），则将从该文件而不是 <var class="var">file</var> 读取命令。
</p>
<p>如果给定了任何参数 <var class="var">arg</var>，它们就会成为位置参数；当 <var class="var">file</var> 执行完毕后，旧的位置参数会被还原。
但是，如果没有给出参数，位置参数仍然是调用上下文中的参数，不会被还原。
</p>
<p>如果 <var class="var">file</var> 未找到，则返回状态为 127；如果 <var class="var">file</var> 找到了，但包含语法错误，则返回状态为
126；否则返回状态为最后执行命令的退出状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Kuo-Zhan-Can-Shu-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Kuo-Zhan-"></a>
<a class="index-entry-id" id="index-Shi-Yao-Ye-Bu-Zuo-"></a>
<a id="index-_003a"></a><span><code class="t">:</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-_003a"> &para;</a></span></dt>
<dd><p>该命令不执行任何操作，但会执行正常的参数扩展，这可能会对 shell 参数产生影响。 返回的退出状态为零。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Bie-Ming-_002c-Ding-Yi-"></a>
<a class="index-entry-id" id="index-Bie-Ming-_002c-Lie-Chu-"></a>
<a id="index-alias"></a><span><code class="t">alias</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">gmrsL</code> ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]<a class="copiable-link" href="#index-alias"> &para;</a></span></dt>
<dd><p>对于每个带有相应 <var class="var">value</var> 的 <var class="var">name</var>，定义一个带有该值的别名。 如果 <var class="var">value</var>
的尾部有空格，则会检查下一个单词的别名扩展情况。 如果存在 <code class="t">-g</code> 标志，则定义全局别名；全局别名即使不出现在命令位置，也会被扩展：
</p>
<div class="example">
<pre class="example-preformatted">% perldoc --help 2&gt;&amp;1 | grep 'built-in functions'
    -f   Search Perl built-in functions
% alias -g HG='--help 2&gt;&amp;1 | grep'
% perldoc HG 'built-in functions'
    -f   Search Perl built-in functions
</pre></div>

<p>如果存在 <code class="t">-s</code> 标志，则定义后缀别名：如果命令行中的命令字格式为 &lsquo;<var class="var">text</var><code class="t">.</code><var class="var">name</var>&rsquo;，其中
<var class="var">text</var> 为任何非空字符串，则该命令字将被文本 &lsquo;<var class="var">value</var> <var class="var">text</var><code class="t">.</code><var class="var">name</var>&rsquo; 替换。
请注意，<var class="var">name</var> 被视为字面字符串，而不是模式。 在这种情况下，<var class="var">value</var> 中的尾部空格并不特殊。 例如
</p>
<div class="example">
<pre class="example-preformatted">alias -s ps='gv --'
</pre></div>

<p>将导致命令  &lsquo;<code class="t">*.ps</code>&rsquo;  扩展为  &lsquo;<code class="t">gv -- *.ps</code>&rsquo;。 由于别名扩展比 globbing 进行得更早，&lsquo;<code class="t">*.ps</code>&rsquo;
随后也将被扩展。 后缀别名与其他别名构成不同的名称空间（因此在上述示例中，仍然可以为命令 <code class="t">ps</code> 创建一个别名），这两组别名永远不会列在一起。
</p>
<p>对于没有 <var class="var">value</var> 的 <var class="var">name</var>，打印 <var class="var">name</var> 的值。 如果没有参数，则打印当前定义的所有别名（后缀别名除外）。
如果给定了 <code class="t">-m</code> 标志，参数将作为模式（应加引号以防止被解释为 glob 模式），并打印与这些模式匹配的别名。 在打印别名时，如果有
<code class="t">-g</code>、<code class="t">-r</code> 或 <code class="t">-s</code> 标志，则分别限制为打印全局别名、常规别名或后缀别名；常规别名既不是全局别名，也不是后缀别名。 使用
&lsquo;<code class="t">+</code>&rsquo; 而不是 &lsquo;<code class="t">-</code>&rsquo; ，或以单个&lsquo;<code class="t">+</code>&rsquo; 结束选项列表，可以防止打印别名的值。
</p>
<p>如果存在 <code class="t">-L</code> 标志，则以适合放入启动脚本的方式打印每个别名。 如果给出的 <var class="var">name</var>（没有
<var class="var">value</var>）没有定义别名，则退出状态为非零。
</p>
<p>有关别名的更多信息，包括常见问题，请参阅 <a class="ref" href="#g_t_522b_540d">别名</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-autoload"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-Zi-Dong-Jia-Zai--1"></a>
<a class="index-entry-id" id="index-Zi-Dong-Jia-Zai-Han-Shu--1"></a>
<a id="index-fpath_002c-Sou-Suo-"></a><span><code class="t">autoload</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">RTUXdkmrtWz</code> ] [ <code class="t">-w</code> ] [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-fpath_002c-Sou-Suo-"> &para;</a></span></dt>
<dd><p>详情请参阅 <a class="ref" href="#g_t_51fd_6570">函数</a> 中的 &lsquo;自动加载函数&rsquo; 部分。 首次引用函数时，将搜索 <code class="t">fpath</code> 参数以查找函数定义。
</p>
<p>如果 <var class="var">name</var> 包含一个绝对路径，函数将被定义为从给定文件加载（像往常一样搜索给定位置的转储文件）。 函数名称是文件的基名（非目录部分）。
如果在给定位置找不到函数，通常会出错；但如果给出选项 <code class="t">-d</code>，则搜索函数时默认使用 <code class="t">$fpath</code>。
如果函数是通过绝对路径加载的，那么从该函数加载的任何标记为 <code class="t">autoload</code> 但没有绝对路径的函数，都会将父函数的加载路径暂时预置为
<code class="t">$fpath</code>。
</p>
<p>如果给出选项 <code class="t">-r</code> 或 <code class="t">-R</code>，则会立即搜索函数，并在内部记录位置，供执行函数时使用；相对路径会使用 <code class="t">$PWD</code> 的值展开。
这样可以防止 <code class="t">$fpath</code> 在调用 <code class="t">autoload</code> 后发生变化。 使用 <code class="t">-r</code>
时，如果函数未找到，则会静默地将其搁置，直到执行为止；如果使用 <code class="t">-R</code>，则会打印错误信息，并在搜索失败后立即终止命令处理，即在
<code class="t">autoload</code> 命令执行时终止，而不是在函数执行时终止。
</p>
<p>标志 <code class="t">-X</code> 只能在 shell 函数内部使用。 它会将调用的函数标记为自动加载，然后立即加载并执行，并将当前的位置参数数组作为参数。
这将替换之前的函数定义。 如果没有找到函数定义，则会打印错误信息，函数将保持未定义状态并标记为自动加载。
如果给定了一个参数，则该参数将被用作查找函数的目录（即不包含函数名称）；如果函数不在给定的位置，则可以结合 <code class="t">-d</code> 选项，将函数搜索默认为
<code class="t">$fpath</code>。
</p>
<p>标志 <code class="t">+X</code> 会尝试将 <var class="var">name</var> 作为自动加载函数加载，但 <em class="emph">不会</em> 执行该函数。 如果函数之前未定义过 <em class="emph">并且</em>
找到了函数的定义，则退出状态为零（成功）。 这不会 <em class="emph">不会</em> 替换函数的任何现有定义。
如果函数已被定义或未找到定义，则退出状态为非零（失败）。 在后一种情况下，函数将保持未定义状态，并标记为自动加载。 如果启用了 ksh
样式的自动加载，创建的函数将包含文件内容以及附加到函数本身的调用，从而在首次调用函数时提供正常的 ksh 自动加载行为。 如果同时给出 <code class="t">-m</code>
标志，则每个 <var class="var">name</var> 都会被视为一个模式，所有已经标记为自动加载的、与该模式匹配的函数都会被加载。
</p>
<p>使用 <code class="t">-t</code> 标志，开启执行跟踪；使用 <code class="t">-T</code>，仅对当前函数开启执行跟踪，在进入任何未开启跟踪的被调用函数时关闭跟踪。
</p>
<p>使用 <code class="t">-U</code> 标志时，在加载函数时会抑制别名扩展。
</p>
<p>使用 <code class="t">-w</code> 标志时，<var class="var">name</var>s 将被视为使用 <code class="t">zcompile</code>
内置程序编译的文件名，其中定义的所有函数都会被标记为自动加载。
</p>
<p>标志 <code class="t">-z</code> 和 <code class="t">-k</code> 分别标记函数将使用 zsh 或 ksh 样式自动加载，如同选项 <code class="t">KSH_AUTOLOAD</code> 未设置或已设置。
这些标志会覆盖加载函数时的选项设置。
</p>
<p>请注意，<code class="t">autoload</code> 命令并不试图确保在加载或执行文件时设置的 shell 选项具有任何特定值。 为此，可以使用 <code class="t">emulate</code>
命令：
</p>
<div class="example">
<pre class="example-preformatted">emulate zsh -c 'autoload -Uz <var class="var">func</var>'
</pre></div>

<p>安排在加载 <var class="var">func</var> 时使用原生 <code class="t">zsh</code> 模拟 shell，在运行 <var class="var">func</var> 时也使用这种模拟。
</p>
<p><code class="t">autoload</code> 的某些功能也由 <code class="t">functions -u</code> 或 <code class="t">functions -U</code> 提供，但 <code class="t">autoload</code>
是一个更全面的接口。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Zuo-Ye-_002c-Hou-Tai-"></a>
<a id="index-bg"></a><span><code class="t">bg</code> [ <var class="var">job</var> ... ]<a class="copiable-link" href="#index-bg"> &para;</a></span></dt>
<dt><var class="var">job</var> ... <code class="t">&amp;</code></dt>
<dd><p>将每个指定的 <var class="var">job</var> 置于后台，如果没有指定，则将当前工作置于后台。
</p>
</dd>
<dt><code class="t">bindkey</code></dt>
<dd><p>参见 <a class="ref" href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Tui-Chu-Xun-Huan-"></a>
<a class="index-entry-id" id="index-Xun-Huan-_002c-Tui-Chu-"></a>
<a id="index-break"></a><span><code class="t">break</code> [ <var class="var">n</var> ]<a class="copiable-link" href="#index-break"> &para;</a></span></dt>
<dd><p>从闭合的 <code class="t">for</code>、<code class="t">while</code>、<code class="t">until</code>、<code class="t">select</code> 或 <code class="t">repeat</code> 循环中退出。如果指定了算术表达式
<var class="var">n</var>，则会中断 <var class="var">n</var> 层，而不是只中断一层。
</p>
</dd>
<dt><a id="index-builtin-1"></a><span><code class="t">builtin</code> <var class="var">name</var> [ <var class="var">args</var> ... ]<a class="copiable-link" href="#index-builtin-1"> &para;</a></span></dt>
<dd><p>使用给定的 <var class="var">args</var> 执行 <var class="var">name</var> 内置命令。
</p>
</dd>
<dt><a id="index-bye"></a><span><code class="t">bye</code><a class="copiable-link" href="#index-bye"> &para;</a></span></dt>
<dd><p>与 <code class="t">exit</code> 相同。
</p>
</dd>
<dt><code class="t">cap</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Mu-Lu-_002c-Gai-Bian-"></a>
<a id="index-cd"></a><span><code class="t">cd</code> [ <code class="t">-qsLP</code> ] [ <var class="var">arg</var> ]<a class="copiable-link" href="#index-cd"> &para;</a></span></dt>
<dt><code class="t">cd</code> [ <code class="t">-qsLP</code> ] <var class="var">old</var> <var class="var">new</var></dt>
<dt><code class="t">cd</code> [ <code class="t">-qsLP</code> ] {<code class="t">+</code>|<code class="t">-</code>}<var class="var">n</var></dt>
<dd><p>更改当前目录。 在第一种形式中，将当前目录更改为 <var class="var">arg</var>，如果未指定 <var class="var">arg</var>，则更改为 <code class="t">$HOME</code> 的值。 如果
<var class="var">arg</var> 是 &lsquo;<code class="t">-</code>&rsquo;，则会更改为前一个目录。
</p>
<p>否则，如果 <var class="var">arg</var> 以斜线开头，则尝试切换到 <var class="var">arg</var> 指定的目录。
</p>
<p>如果 <var class="var">arg</var> 并非以斜线开头，其行为取决于当前目录 &lsquo;<code class="t">.</code>&rsquo;是否出现在 shell 参数 <code class="t">cdpath</code> 包含的目录列表中。
如果没有，则首先尝试更改为当前目录下的 <var class="var">arg</var> 目录，如果失败，但 <code class="t">cdpath</code> 已设置且包含至少一个元素，则尝试依次更改为
<code class="t">cdpath</code> 的每个组件下的 <var class="var">arg</var> 目录，直至成功。 如果 &lsquo;<code class="t">.</code>&rsquo; 出现在 <code class="t">cdpath</code> 中，那么
<code class="t">cdpath</code> 将严格按照顺序进行搜索，这样 &lsquo;<code class="t">.</code>&rsquo; 只会在适当的位置被尝试。
</p>
<p>如果设置了 <code class="t">POSIX_CD</code> 选项，则会修改 <code class="t">cdpath</code> 的测试顺序，具体请参见该选项的文档。
</p>
<p>如果未找到目录，但选项 <code class="t">CDABLE_VARS</code> 已设置，且存在以斜线开头的名为 <var class="var">arg</var> 的参数，则将其值视为目录。
在这种情况下，该参数会被添加到已命名的目录哈希表中。
</p>
<p><code class="t">cd</code> 的第二种形式是用 <var class="var">new</var> 字符串替换当前目录名称中的 <var class="var">old</var> 字符串，并尝试更改为这个新目录。
</p>
<p><code class="t">cd</code> 的第三种形式是从目录堆栈中提取一个条目，并更改为该目录。 形式为 &lsquo;<code class="t">+</code><var class="var">n</var>&rsquo; 的参数从 <code class="t">dirs</code>
命令显示的列表左侧开始计数(从 0 开始)，以此来识别堆栈条目。 形式为 &lsquo;<code class="t">-</code><var class="var">n</var>&rsquo; 的参数从右边开始计数。 如果设置了
<code class="t">PUSHD_MINUS</code> 选项， &lsquo;<code class="t">+</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo; 在此处的含义将互换。 如果设置了 <code class="t">POSIX_CD</code>
选项，<code class="t">cd</code> 的这种形式将不被识别，并被解释为第一种形式。
</p>
<p>如果指定了 <code class="t">-q</code>（quiet）选项，则不会调用钩子函数 <code class="t">chpwd</code> 和数组 <code class="t">chpwd_functions</code> 中的函数。
这对于调用 <code class="t">cd</code> 且不会改变交互式用户所看到的环境非常有用。
</p>
<p>如果指定了 <code class="t">-s</code> 选项，<code class="t">cd</code> 会在给定路径名包含符号链接的情况下拒绝更改当前目录。 如果指定了 <code class="t">-P</code> 选项或设置了
<code class="t">CHASE_LINKS</code> 选项，符号链接将被解析为其真实值。 如果给定了 <code class="t">-L</code> 选项，无论 <code class="t">CHASE_LINKS</code>
选项的状态如何，符号链接都会保留在目录中（而不会被解析）。
</p>
</dd>
<dt><a id="index-chdir"></a><span><code class="t">chdir</code><a class="copiable-link" href="#index-chdir"> &para;</a></span></dt>
<dd><p>与 <code class="t">cd</code> 一样。
</p>
</dd>
<dt><code class="t">clone</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fclone-_6a21_5757">zsh/clone 模块</a>.
</p>
</dd>
<dt><a id="index-command-1"></a><span><code class="t">command</code> [ <code class="t">-pvV</code> ] <var class="var">simple command</var><a class="copiable-link" href="#index-command-1"> &para;</a></span></dt>
<dd><p>简单命令参数将作为外部命令而非函数或内置命令执行。如果设置了 <code class="t">POSIX_BUILTINS</code>
选项，内置命令也会被执行，但它们的某些特殊属性会被抑制。<code class="t">-p</code> 标志会导致搜索默认路径，而不是 <code class="t">$path</code> 中的路径。使用 <code class="t">-v</code>
标志时，<code class="t">command</code> 类似于 <code class="t">whence</code>，而使用 <code class="t">-V</code> 时，则等同于 <code class="t">whence -v</code>。
</p>
<p>另请参阅 <a class="ref" href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a>。
</p>
</dd>
<dt><code class="t">comparguments</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">compcall</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcompctl-_6a21_5757">zsh/compctl 模块</a>.
</p>
</dd>
<dt><code class="t">compctl</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcompctl-_6a21_5757">zsh/compctl 模块</a>.
</p>
</dd>
<dt><code class="t">compdescribe</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">compfiles</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">compgroups</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">compquote</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">comptags</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">comptry</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><code class="t">compvalues</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xun-Huan-_002c-Ji-Xu-"></a>
<a class="index-entry-id" id="index-Ji-Xu-Xun-Huan-"></a>
<a id="index-continue"></a><span><code class="t">continue</code> [ <var class="var">n</var> ]<a class="copiable-link" href="#index-continue"> &para;</a></span></dt>
<dd><p>继续 <code class="t">for</code>、<code class="t">while</code>、<code class="t">until</code>、<code class="t">select</code> 或 <code class="t">repeat</code> 循环的下一次迭代。如果指定了算术表达式
<var class="var">n</var>，则跳出 <var class="var">n</var>-1 循环，继续第 <var class="var">n</var>  个封闭循环。
</p>
</dd>
<dt><a id="index-declare"></a><span><code class="t">declare</code><a class="copiable-link" href="#index-declare"> &para;</a></span></dt>
<dd><p>与 <code class="t">typeset</code> 相同。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Mu-Lu-Zhan-_002c-Da-Yin-"></a>
<a id="index-dirs"></a><span><code class="t">dirs</code> [ <code class="t">-c</code> ] [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-dirs"> &para;</a></span></dt>
<dt><code class="t">dirs</code> [ <code class="t">-lpv</code> ]</dt>
<dd><p>在没有参数的情况下，打印目录栈的内容。 使用 <code class="t">pushd</code> 命令可将目录添加到目录栈，使用 <code class="t">cd</code> 或 <code class="t">popd</code> 命令可将目录移除。
如果指定了参数，则会将参数加载到目录栈，替换原有的参数，并将当前目录推入目录栈。
</p>
<dl class="table">
<dt><code class="t">-c</code></dt>
<dd><p>清空目录栈。
</p>
</dd>
<dt><code class="t">-l</code></dt>
<dd><p>打印完整目录名，而不是使用 <code class="t">~</code> 表达式（<a class="ref" href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a>）。
</p>
</dd>
<dt><code class="t">-p</code></dt>
<dd><p>每行打印一个目录条目。
</p>
</dd>
<dt><code class="t">-v</code></dt>
<dd><p>打印时对堆栈中的目录编号。
</p>
</dd>
</dl>


</dd>
<dt><a class="index-entry-id" id="index-Jin-Yong-Ming-Ling-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Jin-Yong-"></a>
<a id="index-disable"></a><span><code class="t">disable</code> [ <code class="t">-afmprs</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-disable"> &para;</a></span></dt>
<dd><p>暂时禁用名为 <var class="var">name</var> 的哈希表元素或模式。 默认情况下禁用内置命令。 这样就可以使用与内置命令同名的外部命令。 <code class="t">-a</code> 选项会使
<code class="t">disable</code> 作用于常规或全局别名。 <code class="t">-s</code> 选项会使 <code class="t">disable</code> 作用于后缀别名。 通过 <code class="t">-f</code>
选项，<code class="t">disable</code> 将作用于 shell 函数。 通过 <code class="t">-r</code> 选项，<code class="t">disable</code> 将作用于保留字。
在不带参数的情况下，会打印相应哈希表中所有禁用的哈希表元素。 使用 <code class="t">-m</code>
标志时，参数将被视为模式（应加引号以防止其进行文件名扩展），相应哈希表中与这些模式匹配的所有哈希表元素都会被禁用。 禁用对象可以使用
<code class="t">enable</code> 命令启用。
</p>
<p>用选项 <code class="t">-p</code>，<var class="var">name</var> ... 指的是 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中描述的 shell 模式语法元素。
某些元素可以单独禁用，如下所示。
</p>
<p>请注意，选项 <code class="t">EXTENDED_GLOB</code>、<code class="t">KSH_GLOB</code> 和 <code class="t">SH_GLOB</code>
的当前设置不允许的模式将永远无法启用，与此处的设置无关。 例如，如果 <code class="t">EXTENDED_GLOB</code> 未激活，即使未发出&lsquo;<code class="t">disable -p
&quot;^&quot;</code>&rsquo;，模式 <code class="t">^</code> 也不会生效。 下面列出了限制使用该模式的选项设置。 需要注意的是，设置 <code class="t">SH_GLOB</code>
不仅仅会禁用模式，还会产生更广泛的影响，因为某些表达式，特别是涉及括号的表达式，会以不同的方式进行解析。
</p>
<p>可以禁用以下模式；所有字符串都需要在命令行中加注引号，以防止被立即解释为模式，下面显示的这些模式用单引号括起来，以示提醒。
</p>
<dl class="table">
<dt><code class="t">'?'</code></dt>
<dd><p>无论出现在何处，包括在使用 <code class="t">KSH_GLOB</code> 选项时紧跟在括号之前的模式字符 <code class="t">?</code>。
</p>
</dd>
<dt><code class="t">'*'</code></dt>
<dd><p>模式字符 <code class="t">*</code> 出现的任何地方，包括递归 globbing 以及在括号前使用 （用 <code class="t">KSH_GLOB</code>） 时。
</p>
</dd>
<dt><code class="t">'['</code></dt>
<dd><p>字符类。
</p>
</dd>
<dt><code class="t">'&lt;'</code> (<code class="t">NO_SH_GLOB</code>)</dt>
<dd><p>数值范围。
</p>
</dd>
<dt><code class="t">'|'</code> (<code class="t">NO_SH_GLOB</code>)</dt>
<dd><p>分组模式、case 语句或 KSH_GLOB 括弧表达式中的变换（Alternation）。
</p>
</dd>
<dt><code class="t">'('</code> (<code class="t">NO_SH_GLOB</code>)</dt>
<dd><p>使用单一括号分组。 在 <code class="t">KSH_GLOB</code> 中，如果括号是由特殊字符引入的，禁用此功能并不会禁用括号，也不会禁用 glob 修饰符（使用
&lsquo;<code class="t">setopt NO_BARE_GLOB_QUAL</code>&rsquo; 禁用仅使用括号的 glob 修饰符）。
</p>
</dd>
<dt><code class="t">'~'</code> (<code class="t">EXTENDED_GLOB</code>)</dt>
<dd><p>以 <var class="var">A</var><code class="t">~</code><var class="var">B</var> 的形式排除。
</p>
</dd>
<dt><code class="t">'^'</code> (<code class="t">EXTENDED_GLOB</code>)</dt>
<dd><p>以 <var class="var">A</var><code class="t">^</code><var class="var">B</var> 的形式排除。
</p>
</dd>
<dt><code class="t">'#'</code> (<code class="t">EXTENDED_GLOB</code>)</dt>
<dd><p>模式字符 <code class="t">#</code> 出现的地方，既表示重复前一个模式，也表示 globbing 标志。
</p>
</dd>
<dt><code class="t">'?('</code> (<code class="t">KSH_GLOB</code>)</dt>
<dd><p>分组形式  <code class="t">?(</code><var class="var">...</var><code class="t">)</code>。 请注意，如果禁用了 <code class="t">'?'</code>，该功能也会被禁用。
</p>
</dd>
<dt><code class="t">'*('</code> (<code class="t">KSH_GLOB</code>)</dt>
<dd><p>分组形式 <code class="t">*(</code><var class="var">...</var><code class="t">)</code>。 请注意，如果 <code class="t">'*'</code> 被禁用，该功能也被禁用。
</p>
</dd>
<dt><code class="t">'+('</code> (<code class="t">KSH_GLOB</code>)</dt>
<dd><p>分组形式 <code class="t">+(</code><var class="var">...</var><code class="t">)</code>.
</p>
</dd>
<dt><code class="t">'!('</code> (<code class="t">KSH_GLOB</code>)</dt>
<dd><p>分组形式 <code class="t">!(</code><var class="var">...</var><code class="t">)</code>。
</p>
</dd>
<dt><code class="t">'@('</code> (<code class="t">KSH_GLOB</code>)</dt>
<dd><p>分组形式 <code class="t">@(</code><var class="var">...</var><code class="t">)</code>。
</p>
</dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-jobs_002c-disowning-1"></a>
<a id="index-disown"></a><span><code class="t">disown</code> [ <var class="var">job</var> ... ]<a class="copiable-link" href="#index-disown"> &para;</a></span></dt>
<dt><var class="var">job</var> ... <code class="t">&amp;|</code></dt>
<dt><var class="var">job</var> ... <code class="t">&amp;!</code></dt>
<dd><p>从作业表中删除指定的 <var class="var">job</var>；shell 将不再报告这些作业的状态，如果在这些作业运行或停止的情况下尝试退出交互式 shell，shell
也不会抱怨。 如果未指定 <var class="var">job</var>，则删除当前作业。
</p>
<p>如果 <var class="var">job</var>s 当前已停止运行，且 <code class="t">AUTO_CONTINUE</code> 选项未设置，系统将打印一条警告信息，说明如何在 <var class="var">job</var>
被取消所有权后使其继续运行。 如果使用了后两种形式之一，<var class="var">job</var>s 将自动运行，与 <code class="t">AUTO_CONTINUE</code> 选项的设置无关。
</p>
</dd>
<dt><a id="index-echo"></a><span><code class="t">echo</code> [ <code class="t">-neE</code> ] [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-echo"> &para;</a></span></dt>
<dd><p>将每个 <var class="var">arg</var> 写入标准输出，每个参数之间用空格隔开。 如果没有 <code class="t">-n</code> 标志，则在末尾打印换行。 <code class="t">echo</code>
可以识别以下转义序列：
</p>
<dl class="table">
<dt><code class="t">\a</code></dt>
<dd><p>响铃字符
</p></dd>
<dt><code class="t">\b</code></dt>
<dd><p>退格键
</p></dd>
<dt><code class="t">\c</code></dt>
<dd><p>抑制后续字符和最后的换行符
</p></dd>
<dt><code class="t">\e</code></dt>
<dd><p>转义
</p></dd>
<dt><code class="t">\f</code></dt>
<dd><p>分页符（form feed）
</p></dd>
<dt><code class="t">\n</code></dt>
<dd><p>换行符
</p></dd>
<dt><code class="t">\r</code></dt>
<dd><p>回车
</p></dd>
<dt><code class="t">\t</code></dt>
<dd><p>水平制表符
</p></dd>
<dt><code class="t">\v</code></dt>
<dd><p>垂直制表符
</p></dd>
<dt><code class="t">\\</code></dt>
<dd><p>反斜杠
</p></dd>
<dt><code class="t">\0</code><var class="var">NNN</var></dt>
<dd><p>八进制字符代码
</p></dd>
<dt><code class="t">\x</code><var class="var">NN</var></dt>
<dd><p>十六进制字符代码
</p></dd>
<dt><code class="t">\u</code><var class="var">NNNN</var></dt>
<dd><p>十六进制 unicode 字符代码
</p></dd>
<dt><code class="t">\U</code><var class="var">NNNNNNNN</var></dt>
<dd><p>十六进制 unicode 字符代码
</p></dd>
</dl>

<a class="index-entry-id" id="index-BSD_005fECHO_002c-use-of"></a>
<p><code class="t">-E</code> 标志或 <code class="t">BSD_ECHO</code> 选项可用于禁用这些转义序列。 在后一种情况下，可以使用 <code class="t">-e</code> 标志来启用它们。
</p>
<p>请注意，为了符合标准，双破折号不会终止选项处理，而是直接打印出来。
然而，单破折号会终止选项处理，因此第一个破折号（可能是选项后面的破折号）不会打印，但后面的所有内容都会作为参数打印。 单破折号行为与其他 shell
不同。 如需更加可移植的文本打印方式，请参阅 <code class="t">printf</code>；如需在 zsh 中更可控的文本打印方式，请参阅 <code class="t">print</code>。
</p>
</dd>
<dt><code class="t">echotc</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002ftermcap-_6a21_5757">zsh/termcap 模块</a>。
</p>
</dd>
<dt><code class="t">echoti</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fterminfo-_6a21_5757">zsh/terminfo 模块</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Jian-Rong-Xing-_002c-sh"></a>
<a class="index-entry-id" id="index-Jian-Rong-Xing-_002c-ksh"></a>
<a class="index-entry-id" id="index-Jian-Rong-Xing-_002c-csh"></a>
<a class="index-entry-id" id="index-sh_002c-Jian-Rong-Xing-"></a>
<a class="index-entry-id" id="index-ksh_002c-Jian-Rong-Xing-"></a>
<a class="index-entry-id" id="index-csh_002c-Jian-Rong-Xing-"></a>
<a id="index-emulate"></a><span><code class="t">emulate</code> [ <code class="t">-lLR</code> ] [ {<code class="t">zsh</code>|<code class="t">sh</code>|<code class="t">ksh</code>|<code class="t">csh</code>} [ <var class="var">flags</var> ... ] ]<a class="copiable-link" href="#index-emulate"> &para;</a></span></dt>
<dd><p>不带任何参数打印当前模拟模式。
</p>
<p>使用单参数设置 zsh 选项，以尽可能模拟指定的 shell。 <cite class="cite">csh</cite> 将不会被完全模拟。 如果参数不是上面列出的
shell，<code class="t">zsh</code> 将作为默认值使用；更确切地说，对参数进行的测试与启动时根据 shell 名称确定模拟的测试相同，参见 <a class="ref" href="#g_t_517c_5bb9_6027">兼容性</a> 。
除了设置 shell 选项，该命令还能恢复模式启用的原始状态，就像使用 <code class="t">enable -p</code> 启用所有模式一样。
</p>
<p>如果 <code class="t">emulate</code> 命令出现在使用 <code class="t">functions -t</code>
标记为执行跟踪的函数内部，那么无论仿真模式或其他选项如何，<code class="t">xtrace</code> 选项都将开启。 请注意，通过 <code class="t">.</code>、<code class="t">source</code> 或
<code class="t">eval</code> 命令在函数内部执行的代码不被视为直接从函数运行，因此不会引发此行为。
</p>
<p>如果使用 <code class="t">-R</code>
开关，除了某些描述交互式环境的选项外，所有可设置的选项都将重置为与指定仿真模式相对应的默认值；否则，只有那些可能导致脚本和函数的可移植性问题的选项才会被修改。
如果给定了 <code class="t">-L</code>开关，选项 <code class="t">LOCAL_OPTIONS</code>、<code class="t">LOCAL_PATTERNS</code> 和 <code class="t">LOCAL_TRAPS</code>
也将被设置，从而导致 <code class="t">emulate</code> 命令和任何 <code class="t">setopt</code>、<code class="t">disable -p</code> 或 <code class="t">enable -p</code> 以及
<code class="t">trap</code> 命令的效果与紧随其后的 shell 函数（如果有的话）本地相关； 通常，除了 <code class="t">ksh</code>
之外，这些选项在所有模拟模式下都是关闭的。<code class="t">-L</code> 开关与 <var class="var">flags</var> 中的 <code class="t">-c</code> 相互排斥。
</p>
<p>如果只有一个参数，且给出了 <code class="t">-l</code> 开关，则会列出需要设置或取消设置的选项（后者用前缀 &lsquo;<code class="t">no</code>&rsquo; 表示）。 <code class="t">-l</code> 可以与
<code class="t">-L</code> 或 <code class="t">-R</code> 结合使用，列表会以适当方式修改。
请注意，该列表并不取决于当前的选项设置，也就是说，它包括所有原则上可能发生变化的选项，而不仅仅是那些实际会发生变化的选项。
</p>
<p><var class="var">flags</var> 可以是 <a class="ref" href="#g_t_8c03_7528">调用</a> 中描述的任何调用时标志，但不能使用 &lsquo;<code class="t">-o EMACS</code>&rsquo; 和 &lsquo;<code class="t">-o VI</code>&rsquo; 。
在某些情况下， &lsquo;<code class="t">+r</code>&rsquo;/&lsquo;<code class="t">+o RESTRICTED</code>&rsquo; 等标志可能被禁止使用。
</p>
<p>如果 <code class="t">-c</code> <var class="var">arg</var> 出现在 <var class="var">flags</var> 中，则 <var class="var">arg</var> 将在所请求的仿真暂时生效时进行求值。
在这种情况下，在 <code class="t">emulate</code> 返回之前，仿真模式和所有选项都会恢复到之前的值。 <code class="t">-R</code> 开关可以放在要模拟的 shell
名称之前；注意这与 <var class="var">flags</var> 中的 <code class="t">-R</code> 意义不同。
</p>
<p>使用 <code class="t">-c</code> 可以为在求值表达式中定义的函数启用  &lsquo;sticky&rsquo; 仿真模式：仿真模式会随之与函数关联，因此在执行函数时，仿真模式（如果存在
<code class="t">-R</code> 开关，则尊重 <code class="t">-R</code> 开关）和所有选项都会在进入函数前设置（并清除模式禁用），并在退出后恢复状态。 如果调用该函数时粘性（
sticky）仿真已经生效（可以在 &lsquo;<code class="t">emulate</code> <var class="var">shell</var> <code class="t">-c</code>&rsquo;
中调用，也可以在其他具有相同粘性模拟的函数中调用），则函数的进入和退出不会导致选项发生变化（标准处理（如 <code class="t">LOCAL_OPTIONS</code>
选项）除外）。 这同样适用于在粘性仿真中标记为自动加载的函数；在加载函数和运行函数时，都会应用相应的选项集。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">emulate sh -c 'fni() { setopt cshnullglob; }
fno() { fni; }'
fno
</pre></div>

<p><code class="t">fni</code> 和 <code class="t">fno</code> 这两个函数是用粘性 <code class="t">sh</code> 仿真定义的。 执行 <code class="t">fno</code>后，与仿真相关的选项将被设置为 <code class="t">sh</code>
中的值。 <code class="t">fno</code> 然后调用 <code class="t">fni</code>；由于 <code class="t">fni</code> 也被标记为粘性 <code class="t">sh</code> 仿真，因此在进入或退出 <code class="t">fno</code>
时，选项不会发生变化。 因此，被 <code class="t">sh</code> 模拟关闭的 <code class="t">cshnullglob</code> 选项将在 <code class="t">fni</code> 中开启，并在返回 <code class="t">fno</code>
时保持不变。 从 <code class="t">fno</code> 退出后，仿真模式和所有选项将恢复到进入临时仿真前的状态。
</p>
<p>对于在合适的环境中执行为其他 shell 设计的代码这一预期目的来说，上述文件通常已经足够。 更详细的规则在后面。
</p><dl class="table">
<dt>1.</dt>
<dd><p>由 &lsquo;<code class="t">emulate</code> <var class="var">shell</var> <code class="t">-c</code>&rsquo;  提供的粘性仿真环境与被标记为粘性仿真的函数的入口所提供的环境完全相同。
因此，举例来说，在具有粘性仿真的函数中定义的子函数将继承粘性仿真。
</p></dd>
<dt>2.</dt>
<dd><p>在进入或退出未标记为粘性仿真的函数时，除了正常情况下会发生的变化外，选项不会发生任何变化，即使这些函数是在粘性仿真中调用的。
</p></dd>
<dt>3.</dt>
<dd><p>对于标记为 <code class="t">autoload</code> 的函数或 <code class="t">zcompile</code> 命令创建的字码中的函数，不提供特殊处理。
</p></dd>
<dt>4.</dt>
<dd><p><code class="t">emulate</code> 的 <code class="t">-R</code> 开关的存在与否对应不同的粘性仿真模式，因此，例如，&lsquo;<code class="t">emulate sh
-c</code>&rsquo;、&lsquo;<code class="t">emulate -R sh -c</code>&rsquo; 和 &lsquo;<code class="t">emulate csh -c</code>&rsquo; 被视为三种不同的粘性仿真。
</p></dd>
<dt>5.</dt>
<dd><p>除了基本仿真外，提供的 shell 选项不同也意味着粘性仿真不同，例如，&lsquo;<code class="t">emulate zsh -c</code>&rsquo; 和 &lsquo;<code class="t">emulate zsh
-o cbases -c</code>&rsquo; 被视为不同的粘性仿真。
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Qi-Yong-Ming-Ling-"></a>
<a class="index-entry-id" id="index-Ming-Ling-_002c-Qi-Yong-"></a>
<a id="index-enable"></a><span><code class="t">enable</code> [ <code class="t">-afmprs</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-enable"> &para;</a></span></dt>
<dd><p>启用 <var class="var">name</var>d 哈希表元素，可能是之前使用 <code class="t">disable</code> 禁用了该元素。 默认情况下启用内置命令。 <code class="t">-a</code> 选项会使
<code class="t">enable</code> 作用于常规或全局别名。 <code class="t">-s</code> 选项会使 <code class="t">enable</code> 作用于后缀别名。 通过 <code class="t">-f</code>
选项，<code class="t">enable</code> 可以使用 shell 函数。 通过 <code class="t">-r</code> 选项，<code class="t">enable</code> 可以使用保留字。
在不带参数的情况下，会打印相应哈希表中所有已启用的哈希表元素。 使用 <code class="t">-m</code>
标志时，参数被视为模式（应加引号），相应哈希表中与这些模式匹配的所有哈希表元素都会被启用。 可以使用 <code class="t">disable</code> 内置命令禁用已启用的对象。
</p>
<p><code class="t">enable -p</code> 可以重新启用 <code class="t">disable -p</code> 禁用的模式。 请注意，它不会覆盖 globbing 选项；例如，除非同时设置了
<code class="t">EXTENDED_GLOB</code> 选项，否则 &lsquo;<code class="t">enable -p &quot;~&quot;</code>&rsquo; 不会使 <code class="t">~</code> 模式字符生效。
要启用所有可能的模式（以便使用 <code class="t">disable -p</code> 单独禁用它们），请使用  &lsquo;<code class="t">setopt EXTENDED_GLOB
KSH_GLOB NO_SH_GLOB</code>&rsquo;。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Ba-Can-Shu-Dang-Ming-Ling-Zhi-Xing-"></a>
<a id="index-eval"></a><span><code class="t">eval</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-eval"> &para;</a></span></dt>
<dd><p>将参数作为输入读入 shell，并在当前 shell 进程中执行产生的命令。 返回状态与 shell 直接执行命令的状态相同；如果没有
<var class="var">args</var> 或不包含命令（即空字符串或空白），则返回状态为零。
</p>
</dd>
<dt><code class="t">exec</code> [ <code class="t">-cl</code> ] [ <code class="t">-a</code> <var class="var">argv0</var> ] [ <var class="var">command</var> [ <var class="var">arg</var> ... ] ]</dt>
<dd><p>用 <var class="var">command</var> 替换当前 shell，而不是分叉。 如果 <var class="var">command</var> 是 shell 内置命令或 shell 函数，则
shell 会执行该命令，并在命令完成后退出。
</p>
<p>使用 <code class="t">-c</code> 清除环境；使用 <code class="t">-l</code> 在执行命令的 <code class="t">argv[0]</code> 字符串前加上 <code class="t">-</code>（模拟登录 shell）；使用
<code class="t">-a</code> <var class="var">argv0</var> 设置所执行命令的 <code class="t">argv[0]</code> 字符串。 参见 <a class="ref" href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a>。
</p>
<p>如果设置了 <code class="t">POSIX_BUILTINS</code> 选项，<var class="var">command</var> 将永远不会被解释为 shell 内置命令或 shell 函数。
这意味着其他命令前修饰符，如 <code class="t">builtin</code> 和 <code class="t">noglob</code> 也不会在 shell 中被解释。 因此 <var class="var">command</var>
总是通过搜索命令路径找到。
</p>
<a class="index-entry-id" id="index-Zhong-Ding-Xiang-_002c-Dang-Qian-shell-De-I_002fO"></a>
<p>如果省略了 <var class="var">command</var>，但指定了重定向，那么重定向将在当前 shell 中生效。
</p>
</dd>
<dt><a id="index-exit"></a><span><code class="t">exit</code> [ <var class="var">n</var> ]<a class="copiable-link" href="#index-exit"> &para;</a></span></dt>
<dd><p>使用算术表达式 <var class="var">n</var> 指定的退出状态退出 shell；如果未指定退出状态，则使用最后执行的命令的退出状态。
<a class="index-entry-id" id="index-IGNORE_005fEOF_002c-use-of"></a>
除非设置了 <code class="t">IGNORE_EOF</code> 选项，否则 EOF 条件也会导致 shell 退出。
</p>
<p>请参阅 <a class="ref" href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a> 末尾的注释，了解 <code class="t">exit</code> 命令与作业之间可能存在的意外交互。
</p>
</dd>
<dt><a id="index-export-1"></a><span><code class="t">export</code> [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]<a class="copiable-link" href="#index-export-1"> &para;</a></span></dt>
<dd><p>指定的 <var class="var">name</var>s 将被标记为自动导出到后续执行命令的环境中。 等同于 <code class="t">typeset -gx</code>。
如果指定的参数不存在，则会在全局范围内创建它。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Bu-Zuo-Ren-He-Shi-_002c-Bu-Cheng-Gong-"></a>
<a id="index-false"></a><span><code class="t">false</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-false"> &para;</a></span></dt>
<dd><p>不做任何事并返回退出状态1 。
</p>
<a class="index-entry-id" id="index-fc"></a>
<a class="index-entry-id" id="index-Li-Shi-_002c-Bian-Ji-"></a>
<a class="index-entry-id" id="index-Bian-Ji-Li-Shi-"></a>

</dd>
<dt><code class="t">fc</code> [ <code class="t">-e</code> <var class="var">ename</var> ] [ <code class="t">-s</code> ] [ <code class="t">-LI</code> ] [ <code class="t">-m</code> <var class="var">match</var> ] [ <var class="var">old</var><code class="t">=</code><var class="var">new</var> ... ] [ <var class="var">first</var> [ <var class="var">last</var> ] ]</dt>
<dt><code class="t">fc -l </code>[ <code class="t">-LI</code> ] [ <code class="t">-nrdfEiD</code> ] [ <code class="t">-t</code> <var class="var">timefmt</var> ] [ <code class="t">-m</code> <var class="var">match</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <var class="var">old</var><code class="t">=</code><var class="var">new</var> ... ] [ <var class="var">first</var> [ <var class="var">last</var> ] ]</dt>
<dt><code class="t">fc -p </code>[ <code class="t">-a</code> ] [ <var class="var">filename</var> [ <var class="var">histsize</var> [ <var class="var">savehistsize</var> ] ] ]</dt>
<dt><code class="t">fc</code> <code class="t">-P</code></dt>
<dt><code class="t">fc</code> <code class="t">-ARWI</code> [ <var class="var">filename</var> ]</dt>
<dd><p><code class="t">fc</code> 命令控制交互式历史机制。 请注意，只有在 shell 是交互式的情况下，才会读写历史选项。 这通常是自动检测到的，但也可以通过在启动
shell 时设置 <code class="t">interactive</code> 选项来强制执行。
</p>
<p>该命令的前两种形式是从历史记录列表中选择 <var class="var">first</var> 至 <var class="var">last</var> 的一系列事件。 参数 <var class="var">first</var> 和
<var class="var">last</var> 可以指定为数字或字符串。 负数将用作当前历史事件编号的偏移量。 字符串则指定从给定字符串开始的最新事件。 所有替换
<var class="var">old</var><code class="t">=</code><var class="var">new</var> 都将作用在事件文本中（如果有的话）。
</p>
<p>可以通过以下标志进一步缩小用数字选择的事件范围。
</p><dl class="table">
<dt><code class="t">-I</code></dt>
<dd><p>仅限于内部事件（非来自 <code class="t">$HISTFILE</code> 的事件）
</p></dd>
<dt><code class="t">-L</code></dt>
<dd><p>只限制本地事件（不包括来自其他 shell 的事件，参见 <a class="ref" href="#g_t_9009_9879_8bf4_660e">选项说明</a> 中的 <code class="t">SHARE_HISTORY</code> &ndash; 注意
<code class="t">$HISTFILE</code> 在启动时读取，会被视为本地事件）
</p></dd>
<dt><code class="t">-m</code></dt>
<dd><p>将第一个参数作为模式（应加引号），只有符合该模式的历史事件才会被考虑
</p></dd>
</dl>

<p>如果未指定 <var class="var">first</var>，则将设置为-1（最新事件），如果给定了 <code class="t">-l</code> 标志，则将设置为-16。 如果未指定
<var class="var">last</var>，则会将其设置为 <var class="var">first</var>，如果给定了 <code class="t">-l</code> 标志，则会将其设置为-1。
不过，如果当前事件已使用&lsquo;<code class="t">print -s</code>&rsquo; 或 &lsquo;<code class="t">fc -R</code>&rsquo; 向历史记录添加了条目，那么 <code class="t">-l</code> 的默认 <var class="var">last</var>
将包含当前事件开始后所有新的历史记录条目。
</p>
<p>如果给出 <code class="t">-l</code> 标志，则会在标准输出中列出生成的事件。 否则，将在包含这些历史事件的文件上调用 <code class="t">-e</code> <var class="var">ename</var>
所指定的编辑程序。 如果未给出 <code class="t">-e</code>，则使用参数 <code class="t">FCEDIT</code> 的值；如果未设置该参数，则使用参数 <code class="t">EDITOR</code>
的值；如果未设置该参数，则使用内置缺省值，通常是 &lsquo;<code class="t">vi</code>&rsquo;。 如果 <var class="var">ename</var> 为 &lsquo;<code class="t">-</code>&rsquo;，则不调用编辑器。
编辑完成后，将执行已编辑的命令。
</p>
<p>标志 &lsquo;<code class="t">-s</code>&rsquo; 等同于 &lsquo;<code class="t">-e -</code>&rsquo;。 标志 <code class="t">-r</code> 会颠倒事件的顺序，而标志 <code class="t">-n</code> 则会在列出时抑制事件编号。
</p>
<p>列出时也是，
</p><dl class="table">
<dt><code class="t">-d</code></dt>
<dd><p>打印每个事件的时间戳
</p></dd>
<dt><code class="t">-f</code></dt>
<dd><p>以美国格式 &lsquo;<var class="var">MM</var><code class="t">/</code><var class="var">DD</var><code class="t">/</code><var class="var">YY</var> <var class="var">hh</var><code class="t">:</code><var class="var">mm</var>&rsquo; ，打印完整的时间日期戳
</p></dd>
<dt><code class="t">-E</code></dt>
<dd><p>以欧洲格式 &lsquo;<var class="var">dd</var><code class="t">.</code><var class="var">mm</var><code class="t">.</code><var class="var">yyyy</var> <var class="var">hh</var><code class="t">:</code><var class="var">mm</var>&rsquo;
，打印完整的时间日期戳
</p></dd>
<dt><code class="t">-i</code></dt>
<dd><p>以 ISO8601 格式 &lsquo;<var class="var">yyyy</var><code class="t">-</code><var class="var">mm</var><code class="t">-</code><var class="var">dd</var> <var class="var">hh</var><code class="t">:</code><var class="var">mm</var>&rsquo;
打印完整的时间日期戳
</p></dd>
<dt><code class="t">-t</code> <var class="var">fmt</var></dt>
<dd><p>打印指定格式的时间和日期戳；<var class="var">fmt</var> 使用 strftime 函数格式化，并使用 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a> 中针对
<code class="t">%D{</code><var class="var">string</var><code class="t">}</code> 提示符格式描述的 zsh 扩展。 生成的格式化字符串不得超过 256 个字符，否则将无法打印
</p>
</dd>
<dt><code class="t">-D</code></dt>
<dd><p>打印经过时间；可与上述选项之一结合使用
</p></dd>
</dl>

<a class="index-entry-id" id="index-Li-Shi-_002c-Zhan-"></a>
<a class="index-entry-id" id="index-Zhan-_002c-Li-Shi-"></a>
<p>&lsquo;<code class="t">fc -p</code>&rsquo; 会将当前历史列表推入栈，并切换到新的历史列表。 如果同时指定了 <code class="t">-a</code>
选项，当退出当前函数作用域时，历史列表将自动弹出，这比创建一个陷阱函数来手动调用 &lsquo;<code class="t">fc -P</code>&rsquo; 要好得多。
如果未指定参数，则历史列表为空，<code class="t">$HISTFILE</code> 取消设置，<code class="t">$HISTSIZE</code> 和 <code class="t">$SAVEHIST</code> 设置为它们的默认值。
如果指定了一个参数，<code class="t">$HISTFILE</code> 将设置为那个文件名，<code class="t">$HISTSIZE</code> 和 <code class="t">$SAVEHIST</code>
保持不变，并读入历史文件（如果存在）以初始化新列表。 如果指定了第二个参数，<code class="t">$HISTSIZE</code> 和
<code class="t">$SAVEHIST</code>将被设置为指定的数值。 最后，如果指定了第三个参数，<code class="t">$SAVEHIST</code> 将被设置为与 <code class="t">$HISTSIZE</code>
不同的值。 您可以随意更改新历史记录列表的这些环境值，以便对新历史记录列表进行操作。
</p>
<p>&lsquo;<code class="t">fc -P</code>&rsquo; 会将历史列表弹回到 &lsquo;<code class="t">fc -p</code>&rsquo; 保存的旧列表。 当前列表会在销毁前保存到 <code class="t">$HISTFILE</code>
中（当然，前提是 <code class="t">$HISTFILE</code> 和 <code class="t">$SAVEHIST</code> 设置得当）。 <code class="t">$HISTFILE</code>、<code class="t">$HISTSIZE</code> 和
<code class="t">$SAVEHIST</code>的值会恢复到调用 &lsquo;<code class="t">fc -p</code>&rsquo; 时的值。 需要注意的是，这种恢复可能与将这些变量设置为 &quot;本地
&quot;变量相冲突，因此最好避免在使用 &lsquo;<code class="t">fc -p</code>&rsquo; 的函数中对这些变量进行本地声明。
另一个有保障的安全组合是在函数顶层声明这些变量为局部变量，并与 &lsquo;<code class="t">fc -p</code>&rsquo; 一起使用自动选项 (<code class="t">-a</code>)。
最后需要注意的是，如果需要在函数退出前手动弹出标记为自动弹出的推送，也是合法的。
</p>
<a class="index-entry-id" id="index-Li-Shi-_002c-WenJian-"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Li-Shi-"></a>
<p>&lsquo;<code class="t">fc -R</code>&rsquo; 从指定文件读取历史记录，&lsquo;<code class="t">fc -W</code>&rsquo; 将历史记录写入指定文件，&lsquo;<code class="t">fc -A</code>&rsquo; 将历史记录追加到指定文件。
如果没有指定文件名，则假定使用 <code class="t">$HISTFILE</code>。 如果在 <code class="t">-R</code> 中添加 <code class="t">-I</code> 选项，则只会添加内部历史列表中尚未包含的事件。
如果 <code class="t">-I</code> 选项被添加到 <code class="t">-A</code> 或 <code class="t">-W</code> 中，则只会添加/写入上次增量添加/写入历史文件后新增的事件。
在任何情况下，创建的文件条目都不会超过 <code class="t">$SAVEHIST</code> 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Zuo-Ye-_002c-Qian-Tai-"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Hui-Fu-"></a>
<a id="index-fg"></a><span><code class="t">fg</code> [ <var class="var">job</var> ... ]<a class="copiable-link" href="#index-fg"> &para;</a></span></dt>
<dt><var class="var">job</var> ...</dt>
<dd><p>依次将指定的 <var class="var">job</var> 置于前台。 如果未指定 <var class="var">job</var>，则恢复当前作业。
</p>
</dd>
<dt><a id="index-float"></a><span><code class="t">float</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">Hghlprtux</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">EFLRZ</code> [ <var class="var">n</var> ] ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]<a class="copiable-link" href="#index-float"> &para;</a></span></dt>
<dd><p>等同于 <code class="t">typeset -E</code>，但不允许使用与浮点数无关的选项。
</p>
</dd>
<dt><a id="index-Han-Shu--1"></a><span><code class="t">functions</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">UkmtTuWz</code> ] [ <code class="t">-x</code> <var class="var">num</var> ] [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-Han-Shu--1"> &para;</a></span></dt>
<dt><code class="t">functions -c</code> <var class="var">oldfn</var> <var class="var">newfn</var></dt>
<dt><code class="t">functions -M</code> [<code class="t">-s</code>] <var class="var">mathfn</var> [ <var class="var">min</var> [ <var class="var">max</var> [ <var class="var">shellfn</var> ] ] ]</dt>
<dt><code class="t">functions -M</code> [ <code class="t">-m</code> <var class="var">pattern</var> ... ]</dt>
<dt><code class="t">functions +M</code> [ <code class="t">-m</code> ] <var class="var">mathfn</var> ...</dt>
<dd><p>等同于 <code class="t">typeset -f</code>，但 <code class="t">-c</code>、<code class="t">-x</code>、<code class="t">-M</code> 和 <code class="t">-W</code> 选项除外。 关于 <code class="t">functions -u</code>
和 <code class="t">functions -U</code>，请参见 <code class="t">autoload</code>，它提供了额外的选项。 关于 <code class="t">functions -t</code> 和
<code class="t">functions -T</code>，请参见 <code class="t">typeset -f</code>。
</p>
<p><code class="t">-x</code> 选项表示任何函数的输出都将以开头的制表符作为缩进，这些缩进由 shell 添加，用于显示语法结构，并扩展为指定数量 <var class="var">num</var>
个空格。<var class="var">num</var> 也可以为 0，以抑制所有缩进。
</p>
<p><code class="t">-W</code> 选项仅为指名的函数开启 <code class="t">WARN_NESTED_VAR</code> 选项。 除非被调用函数也具有 <code class="t">-W</code>
属性，否则该选项会在嵌套函数（无名函数除外）的起始位置关闭。
</p>
<p><code class="t">-c</code> 选项会将 <var class="var">oldfn</var> 复制到 <var class="var">newfn</var> 中。 内部通过引用计数有效地处理复制。 如果 <var class="var">oldfn</var>
被标记为自动加载，则会首先加载，如果加载失败，则复制失败。 随后可以重新定义其中一个函数，而不影响另一个函数。 一个典型的惯用手法是
<var class="var">oldfn</var> 是一个库 shell 函数的名称，重新定义后调用 <code class="t">newfn</code>，从而安装了该函数的修改版本。
</p>
<p><em class="emph">The </em><code class="t">-M</code><em class="emph"> and </em><code class="t">+M</code><em class="emph"> flags</em>
<a class="index-entry-id" id="index-Ding-Yi-Shu-XueHan-Shu-"></a>
<a class="index-entry-id" id="index-Han-Shu-_002c-Ding-Yi-Shu-XueDe-"></a>
</p>
<p><code class="t">-M</code> 选项不得与 <code class="t">typeset -f</code> 处理的任何选项结合使用。
</p>
<p><code class="t">functions -M</code> <var class="var">mathfn</var> 将 <var class="var">mathfn</var>
定义为一个数学函数的名称，该函数可用于所有形式的算术表达式；参见 <a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>。 默认情况下，<var class="var">mathfn</var>
可以接受任意多个逗号分隔的参数。 如果给出 <var class="var">min</var>，则必须有 <var class="var">min</var> 个参数；如果同时给出 <var class="var">min</var> 和
<var class="var">max</var>，则必须至少有 <var class="var">min</var> 个参数，最多有 <var class="var">max</var> 个参数。 <var class="var">max</var> 可以为 -1 表示没有上限。
</p>
<p>默认情况下，函数由同名的 shell 函数实现；如果指定了 <var class="var">shellfn</var>，则会给出相应 shell 函数的名称，而
<var class="var">mathfn</var> 仍然是算术表达式中使用的名称。 如果选项 <code class="t">FUNCTION_ARGZERO</code> 有效，则 <code class="t">$0</code> 中的函数名称为
<var class="var">mathfn</var>（而不是通常的 <var class="var">shellfn</var>）。 shell 函数中的位置参数与数学函数调用的参数相对应。
</p>
<p>shell 函数内部最后一个算术表达式的求值结果给出了数学函数的结果。这不仅限于形式为  <code class="t">$((</code><var class="var">...</var><code class="t">))</code>
的算术替换，还包括以任何其他方式计算的算术表达式，包括通过 <code class="t">let</code> 内置命令，通过 <code class="t">((</code><var class="var">...</var><code class="t">))</code> 语句，甚至通过
<code class="t">return</code> 内置命令和数组下标来进行计算。因此，在计算函数结果之后执行算术计算的语法结构必须小心使用。例如
</p>
<a class="index-entry-id" id="index-zmath_005fcube"></a>
<a class="index-entry-id" id="index-cube"></a>
<div class="example">
<pre class="example-preformatted"># WRONG
zmath_cube() {
  (( $1 * $1 * $1 ))
  return 0
}
functions -M cube 1 1 zmath_cube
print $(( cube(3) ))
</pre></div>

<p>由于使用了 <code class="t">return</code>，因此将打印 &lsquo;<code class="t">0</code>&rsquo;。
</p>
<p>注释掉 <code class="t">return</code> 会导致另一个问题： <code class="t">((</code><var class="var">...</var><code class="t">))</code>  语句将成为函数的最后一条语句，因此只要函数的
<em class="emph">arithmetic result</em>  恰好为零（数值上），函数的  <em class="emph">return status</em> (<code class="t">$?</code>)
就会为非零（表示失败）：
</p>
<div class="example">
<pre class="example-preformatted"># WRONG
zmath_cube() {
  (( $1 * $1 * $1 ))
}
functions -M cube 1 1 zmath_cube
print $(( cube(0) ))
</pre></div>

<p>相反，可以使用 <code class="t">true</code> 内置函数：
</p>
<div class="example">
<pre class="example-preformatted"># RIGHT
zmath_cube() {
  (( $1 * $1 * $1 ))
  true
}
functions -M cube 1 1 zmath_cube
print $(( cube(3) ))
</pre></div>

<p>如果在 <code class="t">functions -M</code> 的基础上给定了附加选项
<code class="t">-s</code>，那么函数的参数就是一个单独的字符串：开头括号和匹配的结尾括号之间的任何内容都将作为一个单独的参数传递给函数，即使其中包含逗号或空白。
因此，如果给定了最小参数和最大参数，则这两个参数必须为 1。 空参数列表将作为零长度字符串传递。 因此，下面的字符串函数接收单个参数（包括逗号）并打印
11：
</p>
<div class="example">
<pre class="example-preformatted">stringfn() { (( $#1 )); true }
functions -Ms stringfn
print $(( stringfn(foo,bar,rod) ))
</pre></div>

<p>不带参数的 <code class="t">functions -M</code> 会以与定义相同的形式列出所有此类用户自定义函数。 如果使用附加选项 <code class="t">-m</code> 和参数列表，则会列出
<var class="var">mathfn</var> 与模式参数之一匹配的所有函数。
</p>
<p><code class="t">function +M</code> 会移除数学函数列表；如果使用附加选项 <code class="t">-m</code>，参数会被视为模式，所有 <var class="var">mathfn</var>
与模式匹配的函数都会被移除。 需要注意的是，实现该行为的 shell 函数不会被移除（无论其名称是否与 <var class="var">mathfn</var> 相同）。
</p>
</dd>
<dt><code class="t">getcap</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xing-_002c-Du-Qu-"></a>
<a class="index-entry-id" id="index-Du-Qu-YiXing-"></a>
<a id="index-getln"></a><span><code class="t">getln</code> [ <code class="t">-AclneE</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-getln"> &para;</a></span></dt>
<dd><p>从缓冲堆栈读取顶部值，并将其放入 shell 参数 <var class="var">name</var>。 等同于 <code class="t">read -zr</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xuan-Xiang-_002c-Chu-Li-"></a>
<a id="index-getopts"></a><span><code class="t">getopts</code> <var class="var">optstring</var> <var class="var">name</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-getopts"> &para;</a></span></dt>
<dd><p>检查 <var class="var">arg</var>s 是否为合法选项。 如果省略了 <var class="var">arg</var>，则使用位置参数。 有效的选项参数以 &lsquo;<code class="t">+</code>&rsquo; 或 &lsquo;<code class="t">-</code>&rsquo;
开头。 如果参数不是以 &lsquo;<code class="t">+</code>&rsquo; 或 &lsquo;<code class="t">-</code>&rsquo; 开头，或者参数 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;，则选项结束。 注意，单个 &lsquo;<code class="t">-</code>&rsquo;
不被视为有效的选项参数。 <var class="var">optstring</var> 包含 <code class="t">getopts</code> 可以识别的字母。 如果一个字母后面有
&lsquo;<code class="t">:</code>&rsquo;，则该选项需要一个参数。 选项与参数之间可以用空格分隔。
</p>
<p>每次调用时，<code class="t">getopts</code> 都会将找到的选项字母放入 shell 参数 <var class="var">name</var>，当 <var class="var">arg</var> 以 &lsquo;<code class="t">+</code>&rsquo;
开头时，则以 &lsquo;<code class="t">+</code>&rsquo; 作为前缀。 下一个 <var class="var">arg</var> 的索引存储在 <code class="t">OPTIND</code> 中。 选项参数（如果有）存储在
<code class="t">OPTARG</code> 中。
<a class="index-entry-id" id="index-OPTIND_002c-use-of"></a>
<a class="index-entry-id" id="index-OPTARG_002c-use-of"></a>
</p>
<p>可以通过显式赋值 <code class="t">OPTIND</code> 来改变第一个要检查的选项。 <code class="t">OPTIND</code> 的初始值为 <code class="t">1</code>，通常在进入 shell 函数时设置为
<code class="t">1</code>，并在退出时恢复。 (<code class="t">POSIX_BUILTINS</code> 选项禁用了这一功能，同时也改变了计算值的方式，以便与其他 shell 匹配）。
<code class="t">OPTARG</code> 不会重置，并保留最近一次调用 <code class="t">getopts</code> 时的值。 如果 <code class="t">OPTIND</code> 或 <code class="t">OPTARG</code>
中的任何一个被明确取消设置，它将保持未设置状态，索引或选项参数也不会被保存。 在这种情况下，选项本身仍存储在 <var class="var">name</var> 中。
</p>
<p><var class="var">optstring</var> 中的前导字母 &lsquo;<code class="t">:</code>&rsquo; 会导致 <code class="t">getopts</code> 将无效选项的字母保存在 <code class="t">OPTARG</code>
中，并在出现未知选项时将 <var class="var">name</var> 设置为&lsquo;<code class="t">?</code>&rsquo; ，在缺少必填参数时将 <var class="var">name</var> 设置为 &lsquo;<code class="t">:</code>&rsquo; 。
否则，<code class="t">getopts</code> 会将 <var class="var">name</var> 设置为 &lsquo;<code class="t">?</code>&rsquo;，并在选项无效时打印错误信息。 当没有更多选项时，退出状态为非零。
</p>
</dd>
<dt><a id="index-San-Lie-_0028hash_0029-1"></a><span><code class="t">hash</code> [ <code class="t">-Ldfmrv</code> ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ] ...<a class="copiable-link" href="#index-San-Lie-_0028hash_0029-1"> &para;</a></span></dt>
<dd><p><code class="t">hash</code> 可用于直接修改命令哈希表和命名目录哈希表的内容。 通常，我们会通过修改 <code class="t">PATH</code>（命令哈希表）或创建适当的 shell
参数（命名目录哈希表）来修改这些表。 使用哪个哈希表由 <code class="t">-d</code> 选项决定；不使用该选项时使用命令哈希表，使用该选项时使用命名目录哈希表。
</p>
<p>无论是否明确使用 <code class="t">hash</code> 命令，以 <code class="t">/</code> 开头的命令 <var class="var">name</var> 永远不会散列。 这样的命令总是可以在文件系统中直接查找到。
</p>
<p>如果没有参数，也没有 <code class="t">-r</code> 或 <code class="t">-f</code> 选项，所选的哈希表将全部列出。
</p>
<p><code class="t">-r</code> 选项会清空所选的哈希表。 随后将以正常方式重建。 <code class="t">-f</code> 选项会立即完全重建所选的哈希表。 对于命令哈希表，这将对 <code class="t">PATH</code>
中的所有绝对目录进行散列；对于命名目录哈希表，这将添加所有用户的主目录。 这两个选项不能与任何参数一起使用。
</p>
<p><code class="t">-m</code> 选项会将参数视为模式（应加引号），并打印出与这些模式匹配的哈希表元素。 这是显示有限选择的哈希表元素的唯一方法。
</p>
<p>对于每个带有相应 <var class="var">value</var> 的 <var class="var">name</var>，将 &lsquo;<var class="var">name</var>&rsquo;  放入选定的哈希表，并将其与路径名
&lsquo;<var class="var">value</var>&rsquo; 关联。 在命令哈希表中，这意味着只要将 &lsquo;<var class="var">name</var>&rsquo;  作为命令参数，shell 就会尝试执行
&lsquo;<var class="var">value</var>&rsquo; 给出的文件。 在命名目录哈希表中，这意味着 &lsquo;<var class="var">value</var>&rsquo; 可以被引用为 &lsquo;<code class="t">~</code><var class="var">name</var>&rsquo;。
</p>
<p>对于每个没有对应 <var class="var">value</var> 的 <var class="var">name</var> ，都会尝试将 <var class="var">name</var> 添加到哈希表中，并以该哈希表的正常方式检查相应的
<code class="t">value</code> 是什么。 如果找不到合适的 <code class="t">value</code>，哈希表将保持不变。
</p>
<p>如果使用 <code class="t">-v</code> 选项，哈希表条目会以显式指定的方式添加到哈希表中。 如果与 <code class="t">-f</code> 一起使用，则不会产生任何影响。
</p>
<p>如果存在 <code class="t">-L</code> 标志，那么每个哈希表条目都会以调用哈希的形式打印出来。
</p>
</dd>
<dt><a id="index-history-1"></a><span><code class="t">history</code><a class="copiable-link" href="#index-history-1"> &para;</a></span></dt>
<dd><p>与 <code class="t">fc -l</code> 相同。
</p>
</dd>
<dt><a id="index-integer"></a><span><code class="t">integer</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">Hghlprtux</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">LRZi</code> [ <var class="var">n</var> ] ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]<a class="copiable-link" href="#index-integer"> &para;</a></span></dt>
<dd><p>等同于 <code class="t">typeset -i</code>，但不允许使用与整数无关的选项。
</p>
</dd>
<dt><a id="index-Suan-Zhu-Qiu-Zhi--2"></a><span><code class="t">jobs</code> [ <code class="t">-dlprs</code> ] [ <var class="var">job</var> ... ]<a class="copiable-link" href="#index-Suan-Zhu-Qiu-Zhi--2"> &para;</a></span></dt>
<dt><code class="t">jobs -Z</code> <var class="var">string</var></dt>
<dd><p>列出每个给定作业的信息，如果省略 <var class="var">job</var>，则列出所有作业的信息。 <code class="t">-l</code> 标志列出进程 ID，<code class="t">-p</code> 标志列出进程组。
如果指定了 <code class="t">-r</code> 标志，则只会列出正在运行的作业；如果指定了 <code class="t">-s</code> 标志，则只会显示已停止的作业。 如果给出 <code class="t">-d</code>
标志，还将显示作业的启动目录（可能不是作业的当前目录）。
</p>
<p><code class="t">-Z</code> 选项会用给定的字符串替换 shell 的参数和环境空间，必要时会截断。 这通常在  <code class="t">ps</code> (ps(1)) 列表中可见。
守护进程通常会使用这一功能来显示其状态。
</p>
<p>只有在顶层交互 shell 中才能对作业进行全面控制，而在管道左侧或 <code class="t">(</code><var class="var">...</var><code class="t">)</code>
结构中运行的命令则无法对作业进行全面控制。 不过，此时作业状态的快照会被提取出来，因此仍然可以使用 <code class="t">jobs</code> 内置命令或任何提供作业信息的参数。
这将提供子 shell 创建时的作业状态信息。 如果子 shell 中创建了后台进程，则会提供这些进程的相关信息。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">sleep 10 &amp;    # Job in background
(             # Shell forks
jobs          # Shows information about &quot;sleep 10 &amp;&quot;
sleep 5 &amp;     # Process in background (no job control)
jobs          # Shows information about &quot;sleep 5 &amp;&quot;
)
</pre></div>

</dd>
<dt><a class="index-entry-id" id="index-Sha-Si-Zuo-Ye-"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Sha-Si-"></a>
<a id="index-kill"></a><span><code class="t">kill</code> [ <code class="t">-s</code> <var class="var">signal_name</var> | <code class="t">-n</code> <var class="var">signal_number</var> | <code class="t">-</code><var class="var">sig</var> ] <var class="var">job</var> ...<a class="copiable-link" href="#index-kill"> &para;</a></span></dt>
<dt><code class="t">kill</code> <code class="t">-l</code> [ <var class="var">sig</var> ... ]</dt>
<dd><p>向指定作业或进程发送 <code class="t">SIGTERM</code> 或指定信号。 信号可以用数字或名称表示，带或不带前缀 &lsquo;<code class="t">SIG</code>&rsquo; 。
如果发送的信号不是&lsquo;<code class="t">KILL</code>&rsquo; 或&lsquo;<code class="t">CONT</code>&rsquo;，那么作业被停止时将发送&lsquo;<code class="t">CONT</code>&rsquo; 信号。 参数 <var class="var">job</var>
可以是作业列表中没有的作业的进程 ID。 在第二种形式 <code class="t">kill -l</code> 中，如果未指定 <var class="var">sig</var>，则会列出信号名称。 否则，将列出每个
<var class="var">sig</var> 名称对应的信号编号。 每个 <var class="var">sig</var> 如果是信号编号或代表被信号终止或停止的进程的退出状态的编号，则打印该信号的名称。
</p>
<p>在某些系统中，少数信号可以使用其他信号名称。 典型的例子是 <code class="t">SIGCHLD</code> 和 <code class="t">SIGCLD</code> 或 <code class="t">SIGPOLL</code> 和
<code class="t">SIGIO</code>，假设它们对应的信号编号相同。 <code class="t">kill -l</code> 只列出首选形式，但 <code class="t">kill -l</code> <var class="var">alt</var>
则会显示替代形式是否与信号编号对应。 例如，在 Linux 下 <code class="t">kill -l IO</code> 和 <code class="t">kill -l POLL</code> 都会输出 29，因此
<code class="t">kill -IO</code> 和 <code class="t">kill -POLL</code> 的效果相同。
</p>
<p>许多系统允许进程 ID 为负数时杀死一个进程组，或为零时杀死当前进程组。
</p>
</dd>
<dt><a id="index-let"></a><span><code class="t">let</code> <var class="var">arg</var> ...<a class="copiable-link" href="#index-let"> &para;</a></span></dt>
<dd><p>将每个 <var class="var">arg</var> 作为算术表达式进行求值。 有关算术表达式的说明，请参阅 <a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>。 如果最后一个表达式的值不为零，则退出状态为
0；如果为零，则退出状态为 1；如果出现错误，则退出状态为 2。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Zi-Yuan-Xian-Zhi-"></a>
<a class="index-entry-id" id="index-Xian-Zhi-_002c-Zi-Yuan-"></a>
<a id="index-limit"></a><span><code class="t">limit</code> [ <code class="t">-hs</code> ] [ <var class="var">resource</var> [ <var class="var">limit</var> ] ] ...<a class="copiable-link" href="#index-limit"> &para;</a></span></dt>
<dd><p>设置或显示资源限制。 除非给出 <code class="t">-s</code> 标志，否则限制仅适用于 shell 的子代。 如果给定 <code class="t">-s</code> 而未给定其他参数，则当前 shell
的资源限制将设置为先前设置的子 shell 的资源限制。
</p>
<p>如果未指定 <var class="var">limit</var>，则打印 <var class="var">resource</var> 的当前限制值，否则将限制值设置为指定值。 如果给出 <code class="t">-h</code>
标志，则使用硬限制而不是软限制。 如果没有指定 <var class="var">resource</var>，则打印所有限制。
</p>
<p>在对多个资源进行循环时，如果 shell 检测到一个错误的参数，它会立即终止。 但是，如果由于其他原因无法设置限制，它将继续尝试设置剩余的限制。
</p>
<p><var class="var">resource</var> 可以是下面之一:
</p>
<dl class="table">
<dt><code class="t">addressspace</code></dt>
<dd><p>已使用的最大地址空间。
</p></dd>
<dt><code class="t">aiomemorylocked</code></dt>
<dd><p>RAM 中为 AIO 操作锁定的最大内存量。
</p></dd>
<dt><code class="t">aiooperations</code></dt>
<dd><p>AIO 操作的最大次数。
</p></dd>
<dt><code class="t">cachedthreads</code></dt>
<dd><p>缓存线程的最大数量。
</p></dd>
<dt><code class="t">coredumpsize</code></dt>
<dd><p>核心转储的最大容量。
</p></dd>
<dt><code class="t">cputime</code></dt>
<dd><p>每个进程的最长 CPU 秒数。
</p></dd>
<dt><code class="t">datasize</code></dt>
<dd><p>每个进程的最大数据量（包括堆栈）。
</p></dd>
<dt><code class="t">descriptors</code></dt>
<dd><p>文件描述符的最大值。
</p></dd>
<dt><code class="t">filesize</code></dt>
<dd><p>允许的最大单个文件。
</p></dd>
<dt><code class="t">kqueues</code></dt>
<dd><p>已分配 kqueues 的最大数量。
</p></dd>
<dt><code class="t">maxproc</code></dt>
<dd><p>进程的最大数量。
</p></dd>
<dt><code class="t">maxpthreads</code></dt>
<dd><p>每个进程的最大线程数。
</p></dd>
<dt><code class="t">memorylocked</code></dt>
<dd><p>内存中锁定的最大内存量。
</p></dd>
<dt><code class="t">memoryuse</code></dt>
<dd><p>最大驻留集大小。
</p></dd>
<dt><code class="t">msgqueue</code></dt>
<dd><p>POSIX 报文队列的最大字节数。
</p></dd>
<dt><code class="t">posixlocks</code></dt>
<dd><p>每个用户的最大 POSIX 锁数。
</p></dd>
<dt><code class="t">pseudoterminals</code></dt>
<dd><p>伪终端的最大数量。
</p></dd>
<dt><code class="t">resident</code></dt>
<dd><p>最大驻留集大小。
</p></dd>
<dt><code class="t">sigpending</code></dt>
<dd><p>待处理信号的最大数量。
</p></dd>
<dt><code class="t">sockbufsize</code></dt>
<dd><p>所有套接字缓冲区的最大容量。
</p></dd>
<dt><code class="t">stacksize</code></dt>
<dd><p>每个进程的最大堆栈大小。
</p></dd>
<dt><code class="t">swapsize</code></dt>
<dd><p>使用的最大交换区量。
</p></dd>
<dt><code class="t">vmemorysize</code></dt>
<dd><p>虚拟内存的最大容量。
</p></dd>
</dl>

<p>哪些资源限制可用取决于系统。 <var class="var">resource</var> 可以缩写为任何明确的前缀。 它也可以是一个整数，对应于操作系统为资源定义的整数。
</p>
<p>如果参数对应的数字超出了 shell 配置的资源范围，shell 会尝试读取或写入限制值，如果失败则会报错。 由于 shell
内部不存储此类资源，因此除非有 <code class="t">-s</code> 选项，否则设置限制的尝试将失败。
</p>
<p><var class="var">limit</var> 是一个数字，可选的缩放因子如下：
</p>
<dl class="table">
<dt><var class="var">n</var><code class="t">h</code></dt>
<dd><p>小时
</p></dd>
<dt><var class="var">n</var><code class="t">k</code></dt>
<dd><p>千字节 (默认)
</p></dd>
<dt><var class="var">n</var><code class="t">m</code></dt>
<dd><p>兆字节或分钟
</p></dd>
<dt><var class="var">n</var><code class="t">g</code></dt>
<dd><p>千兆字节
</p></dd>
<dt>[<var class="var">mm</var><code class="t">:</code>]<var class="var">ss</var></dt>
<dd><p>分和秒
</p></dd>
</dl>

<p>当 shell 以模拟其他 shell 的模式启动时，<code class="t">limit</code> 命令默认不可用。 可以使用 &lsquo;<code class="t">zmodload -F
zsh/rlimits b:limit</code>&rsquo; 命令来使用它。
</p>
</dd>
<dt><a id="index-local"></a><span><code class="t">local</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">AHUahlprtux</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">EFLRZi</code> [ <var class="var">n</var> ] ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]<a class="copiable-link" href="#index-local"> &para;</a></span></dt>
<dd><p>与 <code class="t">typeset</code> 相同，但不允许使用 <code class="t">-g</code> 和 <code class="t">-f</code>。 在这种情况下，<code class="t">-x</code> 选项并不强制使用
<code class="t">-g</code>，即导出变量将是函数的局部变量。
</p>
</dd>
<dt><a id="index-logout"></a><span><code class="t">logout</code> [ <var class="var">n</var> ]<a class="copiable-link" href="#index-logout"> &para;</a></span></dt>
<dd><p>与 <code class="t">exit</code>相同，但它只在登录 shell 中起作用。
</p>
</dd>
<dt><code class="t">noglob</code> <var class="var">simple command</var></dt>
<dd><p>请参阅 <a class="ref" href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a>
</p>
</dd>
<dt><a id="index-popd"></a><span><code class="t">popd</code> [ <code class="t">-q</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<var class="var">n</var> ]<a class="copiable-link" href="#index-popd"> &para;</a></span></dt>
<dd><p>从目录栈中移除一个条目，并执行 <code class="t">cd</code> 到新的顶部目录。 如果没有参数，则删除当前的顶部目录。 形式为 &lsquo;<code class="t">+</code><var class="var">n</var>&rsquo; 的参数从
<code class="t">dirs</code> 命令显示的列表左侧开始计数，从 0 开始识别堆栈条目。 形式为 <code class="t">-</code><var class="var">n</var> 的参数从右边开始计数。
<a class="index-entry-id" id="index-PUSHD_005fMINUS_002c-use-of-1"></a>
如果设置了 <code class="t">PUSHD_MINUS</code> 选项， &lsquo;<code class="t">+</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo; 在此处的含义将互换。
</p>
<p>如果指定了 <code class="t">-q</code>（quiet）选项，则不会调用钩子函数 <code class="t">chpwd</code> 和数组 <code class="t">$chpwd_functions</code>
中的函数，也不会打印新的目录栈。 这对于调用 <code class="t">popd</code> 不会改变交互式用户所看到的环境非常有用。
</p>
</dd>
<dt><a id="index-print"></a><span><code class="t">print </code>[ <code class="t">-abcDilmnNoOpPrsSz</code> ] [ <code class="t">-u</code> <var class="var">n</var> ] [ <code class="t">-f</code> <var class="var">format</var> ] [ <code class="t">-C</code> <var class="var">cols</var> ]<a class="copiable-link" href="#index-print"> &para;</a></span></dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-v</code> <var class="var">name</var> ] [ <code class="t">-xX</code> <var class="var">tabstop</var> ] [ <code class="t">-R</code> [ <code class="t">-en</code> ]] [ <var class="var">arg</var> ... ]</dt>
<dd><p>如果使用 &lsquo;<code class="t">-f</code>&rsquo; 选项，参数将按照 <code class="t">printf</code> 的方式打印。 如果没有使用标志或使用标志 &lsquo;<code class="t">-</code>&rsquo;，参数将按照
<code class="t">echo</code> 的方式打印在标准输出上，但有以下不同： 转义序列 &lsquo;<code class="t">\M-</code><var class="var">x</var>&rsquo; （或&lsquo;<code class="t">\M</code><var class="var">x</var>&rsquo;）会元化字符
<var class="var">x</var>（设置最高位），&lsquo;<code class="t">\C-</code><var class="var">x</var>&rsquo;（或 &lsquo;<code class="t">\C</code><var class="var">x</var>&rsquo;）会产生一个控制字符（&lsquo;<code class="t">\C-@</code>&rsquo; 和
&lsquo;<code class="t">\C-?</code>&rsquo; 表示 NULL 和 delete 字符），八进制的字符代码用 &lsquo;<code class="t">\</code><var class="var">NNN</var>&rsquo; 表示（而不是
&lsquo;<code class="t">\0</code><var class="var">NNN</var>&rsquo;），而 &lsquo;<code class="t">\E</code>&rsquo; 是 &lsquo;<code class="t">\e</code>&rsquo; 的同义词。 最后，如果不在转义序列中，&lsquo;<code class="t">\</code>&rsquo;
会转义后面的字符，并不会被打印出来。
</p>
<dl class="table">
<dt><code class="t">-a</code></dt>
<dd><p>打印参数，列先递增（with the column incrementing first）。 仅在使用 <code class="t">-c</code> 和 <code class="t">-C</code> 选项时有用。
</p>
</dd>
<dt><code class="t">-b</code></dt>
<dd><p>识别为 <code class="t">bindkey</code> 命令定义的所有转义序列，参见 <a class="ref" href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a>。
</p>
</dd>
<dt><code class="t">-c</code></dt>
<dd><p>按列打印参数。 除非同时给出 <code class="t">-a</code>，否则参数将按行先递增的方式打印。
</p>
</dd>
<dt><code class="t">-C</code> <var class="var">cols</var></dt>
<dd><p>打印 <var class="var">cols</var> 列中的参数。 除非同时给出 <code class="t">-a</code>，否则参数将按行先递增的方式打印。
</p>
</dd>
<dt><code class="t">-D</code></dt>
<dd><p>将参数视为路径，酌情用与目录名相对应的 <code class="t">~</code> 表达式替换目录前缀。
</p>
</dd>
<dt><code class="t">-i</code></dt>
<dd><p>如果同时给出 <code class="t">-o</code> 或 <code class="t">-O</code>，则排序与大小写无关。
</p>
</dd>
<dt><code class="t">-l</code></dt>
<dd><p>打印参数，以换行符而不是空格分隔。 注意：如果参数列表为空，<code class="t">print -l</code>仍会输出一行空行。若要每行打印一个可能为空的参数列表，请使用
<code class="t">print -C1</code>，如 &lsquo;<code class="t">print -rC1 -- &quot;$list[@]&quot;</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-m</code></dt>
<dd><p>将第一个参数作为一个模式（应加引号），并将其从参数列表中移除，同时移除与该模式不匹配的后续参数。
</p>
</dd>
<dt><code class="t">-n</code></dt>
<dd><p>输出时不要加换行符。
</p>
</dd>
<dt><code class="t">-N</code></dt>
<dd><p>打印参数，以空字符分隔和结束。同样，<code class="t">print -rNC1 -- &quot;$list[@]&quot;</code>  是将任意列表打印为空字符分隔的记录的典型方法。
</p>
</dd>
<dt><code class="t">-o</code></dt>
<dd><p>按升序打印参数。
</p>
</dd>
<dt><code class="t">-O</code></dt>
<dd><p>按降序打印参数。
</p>
</dd>
<dt><code class="t">-p</code></dt>
<dd><p>将参数打印到协进程的输入端。
</p>
</dd>
<dt><code class="t">-P</code></dt>
<dd><p>执行提示符扩展（参见 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>）。 与 &lsquo;<code class="t">-f</code>&rsquo; 结合使用时，提示符转义序列只在插值参数中解析，而不在格式字符串中解析。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>忽略 <code class="t">echo</code> 的转义规则。
</p>
</dd>
<dt><code class="t">-R</code></dt>
<dd><p>模拟 BSD <code class="t">echo</code> 命令，除非给出 <code class="t">-e</code> 标志，否则该命令不处理转义序列。 <code class="t">-n</code> 标志会抑制尾部换行。 只有 <code class="t">-e</code>
和 <code class="t">-n</code> 标志会在 <code class="t">-R</code> 之后被识别；所有其他参数和选项都会被打印。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>将结果放在历史记录列表中，而不是标准输出中。 在历史记录中，<code class="t">print</code> 命令的每个参数都被视为一个单词，无论其内容如何。
</p>
</dd>
<dt><code class="t">-S</code></dt>
<dd><p>将结果放在历史记录列表中，而不是标准输出中。 在这种情况下，只允许使用单个参数；参数将被分割成单词，就像完整的 shell 命令行一样。
其效果与使用启用 <code class="t">HIST_LEX_WORDS</code> 选项时从历史文件读取行类似。
</p>
</dd>
<dt><code class="t">-u</code> <var class="var">n</var></dt>
<dd><p>打印文件描述符 <var class="var">n</var> 的参数。
</p>
</dd>
<dt><code class="t">-v</code> <var class="var">name</var></dt>
<dd><p>将打印的参数存储为参数 <var class="var">name</var> 的值。
</p>
</dd>
<dt><code class="t">-x</code> <var class="var">tab-stop</var></dt>
<dd><p>在打印字符串的每一行输出中展开前导制表符，假设每 <var class="var">tab-stop</var> 个字符有一个制表符停止符。 这适用于格式化可能使用制表符缩进的代码。
请注意，即使 <code class="t">print</code>
使用空格分隔参数，也会展开要打印的任何参数的前导制表符，而不仅仅是第一个参数的前导制表符（列数在各参数间保持不变，但由于之前的制表符未展开，输出时可能会不正确）。
</p>
<p>每条打印命令的输出起始位置假定与制表符停止位置对齐。 如果选项 <code class="t">MULTIBYTE</code> 有效，多字节字符的宽度将被处理。
如果使用了其他格式化选项，即列对齐或 <code class="t">printf</code> 样式，或者输出到 shell 历史记录或命令行编辑器等特殊位置，则该选项将被忽略。
</p>
</dd>
<dt><code class="t">-X</code> <var class="var">tab-stop</var></dt>
<dd><p>这与 <code class="t">-x</code> 类似，但打印字符串中的所有制表符都会展开。 如果参数中的制表符被用于生成表格格式，则可以使用这种方法。
</p>
</dd>
<dt><code class="t">-z</code></dt>
<dd><p>将参数推入编辑缓冲堆栈，中间用空格隔开。
</p>
</dd>
</dl>

<p>如果&lsquo;<code class="t">-m</code>&rsquo;, &lsquo;<code class="t">-o</code>&rsquo; 或 &lsquo;<code class="t">-O</code>&rsquo; 中的任何一个与 &lsquo;<code class="t">-f</code>&rsquo; 结合使用，且没有参数（ &lsquo;<code class="t">-m</code>&rsquo;
的情况下是在删除参数后），则不会打印任何内容。
</p>
</dd>
<dt><a id="index-printf"></a><span><code class="t">printf</code> [ <code class="t">-v</code> <var class="var">name</var> ] <var class="var">format</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-printf"> &para;</a></span></dt>
<dd><p>根据格式规范打印参数。格式规则与 C 语言中的相同。格式中可识别与 <code class="t">echo</code> 相同的转义序列。所有以 <code class="t">csdiouxeEfgGn</code> 结尾的
C 转换规范都会被处理。除此之外，还可以使用 &lsquo;<code class="t">%b</code>&rsquo; 代替 &lsquo;<code class="t">%s</code>&rsquo;，以识别参数中的转义序列，并使用 &lsquo;<code class="t">%q</code>&rsquo;
引用参数，使其可以作为 shell
输入重复使用。对于数字格式指定符，如果相应参数以引号字符开头，则使用后面字符的数值作为要打印的数字；否则参数将作为算术表达式求值。有关算术表达式的说明，请参阅
<a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>。使用 &lsquo;<code class="t">%n</code>&rsquo; 时，相应参数将作为标识符，并作为整数参数创建。
</p>
<p>通常，转换规范会按顺序应用于每个参数，但也可以通过将 &lsquo;<code class="t">%</code>&rsquo; 替换为 &lsquo;<code class="t">%</code><var class="var">n</var><code class="t">$</code>&rsquo; ，将 &lsquo;<code class="t">*</code>&rsquo; 替换为
&lsquo;<code class="t">*</code><var class="var">n</var><code class="t">$</code>&rsquo;，从而明确指定使用第 <var class="var">n</var> 个参数。
建议不要将这种明确样式的引用与正常样式的引用混用，而且对这种混用样式的处理可能会在将来发生变化。
</p>
<p>如果参数在格式化后仍未使用，格式化字符串会被重复使用，直到所有参数都被用完。使用 <code class="t">print</code> 内置命令时，可以通过 <code class="t">-r</code>
选项来抑制这种情况。如果格式化所需的参数多于指定的参数，则行为与指定零参数或空字符串相同。
</p>
<p><code class="t">-v</code> 选项会将输出存储为参数 <var class="var">name</var> 的值，而不是打印出来。如果 <var class="var">name</var>
是一个数组，且格式字符串在使用参数时被重复使用，那么每次使用格式字符串时都会使用一个数组元素。
</p>
</dd>
<dt><a class="index-entry-id" id="index-PUSHD_005fTO_005fHOME_002c-use-of"></a>
<a class="index-entry-id" id="index-PUSHD_005fMINUS_002c-use-of-2"></a>
<a class="index-entry-id" id="index-CDABLE_005fVARS_002c-use-of"></a>
<a class="index-entry-id" id="index-PUSHD_005fSILENT_002c-use-of"></a>
<a id="index-pushd"></a><span><code class="t">pushd</code> [ <code class="t">-qsLP</code> ] [ <var class="var">arg</var> ]<a class="copiable-link" href="#index-pushd"> &para;</a></span></dt>
<dt><code class="t">pushd</code> [ <code class="t">-qsLP</code> ] <var class="var">old</var> <var class="var">new</var></dt>
<dt><code class="t">pushd</code> [ <code class="t">-qsLP</code> ] {<code class="t">+</code>|<code class="t">-</code>}<var class="var">n</var></dt>
<dd><p>更改当前目录，并将旧的当前目录推入目录栈。 在第一种形式中，将当前目录更改为 <var class="var">arg</var>。 如果未指定
<var class="var">arg</var>，则将当前目录更改为目录栈中的第二个目录（即交换前两个条目）；如果设置了
<code class="t">PUSHD_TO_HOME</code>选项，或者目录栈中只有一个条目，则将当前目录更改为 <code class="t">$HOME</code>。 否则，<var class="var">arg</var> 将按照
<code class="t">cd</code> 的方式解释。 第二种形式中 <var class="var">old</var> 和 <var class="var">new</var> 的含义也与 <code class="t">cd</code> 相同。
</p>
<p><code class="t">pushd</code> 的第三种形式是通过旋转目录列表来更改目录。 形式为 &lsquo;<code class="t">+</code><var class="var">n</var>&rsquo; 的参数从 <code class="t">dirs</code>
命令显示的目录列表的左边开始计数，从 0 开始，以此确定堆栈条目。 形式为 &lsquo;<code class="t">-</code><var class="var">n</var>&rsquo;的参数从右边开始计数。 如果设置了
<code class="t">PUSHD_MINUS</code> 选项， &lsquo;<code class="t">+</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo; 在此处的含义将互换。
</p>
<p>如果指定了 <code class="t">-q</code>（quiet）选项，则不会调用钩子函数 <code class="t">chpwd</code> 和数组 <code class="t">$chpwd_functions</code>
中的函数，也不会打印新的目录栈。 这对于调用 <code class="t">pushd</code> 不会改变交互式用户所看到的环境非常有用。
</p>
<p>如果未指定选项 <code class="t">-q</code>，也未设置 shell 选项 <code class="t">PUSHD_SILENT</code>，则将在执行 <code class="t">pushd</code> 之后打印目录堆栈。
</p>
<p>选项 <code class="t">-s</code>、<code class="t">-L</code> 和 <code class="t">-P</code> 的含义与 <code class="t">cd</code> 内置命令相同。
</p>
</dd>
<dt><a id="index-pushln"></a><span><code class="t">pushln</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-pushln"> &para;</a></span></dt>
<dd><p>等价于 <code class="t">print -nz</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-CHASE_005fLINKS_002c-use-of"></a>
<a id="index-pwd"></a><span><code class="t">pwd</code> [ <code class="t">-rLP</code> ]<a class="copiable-link" href="#index-pwd"> &para;</a></span></dt>
<dd><p>打印当前工作目录的绝对路径名。 如果指定了 <code class="t">-r</code> 或 <code class="t">-P</code> 标志，或设置了 <code class="t">CHASE_LINKS</code> 选项且未给出 <code class="t">-L</code>
标志，则打印的路径将不包含符号链接。
</p>
</dd>
<dt><a id="index-r"></a><span><code class="t">r</code><a class="copiable-link" href="#index-r"> &para;</a></span></dt>
<dd><p>与 <code class="t">fc -e -</code> 一样。
</p>
<a class="index-entry-id" id="index-read"></a>
<a class="index-entry-id" id="index-IFS_002c-use-of-2"></a>

</dd>
<dt><a class="index-entry-id" id="index-reply_002c-use-of-1"></a>
<a id="index-REPLY_002c-use-of-2"></a><span><code class="t">read </code>[ <code class="t">-rszpqAclneE</code> ] [ <code class="t">-t</code> [ <var class="var">num</var> ] ] [ <code class="t">-k</code> [ <var class="var">num</var> ] ] [ <code class="t">-d</code> <var class="var">delim</var> ]<a class="copiable-link" href="#index-REPLY_002c-use-of-2"> &para;</a></span></dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-u</code> <var class="var">n</var> ] [ [<var class="var">name</var>][<code class="t">?</code><var class="var">prompt</var>] ] [ <var class="var">name</var> ...  ]</dt>
<dd><p>读取一行，并使用 <code class="t">$IFS</code> 中的字符作为分隔符将其分成多个字段,下文所述情况除外。 第一个字段分配给第一个
<var class="var">name</var>，第二个字段分配给第二个 <var class="var">name</var>，以此类推，剩余字段分配给最后一个 <var class="var">name</var>。 如果省略
<var class="var">name</var>， <code class="t">REPLY</code> 用于标量， <code class="t">reply</code>用于数组。
</p>
<dl class="table">
<dt><code class="t">-r</code></dt>
<dd><p>原始模式：行末的 &lsquo;<code class="t">\</code>&rsquo; 不表示续行，行中的反斜线不会引述后面的字符，也不会被删除。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>如果从终端读取，则不回显字符。
</p>
</dd>
<dt><code class="t">-q</code></dt>
<dd><p>只从终端读取一个字符，如果该字符为 &lsquo;<code class="t">y</code>&rsquo;  或 &lsquo;<code class="t">Y</code>&rsquo; ，则将 <var class="var">name</var> 设置为 &lsquo;<code class="t">y</code>&rsquo;，否则设置为
&lsquo;<code class="t">n</code>&rsquo;。 设置该标志后，只有当字符为 &lsquo;<code class="t">y</code>&rsquo; 或 &lsquo;<code class="t">Y</code>&rsquo; 时，返回状态才为零。 该选项可与超时（参见
<code class="t">-t</code>）一起使用；如果读取超时或遇到文件结束，则返回状态 2。 除非有 <code class="t">-u</code> 或 <code class="t">-p</code>，否则将从终端读取输入。 该选项也可在
zle 小部件中使用。
</p>
</dd>
<dt><code class="t">-k</code> [ <var class="var">num</var> ]</dt>
<dd><p>只读取一个（或 <var class="var">num</var> 个）字符。 所有字符都分配给第一个 <var class="var">name</var>，不分词。 当 <code class="t">-q</code> 存在时，该标志将被忽略。
除非有 <code class="t">-u</code> 或 <code class="t">-p</code>，否则将从终端读取输入。 该选项也可在 zle 小部件中使用。
</p>
<p>请注意，尽管使用了 &lsquo;key&rsquo; 这个助记符，但该选项确实读取全字符，如果设置了 <code class="t">MULTIBYTE</code> 选项，全字符可能由多个字节组成。
</p>
</dd>
<dt><code class="t">-z</code></dt>
<dd><p>从编辑器缓冲堆栈中读取一个条目并将其赋值给第一个 <var class="var">name</var>，不进行分词。 文本将通过 &lsquo;<code class="t">print -z</code>&rsquo; 或行编辑器（参见
<a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>）中的 <code class="t">push-line</code> 推入堆栈。 当 <code class="t">-k</code> 或 <code class="t">-q</code> 标志存在时，该标志将被忽略。
</p>
</dd>
<dt><code class="t">-e</code></dt>
<dt><code class="t">-E</code></dt>
<dd><p>读取的输入将打印（回显）到标准输出。 如果使用 <code class="t">-e</code> 标志，则不会将输入分配给参数。
</p>
</dd>
<dt><code class="t">-A</code></dt>
<dd><p>第一个 <var class="var">name</var> 将作为数组的名称，所有单词都将赋值给它。
</p>
</dd>
<dt><code class="t">-c</code></dt>
<dt><code class="t">-l</code></dt>
<dd><p>只有在用于补全的函数（使用 <code class="t">compctl</code> 的 <code class="t">-K</code> 标志指定 ）中调用时，才允许使用这些标志。 如果给出 <code class="t">-c</code>
标志，将读取当前命令的字词。如果给出 <code class="t">-l</code> 标志，则将整行作为标量分配。 如果两个标志都存在，则使用 <code class="t">-l</code>，忽略 <code class="t">-c</code>。
</p>
</dd>
<dt><code class="t">-n</code></dt>
<dd><p>与 <code class="t">-c</code> 一起使用时，将读取光标所在单词的编号。 使用 <code class="t">-l</code>，将读取光标所在字符的索引。 请注意，命令名称是字 1，而不是字
0，当光标位于行尾时，其字符索引是行长加 1。
</p>
</dd>
<dt><code class="t">-u</code> <var class="var">n</var></dt>
<dd><p>输入内容从文件描述符 <var class="var">n</var> 读取。
</p>
</dd>
<dt><code class="t">-p</code></dt>
<dd><p>从协进程读取输入。
</p>
</dd>
<dt><code class="t">-d</code> <var class="var">delim</var></dt>
<dd><p>输入以 <var class="var">delim</var> 的第一个字符结束，而不是换行。
</p>
</dd>
<dt><code class="t">-t</code> [ <var class="var">num</var> ]</dt>
<dd><p>在尝试读取数据前测试输入是否可用。 如果存在
<var class="var">num</var>，它必须以数字开头，并将被计算为一个秒数（可以是浮点数）；在这种情况下，如果在这段时间内输入不可用，读取将超时。 如果
<var class="var">num</var> 不存在，它将被视为零，因此 <code class="t">read</code> 会在没有输入时立即返回。 如果没有输入，则返回状态 1，不设置任何变量。
</p>
<p>当使用 <code class="t">-z</code> 从编辑器缓冲区读取数据时，当使用 <code class="t">-c</code> 或 <code class="t">-l</code> 从补全中调用时，当使用 <code class="t">-q</code>
在读取数据前清空输入队列时，或者在使用其他机制测试输入的 zle 中，该选项不可用。
</p>
<p>请注意，read 并不试图改变输入处理模式。 默认模式是规范输入，即一次读取整行内容，因此通常在输入整行内容之前， &lsquo;<code class="t">read -t</code>&rsquo;
不会读取任何内容。 不过，当使用 <code class="t">-k</code> 从终端读取时，输入是一次处理一个键的；在这种情况下，只测试第一个字符是否可用，因此，例如&lsquo;<code class="t">read
-t -k 2</code>&rsquo; 仍然可以阻塞第二个字符。 如果不希望这样，请使用两个 &lsquo;<code class="t">read -t -k</code>&rsquo; 实例。
</p>
</dd>
</dl>

<p>如果第一个参数包含 &lsquo;<code class="t">?</code>&rsquo;，则在 shell 处于交互状态时，该单词的剩余部分将作为 <var class="var">prompt</var> 出现在标准错误中。
</p>
<p>当遇到文件结束、出现 <code class="t">-c</code> 或 <code class="t">-l</code> 且命令不是由 <code class="t">compctl</code> 函数调用时，或如 <code class="t">-q</code>
所述，<code class="t">read</code>的值（退出状态）为 1。 否则，值为 0。
</p>
<p><code class="t">-k</code>、<code class="t">-p</code>、<code class="t">-q</code>、<code class="t">-u</code> 和 <code class="t">-z</code> 标志的某些组合，其行为未定义。 目前 <code class="t">-q</code>
取消了所有其他标志，<code class="t">-p</code> 取消了 <code class="t">-u</code>，<code class="t">-k</code> 取消了 <code class="t">-z</code>，而 <code class="t">-z</code> 则同时取消了 <code class="t">-p</code> 和
<code class="t">-u</code>。
</p>
<p><code class="t">-c</code> 或 <code class="t">-l</code> 标志会取消所有 <code class="t">-kpquz</code> 标志。
</p>
</dd>
<dt><a id="index-Can-Shu-_002c-Zhi-Du-Biao-Ji-"></a><span><code class="t">readonly</code><a class="copiable-link" href="#index-Can-Shu-_002c-Zhi-Du-Biao-Ji-"> &para;</a></span></dt>
<dd><p>与 <code class="t">typeset -r</code> 相同。 设置 <code class="t">POSIX_BUILTINS</code> 选项后，与 <code class="t">typeset -gr</code> 相同。
</p>
</dd>
<dt><a id="index-rehash"></a><span><code class="t">rehash</code><a class="copiable-link" href="#index-rehash"> &para;</a></span></dt>
<dd><p>与 <code class="t">hash -r</code> 一样。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Han-Shu-_002c-Fan-Hui-"></a>
<a id="index-return"></a><span><code class="t">return</code> [ <var class="var">n</var> ]<a class="copiable-link" href="#index-return"> &para;</a></span></dt>
<dd><p>使 shell 函数或 &lsquo;<code class="t">.</code>&rsquo; 脚本以算术表达式 <var class="var">n</var> 指定的返回状态返回调用脚本。 例如，下面的代码会打印  &lsquo;<code class="t">42</code>&rsquo;：
</p>
<div class="example">
<pre class="example-preformatted">() { integer foo=40; return &quot;foo + 2&quot; }
echo $?
</pre></div>

<p>如果省略 <var class="var">n</var>，则返回最后执行命令的状态。
</p>
<p>如果 <code class="t">return</code> 是通过 <code class="t">TRAP</code><var class="var">NAL</var> 函数中的陷阱执行的，那么返回状态为零和非零的效果是不同的。
状态为零（或陷阱结束后隐式返回）时，shell 将返回到之前正在处理的内容；状态为非零时，除了保留陷阱的返回状态外，shell 的行为与中断时一样。
需要注意的是，引起陷阱的信号的数值会作为第一个参数传递，因此语句 &lsquo;<code class="t">return &quot;128+$1&quot;</code>&rsquo; 返回的状态与信号未被捕获时的状态相同。
</p>
</dd>
<dt><code class="t">sched</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fsched-_6a21_5757">zsh/sched 模块</a>.
</p>
<a class="index-entry-id" id="index-set"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Lie-Chu-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Wei-Zhi-De-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-She-Zhi-Shu-Zu-"></a>
<a class="index-entry-id" id="index-Shu-Zu-Can-Shu-_002c-She-Zhi-"></a>
<a class="index-entry-id" id="index-KSH_005fARRAYS_002c-use-of-1"></a>

</dd>
<dt><code class="t">set </code>[ {<code class="t">+</code>|<code class="t">-</code>}<var class="var">options</var> | {<code class="t">+</code>|<code class="t">-</code>}<code class="t">o</code> [ <var class="var">option_name</var> ] ] ... [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">A</code> [ <var class="var">name</var> ] ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <var class="var">arg</var> ... ]</dt>
<dd><p>设置 shell 的选项和/或设置位置参数，或声明和设置数组。 如果给定 <code class="t">-s</code> 选项，则会在将指定参数赋值给位置参数（如果使用
<code class="t">-A</code>，则赋值给数组 <var class="var">name</var>）之前对其进行排序。 使用 <code class="t">+s</code> 会按降序对参数排序。 其他标志的含义请参见 <a class="ref" href="#g_t_9009_9879">选项</a>。
可以使用 <code class="t">-o</code> 选项指定标志的名称。如果没有用 <code class="t">-o</code> 提供选项名称，则会打印当前的选项状态：有关格式的更多信息，请参阅下文对
<code class="t">setopt</code> 的描述。 如果使用 <code class="t">+o</code>，则以可作为 shell 输入的形式打印。
</p>
<p>如果指定了 <code class="t">-A</code> 标志，<var class="var">name</var> 将被设置为包含给定 <var class="var">arg</var> 的数组；如果没有指定
<var class="var">name</var>，所有数组将连同其值一起打印。
</p>
<p>如果使用 <code class="t">+A</code>，且 <var class="var">name</var> 是数组，则给定参数将替换该数组的初始元素；如果未指定
<var class="var">name</var>，则打印所有数组，但不包含其值。
</p>
<p><code class="t">-A</code> <var class="var">name</var> 或  <code class="t">+A</code> <var class="var">name</var> 之后的参数的行为取决于是否设置了 <code class="t">KSH_ARRAYS</code> 选项。
如果未设置，则 <var class="var">name</var> 后面的所有参数都会被视为数组的值，无论其形式如何。
如果设置了该选项，则会继续进行正常的选项处理；只有常规参数才会被视为数组的值。 这意味着
</p>
<div class="example">
<pre class="example-preformatted">set -A array -x -- foo
</pre></div>

<p>如果 <code class="t">KSH_ARRAYS</code> 未设置，则会将 <code class="t">array</code> 设置为 &lsquo;<code class="t">-x -</code><code class="t">- foo</code>&rsquo;
；如果设置了<code class="t">KSH_ARRAYS</code>,则会将数组设置为 <code class="t">foo</code>，并开启 &lsquo;<code class="t">-x</code>&rsquo; 选项。
</p>
<p>如果没有 <code class="t">-A</code> 标志，但在选项之外还有参数，则会设置位置参数。 如果选项列表（如果有）以 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;
结束，且没有其他参数，位置参数将被取消设置。
</p>
<p>如果没有参数，也没有给出 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; ，那么所有参数的名称和值都会打印在标准输出上。 如果唯一的参数是
&lsquo;<code class="t">+</code>&rsquo;，则会打印所有参数的名称。
</p>
<p>由于历史原因，在任何其他模拟模式下，而非 zsh 的原生模式下，&lsquo;<code class="t">set -</code>&rsquo; 被视为 &lsquo;<code class="t">set +xv</code>&rsquo; ，而 &lsquo;<code class="t">set -</code>
<var class="var">args</var>&rsquo; 被视为 &lsquo;<code class="t">set +xv --</code> <var class="var">args</var>&rsquo;  。
</p>
</dd>
<dt><code class="t">setcap</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xuan-Xiang-_002c-She-Zhi-"></a>
<a id="index-setopt"></a><span><code class="t">setopt</code> [ {<code class="t">+</code>|<code class="t">-</code>}<var class="var">options</var> | {<code class="t">+</code>|<code class="t">-</code>}<code class="t">o</code> <var class="var">option_name</var> ] [ <code class="t">-m</code> ] [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-setopt"> &para;</a></span></dt>
<dd><p>设置 shell 的选项。 所有用标志或名称指定的选项都会被设置。
</p>
<p>如果没有提供参数，则会打印当前设置的所有选项名称。 选择这种形式是为了尽量减少与当前模拟器（emulation）的默认选项之间的差异（默认模拟器为原生
<code class="t">zsh</code>，在 <a class="ref" href="#g_t_9009_9879_8bf4_660e">选项说明</a> 中显示为 <code class="t">&lt;Z&gt;</code>）。 只有在关闭时，才会以 <code class="t">no</code>
为前缀显示默认开启的模拟选项，而只有在开启时，才会以不带 <code class="t">no</code> 前缀的方式显示其他选项。 除了用户从默认状态修改的选项外，任何由 shell
自动激活的选项（例如 <code class="t">SHIN_STDIN</code> 或 <code class="t">INTERACTIVE</code>）都会显示在列表中。 选项
<code class="t">KSH_OPTION_PRINT</code> 会进一步修改格式，但在这种情况下，选择带或不带 <code class="t">no</code> 前缀的选项的原理是一样的。
</p>
<p>如果给定 <code class="t">-m</code> 标志，参数将作为模式（应加引号以防止文件名扩展），所有名称与这些模式匹配的选项都将被设置。
</p>
<p>需要注意的是，错误的选项名称不会导致后续 shell 代码的中止执行；这一行为与 &lsquo;<code class="t">set -o</code>&rsquo; 不同。 这是因为 POSIX 标准将
<code class="t">set</code> 视为特殊的内置命令，而 <code class="t">setopt</code> 并非如此。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Can-Shu-_002c-Wei-Zhi-De--1"></a>
<a id="index-shift"></a><span><code class="t">shift</code> [ <code class="t">-p</code> ] [ <var class="var">n</var> ] [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-shift"> &para;</a></span></dt>
<dd><p>位置参数 <code class="t">${</code><var class="var">n</var>+1<code class="t">}</code> ... 更名为 <code class="t">$1</code> ...，其中 <var class="var">n</var> 是默认为 1
的算术表达式。如果指定了 <var class="var">name</var>，则会移位具有这些名称的数组，而不是位置参数。
</p>
<p>如果给定了选项 <code class="t">-p</code>，参数将从数组的末尾而不是起始位置移除（弹出）。
</p>
</dd>
<dt><a id="index-source"></a><span><code class="t">source</code> <var class="var">file</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-source"> &para;</a></span></dt>
<dd><p>与 &lsquo;<code class="t">.</code>&rsquo; 相同，不同之处在于总是先搜索当前目录，然后再搜索 <code class="t">$path</code> 中的目录。
</p>
</dd>
<dt><code class="t">stat</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fstat-_6a21_5757">zsh/stat 模块</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-shell_002c-Gua-Qi-"></a>
<a class="index-entry-id" id="index-Gua-Qi-shell"></a>
<a id="index-suspend"></a><span><code class="t">suspend</code> [ <code class="t">-f</code> ]<a class="copiable-link" href="#index-suspend"> &para;</a></span></dt>
<dd><p>暂停 shell 的执行（向其发送 <code class="t">SIGTSTP</code>），直到收到 <code class="t">SIGCONT</code>。 除非给出 <code class="t">-f</code> 选项，否则将拒绝暂停登录
shell。
</p>
</dd>
<dt><a id="index-test"></a><span><code class="t">test</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-test"> &para;</a></span></dt>
<dt><code class="t">[</code> [ <var class="var">arg</var> ... ] <code class="t">]</code></dt>
<dd><p>类似于 <code class="t">test</code> 的系统版本。 为兼容而添加；请使用条件表达式代替（参见 <a class="ref" href="#g_t_6761_4ef6_8868_8fbe_5f0f">条件表达式</a>）。 条件表达式语法与 <code class="t">test</code> 和
<code class="t">[</code> 内置命令的主要区别在于：这些命令不按语法处理，因此如空变量扩展可能会导致省略参数；语法错误会导致返回状态 2，而不是 shell
错误；算术运算符希望使用整数参数，而不是算术表达式。
</p>
<p>该命令试图实现 POSIX 及其扩展（在指定的地方）。 遗憾的是，语法本身存在歧义，特别是测试运算符和类似运算符的字符串之间没有区别。
对于少量参数（最多四个），该标准试图解决这些问题；对于五个或更多参数，则无法保证兼容性。 建议用户尽可能使用没有这些歧义的 &lsquo;<code class="t">[[</code>&rsquo; 测试语法。
</p>
</dd>
<dt><a class="index-entry-id" id="index-shell_002c-Ji-Shi-"></a>
<a class="index-entry-id" id="index-Dui-shell-Jin-Xing-Ji-Shi-"></a>
<a id="index-times"></a><span><code class="t">times</code><a class="copiable-link" href="#index-times"> &para;</a></span></dt>
<dd><p>打印 shell 和从 shell 运行的进程的累计用户和系统时间。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xin-Hao-_002c-Bu-Huo--1"></a>
<a class="index-entry-id" id="index-Bu-Huo-Xin-Hao--1"></a>
<a id="index-trap"></a><span><code class="t">trap</code> [ <var class="var">arg</var> ] [ <var class="var">sig</var> ... ]<a class="copiable-link" href="#index-trap"> &para;</a></span></dt>
<dd><p><var class="var">arg</var> 是一系列命令（通常加引号以防止 shell 立即执行），当 shell 接收到一个或多个 <var class="var">sig</var>
参数指定的信号时，将读取并执行这些命令。 每个 <var class="var">sig</var> 都可以是一个数字，也可以是一个信号的名称，可以在前面加上或不加上 <code class="t">SIG</code>
字符串（例如，1、HUP 和 SIGHUP 都是同一个信号）。
</p>
<p>如果 <var class="var">arg</var> 为 &lsquo;<code class="t">-</code>&rsquo; ，则重置指定的信号为默认值；如果没有 <var class="var">sig</var> 参数，则重置所有陷阱。
</p>
<p>如果 <var class="var">arg</var> 为空字符串，则 shell（及其调用的命令）将忽略指定的信号。
</p>
<p>如果省略了 <var class="var">arg</var>，但提供了一个或多个 <var class="var">sig</var> 参数（即第一个参数是有效的信号编号或名称），其效果与 <var class="var">arg</var>
被指定为  &lsquo;<code class="t">-</code>&rsquo; 相同。
</p>
<p>无参数的 <code class="t">trap</code> 命令将打印与每个信号相关的命令列表。
</p>
<p>如果 <var class="var">sig</var> 是 <code class="t">ZERR</code>，那么 <var class="var">arg</var> 将在每条退出状态为非零的命令后执行。 在没有 <code class="t">SIGERR</code>
信号的系统中，<code class="t">ERR</code> 是 <code class="t">ZERR</code> 的别名（通常是这种情况）。
</p>
<p>如果 <var class="var">sig</var> 是 <code class="t">DEBUG</code>，那么如果设置了 <code class="t">DEBUG_BEFORE_CMD</code>（默认情况），<var class="var">arg</var>
将在每条命令之前执行，否则将在每条命令之后执行。 这里的 &lsquo;命令&rsquo; 就是 shell 语法中的 &lsquo;子列表(sublist)&rsquo;，参见
<a class="ref" href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a>。 如果设置了 <code class="t">DEBUG_BEFORE_CMD</code>，就可以使用多种附加功能。 首先，通过设置选项
<code class="t">ERR_EXIT</code>，可以跳过下一条命令；请参阅 <a class="ref" href="#g_t_9009_9879_8bf4_660e">选项说明</a> 中关于 <code class="t">ERR_EXIT</code> 选项的描述。 此外，shell 参数
<code class="t">ZSH_DEBUG_CMD</code> 也会被设置为与陷阱后要执行的命令相对应的字符串。 请注意，该字符串是根据内部格式重建的，格式可能与原文不同。
陷阱执行后，该参数将被取消。
</p>
<p>如果 <var class="var">sig</var> 为 <code class="t">0</code> 或 <code class="t">EXIT</code>，且 <code class="t">trap</code> 语句在函数体内部执行，则在函数完成后执行命令 <var class="var">arg</var>。
开始执行时 <code class="t">$?</code> 的值是 shell 的退出状态或函数退出时的返回状态。 如果 <var class="var">sig</var> 为 <code class="t">0</code> 或 <code class="t">EXIT</code>，且
<code class="t">trap</code> 语句未在函数体内部执行，则在 shell 终止时执行命令 <var class="var">arg</var>；陷阱在任何 <code class="t">zshexit</code> 挂钩函数之前运行。
</p>
<p><code class="t">ZERR</code>、<code class="t">DEBUG</code> 和 <code class="t">EXIT</code> 陷阱不会在其他陷阱内执行。 <code class="t">ZERR</code> 和 <code class="t">DEBUG</code> 陷阱会保留在子
shell 内，而其他陷阱会被重置。
</p>
<p>请注意，使用 <code class="t">trap</code> 内置命令定义的陷阱与 &lsquo;<code class="t">TRAP</code><var class="var">NAL</var> () { ... }&rsquo;
定义的陷阱略有不同，因为后者有自己的函数环境（行号、局部变量等），而前者使用的是调用陷阱的命令环境。 例如
</p>
<div class="example">
<pre class="example-preformatted">trap 'print $LINENO' DEBUG
</pre></div>

<p>会在命令运行后打印该命令的行号，而
</p>
<div class="example">
<pre class="example-preformatted">TRAPDEBUG() { print $LINENO; }
</pre></div>

<p>将始终打印数字 0。
</p>
<p>如上文 <code class="t">kill</code> 所述，允许使用可替换信号名称。 使用其中任何一个名称定义陷阱，都会导致使用其他可替换名称的陷阱被删除。
不过，为了保持一致性，我们建议用户只使用一种名称。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Bu-Zuo-Ren-He-Shi-_002c-Zong-Shi-Cheng-Gong-"></a>
<a id="index-true"></a><span><code class="t">true</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-true"> &para;</a></span></dt>
<dd><p>不做任何事并返回 0 退出状态。
</p>
</dd>
<dt><a class="index-entry-id" id="index-tty_002c-Dong-Jie-"></a>
<a id="index-ttyctl"></a><span><code class="t">ttyctl</code> [ <code class="t">-fu</code> ]<a class="copiable-link" href="#index-ttyctl"> &para;</a></span></dt>
<dd><p><code class="t">-f</code> 选项会冻结 tty（即终端或终端模拟器），而 <code class="t">-u</code> 则会解除冻结。 当 tty 被冻结时，除了屏幕大小的改变外，shell
不会执行外部程序对 tty 设置所做的任何更改；每当命令退出或暂停时，shell 会简单地将设置重置为之前的值。 因此，当 tty
被冻结时，<code class="t">stty</code> 和类似程序将不起作用。 冻结 tty 并不会导致当前状态被记忆：相反，它会导致状态的未来更改被阻止。
</p>
<p>在没有选项的情况下，它会报告终端是否被冻结。
</p>
<p>需要注意的是，无论 tty 是否冻结，shell 都需要在行编辑器启动时更改设置，因此解冻 tty 并不能保证命令行上的设置得到保留。
在编辑命令行之间运行的命令字符串将保持一致的 tty 状态。 另请参阅 shell 变量 <code class="t">STTY</code>，了解在运行外部命令前初始化 tty
和/或在单个命令周围冻结 tty 的方法。
</p>
</dd>
<dt><a id="index-type"></a><span><code class="t">type</code> [ <code class="t">-wfpamsS</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-type"> &para;</a></span></dt>
<dd><p>等价于 <code class="t">whence -v</code>。
</p>
<a class="index-entry-id" id="index-typeset"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-She-Zhi-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Sheng-Ming-"></a>

</dd>
<dt><code class="t">typeset </code>[ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">AHUaghlmrtux</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">EFLRZip</code> [ <var class="var">n</var> ] ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">+</code> ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]</dt>
<dt><code class="t">typeset </code><code class="t">-T</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">Uglrux</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">LRZp</code> [ <var class="var">n</var> ] ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">+</code> | <var class="var">SCALAR</var>[<code class="t">=</code><var class="var">value</var>] <var class="var">array</var>[<code class="t">=(</code><var class="var">value</var> ...<code class="t">)</code>] [ <var class="var">sep</var> ] ]</dt>
<dt><code class="t">typeset</code> <code class="t">-f</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">TUkmtuz</code> ] [ <code class="t">+</code> ] [ <var class="var">name</var> ... ]</dt>
<dd><p>设置或显示 shell 参数的属性和数值。
</p>
<p>除了下面提到的会改变行为的控制标志外，每一个 <var class="var">name</var> 都会创建一个参数，但前提是该参数尚未被引用。 在函数内部时，会为每个
<var class="var">name</var>（即使是已经存在的参数）创建一个新参数，并在函数完成后取消设置。 请参阅 <a class="ref" href="#g_t_5c40_90e8_53c2_6570">局部参数</a>。 同样的规则也适用于特殊 shell
参数，这些参数在局部化后仍保留其特殊属性。
</p>
<p>对于每个  <var class="var">name</var><code class="t">=</code><var class="var">value</var>  赋值，参数 <var class="var">name</var> 将被设置为 <var class="var">value</var>。
如果省略了赋值，并且 <var class="var">name</var> <em class="emph">没有</em>
指向了一个现有参数，那么一个新参数将初始化为空字符串、零或空数组（视情况而定），<em class="emph">除非</em> shell 选项
<code class="t">TYPESET_TO_UNSET</code> 已被设置。 设置该选项后，参数属性将被记录，但参数仍保持未设置状态。
</p>
<p>如果未设置 shell 选项 <code class="t">TYPESET_SILENT</code>，那么对于每一个指向已设置参数的剩余
<var class="var">name</var>，都会以赋值的形式打印参数的名称和值。 对于新创建的参数，或 <var class="var">name</var> 同时给出以下属性标志时，将不打印任何内容。 使用
&lsquo;<code class="t">+</code>&rsquo; 而不是减号来引入属性时，将关闭该属性。
</p>
<p>如果没有 <var class="var">name</var>，则打印所有参数的名称和值。 在这种情况下，属性标志限制为只显示具有指定属性的参数，使用 &lsquo;<code class="t">+</code>&rsquo; 而不是
&lsquo;<code class="t">-</code>&rsquo; 引入标志可以在没有参数名时抑制参数值的打印。
</p>
<p>该命令的所有形式都能处理标量赋值。 如果在解析命令行时（注意：不是在执行时）匹配了保留字
<code class="t">declare</code>、<code class="t">export</code>、<code class="t">float</code>、<code class="t">integer</code>、<code class="t">local</code>、<code class="t">readonly</code> 或
<code class="t">typeset</code>，则可以进行数组赋值。 在这种情况下，参数将作为赋值进行解析，但不支持 &lsquo;<code class="t">+=</code>&rsquo; 语法和 <code class="t">GLOB_ASSIGN</code>
选项，并且 <code class="t">=</code> 之后的标量值<em class="emph">不会</em>被分割为单词，即使已展开（与 <code class="t">KSH_TYPESET</code> 选项的设置无关；该选项已过时）。
</p>
<p>命令和保留字解析差异示例：
</p>
<div class="example">
<pre class="example-preformatted"># Reserved word parsing
typeset svar=$(echo one word) avar=(several words)
</pre></div>

<p>上面的代码创建了一个标量参数 <code class="t">svar</code> 和一个数组参数 <code class="t">avar</code>，就好像赋值是
</p>
<div class="example">
<pre class="example-preformatted">svar=&quot;one word&quot;
avar=(several words)
</pre></div>

<p>另一方面：
</p>
<div class="example">
<pre class="example-preformatted"># Normal builtin interface
builtin typeset svar=$(echo two words)
</pre></div>

<p>使用 <code class="t">builtin</code> 关键字后，上述命令将使用 <code class="t">typeset</code> 的标准内置接口，其中参数解析的方式与其他命令相同。
本示例创建了一个包含值 <code class="t">two</code> 的标量 <code class="t">svar</code>，以及另一个无值的标量参数 <code class="t">words</code>。
在这种情况下，数组值要么会导致错误，要么会被视为一组模糊的 glob 限定符。
</p>
<p>如果在命令行扩展后采用赋值形式，则允许使用任意参数；不过，这些参数只能执行标量赋值：
</p>
<div class="example">
<pre class="example-preformatted">var='svar=val'
typeset $var
</pre></div>

<p>上述代码将标量参数 <code class="t">svar</code> 设置为值 <code class="t">val</code>。 在 <code class="t">var</code> 中的值周围使用括号不会导致数组赋值，因为在替换 <code class="t">$var</code>
时，括号将被视为普通字符。 赋值中名称部分的任何非平凡（non-trivial) 式扩展都会导致以这种方式处理参数：
</p>
<div class="example">
<pre class="example-preformatted">typeset {var1,var2,var3}=name
</pre></div>

<p>上述语法是有效的，并具有将三个参数设置为相同值的预期效果，但扩展后的命令行会被解析为 <code class="t">typeset</code> 的三个普通命令行参数的集合。
因此，无法通过这种方法为多个数组赋值。
</p>
<p>请注意，任何命令的每个接口都可以单独禁用。 例如，&lsquo;<code class="t">disable -r typeset</code>&rsquo; 禁用 <code class="t">typeset</code>
的保留字接口，暴露内置接口，而 &lsquo;<code class="t">disable typeset</code>&rsquo; 则禁用内置接口。 需要注意的是，禁用 <code class="t">typeset</code>
的保留字接口可能会导致 &lsquo;<code class="t">typeset -p</code>&rsquo; 的输出出现问题，因为 &lsquo;<code class="t">typeset -p</code>&rsquo;
假定保留字接口可用，以便还原数组和关联数组的值。
</p>
<p>与参数赋值语句不同，<code class="t">typeset</code> 在涉及命令替换的赋值中的退出状态并不反映命令替换的退出状态。
因此，要测试命令替换中的错误，应将参数的声明与其初始化分开：
</p>
<div class="example">
<pre class="example-preformatted"># WRONG
typeset var1=$(exit 1) || echo &quot;Trouble with var1&quot;

# RIGHT
typeset var1 &amp;&amp; var1=$(exit 1) || echo &quot;Trouble with var1&quot;

</pre></div>

<p>要将参数 <var class="var">param</var> 初始化为命令输出并标记为只读，请在参数赋值语句后使用 <code class="t">typeset -r </code><var class="var">param</var>  或
<code class="t">readonly </code><var class="var">param</var> 。
</p>
<p>如果没有给出属性标志，也没有 <var class="var">name</var> 参数或使用了 <code class="t">+m</code>
标志，则在打印的每个参数名称前都会列出该参数的属性（<code class="t">array</code>、<code class="t">association</code>、<code class="t">exported</code>、<code class="t">float</code>、<code class="t">integer</code>、<code class="t">readonly</code>
或 <code class="t">undefined</code> (用于尚未加载的自动加载参数) ）。 如果 <code class="t">+m</code> 与属性标志一起使用，且所有这些标志都用 <code class="t">+</code>
引入，则会打印匹配的参数名，但不会打印其值。
</p>
<p>以下控制标志会改变 <code class="t">typeset</code> 的行为：
</p>
<dl class="table">
<dt><code class="t">+</code></dt>
<dd><p>如果 &lsquo;<code class="t">+</code>&rsquo; 作为最后一个选项单独出现，那么将打印所有参数（带 <code class="t">-f</code> 的函数）的名称，但不打印参数值（函数体）。 不允许出现
<var class="var">name</var> 参数，而且在 &lsquo;<code class="t">+</code>&rsquo; 之后出现其他选项都是错误的。&lsquo;<code class="t">+</code>&rsquo; 的作用就好像在它前面的所有属性标志都加上了
&lsquo;<code class="t">+</code>&rsquo; 前缀。 例如，&lsquo;<code class="t">typeset -U +</code>&rsquo; 等同于 &lsquo;<code class="t">typeset +U</code>&rsquo; ，显示所有具有唯一性属性的数组的名称，而
&lsquo;<code class="t">typeset -f -U +</code>&rsquo; 则显示所有可自动加载函数的名称。 如果 <code class="t">+</code>
是唯一的选项，那么每个参数的类型信息（数组、只读等）也会被打印出来，打印方式与  &lsquo;<code class="t">typeset +m &quot;*&quot;</code>&rsquo; 相同。
</p>
</dd>
<dt><code class="t">-g</code></dt>
<dd><p><code class="t">-g</code>（全局）表示产生的参数将不限于本地作用域。
请注意，这并不一定意味着参数将是全局的，因为该标志将适用于来自封闭函数的任何现有参数（即使未设置）。
该标志不会影响创建后的参数，因此在列出现有参数时没有任何作用，除了与 <code class="t">-m</code> 结合使用外，标志 <code class="t">+g</code> 也没有任何作用（见下文）。
</p>
</dd>
<dt><code class="t">-m</code></dt>
<dd><p>如果给出 <code class="t">-m</code> 标志，<var class="var">name</var> 参数将被视为模式（使用引号防止这些参数被解释为文件模式）。
在没有属性标志的情况下，所有名称匹配的参数（或带有 <code class="t">-f</code> 标志的函数）都会被打印（此时不使用 shell 选项
<code class="t">TYPESET_SILENT</code>）。
</p>
<p>如果 <code class="t">+g</code> 标志与 <code class="t">-m</code> 结合使用，则会为每一个尚未本地化的匹配参数创建一个新的本地参数。 否则，<code class="t">-m</code>
会将所有其他标志或赋值应用于现有参数。
</p>
<p>除了使用 <var class="var">name</var><code class="t">=</code><var class="var">value</var> 进行赋值外，使用 <code class="t">+m</code> 会强制打印匹配的参数及其属性，即使在函数内部也是如此。
请注意，如果没有给出模式，<code class="t">-m</code> 将被忽略，因此 &lsquo;<code class="t">typeset -m</code>&rsquo; 会显示属性，但 &lsquo;<code class="t">typeset -a +m</code>&rsquo; 不会。
</p>
</dd>
<dt><code class="t">-p</code> [ <var class="var">n</var> ]</dt>
<dd><p>如果给出 <code class="t">-p</code> 选项，参数和值将以带赋值的排版命令形式打印，与其他标志和选项无关。 需要注意的是，会尊守参数上的 <code class="t">-H</code>
标志；这些参数不会显示任何值。
</p>
<p><code class="t">-p</code> 后面可以跟一个可选的整数参数。 目前只支持 <code class="t">1</code> 值。 在这种情况下，为了便于阅读，数组和关联数组会在缩进元素之间使用换行符打印。
</p>
</dd>
<dt><code class="t">-T</code> [ <var class="var">scalar</var>[<code class="t">=</code><var class="var">value</var>] <var class="var">array</var>[<code class="t">=(</code><var class="var">value</var> ...<code class="t">)</code>] [ <var class="var">sep</var> ] ]</dt>
<dd><p>当与 <code class="t">-f</code> 搭配使用时，该标志的含义有所不同；见下文。 在其他情况下，<code class="t">-T</code> 选项需要 0、2 或 3 个参数。
如果没有参数，将显示以这种方式创建的参数列表。 如果有两个或三个参数，前两个参数是一个标量和一个数组参数的名称（按此顺序），这两个参数将以
<code class="t">$PATH</code> 和 <code class="t">$path</code> 的方式绑定在一起。
第三个可选参数是一个单字符分隔符，用于连接数组元素以形成标量；如果没有分隔符，则使用冒号，与 <code class="t">$PATH</code> 一样。
只有分隔符的第一个字符才有意义，其余字符将被忽略。 目前还不支持多字节字符。
</p>
<p>标量参数和数组参数中只有一个可以赋初值（上述赋值形式上的限制也适用）。
</p>
<p>标量和数组都可以正常操作。 如果其中一个被取消设置，另一个也会自动取消设置。 我们无法在不取消设置的情况下解除变量的绑定，也无法使用
<code class="t">typeset</code> 命令转换其中一个变量的类型；<code class="t">+T</code>不起作用，将数组赋值给 <var class="var">scalar</var> 会出错，将标量赋值给
<var class="var">array</var> 会将其设置为单元素数组。
</p>
<p>请注意， &lsquo;<code class="t">typeset -xT ...</code>&rsquo; 和 &lsquo;<code class="t">export -T ...</code>&rsquo; 都有效，但只有标量会被标记为导出。
使用标量版本设置值会导致在所有分隔符位置被拆分（不能使用引号）。 可以将 <code class="t">-T</code>
应用于两个先前绑定但使用不同分隔符的变量，在这种情况下，变量仍像以前一样连接，但分隔符会改变。
</p>
<p>当现有标量与新数组绑定时，标量的值将被保留，但除导出之外的其他属性将不会被保留。
</p>
</dd>
</dl>

<p>改变最终值的属性标志（<code class="t">-L</code>、<code class="t">-R</code>、<code class="t">-Z</code>、<code class="t">-L</code>、<code class="t">-u</code>）仅在使用 &lsquo;<code class="t">$</code>&rsquo; 的参数扩展表达式时应用于扩展值。
当 shell 为任何目的在内部检索参数时，它们都不会被使用。 
</p>
<p>可指定以下属性标志：
</p>
<dl class="table">
<dt><code class="t">-A</code></dt>
<dd><p>这些名称指的是关联数组参数；请参阅 <a class="ref" href="#g_t_6570_7ec4_53c2_6570">数组参数</a>。
</p>
</dd>
<dt><code class="t">-L</code> [ <var class="var">n</var> ]</dt>
<dd><p>当参数展开时，左对齐并删除值的前导空白。 如果 <var class="var">n</var> 非零，则定义字段的宽度。 如果 <var class="var">n</var> 为零，则宽度由第一次赋值的宽度决定。
如果是数值参数，则使用赋给参数的完整值的长度来确定宽度，而不是将输出的值。
</p>
<p>宽度是字符数，如果使用 <code class="t">MULTIBYTE</code> 选项，则可能是多字节字符。 需要注意的是，字符的屏幕宽度不会考虑在内；如果需要，请使用参数扩展标志
<code class="t">${(ml</code><var class="var">...</var><code class="t">)</code><var class="var">...</var><code class="t">}</code> 填充，如 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a> 中的 &lsquo;参数扩展标志&rsquo; 所述。
</p>
<p>当参数展开时，会在右侧填充空白，或根据需要截断以适应字段。 请注意，截断会导致数字参数出现意外结果。 如果同时设置了 <code class="t">-Z</code>
标志，前导零将被删除。
</p>
</dd>
<dt><code class="t">-R</code> [ <var class="var">n</var> ]</dt>
<dd><p>与 <code class="t">-L</code> 类似，但使用右对齐方式；当参数展开时，字段左侧填充空白或从末尾截断。 不得与 <code class="t">-Z</code> 标志结合使用。
</p>
</dd>
<dt><code class="t">-U</code></dt>
<dd><p>对于数组（但不包括关联数组），只保留每个重复值的第一次出现。 对于绑定参数（参见 <code class="t">-T</code>）或以冒号分隔的特殊参数，如 <code class="t">PATH</code> 或
<code class="t">FIGNORE</code> 等，也可以设置此标志。
需要注意的是，该标志在赋值时生效，被赋值变量的类型起决定作用；因此，对于具有共享值的变量，建议为所有接口设置该标志，例如 &lsquo;<code class="t">typeset -U
PATH path</code>&rsquo; 。
</p>
<p>当与 <code class="t">-f</code> 搭配使用时，该标志的含义有所不同；见下文。
</p>
</dd>
<dt><code class="t">-Z</code> [ <var class="var">n</var> ]</dt>
<dd><p>如果与 <code class="t">-L</code> 标志一起设置，则进行特殊处理。否则，类似于 <code class="t">-R</code>，只是如果第一个非空字符是数字，则使用前导零进行填充，而不是空格。
数字参数受到特殊处理：它们始终符合使用零进行填充的条件，并且零被插入到输出中的适当位置。
</p>
</dd>
<dt><code class="t">-a</code></dt>
<dd><p>这些名称指的是数组参数。 数组参数可以通过这种方式创建，但只有启用 <code class="t">typeset</code> 的保留字形式（默认情况下是这样）后，才能在
<code class="t">typeset</code> 语句中对其进行赋值。 显示时，普通数组和关联数组都会显示。
</p>
</dd>
<dt><code class="t">-f</code></dt>
<dd><p>这些名称指的是函数而不是参数。 不能进行赋值，唯一有效的标志是 <code class="t">-t</code>、<code class="t">-T</code>、<code class="t">-k</code>、<code class="t">-u</code>、<code class="t">-U</code> 和 <code class="t">-z</code>。
标志 <code class="t">-t</code> 开启了该函数的执行跟踪；标志 <code class="t">-T</code>
的作用与此相同，但会关闭从当前函数调用的任何命名函数（非匿名函数）的跟踪，除非该函数也具有 <code class="t">-t</code> 或 <code class="t">-T</code> 标志。 <code class="t">-u</code> 和
<code class="t">-U</code> 标志会将函数标记为自动加载；<code class="t">-U</code> 还会在加载函数时抑制别名扩展。 详情请参见内置命令 &lsquo;<code class="t">autoload</code>&rsquo; 的描述。
</p>
<p>请注意，内置的 <code class="t">functions</code> 提供了与 <code class="t">typeset -f</code> 相同的基本功能，但提供了一些额外的选项；<code class="t">autoload</code> 为
<code class="t">typeset -fu</code> 和 <code class="t">typeset -fU</code> 的情况提供了更多的额外选项。
</p>
</dd>
<dt><code class="t">-h</code></dt>
<dd><p>隐藏：仅对特殊参数（在 <a class="ref" href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a> 中的表格中标记为 &lsquo;&lt;S&gt;&rsquo; 的参数）和与特殊参数同名的本地参数有用，但对其他参数无害。
带有此属性的特殊参数在本地化后将不会保留其特殊效果。 因此，在 &lsquo;<code class="t">typeset -h PATH</code>&rsquo; 之后，包含 &lsquo;<code class="t">typeset
PATH</code>&rsquo; 的函数将创建一个普通的本地参数，而不具有 <code class="t">PATH</code> 的通常行为。 或者，本地参数本身也可以被赋予此属性；因此，在函数
&lsquo;<code class="t">typeset -h PATH</code>&rsquo; 中，将创建一个普通的本地参数，而特殊的 <code class="t">PATH</code> 参数不会以任何方式改变。 也可以使用
&lsquo;<code class="t">typeset +h </code><var class="var">special</var>&rsquo; 创建一个本地参数，此时 <var class="var">special</var> 的本地副本将保留其特殊属性，而与
<code class="t">-h</code> 属性无关。 为避免名称冲突，从 shell 模块加载的全局特殊参数（目前为 <code class="t">zsh/mapfile</code> 和
<code class="t">zsh/parameter</code> 中的参数）会自动获得 <code class="t">-h</code> 属性。
</p>
</dd>
<dt><code class="t">-H</code></dt>
<dd><p>隐藏值：指定 <code class="t">typeset</code> 在列出参数时不显示参数的值；对此类参数的显示总是如同给定了 &lsquo;<code class="t">+</code>&rsquo; 标志。
在其他方面，参数的使用是正常的，如果参数是通过名称或 <code class="t">-m</code> 选项的模式指定的，则该选项不适用。 对于 <code class="t">zsh/parameter</code> 和
<code class="t">zsh/mapfile</code> 模块中的参数，该选项默认为开启。 但需要注意的是，与 <code class="t">-h</code> 标志不同，该标志也适用于非特殊参数。
</p>
</dd>
<dt><code class="t">-i</code> [ <var class="var">n</var> ]</dt>
<dd><p>使用内部整数表示。 如果 <var class="var">n</var> 非零，则定义输出的算术基数，否则由第一个赋值决定。 允许的基数范围为 2 至 36（含 36）。
</p>
</dd>
<dt><code class="t">-E</code> [ <var class="var">n</var> ]</dt>
<dd><p>使用内部双精度浮点表示法。 输出时，变量将转换为科学计数法。 如果 <var class="var">n</var> 非零，则定义要显示的有效数字个数；默认为 10。
</p>
</dd>
<dt><code class="t">-F</code> [ <var class="var">n</var> ]</dt>
<dd><p>使用内部双精度浮点表示法。 输出时，变量将转换为定点小数。 如果 <var class="var">n</var> 非零，则定义小数点后显示的位数；默认为十位。
</p>
</dd>
<dt><code class="t">-l</code></dt>
<dd><p>当参数展开时，将结果转换为小写。 赋值时将 <em class="emph">不</em> 进行转换。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>给定的 <var class="var">name</var>s 将被标记为只读。 需要注意的是，如果 <var class="var">name</var> 是一个特殊参数，那么只读属性可以打开，但之后不能关闭。
</p>
<p>如果设置了 <code class="t">POSIX_BUILTINS</code> 选项，只读属性的限制性会更强：未设置的变量可以标记为
readonly，但之后不能设置；此外，只读属性不能从任何变量中移除。
</p>
<p>但仍有可能更改变量的其他属性，其中一些属性（如 <code class="t">-U</code> 或 <code class="t">-Z</code> ）会影响变量值。一般来说，不应将只读属性作为一种安全机制。
</p>
<p>请注意，在 zsh 中（与 pdksh 类似，但与大多数其他 shell
不同），仍然可以创建一个同名的局部变量，因为这被视为一个不同的变量（尽管这个变量也可以标记为只读）。已设置为只读的特殊变量在设置为本地变量后，其值和只读属性仍会保留。
</p>
</dd>
<dt><code class="t">-t</code></dt>
<dd><p>为已命名的参数打标签。 标签对 shell 没有特殊意义。 当与 <code class="t">-f</code> 一起使用时，该标志具有不同的含义；参见上文。
</p>
</dd>
<dt><code class="t">-u</code></dt>
<dd><p>当参数展开时，将结果转换为大写。 赋值时<em class="emph">不</em>会进行转换。 当与 <code class="t">-f</code> 一起使用时，该标志具有不同的含义；参见上文。
</p>
</dd>
<dt><code class="t">-x</code></dt>
<dd><p>标记，用于将随后执行的命令自动导出到环境中。 如果设置了选项 <code class="t">GLOBAL_EXPORT</code>，这意味着选项 <code class="t">-g</code>，除非同时明确给出
<code class="t">+g</code>；换句话说，参数不会被本地化到闭合函数中。 这是为了与以前版本的 zsh 兼容。
</p>
</dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Zi-Yuan-Xian-Zhi--1"></a>
<a class="index-entry-id" id="index-Xian-Zhi-_002c-Zi-Yuan--1"></a>
<a id="index-ulimit"></a><span><code class="t">ulimit</code> [ <code class="t">-HSa</code> ] [ { <code class="t">-bcdfiklmnpqrsTtvwx</code> | <code class="t">-N</code> <var class="var">resource</var> } [ <var class="var">limit</var> ] ... ]<a class="copiable-link" href="#index-ulimit"> &para;</a></span></dt>
<dd><p>设置或显示 shell 和 shell 启动的进程的资源限制。 <var class="var">limit</var> 的值可以是以下面指定的单位表示的数字，也可以是
&lsquo;<code class="t">unlimited</code>&rsquo;（删除资源限制）或 &lsquo;<code class="t">hard</code>&rsquo;（使用资源硬限制的当前值）中的一个值。
</p>
<p>默认情况下，只处理软限制。如果给出 <code class="t">-H</code> 标志，则使用硬限值代替软限值。 如果同时给出 <code class="t">-S</code> 标志和 <code class="t">-H</code>
标志，则同时设置硬限值和软限值。
</p>
<p>如果没有使用选项，则假定使用文件大小限制 (<code class="t">-f</code>)。
</p>
<p>如果省略 <var class="var">limit</var>，则打印指定资源的当前值。 如果打印的资源值不止一个，则会在每个值之前打印限制的名称和单位。
</p>
<p>在对多个资源进行循环时，如果 shell 检测到一个错误的参数，它会立即终止。 但是，如果由于其他原因无法设置限制，它将继续尝试设置剩余的限制。
</p>
<p>并非所有系统都支持以下所有资源。 运行 <code class="t">ulimit -a</code> 将显示支持哪些资源。
</p>
<dl class="table">
<dt><code class="t">-a</code></dt>
<dd><p>列出所有当前资源限制。
</p></dd>
<dt><code class="t">-b</code></dt>
<dd><p>以字节为单位的套接字缓冲区大小（注意：不是千字节）
</p></dd>
<dt><code class="t">-c</code></dt>
<dd><p>512 字节块，核心转储大小。
</p></dd>
<dt><code class="t">-d</code></dt>
<dd><p>千字节，表示数据段的大小。
</p></dd>
<dt><code class="t">-f</code></dt>
<dd><p>写入文件大小的， 512 字节块。
</p></dd>
<dt><code class="t">-i</code></dt>
<dd><p>待处理信号的数量。
</p></dd>
<dt><code class="t">-k</code></dt>
<dd><p>分配的 kqueues 数量。
</p></dd>
<dt><code class="t">-l</code></dt>
<dd><p>千字节，锁定内存大小。
</p></dd>
<dt><code class="t">-m</code></dt>
<dd><p>千字节，物理内存的大小。
</p></dd>
<dt><code class="t">-n</code></dt>
<dd><p>打开文件描述符。
</p></dd>
<dt><code class="t">-p</code></dt>
<dd><p>伪终端的数量。
</p></dd>
<dt><code class="t">-q</code></dt>
<dd><p>POSIX 消息队列中的字节数。
</p></dd>
<dt><code class="t">-r</code></dt>
<dd><p>最大实时优先级。 在某些没有这个的系统（如 NetBSD）中，为了与 <code class="t">sh</code> 兼容，该选项与 <code class="t">-T</code> 具有相同的效果。
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p>千字节，堆栈大小。
</p></dd>
<dt><code class="t">-T</code></dt>
<dd><p>用户可同时使用的线程数。
</p></dd>
<dt><code class="t">-t</code></dt>
<dd><p>使用的 CPU 秒数。
</p></dd>
<dt><code class="t">-u</code></dt>
<dd><p>用户可使用的进程数。
</p></dd>
<dt><code class="t">-v</code></dt>
<dd><p>虚拟内存大小，千字节。 在某些系统中，这是指称为 &lsquo;地址空间&rsquo; 的限制。
</p></dd>
<dt><code class="t">-w</code></dt>
<dd><p>千字节，表示被交换出去的内存大小。
</p></dd>
<dt><code class="t">-x</code></dt>
<dd><p>文件锁的数量。
</p></dd>
</dl>

<p>资源也可以通过整数形式 &lsquo;<code class="t">-N</code> <var class="var">resource</var>&rsquo; 指定，其中 <var class="var">resource</var> 对应于操作系统为资源定义的整数。
这可以用来设置 shell 已知的、与选项字母不对应的资源的限制。 这些限制将在 &lsquo;<code class="t">ulimit -a</code>&rsquo; 的输出中以数字显示。
</p>
<p>该数字也可能超出编译到 shell 中的限制范围。 shell 会尝试读取或写入限制值，如果失败则会报错。
</p>
</dd>
<dt><a class="index-entry-id" id="index-umask"></a>
<a id="index-umask-1"></a><span><code class="t">umask</code> [ <code class="t">-S</code> ] [ <var class="var">mask</var> ]<a class="copiable-link" href="#index-umask-1"> &para;</a></span></dt>
<dd><p>umask 设置为 <var class="var">mask</var>。 <var class="var">mask</var> 可以是八进制数，也可以是 chmod(1) 手册页中描述的符号值。 如果省略
<var class="var">mask</var>，则打印当前值。 <code class="t">-S</code> 选项会将掩码打印为符号值。 否则，掩码将以八进制数的形式打印。
请注意，在符号形式下，您指定的权限是允许（而不是拒绝）给指定用户的权限。
</p>
</dd>
<dt><a id="index-Bie-Ming-_002c-Shan-Chu-"></a><span><code class="t">unalias</code> [ <code class="t">-ams</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-Bie-Ming-_002c-Shan-Chu-"> &para;</a></span></dt>
<dd><p>删除别名。 该命令的作用与 <code class="t">unhash -a</code> 相同，但 <code class="t">-a</code> 选项会移除所有常规或全局别名，或 <code class="t">-s</code>
会移除所有后缀别名：在这种情况下，不能出现 <var class="var">name</var> 参数。 选项 <code class="t">-m</code>（按模式移除）和 <code class="t">-s</code>（不含
<code class="t">-a</code>）（移除列出的后缀别名）的作用与 <code class="t">unhash -a</code> 相同。 注意 <code class="t">-a</code> 的含义在 <code class="t">unalias</code> 和
<code class="t">unhash</code> 中有所不同。
</p>
</dd>
<dt><a class="index-entry-id" id="index-unfunction"></a>
<a id="index-Han-Shu-_002c-Shan-Chu-"></a><span><code class="t">unfunction</code><a class="copiable-link" href="#index-Han-Shu-_002c-Shan-Chu-"> &para;</a></span></dt>
<dd><p>与 <code class="t">unhash -f</code> 相同.
</p>
</dd>
<dt><a id="index-unhash"></a><span><code class="t">unhash</code> [ <code class="t">-adfms</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-unhash"> &para;</a></span></dt>
<dd><p>从内部哈希表中删除名为 <var class="var">name</var> 的元素。 默认是从命令哈希表中移除元素。 使用 <code class="t">-a</code> 选项，<code class="t">unhash</code>
会移除常规或全局别名；注意移除全局别名时，参数必须加引号，以防止在传递给命令前被展开。 使用 <code class="t">-s</code> 选项，<code class="t">unhash</code> 会移除后缀别名。
<code class="t">-f</code> 选项会使 <code class="t">unhash</code> 删除 shell 函数。 通过 <code class="t">-d</code> 选项，<code class="t">unhash</code> 会移除命名目录。 如果给定了
<code class="t">-m</code> 标志，参数将被视为模式（应加引号），相应哈希表中名称匹配的所有元素都将被移除。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Zi-Yuan-Xian-Zhi--2"></a>
<a class="index-entry-id" id="index-Xian-Zhi-_002c-Zi-Yuan--2"></a>
<a id="index-unlimit"></a><span><code class="t">unlimit</code> [ <code class="t">-hs</code> ] <var class="var">resource</var> ...<a class="copiable-link" href="#index-unlimit"> &para;</a></span></dt>
<dd><p>每个 <var class="var">resource</var> 的资源限制都会设置为硬限制。 如果给定了 <code class="t">-h</code> 标志，且 shell 拥有相应权限，则会删除每个
<var class="var">resource</var> 的硬资源限制。 只有在给出 <code class="t">-s</code> 标志的情况下，shell 进程的资源才会被更改。
</p>
<p>当 shell 以模拟其他 shell 的模式启动时，<code class="t">unlimit</code> 命令默认不可用。 可以使用 &lsquo;<code class="t">zmodload -F
zsh/rlimits b:unlimit</code>&rsquo; 命令来使用它。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Can-Shu-_002c-Qu-Xiao-She-Zhi-"></a>
<a id="index-unset"></a><span><code class="t">unset</code> [ <code class="t">-fmv</code> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-unset"> &para;</a></span></dt>
<dd><p>每个已命名的参数都是未设置的。 即使未设置，本地参数仍是本地参数；它们在作用域内显示为未设置，但当作用域结束时，先前的值仍会重新出现。
</p>
<p>关联数组参数的单个元素可以通过 <var class="var">name</var> 上的下标语法取消设置，下标应加引号（或整个命令前加 <code class="t">noglob</code>），以防止文件名生成。
</p>
<p>如果指定了 <code class="t">-m</code> 标志，参数将被视为模式（应加引号），所有名称匹配的参数将被取消设置。
需要注意的是，该标志不能用于关联数组元素的取消设置，因为下标将被视为模式的一部分。
</p>
<p><code class="t">-v</code> 标志指定 <var class="var">name</var> 指向参数。这是默认行为。
</p>
<p><code class="t">unset -f</code> 等价于 <code class="t">unfunction</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xuan-Xiang-_002c-Qu-Xiao-She-Zhi-"></a>
<a id="index-unsetopt"></a><span><code class="t">unsetopt</code> [ {<code class="t">+</code>|<code class="t">-</code>}<var class="var">options</var> | {<code class="t">+</code>|<code class="t">-</code>}<code class="t">o</code> <var class="var">option_name</var> ] [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-unsetopt"> &para;</a></span></dt>
<dd><p>取消设置 shell 的选项。 所有用标志或名称指定的选项都会被取消设置。 如果没有提供参数，则会打印当前未设置的所有选项名称。 如果给出 <code class="t">-m</code>
标志，参数将作为模式（应加引号以防止被解释为 glob 模式），所有名称与这些模式匹配的选项将被取消设置。
</p>
</dd>
<dt><code class="t">vared</code></dt>
<dd><p>参见 <a class="ref" href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Deng-Dai-Zuo-Ye-"></a>
<a class="index-entry-id" id="index-Zuo-Ye-_002c-Deng-Dai-"></a>
<a id="index-wait"></a><span><code class="t">wait</code> [ <var class="var">job</var> ... ]<a class="copiable-link" href="#index-wait"> &para;</a></span></dt>
<dd><p>等待指定的作业或进程。 如果未给出 <var class="var">job</var>，则会等待所有当前活动的子进程。 每个 <var class="var">job</var>
既可以是作业指示器，也可以是作业表中作业的进程 ID。 该命令的退出状态是所等待作业的退出状态。 如果 <var class="var">job</var> 代表未知作业或进程
ID，则会打印警告（除非设置了 <code class="t">POSIX_BUILTINS</code> 选项），退出状态为 127。
</p>
<p>可以等待最近在后台运行的进程（由进程 ID 指定，而不是由作业指定），即使该进程已经退出。 通常情况下，进程 ID 会在进程启动后立即通过捕获变量
<code class="t">$!</code> 的值记录下来。 shell 记忆的进程 ID 数量是有限制的，这个限制由系统配置参数 <code class="t">CHILD_MAX</code> 的值决定。
当达到这个限制时，较旧的进程 ID 将被丢弃，最近启动的进程将被优先丢弃。
</p>
<p>注意，没有机制来防止进程ID的回绕，即如果等待操作没有足够快地执行，那么等待的可能是错误的进程。冲突意味着两个进程ID都是由shell生成的，因为其他进程并没有被记录下来，并且用户可能对这两个进程都感兴趣，所以这个问题是进程ID固有的。
</p>
</dd>
<dt><a id="index-whence"></a><span><code class="t">whence</code> [ <code class="t">-vcwfpamsS</code> ] [ <code class="t">-x</code> <var class="var">num</var> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-whence"> &para;</a></span></dt>
<dd><p>对于每个 <var class="var">name</var>，指出如果用作命令名时，将如何解释。
</p>
<p>如果 <var class="var">name</var> 不是别名、内置命令、外部命令、shell 函数、散列的命令或保留字，则退出状态应为非零，并且 &mdash; 如果传递了
<code class="t">-v</code>、<code class="t">-c</code> 或 <code class="t">-w</code> &mdash; 一条信息将被写入标准输出。 (这与其他 shell 将信息写入标准错误不同）。
</p>
<p><code class="t">whence</code> 在 <var class="var">name</var> 只是命令的最后一个路径组件，即不包括
&lsquo;<code class="t">/</code>&rsquo;时，最有用；特别是，只有在只传递命令的非目录组件时，模式匹配才会成功。
</p>
<dl class="table">
<dt><code class="t">-v</code></dt>
<dd><p>生成更详细的报告。
</p>
</dd>
<dt><code class="t">-c</code></dt>
<dd><p>以 <cite class="cite">csh</cite> 类似的格式打印结果。 其优先级高于 <code class="t">-v</code>。
</p>
</dd>
<dt><code class="t">-w</code></dt>
<dd><p>对于每个 <var class="var">name</var>，打印 &lsquo;<var class="var">name</var><code class="t">:</code> <var class="var">word</var>&rsquo; ，其中 <var class="var">word</var>是 <code class="t">alias</code>,
<code class="t">builtin</code>, <code class="t">command</code>, <code class="t">function</code>, <code class="t">hashed</code>, <code class="t">reserved</code> 或
<code class="t">none</code>中的一个，根据 <var class="var">name</var> 对应的别名、内置命令、外部命令、shell 函数、使用 <code class="t">hash</code>
内置命令定义的命令、保留字或未识别。 其优先级高于 <code class="t">-v</code> 和 <code class="t">-c</code>。
</p>
</dd>
<dt><code class="t">-f</code></dt>
<dd><p>显示 shell 函数的内容，这在不使用 <code class="t">-c</code> 标志时，不会显示。
</p>
</dd>
<dt><code class="t">-p</code></dt>
<dd><p>对 <var class="var">name</var> 进行路径搜索，即使它是别名、保留字、shell 函数或内置命令。
</p>
</dd>
<dt><code class="t">-a</code></dt>
<dd><p>在命令路径中搜索 <var class="var">name</var> 的所有出现次数。 通常只打印第一次出现的内容。
</p>
</dd>
<dt><code class="t">-m</code></dt>
<dd><p>参数被视为模式（模式字符应加引号），每条与其中一个模式匹配的命令的信息都将显示。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>如果路径名包含符号链接，则同时打印不含符号链接的路径名。
</p>
</dd>
<dt><code class="t">-S</code></dt>
<dd><p>与 <code class="t">-s</code>相同，但如果需要通过多个符号链接来解析路径名，则也会打印中间步骤。 每一步解析的符号链接可能在路径的任何位置。
</p>
</dd>
<dt><code class="t">-x</code> <var class="var">num</var></dt>
<dd><p>使用 <code class="t">-c</code> 选项输出 shell 函数时展开制表符。 这与 <code class="t">functions</code> 内置命令的选项 <code class="t">-x</code> 的效果相同。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-where"></a><span><code class="t">where</code> [ <code class="t">-wpmsS</code> ] [ <code class="t">-x</code> <var class="var">num</var> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-where"> &para;</a></span></dt>
<dd><p>等价于 <code class="t">whence -ca</code>.
</p>
</dd>
<dt><a id="index-which"></a><span><code class="t">which</code> [ <code class="t">-wpamsS</code> ] [ <code class="t">-x</code> <var class="var">num</var> ] <var class="var">name</var> ...<a class="copiable-link" href="#index-which"> &para;</a></span></dt>
<dd><p>等价于 <code class="t">whence -c</code>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-_002ezwc-WenJian-_002c-Chuang-Jian-"></a>
<a class="index-entry-id" id="index-Bian-Yi-"></a>
<a id="index-zcompile"></a><span><code class="t">zcompile</code> [ <code class="t">-U</code> ] [ <code class="t">-z</code> | <code class="t">-k</code> ] [ <code class="t">-R</code> | <code class="t">-M</code> ] <var class="var">file</var> [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-zcompile"> &para;</a></span></dt>
<dt><code class="t">zcompile</code> <code class="t">-ca</code> [ <code class="t">-m</code> ] [ <code class="t">-R</code> | <code class="t">-M</code> ] <var class="var">file</var> [ <var class="var">name</var> ... ]</dt>
<dt><code class="t">zcompile -t</code> <var class="var">file</var> [ <var class="var">name</var> ... ]</dt>
<dd><p>该内置命令可用于编译函数或脚本，将编译后的形式存储在文件中，并检查包含编译后形式的文件。
这样可以避免在读取文件时对文本进行解析，从而加快函数的自动加载和脚本的引入。
</p>
<p>第一种形式（不含 <code class="t">-c</code>、<code class="t">-a</code> 或 <code class="t">-t</code> 选项）会创建一个编译文件。 如果只给出 <var class="var">file</var> 参数，输出文件的名称为
&lsquo;<var class="var">file</var><code class="t">.zwc</code>&rsquo; ，并与 <var class="var">file</var> 位于同一目录。 当函数被自动加载时，shell
将加载编译后的文件，而不是普通的函数文件；关于如何搜索自动加载的函数，请参阅 <a class="ref" href="#g_t_51fd_6570">函数</a>。 扩展名 <code class="t">.zwc</code> 代表 &lsquo;zsh word
code&rsquo;。
</p>
<a class="index-entry-id" id="index-fpath_002c-Yong-zcompile"></a>
<p>如果至少有一个 <var class="var">name</var> 参数，所有命名的文件都会被编译到作为第一个参数给出的输出 <var class="var">file</var> 中。 如果 <var class="var">file</var>
不是以 <code class="t">.zwc</code> 结尾，则会自动添加此扩展名。 包含多个编译函数的文件称为 &lsquo;digest&rsquo; 文件，可用作
<code class="t">FPATH</code>/<code class="t">fpath</code> 特殊数组的元素。
</p>
<p>第二种形式是使用 <code class="t">-c</code> 或 <code class="t">-a</code> 选项，将所有指定函数的编译定义写入 <var class="var">file</var>。 对于 <code class="t">-c</code>，函数名必须是
shell 当前定义的函数，而不是标记为自动加载的函数。 标记为自动加载的未定义函数可以通过使用 <code class="t">-a</code> 选项来编写，在这种情况下，系统会搜索
<code class="t">fpath</code>，如果找到这些函数的定义文件，就会将其内容编译到 <var class="var">file</var> 中。 如果同时给出 <code class="t">-c</code> 和
<code class="t">-a</code>，则可能同时给出已定义函数和标记为自动加载的函数的名称。 无论哪种情况，使用 <code class="t">-c</code> 或 <code class="t">-a</code>
选项编写的文件中的函数都将被自动加载，就像未设置 <code class="t">KSH_AUTOLOAD</code> 选项一样。
</p>
<p>之所以要用不同的选项来处理已加载和尚未加载的函数，是因为有些自动加载的定义文件会定义多个函数，包括与文件同名的函数，并在最后调用该函数。
在这种情况下，&lsquo;<code class="t">zcompile -c</code>&rsquo; 的输出不包括文件中定义的额外函数，文件中的其他初始化代码也会丢失。 使用&lsquo;<code class="t">zcompile
-a</code>&rsquo; 可以捕获所有这些额外信息。
</p>
<p>如果 <code class="t">-m</code> 选项与 <code class="t">-c</code> 或 <code class="t">-a</code> 结合使用，则 <var class="var">name</var>s
将被用作模式，所有名称与其中一个模式匹配的函数都将被写入。如果未给出 <var class="var">name</var>，则将写入当前定义或标记为自动加载的所有函数的定义。
</p>
<p>注意，如果函数将重定向作为定义的一部分而不是在包含在函数主体中，第二种形式不能用于编译这样的一个函数，例如
</p>
<div class="example">
<pre class="example-preformatted">fn1() { { ... } &gt;~/logfile }
</pre></div>

<p>可以被编译，但是
</p>
<div class="example">
<pre class="example-preformatted">fn1() { ... } &gt;~/logfile
</pre></div>

<p>不能。 可以使用 <code class="t">zcompile</code> 的第一种形式来编译包含完整函数定义（而不仅仅是函数体）的可自动加载函数。
</p>
<p>第三种形式是使用 <code class="t">-t</code> 选项，检查现有的编译文件。 在没有其他参数的情况下，会列出编译到该文件中的原始文件名。 第一行输出显示编译该文件的
shell 版本，以及使用该文件的方式（即直接读取还是映射到内存中）。 如果有参数，则不输出任何内容，如果 <em class="emph">all</em> 和
<var class="var">name</var>s 的定义被找到，则返回状态设为零；如果没有找到至少一个 <var class="var">name</var> 的定义，则返回状态为非零。
</p>
<p>其它选项：
</p>
<dl class="table">
<dt><code class="t">-U</code></dt>
<dd><p>编译（名为） <var class="var">name</var> 文件时不会扩展别名。
</p>
</dd>
<dt><code class="t">-R</code></dt>
<dd><p>读取编译文件时，其内容会被复制到 shell 的内存中，而不是内存映射（参见 <code class="t">-M</code>）。 这在不支持内存映射的系统上会自动发生。
</p>
<p>在编译脚本而不是自动加载函数时，通常最好使用该选项；否则整个文件，包括定义已定义函数的代码，都将保持映射状态，从而浪费内存。
</p>
</dd>
<dt><code class="t">-M</code></dt>
<dd><p>读取编译文件时，该文件会映射到 shell 的内存中。这样一来，在同一主机上运行的多个 shell 实例将共享这个映射文件。 如果既未给出 <code class="t">-R</code>
也未给出 <code class="t">-M</code>，<code class="t">zcompile</code> 内置程序将根据编译文件的大小决定如何处理。
</p>
</dd>
<dt><code class="t">-k</code></dt>
<dt><code class="t">-z</code></dt>
<dd><p>当编译文件包含需要自动加载的函数时，将使用这些选项。如果给出 <code class="t">-z</code>，函数将被自动加载，就像 <code class="t">KSH_AUTOLOAD</code> 选项
<em class="emph">没有</em> 设置一样，即使该选项在读取编译文件时已被设置；而如果给出 <code class="t">-k</code>，函数将被加载，就像 <code class="t">KSH_AUTOLOAD</code>
<em class="emph">已被</em> 设置一样。这些选项优先于 <code class="t">autoload</code> 内置函数中指定的 <code class="t">-k</code> 或 <code class="t">-z</code>
选项。如果没有给出这两个选项，函数将根据读取编译文件时 <code class="t">KSH_AUTOLOAD</code> 选项的设置来加载。
</p>
<p>这些选项还可以根据需要多次出现在列出的 <var class="var">name</var>s 之间，以指定所有后续函数的加载方式，直至下一个 <code class="t">-k</code> 或 <code class="t">-z</code>。
</p>
</dd>
</dl>

<p>创建的文件总是包含两个版本的编译格式，一个适用于大二进制（big-endian）机器，另一个适用于小二进制机器。
这样做的结果是，编译后的文件与机器无关，如果对其进行读取或映射，实际上只会使用文件（和映射）的一半。
</p>

</dd>
<dt><code class="t">zformat</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>.
</p>
</dd>
<dt><code class="t">zftp</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a>。
</p>
</dd>
<dt><code class="t">zle</code></dt>
<dd><p>参见 <a class="ref" href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Mo-Kuai-_002c-Jia-Zai-"></a>
<a class="index-entry-id" id="index-Jia-Zai-Mo-Kuai-"></a>
<a id="index-zmodload"></a><span><code class="t">zmodload</code> [ <code class="t">-dL</code> ] [ <code class="t">-s</code> ] [ ... ]<a class="copiable-link" href="#index-zmodload"> &para;</a></span></dt>
<dt><code class="t">zmodload -F</code> [ <code class="t">-alLme</code> <code class="t">-P</code> <var class="var">param</var> ] <var class="var">module</var> [ [<code class="t">+-</code>]<var class="var">feature</var> ... ]</dt>
<dt><code class="t">zmodload -e</code> [ <code class="t">-A</code> ] [ ... ]</dt>
<dt><code class="t">zmodload</code> [ <code class="t">-a</code> [ <code class="t">-bcpf</code> [ <code class="t">-I</code> ] ] ] [ <code class="t">-iL</code> ] ...</dt>
<dt><code class="t">zmodload</code> <code class="t">-u</code> [ <code class="t">-abcdpf</code> [ <code class="t">-I</code> ] ] [ <code class="t">-iL</code> ] ...</dt>
<dt><code class="t">zmodload</code> <code class="t">-A</code> [ <code class="t">-L</code> ] [ <var class="var">modalias</var>[<code class="t">=</code><var class="var">module</var>] ... ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-R</code> <var class="var">modalias</var> ...</dt>
<dd><p>执行与 zsh 可加载模块相关的操作。 在 shell 运行时加载模块（&quot;动态加载&quot;）并不适用于所有操作系统，也不适用于特定操作系统上的所有安装，尽管
<code class="t">zmodload</code> 命令本身总是可用的，并且可以用来操作内置于没有动态加载的 shell 可执行文件版本中的模块。
</p>
<p>在不带参数的情况下，将打印当前加载的所有二进制模块的名称。 如果使用 <code class="t">-L</code> 选项，则会以一系列 <code class="t">zmodload</code> 命令的形式显示该列表。
带参数的形式有：
</p>
<dl class="table">
<dt><code class="t">zmodload</code> [ <code class="t">-is</code> ] <var class="var">name</var> ...</dt>
<dt><code class="t">zmodload</code> <code class="t">-u</code> [ <code class="t">-i</code> ] <var class="var">name</var> ...</dt>
<dd><p>在最简单的情况下，<code class="t">zmodload</code> 会加载一个二进制模块。 模块必须位于一个文件中，文件名由指定的 <var class="var">name</var> 和标准后缀组成，通常为
&lsquo;<code class="t">.so</code>&rsquo; （HPUX 上为&lsquo;<code class="t">.sl</code>&rsquo; ）。 如果要加载的模块已经加载，重复的模块将被忽略。 如果 <code class="t">zmodload</code>
检测到不一致的情况，例如模块名称无效或循环依赖列表，当前代码块将被中止。 如果模块可用，则会在必要时加载模块；如果模块不可用，则会静默返回非零状态。
选项 <code class="t">-i</code> 可以接受，但没有任何作用。
</p>
<p>搜索 <var class="var">name</var> 模块的方式与搜索命令的方式相同，使用 <code class="t">$module_path</code> 而不是 <code class="t">$path</code>。
不过，即使模块名称中包含 &lsquo;<code class="t">/</code>&rsquo;，路径搜索也会执行，而通常情况下模块名称中都会包含 &lsquo;<code class="t">/</code>&rsquo;。 没有办法阻止路径搜索。
</p>
<p>如果模块支持功能（见下文），<code class="t">zmodload</code> 会在加载模块时尝试启用所有功能。 如果模块已成功加载，但无法启用所有功能，<code class="t">zmodload</code>
将返回状态 2。
</p>
<p>如果给出选项 <code class="t">-s</code>，则在模块不可用的情况下不会打印错误信息（但会打印表明模块有问题的其他错误信息）。 返回状态则表明模块是否已加载。
如果调用者认为模块是可选的，则可以使用这种方式。
</p>
<p>通过 <code class="t">-u</code>，<code class="t">zmodload</code> 可以卸载模块。 必须使用与加载模块时相同的 <var class="var">name</var>，但模块不必存在于文件系统中。
如果模块已被卸载（或从未被加载），则 <code class="t">-i</code> 选项会抑制错误。
</p>
<p>每个模块都有启动和清理函数。 如果模块的启动函数失败，模块将无法加载。 同样，只有当模块的清理功能成功运行时，模块才能被卸载。
</p>
</dd>
<dt><code class="t">zmodload -F</code> [ <code class="t">-almLe</code> <code class="t">-P</code> <var class="var">param</var> ] <var class="var">module</var> [ [<code class="t">+-</code>]<var class="var">feature</var> ... ]</dt>
<dd><p><code class="t">zmodload -F</code> 允许对模块提供的功能进行更有选择性的控制。 如果除 <code class="t">-F</code> 之外没有其他选项，则会加载名为
<var class="var">module</var> 的模块（如果尚未加载），并将 <var class="var">feature</var> 列表设置为所需状态。 如果没有指定
<var class="var">feature</var>，则会加载尚未加载的模块，但特性（features）的状态保持不变。 每个特性前都可以使用 <code class="t">+</code> 打开该特性，或使用
<code class="t">-</code> 关闭该特性；如果两个字符都不存在，则假定使用 <code class="t">+</code>。
任何未明确提及的特性都将保持当前状态；如果模块之前未加载过，这意味着任何此类特性都将保持禁用状态。 如果所有特性都已设置，则返回状态为
0；如果模块加载失败，则返回状态为 1；如果某些特性无法设置（例如，由于存在同名的其他参数而无法添加参数），但模块已加载，则返回状态为 2。
</p>
<p>标准功能包括内置命令、条件、参数和数学函数；它们分别用前缀  &lsquo;<code class="t">b:</code>&rsquo;, &lsquo;<code class="t">c:</code>&rsquo;（&lsquo;<code class="t">C:</code>&rsquo; 表示下位条件）、&lsquo;<code class="t">p:</code>&rsquo;
和&lsquo;<code class="t">f:</code>&rsquo; 表示，后跟相应特性在 shell 中的名称。 例如，&lsquo;<code class="t">b:strftime</code>&rsquo; 表示名为 <code class="t">strftime</code>
的内置函数，<code class="t">p:EPOCHSECONDS</code> 表示名为 <code class="t">EPOCHSECONDS</code> 的参数。
模块可根据其文档提供其他（&lsquo;抽象&rsquo;）特性；这些功能没有前缀。
</p>
<p>使用 <code class="t">-l</code> 或 <code class="t">-L</code> 时，将列出模块提供的特性。 如果只使用 <code class="t">-l</code>，则会显示特性列表及其状态，每行一个功能。 如果仅使用
<code class="t">-L</code>，则会显示一条 <code class="t">zmodload -F</code> 命令，该命令将开启模块的已启用功能。 如果使用 <code class="t">-lL</code>，则会显示
<code class="t">zmodload -F</code> 命令，该命令会将所有功能设置为当前状态。 如果使用  <code class="t">-P</code> <var class="var">param</var> 选项给出上述组合之一
，则参数 <var class="var">param</var> 将被设置为一个特性的数组，可以是特性及其状态，也可以是已启用的特性（如果只给出 <code class="t">-L</code>）。
</p>
<p>如果使用选项 <code class="t">-L</code>，则可以省略模块名称；然后以 <code class="t">zmodload -F</code> 命令的形式打印所有提供特性的模块的所有已启用特性列表。
如果同时给出 <code class="t">-l</code>，启用和禁用特性的状态都会以这种形式输出。
</p>
<p>在提供一组特性时，可以同时提供 <code class="t">-l</code> 或 <code class="t">-L</code> 和一个模块名称；在这种情况下，只考虑这些特性的状态。 每个特征前都可以加上 <code class="t">+</code>
或 <code class="t">-</code>，但该字符不起作用。 如果没有提供特性集，则会考虑所有特性。
</p>
<p>使用 <code class="t">-e</code>，命令首先会测试模块是否已加载；如果未加载，则返回状态 1。 如果模块已加载，则检查作为参数给出的特性列表。
对于不带前缀的特性，只需测试模块是否提供；对于带前缀 <code class="t">+</code> 或 <code class="t">-</code> 的特性，则测试是否提供并处于指定状态。
如果对列表中所有特性的测试都成功，则返回状态 0，否则返回状态 1。
</p>
<p>使用 <code class="t">-m</code>，给定的特性列表中的每个条目都将作为一个模式，与模块提供的特性列表进行匹配。 必须明确给出开头的 <code class="t">+</code> 或 <code class="t">-</code>。
该选项不能与 <code class="t">-a</code> 选项结合使用，因为必须明确指定自动加载。
</p>
<p>使用 <code class="t">-a</code>，给定的特性列表将被标记为从指定模块自动加载（该模块可能尚未加载）。 特性名称前可以出现一个可选的 <code class="t">+</code>。 如果特性前缀为
<code class="t">-</code>，则现有的自动加载将被移除。 选项 <code class="t">-l</code> 和 <code class="t">-L</code> 可用来列出自动加载。
自动加载是针对单个特性的；加载模块时，只有请求的特性才会启用。 如果模块随后被卸载，自动加载请求将被保留，直到出现明确的 &lsquo;<code class="t">zmodload
-Fa</code> <var class="var">module</var> <code class="t">-</code><var class="var">feature</var>&rsquo;。 为已加载模块的特性请求自动加载不会出错。
</p>
<p>加载模块时，会根据模块实际提供的特性检查每个自动加载请求；如果未提供该特性，自动加载请求将被删除。输出警告信息；如果加载模块是为了提供其他特性，且自动加载成功，则不会影响当前命令的状态。
如果 <code class="t">zmodload -Fa</code> 运行时模块已被加载，则会打印一条错误信息并返回状态 1。
</p>
<p><code class="t">zmodload -Fa</code> 可以与 <code class="t">-l</code>、<code class="t">-L</code>、<code class="t">-e</code> 和 <code class="t">-P</code>
选项一起使用，用于列出和测试是否存在可自动加载的特性。 在这种情况下，如果指定了 <code class="t">-L</code>，则 <code class="t">-l</code> 将被忽略。 <code class="t">zmodload
-FaL</code> 不含模块名称，会列出所有模块的自动加载。
</p>
<p>请注意，只有上述标准特性可以自动加载；其他特性需要在启用前先加载模块。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-d</code> [ <code class="t">-L</code> ] [ <var class="var">name</var> ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-d</code> <var class="var">name</var> <var class="var">dep</var> ...</dt>
<dt><code class="t">zmodload</code> <code class="t">-ud</code> <var class="var">name</var> [ <var class="var">dep</var> ... ]</dt>
<dd><p><code class="t">-d</code> 选项可用于指定模块依赖关系。 第二个参数和后续参数中指定的模块将在第一个参数中指定的模块之前加载。
</p>
<p>使用 <code class="t">-d</code> 和一个参数时，将列出该模块的所有依赖关系。 如果使用 <code class="t">-d</code>，且没有参数，则会列出所有模块的依赖关系。 该列表默认采用类似
Makefile 的格式。 <code class="t">-L</code> 选项会将格式更改为 <code class="t">zmodload -d</code> 命令的列表。
</p>
<p>如果同时使用 <code class="t">-d</code> 和 <code class="t">-u</code>，依赖关系将被移除。 如果只给出一个参数，则会移除该模块的所有依赖关系。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-ab</code> [ <code class="t">-L</code> ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-ab</code> [ <code class="t">-i</code> ] <var class="var">name</var> [ <var class="var">builtin</var> ... ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-ub</code> [ <code class="t">-i</code> ] <var class="var">builtin</var> ...</dt>
<dd><p><code class="t">-ab</code> 选项定义自动加载的内置程序。 它定义了指定的 <var class="var">builtin</var>s。
调用其中任何一个内置程序时，第一个参数中指定的模块将被加载并启用其所有特性（如需选择性控制特性，请使用 &lsquo;<code class="t">zmodload -F -a</code>&rsquo;
，如上所述）。 如果只给出 <var class="var">name</var>，则会定义一个与模块同名的内置程序。 如果内置程序已被定义或自动加载，<code class="t">-i</code>
会抑制错误，但如果另一个同名内置程序已被定义，<code class="t">-i</code> 则不会抑制错误。
</p>
<p>如果使用 <code class="t">-ab</code> 且不带参数，则会列出所有自动加载的内置程序，内置程序名称后的括号中会显示模块名称（如果不同）。 使用 <code class="t">-L</code>
选项后，格式将变为 <code class="t">zmodload -a</code> 命令列表。
</p>
<p>如果 <code class="t">-b</code> 与 <code class="t">-u</code> 选项一起使用，则会删除之前用 <code class="t">-ab</code> 定义的内置程序。 这只有在内置程序尚未加载的情况下才会发生。
如果内置函数已被移除（或从未存在），则 <code class="t">-i</code> 会抑制错误。
</p>
<p>如果模块随后被卸载，直到发出明确的&lsquo;<code class="t">zmodload -ub</code> <var class="var">builtin</var>&rsquo; ，自动加载请求将被保留。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-ac</code> [ <code class="t">-IL</code> ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-ac</code> [ <code class="t">-iI</code> ] <var class="var">name</var> [ <var class="var">cond</var> ... ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-uc</code> [ <code class="t">-iI</code> ] <var class="var">cond</var> ...</dt>
<dd><p><code class="t">-ac</code> 选项用于定义自动加载的条件代码。<var class="var">cond</var> 字符串给出模块定义的条件名称。可选的 <code class="t">-I</code>
选项用于定义中缀条件名。如果没有该选项，则定义前缀条件名。
</p>
<p>如果没有给出条件名称，则会列出所有已定义的名称（如果给出 <code class="t">-L</code> 选项，则会列出一系列 <code class="t">zmodload</code> 命令）。
</p>
<p>选项 <code class="t">-uc</code> 会删除自动加载条件的定义。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-ap</code> [ <code class="t">-L</code> ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-ap</code> [ <code class="t">-i</code> ] <var class="var">name</var> [ <var class="var">parameter</var> ... ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-up</code> [ <code class="t">-i</code> ] <var class="var">parameter</var> ...</dt>
<dd><p><code class="t">-p</code> 选项与 <code class="t">-b</code> 和 <code class="t">-c</code> 选项类似，但它使 <code class="t">zmodload</code> 对自动加载的参数起作用。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-af</code> [ <code class="t">-L</code> ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-af</code> [ <code class="t">-i</code> ] <var class="var">name</var> [ <var class="var">function</var> ... ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-uf</code> [ <code class="t">-i</code> ] <var class="var">function</var> ...</dt>
<dd><p><code class="t">-f</code> 选项与 <code class="t">-b</code>、<code class="t">-p</code> 和 <code class="t">-c</code> 选项类似，但它使 <code class="t">zmodload</code> 在自动加载的数学函数上工作。 
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-a</code> [ <code class="t">-L</code> ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-a</code> [ <code class="t">-i</code> ] <var class="var">name</var> [ <var class="var">builtin</var> ... ]</dt>
<dt><code class="t">zmodload</code> <code class="t">-ua</code> [ <code class="t">-i</code> ] <var class="var">builtin</var> ...</dt>
<dd><p>等同于 <code class="t">-ab</code> 和 <code class="t">-ub</code>。
</p>
</dd>
<dt><code class="t">zmodload -e</code> [ <code class="t">-A</code> ] [ <var class="var">string</var> ... ]</dt>
<dd><p>不带参数的 <code class="t">-e</code> 选项会列出所有已加载模块；如果同时给出 <code class="t">-A</code> 选项，则也会显示与已加载模块相对应的模块别名。
如果提供了参数，则不会打印任何内容；如果参数 <var class="var">string</var>s 都是已加载模块的名称，则返回状态设为 0；如果至少有一个
<var class="var">string</var> 不是已加载模块的名称，则返回状态设为 1。 这可用于测试模块实现的功能是否可用。
在这种情况下，任何别名都会自动解析，并且不会使用 <code class="t">-A</code> 标志。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-A</code> [ <code class="t">-L</code> ] [ <var class="var">modalias</var>[<code class="t">=</code><var class="var">module</var>] ... ]</dt>
<dd><p>对于每个参数，如果同时给出 <var class="var">modalias</var> 和 <var class="var">module</var>，则定义 <var class="var">modalias</var> 为
<var class="var">module</var> 模块的别名。 如果随后通过调用 <code class="t">zmodload</code> 或隐式的方式请求 <var class="var">modalias</var> 模块，shell
将尝试加载 <var class="var">module</var> 模块。 如果未给出 <var class="var">module</var>，则显示 <var class="var">modalias</var> 的定义。
如果未给出参数，则会列出所有已定义的模块别名。 在列出时，如果还给出了 <code class="t">-L</code> 标志，则会以 <code class="t">zmodload</code>
命令的形式列出定义，以重新创建别名。
</p>
<p>模块别名的存在与解析的名称是否实际作为模块加载完全无关：当别名存在时，以任何别名加载或卸载模块都与使用解析后的名称具有完全相同的效果，并且不会影响别名与解析后名称之间的联系，这种联系可以通过
<code class="t">zmodload -R</code> 或重新定义别名来移除。 只要不循环，别名链（即第一个解析后名称本身就是一个别名）是有效的。
由于别名采用与模块名相同的格式，因此可以包含路径分隔符：在这种情况下，不要求指定路径的任何部分都存在，因为别名将首先被解析。
例如，&lsquo;<code class="t">any/old/alias</code>&rsquo;始终是一个有效的别名。
</p>
<p>添加到别名模块的依赖关系实际上会添加到解析后的模块中；如果删除别名，这些依赖关系仍会保留。 创建名称为标准 shell
模块之一的别名，并将其解析为不同的模块是有效的。 但是，如果模块有依赖关系，则无法使用模块名称作为别名，因为模块本身已被标记为可加载模块。
</p>
<p>除上述外，<code class="t">zmodload</code> 命令还可在任何需要模块名的地方使用别名。 不过，别名将不会显示在已加载模块列表中，只显示
&lsquo;<code class="t">zmodload</code>&rsquo;。
</p>
</dd>
<dt><code class="t">zmodload</code> <code class="t">-R</code> <var class="var">modalias</var> ...</dt>
<dd><p>对于之前通过 <code class="t">zmodload -A</code> 定义为模块别名的 <var class="var">modalias</var> 参数，删除该别名。
如果未定义任何别名，将导致错误并忽略该行的其余部分。
</p>
</dd>
</dl>

<p>请注意，<code class="t">zsh</code> 并不区分链接到 shell
的模块和动态加载的模块。在这两种情况下，都必须使用这个内置命令来提供内置模块和其他由模块定义的内容（除非模块是根据这些定义自动加载的）。即使不支持动态加载模块的系统也是如此。
</p>
</dd>
<dt><code class="t">zparseopts</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>.
</p>
</dd>
<dt><code class="t">zprof</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzprof-_6a21_5757">zsh/zprof 模块</a>.
</p>
</dd>
<dt><code class="t">zpty</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzpty-_6a21_5757">zsh/zpty 模块</a>.
</p>
</dd>
<dt><code class="t">zregexparse</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>.
</p>
</dd>
<dt><code class="t">zsocket</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fnet_002fsocket-_6a21_5757">zsh/net/socket 模块</a>.
</p>
</dd>
<dt><code class="t">zstyle</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>.
</p>
</dd>
<dt><code class="t">ztcp</code></dt>
<dd><p>参见 <a class="ref" href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a>.
</p>
</dd>
</dl>
<hr>
</div>
<div class="chapter-level-extent" id="Zsh-_884c_7f16_8f91_5668">

<h2 class="chapter" id="Zsh-Xing-Bian-Ji-Qi-"><span>18 Zsh 行编辑器<a class="copiable-link" href="#Zsh-Xing-Bian-Ji-Qi-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Xing-Bian-Ji-Qi-"></a>
<a class="index-entry-id" id="index-Bian-Ji-Qi-_002c-Xing-"></a>
<a class="index-entry-id" id="index-ZLE"></a>

<div class="section-level-extent" id="Shuo-Ming--1">
<h3 class="section"><span>18.1 说明<a class="copiable-link" href="#Shuo-Ming--1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-ZLE_002c-use-of"></a>
<p>如果设置了 <code class="t">ZLE</code> 选项（交互式 shell 的默认设置），并且 shell 输入连接到终端，用户就可以编辑命令行。
</p>
<p>有两种显示模式。 第一种是默认的多行模式。 它只有在 <code class="t">TERM</code> 参数设置成可以向上移动光标的有效终端类型时才起作用。 第二种是单行模式，如果
<code class="t">TERM</code> 无效或无法向上移动光标，或者设置了 <code class="t">SINGLE_LINE_ZLE</code> 选项，则会使用这种模式。
<a class="index-entry-id" id="index-SINGLE_005fLINE_005fZLE_002c-use-of"></a>
<a class="index-entry-id" id="index-ksh_002c-Bian-Ji-Qi-Mo-Shi-"></a>
<a class="index-entry-id" id="index-Bian-Ji-Qi-ksh-Feng-Ge-"></a>
该模式与 <cite class="cite">ksh</cite> 类似，不使用 termcap 序列。 如果 <code class="t">TERM</code> 为 &quot;emacs&quot;，则默认不设置 <code class="t">ZLE</code> 选项。
</p>
<a class="index-entry-id" id="index-BAUD_002c-use-of"></a>
<a class="index-entry-id" id="index-COLUMNS_002c-use-of"></a>
<a class="index-entry-id" id="index-LINES_002c-use-of"></a>
<p>行编辑器也会使用 <code class="t">BAUD</code>、<code class="t">COLUMNS</code> 和 <code class="t">LINES</code> 参数。请参阅 <a class="ref" href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a>。
</p>
<a class="index-entry-id" id="index-zle_005fhighlight_002c-use-of"></a>
<p>行编辑器也使用 <code class="t">zle_highlight</code> 参数；请参阅 <a class="ref" href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a>。 特殊字符以及光标和标记之间区域的高亮（在 Emacs
模式下使用 <code class="t">set-mark-command</code>，或在 Vi 模式下使用 <code class="t">visual-mode</code>）默认为启用；更多信息请参阅本参考文献。
不喜欢高亮的用户可以通过以下设置禁用所有高亮功能：
</p>
<div class="example">
<pre class="example-preformatted">zle_highlight=(none)
</pre></div>

<p>很多地方都会提到 <code class="t">数字参数</code>。 默认情况下，在 emacs 模式下，可以按住 alt 键并输入数字，或在每个数字前按下 escape 键；在 vi
命令模式下，可以在输入命令前输入数字。 一般来说，除非下文另有说明，否则数字参数会使下一条输入的命令重复指定的次数；这由
<code class="t">digit-argument</code> 小部件实现。有关修改数字参数的其他方法，请参阅 <a class="ref" href="#g_t_53c2_6570">参数</a>。
</p>

<hr>
</div>
<div class="section-level-extent" id="g_t_952e_6620_5c04">

<h3 class="section" id="Jian-Ying-She-"><span>18.2 键映射<a class="copiable-link" href="#Jian-Ying-She-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Jian-Ying-She-"></a>
<a class="index-entry-id" id="index-Jian-Bang-Ding-"></a>
<a class="index-entry-id" id="index-Bang-Ding-_002c-Jian-"></a>
<p>ZLE 中的键映射包含键序列与 ZLE 命令之间的一组绑定。 空键序无法绑定。
</p>
<p>任何时候都可以有任意数量的键映射，每个键映射都有一个或多个名称。 如果删除了键映射的所有名称，它就会消失。
<a class="index-entry-id" id="index-bindkey_002c-use-of"></a>
<code class="t">bindkey</code> 可用来操作键映射名称。
</p>
<p>最初有八个键映射：
</p>
<dl class="table">
<dt><code class="t">emacs</code></dt>
<dd><p>EMACS 模拟
</p></dd>
<dt><code class="t">viins</code></dt>
<dd><p>vi 模拟 - 插入模式
</p></dd>
<dt><code class="t">vicmd</code></dt>
<dd><p>vi 模拟 - 命令模式
</p></dd>
<dt><code class="t">viopp</code></dt>
<dd><p>vi 模拟 - 操作符待处理（operator pending）
</p></dd>
<dt><code class="t">visual</code></dt>
<dd><p>vi 模拟 - 选择激活
</p></dd>
<dt><code class="t">isearch</code></dt>
<dd><p>增量搜索模式
</p></dd>
<dt><code class="t">command</code></dt>
<dd><p>读取命令名
</p></dd>
<dt><code class="t">.safe</code></dt>
<dd><p>后备键映射
</p></dd>
</dl>

<p>&lsquo;<code class="t">.safe</code>&rsquo; 键映射是特殊的。 它永远无法更改，名称也永远无法删除。 不过，它可以链接到其他名称，这些名称可以删除。
将来可能会添加其他特殊的键映射；用户应避免在自己的键映射中使用以 &lsquo;<code class="t">.</code>&rsquo; 开头的名称。
</p>
<a class="index-entry-id" id="index-VISUAL"></a>
<a class="index-entry-id" id="index-EDITOR"></a>
<p>除这些名称外，&lsquo;<code class="t">emacs</code>&rsquo; 或 &lsquo;<code class="t">viins</code>&rsquo; 也与名称 &lsquo;<code class="t">main</code>&rsquo; 相关联。 当 shell 启动时，如果
<code class="t">VISUAL</code> 或 <code class="t">EDITOR</code> 环境变量之一包含字符串 &lsquo;<code class="t">vi</code>&rsquo; ，那么它就是 &lsquo;<code class="t">viins</code>&rsquo;，否则就是
&lsquo;<code class="t">emacs</code>&rsquo; 。 <code class="t">bindkey</code> 的 <code class="t">-e</code> 和 <code class="t">-v</code> 选项提供了一种方便的方式来覆盖默认选择。
</p>
<p>当编辑器启动时，它会选择 &lsquo;<code class="t">main</code>&rsquo; 键映射。 如果键映射不存在，则会使用 &lsquo;<code class="t">.safe</code>&rsquo; 代替。
</p>
<p>在 &lsquo;<code class="t">.safe</code>&rsquo; 键映射中，除了 ^J（换行）和 ^M（回车）与 <code class="t">accept-line</code> 绑定外，每个单键都与
<code class="t">self-insert</code> 绑定。 这种键映射方式故意让人觉得不好用；如果你正在使用它，就意味着你删除了主键映射，你应该把它放回去。
</p>

<div class="subsection-level-extent" id="Du-Qu-Ming-Ling-">
<h4 class="subsection"><span>18.2.1 读取命令<a class="copiable-link" href="#Du-Qu-Ming-Ling-"> &para;</a></span></h4>
<p>当 ZLE 从终端读取命令时，它可能会读取一个与某些命令绑定的序列，该序列也是一个更长绑定字符串的前缀。 在这种情况下，ZLE
会等待一段时间，看看是否有更多的字符被输入，如果没有（或者它们与更长的字符串不匹配），它就会执行绑定。 超时时间由 <code class="t">KEYTIMEOUT</code>
参数定义；默认值为 0.4 秒。 如果前缀字符串本身未与命令绑定，则不会超时。
</p>
<p>当 ZLE 在适当模式下从多字节字符串读取字节时，也会应用按键超时。 (这要求 shell 在编译时启用了多字节模式；通常情况下，locale
中的字符也采用 UTF-8 编码，但也支持操作系统已知的任何多字节编码）。 如果在超时时间内没有读取第二个或后续字节，shell 就会像键入 <code class="t">?</code>
一样，并重置输入状态。
</p>
<p>除了 ZLE 命令外，还可以使用 &lsquo;<code class="t">bindkey -s</code>&rsquo; 将按键序列与其他字符串绑定。
当这样的序列被读取时，替换字符串会被推回作为输入，然后命令读取过程会使用这些假按键重新开始。
这种输入本身可以调用更多的替换字符串，但为了检测循环，如果有 20 个这样的替换字符串而没有真正的命令被读取，进程就会停止。
</p>
<p>用户输入的按键序列可以通过用 <code class="t">read-command</code> 小部件定义的用户小部件转化为命令名称，在<a class="ref" href="#g_t_6742_9879">杂项</a>中描述。
</p>

</div>
<div class="subsection-level-extent" id="Ben-Di-Jian-Ying-She-">
<h4 class="subsection"><span>18.2.2 本地键映射<a class="copiable-link" href="#Ben-Di-Jian-Ying-She-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Ben-Di-Jian-Ying-She-"></a>
<p>虽然在正常编辑中只使用一个键映射，但在许多模式下，本地键映射允许自定义某些键。例如，在增量搜索模式中，<code class="t">isearch</code> 键映射中的绑定将覆盖
<code class="t">main</code> 键映射中的绑定，但所有未覆盖的键仍可使用。
</p>
<p>如果在本地键映射中定义了一个键序列，它将隐藏全局键映射中作为该序列前缀的键序列。例如，在 <code class="t">viopp</code> 中绑定 <code class="t">iw</code> 会隐藏 <code class="t">i</code>
在 <code class="t">vicmd</code> 中的绑定。不过，全局键映射中共享相同前缀的更长序列仍然适用，例如，全局键映射中 <code class="t">^Xa</code> 的绑定将不受本地键映射中
<code class="t">^Xb</code> 绑定的影响。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="Zle-_5185_7f6e_547d_4ee4">

<h3 class="section" id="Zle-Nei-Zhi-Ming-Ling-"><span>18.3 Zle 内置命令<a class="copiable-link" href="#Zle-Nei-Zhi-Ming-Ling-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-zle_002c-Nei-Zhi-Ming-Ling-"></a>
<p>ZLE 模块包含三个相关的内置命令。<code class="t">bindkey</code> 命令操作键映射和键绑定；<code class="t">vared</code> 命令根据 shell 参数值调用
ZLE；<code class="t">zle</code> 命令操作编辑小部件，并允许从 shell 函数中通过命令行访问 ZLE 命令。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Jian-_002c-Zhong-Xin-Bang-Ding-"></a>
<a class="index-entry-id" id="index-Zhong-Xin-Bang-Ding-Jian-"></a>
<a class="index-entry-id" id="index-Jian-_002c-Bang-Ding-"></a>
<a class="index-entry-id" id="index-Bang-Ding-Jian-"></a>
<a class="index-entry-id" id="index-Jian-Ying-She--1"></a>
<a id="index-bindkey"></a><span><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-l</code> [ <code class="t">-L</code> ] [ <var class="var">keymap</var> ... ]<a class="copiable-link" href="#index-bindkey"> &para;</a></span></dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-d</code></dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-D</code> <var class="var">keymap</var> ...</dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-A</code> <var class="var">old-keymap new-keymap</var></dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-N</code> <var class="var">new-keymap</var> [ <var class="var">old-keymap</var> ]</dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-m</code></dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-r</code> <var class="var">in-string</var> ...</dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <code class="t">-s</code> <var class="var">in-string out-string</var> ...</dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] <var class="var">in-string command</var> ...</dt>
<dt><code class="t">bindkey</code> [ <var class="var">options</var> ] [ <var class="var">in-string</var> ]</dt>
<dd><p><code class="t">bindkey</code> 的选项可分为三类：当前命令的键映射选择、操作选择及其他。 键映射选择选项有：
</p>
<dl class="table">
<dt><code class="t">-e</code></dt>
<dd><p>选择键映射 &lsquo;<code class="t">emacs</code>&rsquo; 以执行当前命令的任何操作，并将 &lsquo;<code class="t">emacs</code>&rsquo; 链接到
&lsquo;<code class="t">main</code>&rsquo;，以便下次启动编辑器时默认选择该键映射。
</p>
</dd>
<dt><code class="t">-v</code></dt>
<dd><p>选择键映射 &lsquo;<code class="t">viins</code>&rsquo; 以执行当前命令的任何操作，并将 &lsquo;<code class="t">viins</code>&rsquo; 链接到
&lsquo;<code class="t">main</code>&rsquo;，以便下次启动编辑器时默认选择该键映射。
</p>
</dd>
<dt><code class="t">-a</code></dt>
<dd><p>为当前命令的任何操作选择键映射 &lsquo;<code class="t">vicmd</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-M</code> <var class="var">keymap</var></dt>
<dd><p><var class="var">keymap</var> 指定了一个键映射名称，当前命令进行任何操作时都会选择该名称。
</p>
</dd>
</dl>

<p>如果需要选择键映射，且未使用上述任何选项，则使用 &lsquo;<code class="t">main</code>&rsquo; 键映射。 某些操作不允许选择键映射，即
</p>
<dl class="table">
<dt><code class="t">-l</code></dt>
<dd><p>列出所有已存在的键映射名称；如果给出任何参数，则只列出这些键映射。
</p>
<p>如果同时使用 <code class="t">-L</code> 选项，则以 <code class="t">bindkey</code> 命令的形式列出创建或链接键映射的命令。 &lsquo;<code class="t">bindkey -lL main</code>&rsquo;
显示哪个键映射链接到了  &lsquo;<code class="t">main</code>&rsquo;（如果有的话），从而显示标准 emacs 或 vi 模拟是否生效。 该选项不会显示 <code class="t">.safe</code>
键映射，因为它不能以这种方式创建；不过， &lsquo;<code class="t">bindkey -lL .safe</code>&rsquo; 也不会被报告为错误，它只是什么也不输出。
</p>
</dd>
<dt><code class="t">-d</code></dt>
<dd><p>删除所有现有键映射并重置为默认状态。
</p>
</dd>
<dt><code class="t">-D</code> <var class="var">keymap</var> ...</dt>
<dd><p>删除已命名的 <var class="var">keymap</var>s 键映射。
</p>
</dd>
<dt><code class="t">-A</code> <var class="var">old-keymap new-keymap</var></dt>
<dd><p>将 <var class="var">new-keymap</var> 作为 <var class="var">old-keymap</var> 的别名，这样两个名称就都指向同一个键映射。
这两个名称具有同等地位；如果其中一个被删除，另一个将保留。 如果已经有一个键映射使用 <var class="var">new-keymap</var> 名称，则该名称将被删除。
</p>
</dd>
<dt><code class="t">-N</code> <var class="var">new-keymap</var> [ <var class="var">old-keymap</var> ]</dt>
<dd><p>创建一个新的键映射，命名为 <var class="var">new-keymap</var>。 如果已有键映射使用该名称，则将其删除。 如果已给出 <var class="var">old-keymap</var>
名称，新键映射将被初始化为该名称的副本，否则新键映射将为空。
</p>
</dd>
</dl>

<p>要使用新创建的键映射，必须将其链接到 <code class="t">main</code>。 因此，创建并使用从 <code class="t">emacs</code>键映射（保持不变）初始化的新键映射
&lsquo;<code class="t">mymap</code>&rsquo; 的命令序列如下：
</p>
<div class="example">
<pre class="example-preformatted">bindkey -N mymap emacs
bindkey -A mymap main
</pre></div>

<p>请注意，虽然  &lsquo;<code class="t">bindkey -A</code> <var class="var">newmap</var> <code class="t">main</code>&rsquo;  在 <var class="var">newmap</var> 为 <code class="t">emacs</code> 或
<code class="t">viins</code> 时有效，但在 <code class="t">vicmd</code> 时无效，因为无法从 vi 插入模式切换到命令模式。
</p>
<p>如果没有给出键映射选择选项，下列操作将作用于 &lsquo;<code class="t">main</code>&rsquo; 键映射：
</p>
<dl class="table">
<dt><code class="t">-m</code></dt>
<dd><p>将内置的元键绑定集添加到选定的键映射中。 只有未绑定或绑定到 <code class="t">self-insert</code> 的按键才会受到影响。
</p>
</dd>
<dt><code class="t">-r</code> <var class="var">in-string</var> ...</dt>
<dd><p>解除选定键映射中指定的 <var class="var">in-string</var>s 的绑定。 这完全等同于将字符串绑定到 <code class="t">undefined-key</code>。
</p>
<p>如果同时使用 <code class="t">-R</code>，则将 <var class="var">in-string</var>s 解释为范围。
</p>
<p>当同时使用 <code class="t">-p</code> 时，<var class="var">in-string</var> 将指定前缀。 任何以给定的 <var class="var">in-string</var> 为前缀的绑定（不包括
<var class="var">in-string</var> 本身的绑定（如果有））都将被删除。 例如
</p>
<div class="example">
<pre class="example-preformatted">bindkey -rpM viins '^['
</pre></div>

<p>将删除 vi-insert 键映射中所有以转义字符开头的绑定（可能是光标键），但保留转义字符本身的绑定（可能是 <code class="t">vi-cmd-mode</code>）。
这与选项 <code class="t">-R</code> 不兼容。
</p>
</dd>
<dt><code class="t">-s</code> <var class="var">in-string out-string</var> ...</dt>
<dd><p>将每个 <var class="var">in-string</var> 与每个 <var class="var">out-string</var> 绑定。 输入 <var class="var">in-string</var>
时，<var class="var">out-string</var> 将被推回，并被视为行编辑器的输入。 当 <code class="t">-R</code> 也被使用时，<var class="var">in-string</var> 将被解释为范围。
</p>
<p>请注意，如下所述，<var class="var">in-string</var> 和 <var class="var">out-string</var> 都需要进行相同形式的解释。
</p>
</dd>
<dt><var class="var">in-string command</var> ...</dt>
<dd><p>将每个 <var class="var">in-string</var> 与每个 <var class="var">command</var> 绑定。 当使用 <code class="t">-R</code> 时，将 <var class="var">in-string</var>
解释为范围。
</p>
</dd>
<dt>[ <var class="var">in-string</var> ]</dt>
<dd><p>列出按键绑定。 如果指定了 <var class="var">in-string</var>，则会显示所选键映射中该字符串的绑定。 否则，将显示所选键映射中的所有按键绑定。
(作为特例，如果单独使用 <code class="t">-e</code> 或 <code class="t">-v</code> 选项，键映射将 <em class="emph">不</em> 显示&ndash;键映射的隐式链接是唯一会发生的情况）。
</p>
<p>当使用 <code class="t">-p</code> 选项时，<var class="var">in-string</var> 必须存在。 列表显示的是以给定键序为前缀的所有绑定，不包括键序本身的任何绑定。
</p>
<p>当使用 <code class="t">-L</code> 选项时，列表将是 <code class="t">bindkey</code> 命令创建键绑定的形式。
</p>
</dd>
</dl>

<p>如上所述，使用 <code class="t">-R</code> 选项时，有效范围由两个字符组成，两个字符之间还有一个可选的 &lsquo;<code class="t">-</code>&rsquo; 。
指定的两个字符之间的所有字符（包括在内）都会按指定的方式绑定。
</p>
<p>对于 <var class="var">in-string</var> 或 <var class="var">out-string</var>，可以识别以下转义序列：
</p>
<dl class="table">
<dt><code class="t">\a</code></dt>
<dd><p>响铃字符
</p></dd>
<dt><code class="t">\b</code></dt>
<dd><p>退格键
</p></dd>
<dt><code class="t">\e</code>, <code class="t">\E</code></dt>
<dd><p>转义
</p></dd>
<dt><code class="t">\f</code></dt>
<dd><p>分页符（form feed）
</p></dd>
<dt><code class="t">\n</code></dt>
<dd><p>换行符
</p></dd>
<dt><code class="t">\r</code></dt>
<dd><p>回车
</p></dd>
<dt><code class="t">\t</code></dt>
<dd><p>水平制表符
</p></dd>
<dt><code class="t">\v</code></dt>
<dd><p>垂直制表符
</p></dd>
<dt><code class="t">\</code><var class="var">NNN</var></dt>
<dd><p>八进制字符代码
</p></dd>
<dt><code class="t">\x</code><var class="var">NN</var></dt>
<dd><p>十六进制字符代码
</p></dd>
<dt><code class="t">\u</code><var class="var">NNNN</var></dt>
<dd><p>十六进制 unicode 字符代码
</p></dd>
<dt><code class="t">\U</code><var class="var">NNNNNNNN</var></dt>
<dd><p>十六进制 unicode 字符代码
</p></dd>
<dt><code class="t">\M</code>[<code class="t">-</code>]<var class="var">X</var></dt>
<dd><p>设置了元位的字符
</p></dd>
<dt><code class="t">\C</code>[<code class="t">-</code>]<var class="var">X</var></dt>
<dd><p>控制字符
</p></dd>
<dt><code class="t">^</code><var class="var">X</var></dt>
<dd><p>控制字符
</p></dd>
</dl>

<p>在所有其他情况下，&lsquo;<code class="t">\</code>&rsquo; 会转义后面的字符。 删除则写成 &lsquo;<code class="t">^?</code>&rsquo;。 请注意， &lsquo;<code class="t">\M^?</code>&rsquo; 和 &lsquo;<code class="t">^\M?</code>&rsquo;
并不相同，而且（与 emacs 不同）， &lsquo;<code class="t">\M-</code><var class="var">X</var>&rsquo; 和 &lsquo;<code class="t">\e</code><var class="var">X</var>&rsquo; 的绑定完全不同，尽管它们被
&lsquo;<code class="t">bindkey -m</code>&rsquo; 初始化为相同的绑定。
</p>
<a class="index-entry-id" id="index-vared"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-Bian-Ji-"></a>
<a class="index-entry-id" id="index-Bian-Ji-Can-Shu-"></a>

</dd>
<dt><code class="t">vared </code>[ <code class="t">-Aacghe</code> ] [ <code class="t">-p</code> <var class="var">prompt</var> ] [ <code class="t">-r</code> <var class="var">rprompt</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-M</code> <var class="var">main-keymap</var> ] [ <code class="t">-m</code> <var class="var">vicmd-keymap</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-i</code> <var class="var">init-widget</var> ] [ <code class="t">-f</code> <var class="var">finish-widget</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-t</code> <var class="var">tty</var> ] <var class="var">name</var></dt>
<dd><p>参数 <var class="var">name</var> 的值被载入编辑缓冲区，并调用行编辑器。 编辑器退出后，<var class="var">name</var> 将被设置为编辑器返回的字符串值。 如果给出
<code class="t">-c</code> 标志，则会创建尚未存在的参数。 <code class="t">-a</code> 标志可与 <code class="t">-c</code> 一起使用，以创建数组参数，或使用 <code class="t">-A</code> 标志创建关联数组。
如果现有参数的类型与要创建的类型不匹配，参数将被取消设置并重新创建。 可以使用 <code class="t">-g</code> 标志来抑制 <code class="t">WARN_CREATE_GLOBAL</code>
和 <code class="t">WARN_NESTED_VAR</code> 选项的警告。
</p>
<p>如果正在编辑数组或数组片段，<code class="t">$IFS</code> 中定义的分隔符会显示为用反斜线引用，反斜线本身也是如此。
相反，当编辑的文本被分割成一个数组时，反斜线会引用紧随其后的分隔符或反斜线；不会对反斜线进行其他特殊处理，也不会对引号进行任何处理。
</p>
<p>可以使用 <var class="var">name</var> 的下标语法编辑现有数组或关联数组参数的单个元素。 即使没有 <code class="t">-c</code>，也会自动创建新元素。
</p>
<p>如果给出 <code class="t">-p</code> 标志，则以下字符串将作为提示符显示在左侧。 如果给出 <code class="t">-r</code> 标志，则下面的字符串将作为提示符显示在右侧。 如果指定了
<code class="t">-h</code> 标志，则可以通过 ZLE 访问历史记录。如果给出 <code class="t">-e</code> 标志，在空行上键入 <code class="t">^D</code> (Control-D) 会导致
<code class="t">vared</code> 立即退出，并返回一个非零的返回值。
</p>
<p><code class="t">-M</code> 选项给出了一个键映射，在编辑过程中链接到 <code class="t">main</code> 键映射，而 <code class="t">-m</code> 选项给出了一个键映射，在编辑过程中链接到
<code class="t">vicmd</code> 键映射。 对于 vi-style 编辑，这允许一对键映射覆盖 <code class="t">viins</code> 和 <code class="t">vicmd</code>。 对于 emacs
风格的编辑，通常只需要 <code class="t">-M</code>，但仍可使用 <code class="t">-m</code> 选项。 退出时，将恢复之前的键映射。
</p>
<p><code class="t">Vared</code> 会在控制之前和之后调用常规的 &lsquo;<code class="t">zle-line-init</code>&rsquo; 和 &lsquo;<code class="t">zle-line-finish</code>&rsquo; 钩子。使用
<code class="t">-i</code> 和 <code class="t">-f</code> 选项，可以用其他自定义小部件来替换这些钩子。
</p>
<p>如果给出&lsquo;<code class="t">-t</code> <var class="var">tty</var>&rsquo; , 则 <var class="var">tty</var> 是要使用的终端设备名称，而不是默认的 <code class="t">/dev/tty</code>。 如果
<var class="var">tty</var> 并非指向终端设备，系统将报错。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Zhong-Xin-Bang-Ding-"></a>
<a class="index-entry-id" id="index-Zhong-Xin-Bang-Ding-Xiao-Bu-Jian-"></a>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Bang-Ding-"></a>
<a class="index-entry-id" id="index-Bang-Ding-Xiao-Bu-Jian-"></a>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Diao-Yong-"></a>
<a class="index-entry-id" id="index-Diao-Yong-Xiao-Bu-Jian-"></a>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Diao-Yong--1"></a>
<a class="index-entry-id" id="index-Diao-Yong-Xiao-Bu-Jian--1"></a>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Ding-Yi-"></a>
<a class="index-entry-id" id="index-Ding-Yi-Xiao-Bu-Jian-"></a>
<a id="index-zle"></a><span><code class="t">zle</code><a class="copiable-link" href="#index-zle"> &para;</a></span></dt>
<dt><code class="t">zle</code> <code class="t">-l</code> [ <code class="t">-L</code> | <code class="t">-a</code> ] [ <var class="var">string</var> ... ]</dt>
<dt><code class="t">zle</code> <code class="t">-D</code> <var class="var">widget</var> ...</dt>
<dt><code class="t">zle</code> <code class="t">-A</code> <var class="var">old-widget</var> <var class="var">new-widget</var></dt>
<dt><code class="t">zle</code> <code class="t">-N</code> <var class="var">widget</var> [ <var class="var">function</var> ]</dt>
<dt><code class="t">zle</code> <code class="t">-f</code> <var class="var">flag</var> [ <var class="var">flag</var>... ]</dt>
<dt><code class="t">zle</code> <code class="t">-C</code> <var class="var">widget</var> <var class="var">completion-widget</var> <var class="var">function</var></dt>
<dt><code class="t">zle</code> <code class="t">-R</code> [ <code class="t">-c</code> ] [ <var class="var">display-string</var> ] [ <var class="var">string</var> ... ]</dt>
<dt><code class="t">zle</code> <code class="t">-M</code> <var class="var">string</var></dt>
<dt><code class="t">zle</code> <code class="t">-U</code> <var class="var">string</var></dt>
<dt><code class="t">zle</code> <code class="t">-K</code> <var class="var">keymap</var></dt>
<dt><code class="t">zle</code> <code class="t">-F</code> [ <code class="t">-L</code> | <code class="t">-w</code> ] [ <var class="var">fd</var> [ <var class="var">handler</var> ] ]</dt>
<dt><code class="t">zle</code> <code class="t">-I</code></dt>
<dt><code class="t">zle</code> <code class="t">-T</code> [ <code class="t">tc</code> <var class="var">function</var> | <code class="t">-r</code> <code class="t">tc</code> | <code class="t">-L</code> ]</dt>
<dt><code class="t">zle</code> <var class="var">widget</var> [ <code class="t">-n</code> <var class="var">num</var> ] [ <code class="t">-f</code> <var class="var">flag</var> ] [ <code class="t">-Nw</code> ] [ <code class="t">-K</code> <var class="var">keymap</var> ] <var class="var">args</var> ...</dt>
<dd><p><code class="t">zle</code> 内置命令会执行一系列与 ZLE 有关的不同操作。
</p>
<p>在没有选项和参数的情况下，只会设置返回状态。 如果 ZLE 当前处于激活状态，且可以使用该内置命令调用小部件，则状态为 0，否则为非 0。
请注意，即使返回非零状态，zle 仍可能作为补全系统的一部分处于活动状态；这不允许直接调用 ZLE 小部件。
</p>
<p>否则，执行哪种操作取决于其选项：
</p>
<dl class="table">
<dt><code class="t">-l</code> [ <code class="t">-L</code> | <code class="t">-a</code> ] [ <var class="var">string</var> ]</dt>
<dd><p>列出所有现有的用户自定义小部件。 如果使用 <code class="t">-L</code> 选项，则以 <code class="t">zle</code> 命令的形式列出创建小部件的命令。
</p>
<p>与 <code class="t">-a</code> 选项结合使用时，将列出所有小部件名称，包括内置命令名称。在这种情况下，<code class="t">-L</code> 选项将被忽略。
</p>
<p>如果至少给出一个 <var class="var">string</var>，且 <code class="t">-a</code> 已存在或 <code class="t">-L</code> 未使用，则不会打印任何内容。 如果所有 <var class="var">string</var>
都是已存在的小部件名称，则返回状态为 0；如果至少有一个 <var class="var">string</var> 不是已定义的小部件名称，则返回状态为非 0。 如果 <code class="t">-a</code>
也存在，则所有小部件名称都将用于比较，包括内置小部件，否则只使用用户定义的小部件。
</p>
<p>如果存在至少一个 <var class="var">string</var>，且使用了 <code class="t">-L</code> 选项，则会以 <code class="t">zle</code> 命令的形式列出与任何 <var class="var">string</var>
匹配的用户自定义部件创建的命令。
</p>
</dd>
<dt><code class="t">-D</code> <var class="var">widget</var> ...</dt>
<dd><p>删除已命名的 <var class="var">widget</var>s。
</p>
</dd>
<dt><code class="t">-A</code> <var class="var">old-widget</var> <var class="var">new-widget</var></dt>
<dd><p>将 <var class="var">new-widget</var> 作为 <var class="var">old-widget</var> 的别名，这样两个名称都指向同一个小部件。
这两个名称具有同等地位；如果其中一个被删除，另一个将保留。 如果已有一个名称为 <var class="var">new-widget</var> 的小部件，它将被删除。
</p>
</dd>
<dt><code class="t">-N</code> <var class="var">widget</var> [ <var class="var">function</var> ]</dt>
<dd><p>创建一个用户定义的小部件。 如果已经有一个名称为指定名称的小部件，它将被覆盖。 在编辑器中调用新的小部件时，会调用指定的 shell
<var class="var">function</var>。 如果没有指定函数名称，则默认使用与小部件相同的名称。 更多信息，请参阅 <a class="ref" href="#Zle-_5c0f_90e8_4ef6">Zle 小部件</a>。
</p>
</dd>
<dt><code class="t">-f</code> <var class="var">flag</var> [ <var class="var">flag</var>... ]</dt>
<dd><p>为运行中的小部件设置各种标志。 <var class="var">flag</var> 的可能值是：
</p>
<p><code class="t">yank</code> 用于指示小部件已将文本插入缓冲区。 如果小部件正在封装已有的内部部件，则无需进一步操作，但如果是手动插入文本，则还应注意正确设置
<code class="t">YANK_START</code> 和 <code class="t">YANK_END</code>。 <code class="t">yankbefore</code> 的作用与此相同，但用于在光标后出现复制的文本。
</p>
<p><code class="t">kill</code> 用于指示文本已被杀进入剪切缓冲区。 当重复调用 kill
小部件时，文本会被追加到剪切缓冲区而不是替换掉，但在封装此类小部件时，有必要调用 &lsquo;<code class="t">zle -f kill</code>&rsquo; 来保留这种效果。
</p>
<p><code class="t">vichange</code>，用于表示小部件代表的 vi 变化可以用 &lsquo;<code class="t">vi-repeat-change</code>&rsquo; 整体重复。在检查 <code class="t">NUMERIC</code>
的值或调用其他小部件之前，应在函数的早期设置该标志。对于从插入模式调用的小部件，该标志不起作用。如果小部件结束时插入模式处于激活状态，则更改会持续到下一次返回命令模式。
</p>
</dd>
<dt><a id="index-Bu-Quan-Xiao-Bu-Jian-_002c-Chuang-Jian-"></a><span><code class="t">-C</code> <var class="var">widget</var> <var class="var">completion-widget</var> <var class="var">function</var><a class="copiable-link" href="#index-Bu-Quan-Xiao-Bu-Jian-_002c-Chuang-Jian-"> &para;</a></span></dt>
<dd><p>创建名为 <var class="var">widget</var> 的用户自定义补全部件。该补全小部件的行为与内置的补全小部件类似，其名称为
<var class="var">completion-widget</var>。要生成补全，将调用 shell 函数 <var class="var">function</var>。 更多信息，请参阅
<a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>。
</p>
</dd>
<dt><code class="t">-R</code> [ <code class="t">-c</code> ] [ <var class="var">display-string</var> ] [ <var class="var">string</var> ... ]</dt>
<dd><p>重新显示命令行。 如果给定了 <var class="var">display-string</var>，且该字符串不为空，则会显示在状态行中（紧挨着正在编辑的行的下方）。
</p>
<p>如果给出了可选的 <var class="var">string</var>s，它们将以与打印补全列表相同的方式列在提示符下方。如果没有给出 <var class="var">string</var>s，但使用了
<code class="t">-c</code> 选项，则会清除该列表。
</p>
<p>请注意，运行小部件返回后，命令行会立即重新显示，显示的字符串也会被擦除。 因此，该选项只适用于使用后不会立即退出的小部件。
</p>
<p>这条命令可以在用户定义的小部件之外安全地调用；如果 zle 处于活动状态，显示内容将被刷新，而如果 zle 未处于活动状态，这条命令则没有任何作用。
在这种情况下，通常不会有其他参数。
</p>
<p>如果 zle 处于活动状态，则状态为 0，否则为 1。
</p>
</dd>
<dt><code class="t">-M</code> <var class="var">string</var></dt>
<dd><p>与 <code class="t">-R</code> 选项一样，<var class="var">string</var> 将显示在命令行下方；与 <code class="t">-R</code>
选项不同的是，字符串不会被放入状态行，而是正常打印在提示符下方。 这意味着小部件返回后，<var class="var">string</var> 仍会显示（直到被后续命令覆盖）。
</p>
</dd>
<dt><code class="t">-U</code> <var class="var">string</var></dt>
<dd><p>这会将 <var class="var">string</var> 中的字符推入 ZLE 的输入堆栈。 在当前执行的小部件结束后，ZLE 的行为就好像 <var class="var">string</var>
中的字符是由用户输入的一样。
</p>
<p>由于 ZLE 使用堆栈，如果重复使用该选项，最后推入堆栈的字符串将首先被处理。 不过，每个 <var class="var">string</var>
中的字符将按照它们在字符串中出现的顺序进行处理。
</p>
</dd>
<dt><code class="t">-K</code> <var class="var">keymap</var></dt>
<dd><p>选择名为 <var class="var">keymap</var> 的键映射。 如果没有此键映射，系统将显示错误信息。
</p>
<p>键映射的选择会影响 ZLE 在本次调用中对后续按键的解释。 任何后续调用（例如下一条命令行）都将照常以 &lsquo;<code class="t">main</code>&rsquo; 键映射开始。
</p>
</dd>
<dt><code class="t">-F</code> [ <code class="t">-L</code> | <code class="t">-w</code> ] [ <var class="var">fd</var> [ <var class="var">handler</var> ] ]</dt>
<dd><p>只有当系统支持 &lsquo;poll&rsquo; 或  &lsquo;select&rsquo; 系统调用时才可用；大多数现代系统都支持。
</p>
<p>安装 <var class="var">handler</var>（一个 shell 函数的名称），以处理来自文件描述符 <var class="var">fd</var> 的输入。 为已处理过的 <var class="var">fd</var>
安装处理程序会导致现有处理程序被替换。 可以为任意数量的可读文件描述符安装任意数量的处理程序。 请注意，在安装处理程序时，zle 不会检查
<var class="var">fd</var> 是否可读。 用户必须自行安排在zle未激活时如何处理文件描述符。
</p>
<p>当 zle 尝试读取数据时，它会同时检查终端和已处理 <var class="var">fd</var> 的列表。 如果已处理 <var class="var">fd</var> 上的数据可用，zle 会调用
<var class="var">handler</var>，并将已准备好读取的 fd 作为第一个参数。
正常情况下，这是唯一的参数，但如果检测到错误，第二个参数会提供详细信息：&lsquo;<code class="t">hup</code>&rsquo; 表示断开连接，&lsquo;<code class="t">nval</code>&rsquo; 表示描述符已关闭或无效，
&lsquo;<code class="t">err</code>&rsquo; 表示任何其他情况。 只支持 &lsquo;select&rsquo; 系统调用的系统总是使用 &lsquo;<code class="t">err</code>&rsquo;。
</p>
<p>如果同时给定了 <code class="t">-w</code> 选项，<var class="var">handler</var> 则是一个行编辑器小部件，通常是使用 &lsquo;<code class="t">zle -N</code>&rsquo; 制作成小部件的 shell
函数。 在这种情况下，<var class="var">handler</var> 可以使用 zle 的所有功能来更新当前编辑行。 但需要注意的是，由于 <var class="var">fd</var>
的处理是在低层次上进行的，因此显示的更改不会自动出现；小部件应调用 &lsquo;<code class="t">zle -R</code>&rsquo; 来强制重新显示。
截至本文撰写时，小部件处理程序只支持单个参数，因此不会传递错误状态字符串，所以小部件必须准备好自行测试描述符。
</p>
<p>如果处理程序向终端输出内容，则应在输出前调用 &lsquo;<code class="t">zle -I</code>&rsquo; （见下文）。 处理程序不应试图从终端读取数据。
</p>
<p>如果未给出 <var class="var">handler</var>，但存在 <var class="var">fd</var>，则会删除该 <var class="var">fd</var> 的任何处理程序。
如果没有处理程序，将打印错误信息并返回状态 1。
</p>
<p>如果没有给定参数，或者提供了 <code class="t">-L</code> 选项，则会以可存储的形式打印处理程序列表，以供之后执行。
</p>
<p>可选择使用 <code class="t">-L</code> 选项给出 <var class="var">fd</var>（但不包括
<var class="var">handler</var>）；在这种情况下，如果有处理程序，函数将列出该处理程序，否则静默返回状态 1。
</p>
<p>请注意，使用该特性时应谨慎。 如果 <var class="var">fd</var> 上的某个活动未得到正确处理，可能导致终端无法使用。 从信号陷阱中移除 <var class="var">fd</var>
处理程序可能会导致不可预知的行为。
</p>
<p>下面是一个使用此功能的简单示例。 使用 ztcp 命令创建与远程 TCP 端口的连接；参见 <a class="ref" href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a>。
然后安装一个处理程序，简单地打印出该连接上到达的任何数据。 需要注意的是，如果远端关闭了连接， &lsquo;select&rsquo;
将指示文件描述符需要处理；我们通过测试读取失败来处理这种情况。
</p>
<div class="example">
<pre class="example-preformatted">if ztcp pwspc 2811; then
  tcpfd=$REPLY
  handler() {
    zle -I
    local line
    if ! read -r line &lt;&amp;$1; then
      # select marks this fd if we reach EOF,
      # so handle this specially.
      print &quot;[Read on fd $1 failed, removing.]&quot; &gt;&amp;2
      zle -F $1
      return 1
    fi
    print -r - $line
  }
  zle -F $tcpfd handler
fi
</pre></div>

</dd>
<dt><code class="t">-I</code></dt>
<dd><p>不同的是，这个选项在普通小部件函数之外最有用，不过如果需要向终端正常输出，也可以在内部使用。 它可以使当前的 zle
显示无效，以为输出做准备；通常是通过陷阱函数输出。 如果zle未激活，它将不起作用。 当陷阱退出时，shell
会检查显示是否需要恢复，因此下面，将以不影响正在编辑的行的方式打印输出：
</p>
<div class="example">
<pre class="example-preformatted">TRAPUSR1() {
  # Invalidate zle display
  [[ -o zle ]] &amp;&amp; zle -I
  # Show output
  print Hello
}
</pre></div>

<p>一般来说，在使用此方法之前，陷阱函数可能需要测试 zle 是否处于活动状态（如示例所示），因为 <code class="t">zsh/zle</code>
模块可能根本没有加载；如果没有加载，则可以跳过该命令。
</p>
<p>在控制权返回编辑器之前，可以多次调用 &lsquo;<code class="t">zle -I</code>&rsquo; ；为减少干扰，显示只会在第一次无效。
</p>
<p>请注意，在 zle 小部件中通常有更好的操作显示的方式；例如，请参阅上文的 &lsquo;<code class="t">zle -R</code>&rsquo;。
</p>
<p>如果 zle 已失效，则返回状态为零，尽管这可能是由于之前调用了 &lsquo;<code class="t">zle -I</code>&rsquo; 或系统通知所致。 要测试此时是否可以调用 zle
小部件，可以不带参数执行 <code class="t">zle</code>，并检查返回状态。
</p>
</dd>
<dt><code class="t">-T</code></dt>
<dd><p>用于添加、列出或删除行编辑器处理过程中的内部转换。 它通常只用于调试或测试，因此一般用户对其兴趣不大。
</p>
<p>&lsquo;<code class="t">zle -T</code> <var class="var">transformation</var> <var class="var">func</var>&rsquo; 指定指定的
<var class="var">transformation</var>（见下文）由 shell 函数 <var class="var">func</var> 执行（effected）。
</p>
<p>&lsquo;<code class="t">zle -Tr</code> <var class="var">transformation</var>&rsquo; 会移除给定的
<var class="var">transformation</var>（如果有的话，如果没有也不会出错）。
</p>
<p>&lsquo;<code class="t">zle -TL</code>&rsquo;  可用于列出当前正在运行的所有转换。
</p>
<p>目前唯一的转换是 <code class="t">tc</code>。 它用来代替向终端输出 termcap 代码。 当转换执行时，shell 函数会将输出的 termcap
代码作为第一个参数传递给函数；如果转换操作需要数字参数，则会将数字参数作为第二个参数传递给函数。 函数应将 shell 变量 <code class="t">REPLY</code>
设置为转换后的 termcap 代码。 通常情况下，这用于生成一些简单格式化的代码版本，以及用于调试或测试的可选参数。
请注意，这种转换不适用于其他非打印字符，如回车符和换行符。
</p>
</dd>
<dt><var class="var">widget</var> [ <code class="t">-n</code> <var class="var">num</var> ] [ <code class="t">-f</code> <var class="var">flag</var> ] [ <code class="t">-Nw</code> ] [ <code class="t">-K</code> <var class="var">keymap</var> ] <var class="var">args</var> ...</dt>
<dd><p>调用指定的 <var class="var">widget</var>。 只有在 ZLE 处于活动状态时才能调用；通常是在用户自定义的小部件中调用。
</p>
<p>使用选项 <code class="t">-n</code> 和 <code class="t">-N</code>，当前数字参数将被保存，并在调用 <var class="var">widget</var> 后恢复； &lsquo;<code class="t">-n</code> <var class="var">num</var>&rsquo;
会将数字参数暂时设置为 <var class="var">num</var>，而  &lsquo;<code class="t">-N</code>&rsquo; 则会将其设置为默认值，即相当于没有 <var class="var">num</var>。
</p>
<p>如果使用选项 <code class="t">-K</code>，<var class="var">keymap</var> 将在小部件执行期间用作当前键映射。 退出小部件后，将恢复之前的键映射。
</p>
<p>通常情况下，以这种方式调用小部件不会设置特殊参数 <code class="t">WIDGET</code> 和相关参数，因此环境看起来就好像用户调用的顶层小部件仍然处于活动状态。 使用
<code class="t">-w</code> 选项后，<code class="t">WIDGET</code> 和相关参数将被设置为反映 <code class="t">zle</code> 调用正在执行的小部件。
</p>
<p>通常，当 <var class="var">widget</var> 返回时，特殊参数 <code class="t">LASTWIDGET</code> 将指向它。 可以通过选项 <code class="t">-f nolast</code>
来抑制这种情况。
</p>
<p>任何进一步的参数都将传递给小部件；注意，由于执行的是标准参数处理，任何一般参数列表都应在前面加上 <code class="t">-</code><code class="t">-</code>。 如果是 shell
函数，这些参数将作为位置参数传递下去；对于内置小部件，则由相关小部件自行决定如何处理这些参数。
目前，只有增量搜索命令，<code class="t">history-search-forward</code> 和 <code class="t">-backward</code> 以及 <code class="t">vi-</code> 前缀的相应函数和
<code class="t">universal-argument</code> 可以处理参数。 如果命令未使用参数，或仅使用了部分参数，则不会标志错误。
</p>
<p>返回状态反映了小部件执行操作的成功或失败，如果是用户定义的小部件，则反映 shell 函数的返回状态。
</p>
<p>除非未设置 <code class="t">BEEP</code> 选项或通过 <code class="t">zle</code> 命令调用小部件，否则非零返回状态会导致 shell 在小部件退出时发出蜂鸣声。
因此，如果用户定义的小部件需要立即发出蜂鸣声，应直接调用 <code class="t">beep</code> 小部件。
</p>
</dd>
</dl>

</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="Zle-_5c0f_90e8_4ef6">

<h3 class="section" id="Zle-Xiao-Bu-Jian-"><span>18.4 Zle 小部件<a class="copiable-link" href="#Zle-Xiao-Bu-Jian-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-"></a>
<p>编辑器中的所有操作都由&lsquo;widgets&rsquo; 执行。 小部件的工作就是执行一些小的操作。 键映射中的键序列所绑定的 ZLE 命令实际上就是小部件。
小部件可以是用户定义的，也可以是内置的。
</p>
<p><a class="ref" href="#g_t_6807_51c6_5c0f_90e8_4ef6">标准小部件</a> 中列出了 ZLE 内置的标准小部件。 其他内置部件可由其他模块定义（参见 <a class="ref" href="#Zsh-_6a21_5757">Zsh 模块</a>）。
每个内置小部件都有两个名称：一个是正常的规范名称，另一个是前缀为 &lsquo;<code class="t">.</code>&rsquo; 的名称。 &lsquo;<code class="t">.</code>&rsquo; 名称比较特殊：它不能重新绑定到其他部件上。
这样，即使重新定义了部件的通常名称，该部件仍可使用。
</p>
<p>用户自定义的小部件使用 &lsquo;<code class="t">zle -N</code>&rsquo; 定义，并以 shell 函数的形式实现。 当小部件被执行时，相应的 shell
函数也会被执行，并可执行编辑（或其他）操作。 建议用户自定义小部件的名称不要以 &lsquo;<code class="t">.</code>&rsquo; 开头。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">

<h3 class="section" id="Yong-Hu-Ding-Yi-Xiao-Bu-Jian-"><span>18.5 用户定义小部件<a class="copiable-link" href="#Yong-Hu-Ding-Yi-Xiao-Bu-Jian-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Yong-Hu-Ding-Yi-De-"></a>
<p>用户自定义的小部件作为 shell 函数实现，可以执行任何普通的 shell 命令。 它们还可以使用 <code class="t">zle</code>
内置命令运行其他小部件（无论是内置的还是用户自定义的）。函数的标准输入是从 /dev/null 重定向的，以防止外部命令通过从终端读取数据而无意中阻塞
ZLE，但 <code class="t">read -k</code> 或 <code class="t">read -q</code> 也可用于读取字符。 最后，它们可以通过读取和设置下文所述的特殊参数，检查和编辑正在编辑的
ZLE 缓冲区。
</p>
<a class="index-entry-id" id="index-Can-Shu-_002c-Bian-Ji-Qi-"></a>
<a class="index-entry-id" id="index-Can-Shu-_002c-zle"></a>
<p>这些特殊参数在小部件函数中始终可用，但在 ZLE 外部却没有任何特殊性。 如果它们在 ZLE
外部有一些正常值，那么该值暂时无法访问，但在小部件函数退出时会返回。 事实上，这些特殊参数具有本地作用域，就像在函数中使用 <code class="t">local</code>
创建的参数一样。
</p>
<p>在 ZLE 处于活动状态时调用的补全小部件和陷阱内，这些参数以只读方式提供。
</p>
<p>请注意，这些参数在任何 ZLE 小部件中都是本地参数。 因此，如果要覆盖这些参数，需要在嵌套函数中进行：
</p>
<div class="example">
<pre class="example-preformatted">widget-function() {
  # $WIDGET here refers to the special variable
  # that is local inside widget-function
  () {
     # This anonymous nested function allows WIDGET
     # to be used as a local variable.  The -h
     # removes the special status of the variable.
     local -h WIDGET
  }
}
</pre></div>

<dl class="table">
<dt><a id="index-BUFFER"></a><span><code class="t">BUFFER</code> (scalar)<a class="copiable-link" href="#index-BUFFER"> &para;</a></span></dt>
<dd><p>编辑缓冲区的全部内容。 如果被写入，光标将保持在相同的偏移量，除非这样会将光标置于缓冲区之外。
</p>
</dd>
<dt><a id="index-BUFFERLINES"></a><span><code class="t">BUFFERLINES</code> (integer)<a class="copiable-link" href="#index-BUFFERLINES"> &para;</a></span></dt>
<dd><p>当前屏幕上显示的编辑缓冲区所需的屏幕行数（即上次重新显示后未对前面的参数进行任何更改）；只读。
</p>
</dd>
<dt><a id="index-CONTEXT"></a><span><code class="t">CONTEXT</code> (scalar)<a class="copiable-link" href="#index-CONTEXT"> &para;</a></span></dt>
<dd><p>调用 zle 读取一行的上下文；只读。 值之一：
</p>
<dl class="table">
<dt><code class="t">start</code></dt>
<dd><p>命令行的起始位置（提示符 <code class="t">PS1</code>）。
</p>
</dd>
<dt><code class="t">cont</code></dt>
<dd><p>命令行的续行（提示符 <code class="t">PS2</code>）。
</p>
</dd>
<dt><code class="t">select</code></dt>
<dd><p>在 <code class="t">select</code> 循环中（提示符 <code class="t">PS3</code>）。
</p>
</dd>
<dt><code class="t">vared</code></dt>
<dd><p>编辑 <code class="t">vared</code> 中的变量。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-CURSOR"></a><span><code class="t">CURSOR</code> (integer)<a class="copiable-link" href="#index-CURSOR"> &para;</a></span></dt>
<dd><p>光标在编辑缓冲区内的偏移量。 范围从 0 到 <code class="t">$#BUFFER</code>，根据定义等于 <code class="t">$#LBUFFER</code>。
如果试图将光标移出缓冲区，光标将被移至缓冲区的适当末端。
</p>
</dd>
<dt><a id="index-CUTBUFFER"></a><span><code class="t">CUTBUFFER</code> (scalar)<a class="copiable-link" href="#index-CUTBUFFER"> &para;</a></span></dt>
<dd><p>使用 &lsquo;<code class="t">kill-</code>&rsquo; 命令之一剪切的最后一个条目；下一次拖拽(yank)将插入该行的字符串。 删除环（kill ring） 中的后续条目位于
<code class="t">killring</code> 数组中。 请注意，命令 &lsquo;<code class="t">zle copy-region-as-kill</code> <var class="var">string</var>&rsquo; 命令可用于从
shell 函数中设置剪切缓冲区的文本，并以与交互式删除文本相同的方式循环 kill ring。
</p>
</dd>
<dt><a id="index-HISTNO"></a><span><code class="t">HISTNO</code> (integer)<a class="copiable-link" href="#index-HISTNO"> &para;</a></span></dt>
<dd><p>当前历史记录编号。 设置它与在历史记录中向上或向下移动到相应的历史记录行具有相同的效果。 如果历史记录中没有该行，则设置该参数的尝试将被忽略。
请注意，这与参数 <code class="t">HISTCMD</code> 并不相同，后者给出的是被添加到主 shell 历史记录中的历史行的编号。 <code class="t">HISTNO</code> 指的是在
zle 中检索的行。
</p>
</dd>
<dt><a class="index-entry-id" id="index-ISEARCHMATCH_005fSTART"></a>
<a class="index-entry-id" id="index-ISEARCHMATCH_005fEND"></a>
<a id="index-ISEARCHMATCH_005fACTIVE"></a><span><code class="t">ISEARCHMATCH_ACTIVE</code> (integer)<a class="copiable-link" href="#index-ISEARCHMATCH_005fACTIVE"> &para;</a></span></dt>
<dt><code class="t">ISEARCHMATCH_START</code> (integer)</dt>
<dt><code class="t">ISEARCHMATCH_END</code> (integer)</dt>
<dd><p><code class="t">ISEARCHMATCH_ACTIVE</code> 表示 <code class="t">BUFFER</code>
中的某个部分当前是否与增量搜索模式相匹配。<code class="t">ISEARCHMATCH_START</code> 和 <code class="t">ISEARCHMATCH_END</code>
显示匹配部分的位置，单位与 <code class="t">CURSOR</code> 相同。只有当 <code class="t">ISEARCHMATCH_ACTIVE</code> 非零时，读取才有效。
</p>
<p>所有参数均为只读参数。
</p>
</dd>
<dt><a id="index-KEYMAP"></a><span><code class="t">KEYMAP</code> (scalar)<a class="copiable-link" href="#index-KEYMAP"> &para;</a></span></dt>
<dd><p>当前选中的键映射的名称；只读。
</p>
</dd>
<dt><a id="index-KEYS"></a><span><code class="t">KEYS</code> (scalar)<a class="copiable-link" href="#index-KEYS"> &para;</a></span></dt>
<dd><p>调用该小部件时键入的字面字符串；只读。
</p>
</dd>
<dt><a id="index-KEYS_005fQUEUED_005fCOUNT"></a><span><code class="t">KEYS_QUEUED_COUNT</code> (integer)<a class="copiable-link" href="#index-KEYS_005fQUEUED_005fCOUNT"> &para;</a></span></dt>
<dd><p>被推送回输入队列的字节数，因此在完成任何 I/O 操作之前可以立即读取；只读。 另请参阅 <code class="t">PENDING</code>；这两个值是不同的。
</p>
</dd>
<dt><a id="index-killring"></a><span><code class="t">killring</code> (array)<a class="copiable-link" href="#index-killring"> &para;</a></span></dt>
<dd><p>之前被删除的条目的数组，最近被删除的条目在前。 <code class="t">yank-pop</code> 会以相同的顺序取出被删除的条目。 但请注意，最近被删除的条目位于
<code class="t">$CUTBUFFER</code> 中；<code class="t">$killring</code> 显示的是之前的条目数组。
</p>
<p>删除环的默认大小为 8，但可以通过正常的数组操作改变长度。 删除环中的任何空字符串都会被 <code class="t">yank-pop</code>
命令忽略，因此数组的大小实际上设定了删除环的最大长度，而非零字符串的数量则表示当前的长度，两者都是用户在命令行中看到的长度。
</p>
</dd>
<dt><a id="index-LASTABORTEDSEARCH"></a><span><code class="t">LASTABORTEDSEARCH</code> (scalar)<a class="copiable-link" href="#index-LASTABORTEDSEARCH"> &para;</a></span></dt>
<dd><p>用户放弃的交互式搜索所使用的最后一个搜索字符串（搜索小部件返回的状态 3）。
</p>
</dd>
<dt><a id="index-LASTSEARCH"></a><span><code class="t">LASTSEARCH</code> (scalar)<a class="copiable-link" href="#index-LASTSEARCH"> &para;</a></span></dt>
<dd><p>交互式搜索使用的最后一个搜索字符串；只读。 即使搜索失败（搜索小部件返回的状态为 0、1 或
2）也会设置该字符串，但如果搜索被用户中止，则不会设置该字符串。
</p>
</dd>
<dt><a id="index-LASTWIDGET"></a><span><code class="t">LASTWIDGET</code> (scalar)<a class="copiable-link" href="#index-LASTWIDGET"> &para;</a></span></dt>
<dd><p>最后执行的小部件的名称；只读。
</p>
</dd>
<dt><a id="index-LBUFFER"></a><span><code class="t">LBUFFER</code> (scalar)<a class="copiable-link" href="#index-LBUFFER"> &para;</a></span></dt>
<dd><p>位于光标位置左边的缓冲区部分。 如果指定了该部分，则只有该部分缓冲区会被替换，光标将保留在新的 <code class="t">$LBUFFER</code> 和旧的
<code class="t">$RBUFFER</code> 之间。
</p>
</dd>
<dt><a id="index-MARK"></a><span><code class="t">MARK</code> (integer)<a class="copiable-link" href="#index-MARK"> &para;</a></span></dt>
<dd><p>与 <code class="t">CURSOR</code>类似，但用于标记。对于等待移动命令来选择文本区域的 vi 模式操作符，设置 <code class="t">MARK</code>
可以使选择范围从初始光标位置向两个方向扩展。
</p>
</dd>
<dt><a id="index-NUMERIC"></a><span><code class="t">NUMERIC</code> (integer)<a class="copiable-link" href="#index-NUMERIC"> &para;</a></span></dt>
<dd><p>数字参数。如果没有给出数字参数，则不设置该参数。在小部件函数中设置该参数后，使用 <code class="t">zle</code> 内置命令调用的内置小部件将使用指定的数值。如果未在
widget 函数中设置该参数，则调用的内置小部件将视作未给定数字参数。
</p>
</dd>
<dt><a id="index-PENDING"></a><span><code class="t">PENDING</code> (integer)<a class="copiable-link" href="#index-PENDING"> &para;</a></span></dt>
<dd><p>等待输入的字节数，即已输入并可立即读取的字节数。在 shell 无法获取此信息的系统中，此参数的值始终为 0。 只读。 另请参见
<code class="t">KEYS_QUEUED_COUNT</code>；这两个值是不同的。
</p>
</dd>
<dt><a id="index-PREBUFFER"></a><span><code class="t">PREBUFFER</code> (scalar)<a class="copiable-link" href="#index-PREBUFFER"> &para;</a></span></dt>
<dd><p>在二级提示符下的多行输入中，该只读参数包含光标当前所在行之前各行的内容。
</p>
</dd>
<dt><a id="index-PREDISPLAY"></a><span><code class="t">PREDISPLAY</code> (scalar)<a class="copiable-link" href="#index-PREDISPLAY"> &para;</a></span></dt>
<dd><p>在可编辑文本缓冲区开始前显示的文本。 这不一定是完整的一行；要显示完整的一行，必须明确添加换行符。 每次调用（但不是递归调用）zle 时，文本都会重置。
</p>
</dd>
<dt><a id="index-POSTDISPLAY"></a><span><code class="t">POSTDISPLAY</code> (scalar)<a class="copiable-link" href="#index-POSTDISPLAY"> &para;</a></span></dt>
<dd><p>在可编辑文本缓冲区结束后显示的文本。 这不一定是一行完整的文字；要显示一行完整的文字，必须明确预置换行符。 每次调用（但不是递归调用）zle
时，文本都会重置。
</p>
</dd>
<dt><a id="index-RBUFFER"></a><span><code class="t">RBUFFER</code> (scalar)<a class="copiable-link" href="#index-RBUFFER"> &para;</a></span></dt>
<dd><p>位于光标位置右侧的缓冲区部分。 如果赋值给该部分，则只有这部分缓冲区会被替换，光标将保留在旧的 <code class="t">$LBUFFER</code> 和新的
<code class="t">$RBUFFER</code> 之间。
</p>
</dd>
<dt><a id="index-REGION_005fACTIVE"></a><span><code class="t">REGION_ACTIVE</code> (integer)<a class="copiable-link" href="#index-REGION_005fACTIVE"> &para;</a></span></dt>
<dd><p>指示区域当前是否处于激活状态。 可以赋值 0 或 1 以分别停用和激活该区域。如果值为 2，则该区域将以整行模式激活，高亮显示的文本仅延伸至整行；请参阅
<a class="ref" href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a>。
</p>
</dd>
<dt><a id="index-region_005fhighlight"></a><span><code class="t">region_highlight</code> (array)<a class="copiable-link" href="#index-region_005fhighlight"> &para;</a></span></dt>
<dd><p>该数组的每个元素都可以设置为一个字符串，用于描述命令行任意区域的高亮效果，该效果将在下一次重新显示命令行时生效。 可以在 <code class="t">PREDISPLAY</code>
和 <code class="t">POSTDISPLAY</code> 中突出显示命令行中不可编辑的部分，但要注意，字符索引需要使用 <code class="t">P</code> 标志才能包含
<code class="t">PREDISPLAY</code>。
</p>
<p>每个字符串由以下以空白分隔的部分组成：
</p>
<ul class="itemize mark-bullet">
<li>可选择使用 &lsquo;<code class="t">P</code>&rsquo; ，表示后面的起始偏移和结束偏移包括 <code class="t">PREDISPLAY</code>
特殊参数设置的任何字符串；如果要高亮显示预显示字符串本身，则需要这样做。  &lsquo;<code class="t">P</code>&rsquo; 和起始偏移量之间的空格是可选的。
</li><li>与 <code class="t">CURSOR</code> 单位相同的起始偏移量。
</li><li>与 <code class="t">CURSOR</code> 单位相同的终点偏移量。
</li><li>高亮规范，格式与参数 <code class="t">zle_highlight</code> 中用于上下文的格式相同，参见 <a class="ref" href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a>；例如 <code class="t">standout</code> 或
<code class="t">fg=red,bold</code>。
</li><li>可选择使用 &lsquo;<code class="t">memo=</code><var class="var">token</var>&rsquo; 形式的字符串。 <var class="var">token</var> 包含从 &lsquo;<code class="t">=</code>&rsquo; 到下一个空格、逗号、NUL
或字符串结尾之间的所有内容。 <var class="var">token</var> 将被逐字保留，但不会进行任何解析。

<p>插件可以用它来识别自己添加的数组元素：例如，插件可以将 <var class="var">token</var> 设置为自己（插件）的名称，然后使用
&lsquo;<code class="t">region_highlight=( ${region_highlight:#*memo=</code><var class="var">token</var><code class="t">} )</code>&rsquo;
来删除自己添加的数组元素。
</p>
<p>(本例使用了 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a>中描述的 &lsquo;<code class="t">${</code><var class="var">name</var><code class="t">:#</code><var class="var">pattern</var><code class="t">}</code>&rsquo;
数组-grepping 语法）。
</p></li></ul>

<p>例如, 
</p>
<div class="example">
<pre class="example-preformatted">region_highlight=(&quot;P0 20 bold memo=foobar&quot;)
</pre></div>

<p>指定文本的前 20 个字符（包括任何预显示字符串）以粗体高亮显示。
</p>
<p>请注意，<code class="t">region_highlight</code> 的效果不会保存，一旦接受行，它就会消失。
</p>
<p>请注意，zsh 5.8 及更早版本不支持 &lsquo;<code class="t">memo=</code><var class="var">token</var>&rsquo;
字段，并且在给出备忘录（memo）时可能会误读第三个字段（高亮说明）。
</p>

<p>命令行上的最终高亮效果取决于 <code class="t">region_highlight</code> 和 <code class="t">zle_highlight</code>；详情请参见 <a class="ref" href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a>。
</p>
</dd>
<dt><a id="index-registers"></a><span><code class="t">registers</code> (associative array)<a class="copiable-link" href="#index-registers"> &para;</a></span></dt>
<dd><p>每个 vi 寄存器缓冲区的内容。通常使用 <code class="t">vi-set-buffer</code>，然后使用删除、更改或复制（yank）命令来设置这些内容。
</p>
</dd>
<dt><a class="index-entry-id" id="index-SUFFIX_005fSTART"></a>
<a class="index-entry-id" id="index-SUFFIX_005fEND"></a>
<a id="index-SUFFIX_005fACTIVE"></a><span><code class="t">SUFFIX_ACTIVE</code> (integer)<a class="copiable-link" href="#index-SUFFIX_005fACTIVE"> &para;</a></span></dt>
<dt><code class="t">SUFFIX_START</code> (integer)</dt>
<dt><code class="t">SUFFIX_END</code> (integer)</dt>
<dd><p><code class="t">SUFFIX_ACTIVE</code> 表示自动删除的补全后缀当前是否处于激活状态。<code class="t">SUFFIX_START</code> 和 <code class="t">SUFFIX_END</code>
表示后缀的位置，单位与 <code class="t">CURSOR</code> 相同。只有当 <code class="t">SUFFIX_ACTIVE</code> 非零时，才能读取它们。
</p>
<p>所有参数均为只读参数。
</p>
</dd>
<dt><a id="index-UNDO_005fCHANGE_005fNO"></a><span><code class="t">UNDO_CHANGE_NO</code> (integer)<a class="copiable-link" href="#index-UNDO_005fCHANGE_005fNO"> &para;</a></span></dt>
<dd><p>代表撤销历史状态的数字。 它的唯一用途是作为参数传递给 <code class="t">undo</code> 小部件，以撤销到记录的点。 只读。
</p>
</dd>
<dt><a id="index-UNDO_005fLIMIT_005fNO"></a><span><code class="t">UNDO_LIMIT_NO</code> (integer)<a class="copiable-link" href="#index-UNDO_005fLIMIT_005fNO"> &para;</a></span></dt>
<dd><p>与撤消历史中现有更改相对应的数字；比较 <code class="t">UNDO_CHANGE_NO</code>。 如果设置的值大于零，<code class="t">undo</code>
命令将不允许撤销超出给定更改次数的行。 但仍可以使用 &lsquo;<code class="t">zle undo</code> <var class="var">change</var>&rsquo;
在小部件中撤销超出该点的操作；在这种情况下，直到 <code class="t">UNDO_LIMIT_NO</code> 被减少，才会完全无法撤销。 设置为 0 则禁用限制。
</p>
<p>在小部件函数中该变量的典型用法如下（注意需要附加函数作用域）：
</p>
<div class="example">
<pre class="example-preformatted">() {
  local UNDO_LIMIT_NO=$UNDO_CHANGE_NO
  # Perform some form of recursive edit.
}
</pre></div>

</dd>
<dt><a id="index-WIDGET"></a><span><code class="t">WIDGET</code> (scalar)<a class="copiable-link" href="#index-WIDGET"> &para;</a></span></dt>
<dd><p>当前正在执行的小部件的名称；只读。
</p>
</dd>
<dt><a id="index-WIDGETFUNC"></a><span><code class="t">WIDGETFUNC</code> (scalar)<a class="copiable-link" href="#index-WIDGETFUNC"> &para;</a></span></dt>
<dd><p>实现用 <code class="t">zle -N</code> 或 <code class="t">zle -C</code> 定义的小部件的 shell 函数名称。 在前一种情况下，这是定义小部件的 <code class="t">zle -N</code>
命令的第二个参数，如果没有第二个参数，则是第一个参数。 在后一种情况下，这是定义小部件的 <code class="t">zle -C</code> 命令的第三个参数。 只读。
</p>
</dd>
<dt><a id="index-WIDGETSTYLE"></a><span><code class="t">WIDGETSTYLE</code> (scalar)<a class="copiable-link" href="#index-WIDGETSTYLE"> &para;</a></span></dt>
<dd><p>描述当前正在执行的补全小部件背后的实现；是定义小部件时 <code class="t">zle -C</code> 后面的第二个参数。 这是内置补全小部件的名称。 对于使用 <code class="t">zle
-N</code> 定义的小部件，该参数将被设置为空字符串。 只读。
</p>
</dd>
<dt><a class="index-entry-id" id="index-YANK_005fSTART"></a>
<a class="index-entry-id" id="index-YANK_005fEND"></a>
<a id="index-YANK_005fACTIVE"></a><span><code class="t">YANK_ACTIVE</code> (integer)<a class="copiable-link" href="#index-YANK_005fACTIVE"> &para;</a></span></dt>
<dt><code class="t">YANK_START</code> (integer)</dt>
<dt><code class="t">YANK_END</code> (integer)</dt>
<dd><p><code class="t">YANK_ACTIVE</code> 表示文本是否刚刚被插入（粘贴）到缓冲区。 <code class="t">YANK_START</code> 和 <code class="t">YANK_END</code>
表示粘贴文本的位置，单位与 <code class="t">CURSOR</code> 相同。 只有当 <code class="t">YANK_ACTIVE</code> 非零时，它们才能读取。 以类似 yank-like
的方式插入文本的小部件（例如 <code class="t">bracketed-paste</code> 的封装）也可以分配它们。 另请参见 <code class="t">zle -f</code>。
</p>
<p><code class="t">YANK_ACTIVE</code> 是只读的。
</p>
</dd>
<dt><a id="index-ZLE_005fRECURSIVE"></a><span><code class="t">ZLE_RECURSIVE</code> (integer)<a class="copiable-link" href="#index-ZLE_005fRECURSIVE"> &para;</a></span></dt>
<dd><p>通常为零，但在 <code class="t">recursive-edit</code> 的任何实例中都会递增。 因此，它表示当前的递归级别。
</p>
<p><code class="t">ZLE_RECURSIVE</code> 是只读的。
</p>
</dd>
<dt><a id="index-ZLE_005fSTATE"></a><span><code class="t">ZLE_STATE</code> (scalar)<a class="copiable-link" href="#index-ZLE_005fSTATE"> &para;</a></span></dt>
<dd><p>包含描述当前 <code class="t">zle</code> 状态的一组以空格分隔的单词。
</p>
<p>目前，显示的状态是由 <code class="t">overwrite-mode</code> 或 <code class="t">vi-replace</code> 小部件设置的插入模式，以及由
set-local-history 小部件控制的历史命令是否会访问已导入的条目。如果要在命令行中插入的字符会将现有字符移到右边，则字符串包含
&lsquo;<code class="t">insert</code>&rsquo; ；如果要插入的字符会覆盖现有字符，则字符串包含 &lsquo;<code class="t">overwrite</code>&rsquo; 。如果只访问本地历史命令，则字符串中包含
&lsquo;<code class="t">localhistory</code>&rsquo; ；如果也访问导入的历史命令，则字符串中包含 &lsquo;<code class="t">globalhistory</code>&rsquo; 。
</p>
<p>子字符串按字母顺序排序，因此，如果您想以一种面向未来的方式测试两个特定的子字符串，就可以通过下面进行匹配：
</p>
<div class="example">
<pre class="example-preformatted">if [[ $ZLE_STATE == *globalhistory*insert* ]]; then ...; fi
</pre></div>

</dd>
</dl>


<div class="subsection-level-extent" id="Te-Shu-Xiao-Bu-Jian-">
<h4 class="subsection"><span>18.5.1 特殊小部件<a class="copiable-link" href="#Te-Shu-Xiao-Bu-Jian-"> &para;</a></span></h4>

<p>有一些用户定义的小部件是 shell 特有的。 如果它们不存在，则不会采取任何特殊行为。 所提供的环境与其他编辑小部件相同。
</p>
<dl class="table">
<dt><a id="index-zle_002disearch_002dexit"></a><span><code class="t">zle-isearch-exit</code><a class="copiable-link" href="#index-zle_002disearch_002dexit"> &para;</a></span></dt>
<dd><p>在增量搜索结束时，即从显示屏上删除 isearch 提示符时执行。 有关示例，请参阅 <code class="t">zle-isearch-update</code>。
</p>
</dd>
<dt><a id="index-zle_002disearch_002dupdate"></a><span><code class="t">zle-isearch-update</code><a class="copiable-link" href="#index-zle_002disearch_002dupdate"> &para;</a></span></dt>
<dd><p>当显示屏即将重绘时，在增量搜索中执行。 通过在小部件中使用 &lsquo;<code class="t">zle -M</code>&rsquo; ，可以生成增量搜索提示符下方的附加输出。 例如
</p>
<div class="example">
<pre class="example-preformatted">zle-isearch-update() { zle -M &quot;Line $HISTNO&quot;; }
zle -N zle-isearch-update
</pre></div>

<p>请注意，在退出增量搜索时， &lsquo;<code class="t">zle -M</code>&rsquo; 输出的行不会被删除。 这可以通过 <code class="t">zle-isearch-exit</code> 小部件来完成：
</p>
<div class="example">
<pre class="example-preformatted">zle-isearch-exit() { zle -M &quot;&quot;; }
zle -N zle-isearch-exit
</pre></div>

</dd>
<dt><a id="index-zle_002dline_002dpre_002dredraw"></a><span><code class="t">zle-line-pre-redraw</code><a class="copiable-link" href="#index-zle_002dline_002dpre_002dredraw"> &para;</a></span></dt>
<dd><p>每当输入行即将重绘时执行，为更新 region_highlight 数组提供机会。
</p>
</dd>
<dt><a id="index-zle_002dline_002dinit"></a><span><code class="t">zle-line-init</code><a class="copiable-link" href="#index-zle_002dline_002dinit"> &para;</a></span></dt>
<dd><p>每次启动行编辑器读取新的输入行时执行。 下面的示例会在行编辑器启动时使其进入 vi 命令模式。
</p>
<div class="example">
<pre class="example-preformatted">zle-line-init() { zle -K vicmd; }
zle -N zle-line-init
</pre></div>

<p>(函数内部的命令直接设置键映射；相当于 <code class="t">zle vi-cmd-mode</code>）。
</p>
</dd>
<dt><a id="index-zle_002dline_002dfinish"></a><span><code class="t">zle-line-finish</code><a class="copiable-link" href="#index-zle_002dline_002dfinish"> &para;</a></span></dt>
<dd><p>与 <code class="t">zle-line-init</code>类似，但每次行编辑器读完一行输入时都会执行。
</p>
</dd>
<dt><a id="index-zle_002dhistory_002dline_002dset"></a><span><code class="t">zle-history-line-set</code><a class="copiable-link" href="#index-zle_002dhistory_002dline_002dset"> &para;</a></span></dt>
<dd><p>当历史行发生变化时执行。
</p>
</dd>
<dt><a id="index-zle_002dkeymap_002dselect"></a><span><code class="t">zle-keymap-select</code><a class="copiable-link" href="#index-zle_002dkeymap_002dselect"> &para;</a></span></dt>
<dd><p>每当键映射发生变化，即特殊参数 <code class="t">KEYMAP</code> 被设置为不同值时，且行编辑器活动时，都会执行调用。
行编辑器启动时初始化键映射不会导致小部件被调用。
</p>
<p>函数中的 <code class="t">$KEYMAP</code> 值反映了新的键映射。 旧的键映射作为唯一参数传递。
</p>
<p>可用于检测 vi 命令（<code class="t">vicmd</code>）和插入（通常为 <code class="t">main</code>）键映射之间的切换。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_6807_51c6_5c0f_90e8_4ef6">

<h3 class="section" id="Biao-Zhun-Xiao-Bu-Jian-"><span>18.6 标准小部件<a class="copiable-link" href="#Biao-Zhun-Xiao-Bu-Jian-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Xiao-Bu-Jian-_002c-Biao-Zhun-"></a>
<p>下面列出了所有标准小部件，以及它们在 emacs 模式、vi 命令模式和 vi 插入模式下的默认绑定（分别为&lsquo;<code class="t">emacs</code>&rsquo;,
&lsquo;<code class="t">vicmd</code>&rsquo;  和 &lsquo;<code class="t">viins</code>&rsquo; 键映射）。
</p>
<p>请注意，光标键在所有三个键映射中都与移动键绑定；shell 假定光标键发送终端处理库（termcap 或 terminfo）报告的键序。
列表中显示的键序是基于 VT100 的键序，在许多现代终端上都很常见，但实际上这些键序并不一定是绑定的。 在 <code class="t">viins</code>
键映射中，序列的初始转义字符也用于返回 <code class="t">vicmd</code> 键盘映射：这是否会发生由 <code class="t">KEYTIMEOUT</code> 参数决定，参见 <a class="ref" href="#g_t_53c2_6570">参数</a>。
</p><hr>
<div class="subsection-level-extent" id="g_t_79fb_52a8">

<h4 class="subsection" id="Yi-Dong-"><span>18.6.1 移动<a class="copiable-link" href="#Yi-Dong-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-vi_002dbackward_002dblank_002dword"></a><span><code class="t">vi-backward-blank-word</code> (unbound) (<code class="t">B</code>) (unbound)<a class="copiable-link" href="#index-vi_002dbackward_002dblank_002dword"> &para;</a></span></dt>
<dd><p>向后移动一个单词，单词的定义是一系列非空白字符。
</p>
</dd>
<dt><a id="index-vi_002dbackward_002dblank_002dword_002dend"></a><span><code class="t">vi-backward-blank-word-end</code> (unbound) (<code class="t">gE</code>) (unbound)<a class="copiable-link" href="#index-vi_002dbackward_002dblank_002dword_002dend"> &para;</a></span></dt>
<dd><p>移动到上一个单词的末尾，单词的定义是一系列非空白字符。
</p>
</dd>
<dt><a id="index-backward_002dchar"></a><span><code class="t">backward-char</code> (<code class="t">^B ESC-[D</code>) (unbound) (unbound)<a class="copiable-link" href="#index-backward_002dchar"> &para;</a></span></dt>
<dd><p>反向移动一个字符
</p>
</dd>
<dt><a id="index-vi_002dbackward_002dchar"></a><span><code class="t">vi-backward-char</code> (unbound) (<code class="t">^H h ^?</code>) (<code class="t">ESC-[D</code>)<a class="copiable-link" href="#index-vi_002dbackward_002dchar"> &para;</a></span></dt>
<dd><p>反向移动一个字符，不改变行
</p>
</dd>
<dt><a id="index-backward_002dword"></a><span><code class="t">backward-word</code> (<code class="t">ESC-B ESC-b</code>) (unbound) (unbound)<a class="copiable-link" href="#index-backward_002dword"> &para;</a></span></dt>
<dd><p>移动到前一个词的开始。
</p>
</dd>
<dt><a id="index-emacs_002dbackward_002dword"></a><span><code class="t">emacs-backward-word</code><a class="copiable-link" href="#index-emacs_002dbackward_002dword"> &para;</a></span></dt>
<dd><p>移动到前一个词的开始。
</p>
</dd>
<dt><a id="index-vi_002dbackward_002dword"></a><span><code class="t">vi-backward-word</code> (unbound) (<code class="t">b</code>) (unbound)<a class="copiable-link" href="#index-vi_002dbackward_002dword"> &para;</a></span></dt>
<dd><p>移动到前一个词的开始, vi 风格.
</p>
</dd>
<dt><a id="index-vi_002dbackward_002dword_002dend"></a><span><code class="t">vi-backward-word-end</code> (unbound) (<code class="t">ge</code>) (unbound)<a class="copiable-link" href="#index-vi_002dbackward_002dword_002dend"> &para;</a></span></dt>
<dd><p>vi-style 方式，移至前一个单词的末尾。
</p>
</dd>
<dt><a id="index-beginning_002dof_002dline"></a><span><code class="t">beginning-of-line</code> (<code class="t">^A</code>) (unbound) (unbound)<a class="copiable-link" href="#index-beginning_002dof_002dline"> &para;</a></span></dt>
<dd><p>移至行首。 如果已在行首，则移至上一行（如果有）的行首。
</p>
</dd>
<dt><a id="index-vi_002dbeginning_002dof_002dline"></a><span><code class="t">vi-beginning-of-line</code><a class="copiable-link" href="#index-vi_002dbeginning_002dof_002dline"> &para;</a></span></dt>
<dd><p>移动到行首，但不换行。
</p>
</dd>
<dt><a id="index-down_002dline"></a><span><code class="t">down-line</code> (unbound) (unbound) (unbound)<a class="copiable-link" href="#index-down_002dline"> &para;</a></span></dt>
<dd><p>在缓冲区中向下移动一行。
</p>
</dd>
<dt><a id="index-end_002dof_002dline"></a><span><code class="t">end-of-line</code> (<code class="t">^E</code>) (unbound) (unbound)<a class="copiable-link" href="#index-end_002dof_002dline"> &para;</a></span></dt>
<dd><p>移至行尾。 如果已在行尾，则移至下一行（如果有）的行尾。
</p>
</dd>
<dt><a id="index-vi_002dend_002dof_002dline"></a><span><code class="t">vi-end-of-line</code> (unbound) (<code class="t">$</code>) (unbound)<a class="copiable-link" href="#index-vi_002dend_002dof_002dline"> &para;</a></span></dt>
<dd><p>移至行尾。 如果该命令有一个参数，光标将被移到该行的末尾（参数 - 1）行。
</p>
</dd>
<dt><a id="index-vi_002dforward_002dblank_002dword"></a><span><code class="t">vi-forward-blank-word</code> (unbound) (<code class="t">W</code>) (unbound)<a class="copiable-link" href="#index-vi_002dforward_002dblank_002dword"> &para;</a></span></dt>
<dd><p>前进一个单词，单词的定义是一系列非空白字符。
</p>
</dd>
<dt><a id="index-vi_002dforward_002dblank_002dword_002dend"></a><span><code class="t">vi-forward-blank-word-end</code> (unbound) (<code class="t">E</code>) (unbound)<a class="copiable-link" href="#index-vi_002dforward_002dblank_002dword_002dend"> &para;</a></span></dt>
<dd><p>移动到当前单词的末尾，如果在当前单词的末尾，则移动到下一个单词的末尾，这里单词定义为一系列非空白字符。
</p>
</dd>
<dt><a id="index-forward_002dchar"></a><span><code class="t">forward-char</code> (<code class="t">^F ESC-[C</code>) (unbound) (unbound)<a class="copiable-link" href="#index-forward_002dchar"> &para;</a></span></dt>
<dd><p>向前移动一个字符
</p>
</dd>
<dt><a id="index-vi_002dforward_002dchar"></a><span><code class="t">vi-forward-char</code> (unbound) (<code class="t">space l</code>) (<code class="t">ESC-[C</code>)<a class="copiable-link" href="#index-vi_002dforward_002dchar"> &para;</a></span></dt>
<dd><p>向前移动一个字符
</p>
</dd>
<dt><a id="index-vi_002dfind_002dnext_002dchar"></a><span><code class="t">vi-find-next-char</code> (<code class="t">^X^F</code>) (<code class="t">f</code>) (unbound)<a class="copiable-link" href="#index-vi_002dfind_002dnext_002dchar"> &para;</a></span></dt>
<dd><p>从键盘上读取一个字符，并移动到该行中出现该字符的下一个位置。
</p>
</dd>
<dt><a id="index-vi_002dfind_002dnext_002dchar_002dskip"></a><span><code class="t">vi-find-next-char-skip</code> (unbound) (<code class="t">t</code>) (unbound)<a class="copiable-link" href="#index-vi_002dfind_002dnext_002dchar_002dskip"> &para;</a></span></dt>
<dd><p>从键盘上读取一个字符，并移动到该行中下一个该字符出现之前的位置。
</p>
</dd>
<dt><a id="index-vi_002dfind_002dprev_002dchar"></a><span><code class="t">vi-find-prev-char</code> (unbound) (<code class="t">F</code>) (unbound)<a class="copiable-link" href="#index-vi_002dfind_002dprev_002dchar"> &para;</a></span></dt>
<dd><p>从键盘上读取一个字符，并移动到该行中出现该字符的前一个位置。
</p>
</dd>
<dt><a id="index-vi_002dfind_002dprev_002dchar_002dskip"></a><span><code class="t">vi-find-prev-char-skip</code> (unbound) (<code class="t">T</code>) (unbound)<a class="copiable-link" href="#index-vi_002dfind_002dprev_002dchar_002dskip"> &para;</a></span></dt>
<dd><p>从键盘上读取一个字符，并移动到该行中前一个该字符之后的位置。
</p>
</dd>
<dt><a id="index-vi_002dfirst_002dnon_002dblank"></a><span><code class="t">vi-first-non-blank</code> (unbound) (<code class="t">^</code>) (unbound)<a class="copiable-link" href="#index-vi_002dfirst_002dnon_002dblank"> &para;</a></span></dt>
<dd><p>移动到该行第一个非空白字符。
</p>
</dd>
<dt><a id="index-vi_002dforward_002dword"></a><span><code class="t">vi-forward-word</code> (unbound) (<code class="t">w</code>) (unbound)<a class="copiable-link" href="#index-vi_002dforward_002dword"> &para;</a></span></dt>
<dd><p>前进一个字，vi-style。
</p>
</dd>
<dt><a id="index-forward_002dword"></a><span><code class="t">forward-word</code> (<code class="t">ESC-F ESC-f</code>) (unbound) (unbound)<a class="copiable-link" href="#index-forward_002dword"> &para;</a></span></dt>
<dd><p>移动到下一个单词的开头。 编辑器对单词的概念由 <code class="t">WORDCHARS</code> 参数指定。
</p>
</dd>
<dt><a id="index-emacs_002dforward_002dword"></a><span><code class="t">emacs-forward-word</code><a class="copiable-link" href="#index-emacs_002dforward_002dword"> &para;</a></span></dt>
<dd><p>移动到下一个单词的末尾。
</p>
</dd>
<dt><a id="index-vi_002dforward_002dword_002dend"></a><span><code class="t">vi-forward-word-end</code> (unbound) (<code class="t">e</code>) (unbound)<a class="copiable-link" href="#index-vi_002dforward_002dword_002dend"> &para;</a></span></dt>
<dd><p>移动到下一个单词的末尾。
</p>
</dd>
<dt><a id="index-vi_002dgoto_002dcolumn"></a><span><code class="t">vi-goto-column</code> (<code class="t">ESC-|</code>) (<code class="t">|</code>) (unbound)<a class="copiable-link" href="#index-vi_002dgoto_002dcolumn"> &para;</a></span></dt>
<dd><p>移动到数字参数指定的列。
</p>
</dd>
<dt><a id="index-vi_002dgoto_002dmark"></a><span><code class="t">vi-goto-mark</code> (unbound) (<code class="t">`</code>) (unbound)<a class="copiable-link" href="#index-vi_002dgoto_002dmark"> &para;</a></span></dt>
<dd><p>移动到指定标记。
</p>
</dd>
<dt><a id="index-vi_002dgoto_002dmark_002dline"></a><span><code class="t">vi-goto-mark-line</code> (unbound) (<code class="t">'</code>) (unbound)<a class="copiable-link" href="#index-vi_002dgoto_002dmark_002dline"> &para;</a></span></dt>
<dd><p>移动到包含指定标记的行的起始位置。
</p>
</dd>
<dt><a id="index-vi_002drepeat_002dfind"></a><span><code class="t">vi-repeat-find</code> (unbound) (<code class="t">;</code>) (unbound)<a class="copiable-link" href="#index-vi_002drepeat_002dfind"> &para;</a></span></dt>
<dd><p>重复最后一条 <code class="t">vi-find</code> 命令。
</p>
</dd>
<dt><a id="index-vi_002drev_002drepeat_002dfind"></a><span><code class="t">vi-rev-repeat-find</code> (unbound) (<code class="t">,</code>) (unbound)<a class="copiable-link" href="#index-vi_002drev_002drepeat_002dfind"> &para;</a></span></dt>
<dd><p>朝相反方向重复上一条 <code class="t">vi-find</code> 命令。
</p>
</dd>
<dt><a id="index-up_002dline"></a><span><code class="t">up-line</code> (unbound) (unbound) (unbound)<a class="copiable-link" href="#index-up_002dline"> &para;</a></span></dt>
<dd><p>在缓冲区中向上移动一行。
</p>
</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_5386_53f2_63a7_5236">

<h4 class="subsection" id="Li-Shi-Kong-Zhi-"><span>18.6.2 历史控制<a class="copiable-link" href="#Li-Shi-Kong-Zhi-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-beginning_002dof_002dbuffer_002dor_002dhistory"></a><span><code class="t">beginning-of-buffer-or-history</code> (<code class="t">ESC-&lt;</code>) (<code class="t">gg</code>) (unbound)<a class="copiable-link" href="#index-beginning_002dof_002dbuffer_002dor_002dhistory"> &para;</a></span></dt>
<dd><p>移动到缓冲区的起始位置，如果已经在那个位置，则移动到历史列表中的第一个事件。
</p>
</dd>
<dt><a id="index-beginning_002dof_002dline_002dhist"></a><span><code class="t">beginning-of-line-hist</code><a class="copiable-link" href="#index-beginning_002dof_002dline_002dhist"> &para;</a></span></dt>
<dd><p>移至该行开头。 如果已在缓冲区的开头，则移至上一历史行。
</p>
</dd>
<dt><a id="index-beginning_002dof_002dhistory"></a><span><code class="t">beginning-of-history</code><a class="copiable-link" href="#index-beginning_002dof_002dhistory"> &para;</a></span></dt>
<dd><p>移动到历史列表中的第一个事件。
</p>
</dd>
<dt><a id="index-down_002dline_002dor_002dhistory"></a><span><code class="t">down-line-or-history</code> (<code class="t">^N ESC-[B</code>) (<code class="t">j</code>) (<code class="t">ESC-[B</code>)<a class="copiable-link" href="#index-down_002dline_002dor_002dhistory"> &para;</a></span></dt>
<dd><p>在缓冲区中向下移动一行，如果已在底行，则移动到历史列表中的下一个事件。
</p>
</dd>
<dt><a id="index-vi_002ddown_002dline_002dor_002dhistory"></a><span><code class="t">vi-down-line-or-history</code> (unbound) (<code class="t">+</code>) (unbound)<a class="copiable-link" href="#index-vi_002ddown_002dline_002dor_002dhistory"> &para;</a></span></dt>
<dd><p>在缓冲区中向下移动一行，如果已在底行，则移动到历史列表中的下一个事件。 然后移动到该行第一个非空白字符处。
</p>
</dd>
<dt><a id="index-down_002dline_002dor_002dsearch"></a><span><code class="t">down-line-or-search</code><a class="copiable-link" href="#index-down_002dline_002dor_002dsearch"> &para;</a></span></dt>
<dd><p>在缓冲区中向下移动一行，如果已在最下面一行，则在历史记录中向前搜索以缓冲区中第一个单词开始的一行。
</p>
<p>如果使用带有参数的 <code class="t">zle</code> 命令从函数中调用，第一个参数将作为要搜索的字符串，而不是缓冲区中的第一个单词。
</p>
</dd>
<dt><a id="index-down_002dhistory"></a><span><code class="t">down-history</code> (unbound) (<code class="t">^N</code>) (unbound)<a class="copiable-link" href="#index-down_002dhistory"> &para;</a></span></dt>
<dd><p>移动到历史列表中的下一个事件。
</p>
</dd>
<dt><a id="index-history_002dbeginning_002dsearch_002dbackward"></a><span><code class="t">history-beginning-search-backward</code><a class="copiable-link" href="#index-history_002dbeginning_002dsearch_002dbackward"> &para;</a></span></dt>
<dd><p>在历史记录中向后搜索从当前行开始到光标处的一行。 这样光标就会停留在原来的位置。
</p>
</dd>
<dt><a id="index-end_002dof_002dbuffer_002dor_002dhistory"></a><span><code class="t">end-of-buffer-or-history</code> (<code class="t">ESC-&gt;</code>) (unbound) (unbound)<a class="copiable-link" href="#index-end_002dof_002dbuffer_002dor_002dhistory"> &para;</a></span></dt>
<dd><p>移动到缓冲区的末尾，或者如果已经移动到末尾，则移动到历史列表中的最后一个事件。
</p>
</dd>
<dt><a id="index-end_002dof_002dline_002dhist"></a><span><code class="t">end-of-line-hist</code><a class="copiable-link" href="#index-end_002dof_002dline_002dhist"> &para;</a></span></dt>
<dd><p>移至行尾。 如果已到缓冲区末尾，则移至下一个历史行。
</p>
</dd>
<dt><a id="index-end_002dof_002dhistory"></a><span><code class="t">end-of-history</code><a class="copiable-link" href="#index-end_002dof_002dhistory"> &para;</a></span></dt>
<dd><p>移动到历史列表中的最后一个事件。
</p>
</dd>
<dt><a id="index-vi_002dfetch_002dhistory"></a><span><code class="t">vi-fetch-history</code> (unbound) (<code class="t">G</code>) (unbound)<a class="copiable-link" href="#index-vi_002dfetch_002dhistory"> &para;</a></span></dt>
<dd><p>获取数字参数指定的历史行。 默认为当前历史行（即尚未成为历史的一行）。
</p>
</dd>
<dt><a id="index-history_002dincremental_002dsearch_002dbackward"></a><span><code class="t">history-incremental-search-backward</code> (<code class="t">^R ^Xr</code>) (unbound) (unbound)<a class="copiable-link" href="#index-history_002dincremental_002dsearch_002dbackward"> &para;</a></span></dt>
<dd><p>向后递增搜索指定字符串。 如果搜索字符串中没有大写字母，也没有给出数字参数，则搜索不区分大小写。 字符串可以以 &lsquo;<code class="t">^</code>&rsquo;
开头，以便将搜索锚定在行首。 从用户自定义函数调用时，将返回以下状态： 0，如果搜索成功；1，如果搜索失败；2，如果搜索项是错误的模式；3，如果搜索被
<code class="t">send-break</code> 命令中止。
</p>
<p>在迷你缓冲区中可以使用一组受限的编辑功能。 键将在特殊的 <code class="t">isearch</code> 键映射中查找，如果找不到，则在主键映射中查找（注意
<code class="t">isearch</code> 键映射默认为空）。 由 stty 设置定义的中断信号将停止搜索并返回原始行。 未定义的按键也会产生同样的效果。
请注意，以下功能在增量搜索中始终执行相同的任务，不能由用户定义的小部件代替，也不能扩展函数集。 支持的函数有
</p>
<dl class="table">
<dt><code class="t">accept-and-hold</code></dt>
<dt><code class="t">accept-and-infer-next-history</code></dt>
<dt><code class="t">accept-line</code></dt>
<dt><code class="t">accept-line-and-down-history</code></dt>
<dd><p>退出增量搜索后执行常规函数。 显示的命令行将被执行。
</p>
</dd>
<dt><code class="t">backward-delete-char</code></dt>
<dt><code class="t">vi-backward-delete-char</code></dt>
<dd><p>备份搜索历史中的一个位置。 如果重复搜索，则不会立即删除迷你缓冲区中的字符。
</p>
</dd>
<dt><code class="t">accept-search</code></dt>
<dd><p>退出增量搜索，保留命令行但不再执行其他操作。 请注意，该功能默认情况下未绑定，在增量搜索之外没有任何作用。
</p>
</dd>
<dt><code class="t">backward-delete-word</code></dt>
<dt><code class="t">backward-kill-word</code></dt>
<dt><code class="t">vi-backward-kill-word</code></dt>
<dd><p>备份 minibuffer 中的一个字符；如果在插入该字符后进行了多次搜索，则搜索历史将倒退到输入该字符之前的位置。 因此，这具有重复
<code class="t">backward-delete-char</code> 的效果。
</p>
</dd>
<dt><code class="t">clear-screen</code></dt>
<dd><p>清空屏幕，保持增量搜索模式。
</p>
</dd>
<dt><code class="t">history-incremental-search-backward</code></dt>
<dd><p>查找迷你缓冲区内容的下一次出现。如果迷你缓冲区为空，则恢复最近一次使用的搜索字符串。
</p>
</dd>
<dt><code class="t">history-incremental-search-forward</code></dt>
<dd><p>颠倒搜索的意义。
</p>
</dd>
<dt><code class="t">magic-space</code></dt>
<dd><p>插入一个非魔法空格。
</p>
</dd>
<dt><code class="t">quoted-insert</code></dt>
<dt><code class="t">vi-quoted-insert</code></dt>
<dd><p>为要插入 minibuffer 的字符加引号。
</p>
</dd>
<dt><code class="t">redisplay</code></dt>
<dd><p>重新显示命令行，保持增量搜索模式。
</p>
</dd>
<dt><code class="t">vi-cmd-mode</code></dt>
<dd><p>选择 &lsquo;<code class="t">vicmd</code>&rsquo; 键映射；初始时将选择 &lsquo;<code class="t">main</code>&rsquo; 键映射（插入模式）。
</p>
<p>此外，在 vi 插入模式下所做的修改会合并成一个撤销事件。
</p>
</dd>
<dt><code class="t">vi-repeat-search</code></dt>
<dt><code class="t">vi-rev-repeat-search</code></dt>
<dd><p>重复搜索。 迷你缓冲区会显示搜索方向。
</p>
</dd>
</dl>

<p>任何未与上述函数、<code class="t">self-insert</code> 或 <code class="t">self-insert-unmeta</code>绑定的字符都会导致模式退出。
然后，该字符将在当时有效的键映射中查找并执行。
</p>
<p>当用 <code class="t">zle</code> 命令从小部件函数调用时，增量搜索命令可以接受一个字符串参数。 与 <code class="t">bindkey</code>
命令的参数一样，字符串将被视为键的字符串，并用作命令的初始输入。 字符串中任何未被增量搜索使用的字符都将被忽略。 例如
</p>
<div class="example">
<pre class="example-preformatted">zle history-incremental-search-backward forceps
</pre></div>

<p>将向后搜索 <code class="t">forceps</code>，留下包含 &lsquo;<code class="t">forceps</code>&rsquo; 字符串的迷你缓冲。
</p>
</dd>
<dt><a id="index-history_002dincremental_002dsearch_002dforward"></a><span><code class="t">history-incremental-search-forward</code> (<code class="t">^S ^Xs</code>) (unbound) (unbound)<a class="copiable-link" href="#index-history_002dincremental_002dsearch_002dforward"> &para;</a></span></dt>
<dd><p>向前递增搜索指定字符串。 如果搜索字符串中没有大写字母，也没有给出数字参数，则搜索不区分大小写。 字符串可以以 &lsquo;<code class="t">^</code>&rsquo;
开头，以便将搜索锚定在行首。 迷你缓冲区中可用的函数与 <code class="t">history-incremental-search-backward</code> 相同。
</p>
</dd>
<dt><a class="index-entry-id" id="index-history_002dincremental_002dpattern_002dsearch_002dforward"></a>
<a id="index-history_002dincremental_002dpattern_002dsearch_002dbackward"></a><span><code class="t">history-incremental-pattern-search-backward</code><a class="copiable-link" href="#index-history_002dincremental_002dpattern_002dsearch_002dbackward"> &para;</a></span></dt>
<dt><code class="t">history-incremental-pattern-search-forward</code></dt>
<dd><p>这些小部件的行为与不带 <code class="t">-pattern</code> 的相应小部件类似，但用户输入的搜索字符串会被视为一种模式，并尊重影响模式匹配的各种选项的当前设置。
有关模式的描述，请参阅 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a>。 如果没有给出数字参数，搜索字符串中的小写字母可能与历史记录中的大写字母匹配。 字符串可以以
&lsquo;<code class="t">^</code>&rsquo; 开头，以便将搜索锚定在行首。
</p>
<p>提示符改变以指示无效模式；这可能只是表示模式尚未完成。
</p>
<p>请注意，只报告不重叠的匹配结果，因此带有通配符的表达式在一行中返回的匹配结果可能少于通过检查可以看到的结果。
</p>
</dd>
<dt><a id="index-history_002dsearch_002dbackward"></a><span><code class="t">history-search-backward</code> (<code class="t">ESC-P ESC-p</code>) (unbound) (unbound)<a class="copiable-link" href="#index-history_002dsearch_002dbackward"> &para;</a></span></dt>
<dd><p>在历史记录中向后搜索以缓冲区中第一个单词开头的行。
</p>
<p>如果使用带有参数的 <code class="t">zle</code> 命令从函数中调用，第一个参数将作为要搜索的字符串，而不是缓冲区中的第一个单词。
</p>
</dd>
<dt><a id="index-vi_002dhistory_002dsearch_002dbackward"></a><span><code class="t">vi-history-search-backward</code> (unbound) (<code class="t">/</code>) (unbound)<a class="copiable-link" href="#index-vi_002dhistory_002dsearch_002dbackward"> &para;</a></span></dt>
<dd><p>在历史记录中向后搜索指定字符串。 字符串可以以 &lsquo;<code class="t">^</code>&rsquo; 开头，以便搜索锚定到该行的开头。
</p>
<p>在迷你缓冲区中可以使用一套受限的编辑功能。 由 stty 设置定义的中断信号将停止搜索。 迷你缓冲区中可用的函数有 <code class="t">accept-line</code>,
<code class="t">backward-delete-char</code>, <code class="t">vi-backward-delete-char</code>,
<code class="t">backward-kill-word</code>, <code class="t">vi-backward-kill-word</code>, <code class="t">clear-screen</code>,
<code class="t">redisplay</code>, <code class="t">quoted-insert</code> 和 <code class="t">vi-quoted-insert</code>。
</p>
<p><code class="t">vi-cmd-mode</code> 的处理方式与 accept-line 相同，而 <code class="t">magic-space</code> 则被视为空格。 任何其他未绑定到
self-insert 或 self-insert-unmeta 的字符都会发出哔哔声并被忽略。如果在 vi
命令模式下调用该函数，将使用当前插入模式的绑定。
</p>
<p>如果使用带有参数的 <code class="t">zle</code> 命令从函数中调用，第一个参数将作为要搜索的字符串，而不是缓冲区中的第一个单词。
</p>
</dd>
<dt><a id="index-history_002dsearch_002dforward"></a><span><code class="t">history-search-forward</code> (<code class="t">ESC-N ESC-n</code>) (unbound) (unbound)<a class="copiable-link" href="#index-history_002dsearch_002dforward"> &para;</a></span></dt>
<dd><p>在历史记录中向前搜索以缓冲区中第一个单词开头的行。
</p>
<p>如果使用带有参数的 <code class="t">zle</code> 命令从函数中调用，第一个参数将作为要搜索的字符串，而不是缓冲区中的第一个单词。
</p>
</dd>
<dt><a id="index-vi_002dhistory_002dsearch_002dforward"></a><span><code class="t">vi-history-search-forward</code> (unbound) (<code class="t">?</code>) (unbound)<a class="copiable-link" href="#index-vi_002dhistory_002dsearch_002dforward"> &para;</a></span></dt>
<dd><p>在历史记录中向前搜索指定字符串。 字符串可以以 &lsquo;<code class="t">^</code>&rsquo; 开头，以便将搜索锚定到行的开头。迷你缓冲区中可用的函数与
<code class="t">vi-history-search-backward</code> 相同。 参数处理也与该命令相同。
</p>
</dd>
<dt><a id="index-infer_002dnext_002dhistory"></a><span><code class="t">infer-next-history</code> (<code class="t">^X^N</code>) (unbound) (unbound)<a class="copiable-link" href="#index-infer_002dnext_002dhistory"> &para;</a></span></dt>
<dd><p>在历史记录列表中搜索与当前行匹配的行，并获取其后的事件。
</p>
</dd>
<dt><a id="index-insert_002dlast_002dword"></a><span><code class="t">insert-last-word</code> (<code class="t">ESC-_ ESC-.</code>) (unbound) (unbound)<a class="copiable-link" href="#index-insert_002dlast_002dword"> &para;</a></span></dt>
<dd><p>在光标位置插入上一个历史事件的最后一个单词。 如果参数为正数，则从上一个历史事件的末尾插入该字。
如果参数为零或负数，则从左侧插入该字（零插入前一个命令字）。 重复该命令后，刚才插入的单词将替换为历史事件中在刚才使用的单词之前的最后一个单词；
数字参数也可以同样的方式从历史事件中选取一个单词。
</p>
<p>从用户定义的小部件调用 shell 函数时，命令可以包含一到三个参数。
第一个参数指定历史偏移量，该偏移量适用于对该小部件的连续调用：如果为-1，则使用默认行为；如果为1，则连续调用将在历史中向前移动。 如果数值为
0，则表示将重新检查上一次执行命令时检查过的历史行。 需要注意的是，负数前面应加上 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 参数，以免与选项混淆。
</p>
<p>如果给定两个参数，第二个参数将以普通数组索引符号指定命令行上的字词（作为数字参数更自然的替代）。 因此，1 是第一个字，-1（默认值）是最后一个字。
</p>
<p>如果给出第三个参数，其值将被忽略，但它用于表示历史偏移量是相对于当前历史行的，而不是之前调用 <code class="t">insert-last-word</code> 后记住的历史行。
</p>
<p>例如，该命令的默认行为相当于
</p>
<div class="example">
<pre class="example-preformatted">zle insert-last-word -- -1 -1
</pre></div>

<p>而命令
</p>
<div class="example">
<pre class="example-preformatted">zle insert-last-word -- -1 1 -
</pre></div>

<p>总是复制紧接着被编辑行之前的历史行的第一个单词。 这样做的副作用是，以后调用小部件时将相对于该行。
</p>
</dd>
<dt><a id="index-vi_002drepeat_002dsearch"></a><span><code class="t">vi-repeat-search</code> (unbound) (<code class="t">n</code>) (unbound)<a class="copiable-link" href="#index-vi_002drepeat_002dsearch"> &para;</a></span></dt>
<dd><p>重复上次的 vi 历史记录搜索。
</p>
</dd>
<dt><a id="index-vi_002drev_002drepeat_002dsearch"></a><span><code class="t">vi-rev-repeat-search</code> (unbound) (<code class="t">N</code>) (unbound)<a class="copiable-link" href="#index-vi_002drev_002drepeat_002dsearch"> &para;</a></span></dt>
<dd><p>重复上次的 vi 历史记录搜索，但以相反的方向进行。
</p>
</dd>
<dt><a id="index-up_002dline_002dor_002dhistory"></a><span><code class="t">up-line-or-history</code> (<code class="t">^P ESC-[A</code>) (<code class="t">k</code>) (<code class="t">ESC-[A</code>)<a class="copiable-link" href="#index-up_002dline_002dor_002dhistory"> &para;</a></span></dt>
<dd><p>在缓冲区中向上移动一行，或者如果已经在最上面一行，则移动到历史列表中的上一个事件。
</p>
</dd>
<dt><a id="index-vi_002dup_002dline_002dor_002dhistory"></a><span><code class="t">vi-up-line-or-history</code> (unbound) (<code class="t">-</code>) (unbound)<a class="copiable-link" href="#index-vi_002dup_002dline_002dor_002dhistory"> &para;</a></span></dt>
<dd><p>在缓冲区中向上移动一行，如果已在顶行，则移动到历史列表中的上一个事件。 然后移动到该行第一个非空白字符处。
</p>
</dd>
<dt><a id="index-up_002dline_002dor_002dsearch"></a><span><code class="t">up-line-or-search</code><a class="copiable-link" href="#index-up_002dline_002dor_002dsearch"> &para;</a></span></dt>
<dd><p>在缓冲区中向上移动一行，如果已在顶行，则在历史记录中向后搜索以缓冲区中第一个单词开始的一行。
</p>
<p>如果使用带有参数的 <code class="t">zle</code> 命令从函数中调用，第一个参数将作为要搜索的字符串，而不是缓冲区中的第一个单词。
</p>
</dd>
<dt><a id="index-up_002dhistory"></a><span><code class="t">up-history</code> (unbound) (<code class="t">^P</code>) (unbound)<a class="copiable-link" href="#index-up_002dhistory"> &para;</a></span></dt>
<dd><p>移动到历史列表中的上一个事件。
</p>
</dd>
<dt><a id="index-history_002dbeginning_002dsearch_002dforward"></a><span><code class="t">history-beginning-search-forward</code><a class="copiable-link" href="#index-history_002dbeginning_002dsearch_002dforward"> &para;</a></span></dt>
<dd><p>在历史记录中向前搜索从当前行开始到光标处的一行。 光标就会停留在原来的位置。
</p>
</dd>
<dt><a id="index-set_002dlocal_002dhistory"></a><span><code class="t">set-local-history</code><a class="copiable-link" href="#index-set_002dlocal_002dhistory"> &para;</a></span></dt>
<dd><p>默认情况下，历史记录移动命令会同时访问导入的行和本地行。这个小部件可以让你切换开关，或者用数字参数设置。如果为零，则本地行和导入行都访问；如果不为零，则只访问本地行。
</p>
</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_4fee_6539_6587_672c">

<h4 class="subsection" id="Xiu-Gai-WenBen-"><span>18.6.3 修改文本<a class="copiable-link" href="#Xiu-Gai-WenBen-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-vi_002dadd_002deol"></a><span><code class="t">vi-add-eol</code> (unbound) (<code class="t">A</code>) (unbound)<a class="copiable-link" href="#index-vi_002dadd_002deol"> &para;</a></span></dt>
<dd><p>移至行尾，进入插入模式。
</p>
</dd>
<dt><a id="index-vi_002dadd_002dnext"></a><span><code class="t">vi-add-next</code> (unbound) (<code class="t">a</code>) (unbound)<a class="copiable-link" href="#index-vi_002dadd_002dnext"> &para;</a></span></dt>
<dd><p>在当前光标位置后进入插入模式，不换行。
</p>
</dd>
<dt><a id="index-backward_002ddelete_002dchar"></a><span><code class="t">backward-delete-char</code> (<code class="t">^H ^?</code>) (unbound) (unbound)<a class="copiable-link" href="#index-backward_002ddelete_002dchar"> &para;</a></span></dt>
<dd><p>删除光标后面的字符。
</p>
</dd>
<dt><a id="index-vi_002dbackward_002ddelete_002dchar"></a><span><code class="t">vi-backward-delete-char</code> (unbound) (<code class="t">X</code>) (<code class="t">^H</code>)<a class="copiable-link" href="#index-vi_002dbackward_002ddelete_002dchar"> &para;</a></span></dt>
<dd><p>删除光标后面的字符，不换行。 如果在插入模式下，则不会删除上次进入插入模式的位置。
</p>
</dd>
<dt><a id="index-backward_002ddelete_002dword"></a><span><code class="t">backward-delete-word</code><a class="copiable-link" href="#index-backward_002ddelete_002dword"> &para;</a></span></dt>
<dd><p>删除光标后面的单词。
</p>
</dd>
<dt><a id="index-backward_002dkill_002dline"></a><span><code class="t">backward-kill-line</code><a class="copiable-link" href="#index-backward_002dkill_002dline"> &para;</a></span></dt>
<dd><p>从行首删除到光标位置。
</p>
</dd>
<dt><a id="index-backward_002dkill_002dword"></a><span><code class="t">backward-kill-word</code> (<code class="t">^W ESC-^H ESC-^?</code>) (unbound) (unbound)<a class="copiable-link" href="#index-backward_002dkill_002dword"> &para;</a></span></dt>
<dd><p>删除光标后面的字。
</p>
</dd>
<dt><a id="index-vi_002dbackward_002dkill_002dword"></a><span><code class="t">vi-backward-kill-word</code> (unbound) (unbound) (<code class="t">^W</code>)<a class="copiable-link" href="#index-vi_002dbackward_002dkill_002dword"> &para;</a></span></dt>
<dd><p>删除光标后面的字，但不越过上次进入插入模式的位置。
</p>
</dd>
<dt><a id="index-capitalize_002dword"></a><span><code class="t">capitalize-word</code> (<code class="t">ESC-C ESC-c</code>) (unbound) (unbound)<a class="copiable-link" href="#index-capitalize_002dword"> &para;</a></span></dt>
<dd><p>将当前单词大写，然后移过去。
</p>
</dd>
<dt><a id="index-vi_002dchange"></a><span><code class="t">vi-change</code> (unbound) (<code class="t">c</code>) (unbound)<a class="copiable-link" href="#index-vi_002dchange"> &para;</a></span></dt>
<dd><p>从键盘读取移动命令，从光标位置删除到移动终点。 然后进入插入模式。 如果命令是 <code class="t">vi-change</code>，则更改当前行。
</p>
<p>为了与 vi 兼容，如果命令为 <code class="t">vi-forward-word</code> 或
<code class="t">vi-forward-blank-word</code>，则单词后的空白不包括在内。如果您更喜欢包含空白的一致行为，请使用以下按键绑定：
</p>
<div class="example">
<pre class="example-preformatted">bindkey -a -s cw dwi
</pre></div>

</dd>
<dt><a id="index-vi_002dchange_002deol"></a><span><code class="t">vi-change-eol</code> (unbound) (<code class="t">C</code>) (unbound)<a class="copiable-link" href="#index-vi_002dchange_002deol"> &para;</a></span></dt>
<dd><p>删除到行尾，进入插入模式。
</p>
</dd>
<dt><a id="index-vi_002dchange_002dwhole_002dline"></a><span><code class="t">vi-change-whole-line</code> (unbound) (<code class="t">S</code>) (unbound)<a class="copiable-link" href="#index-vi_002dchange_002dwhole_002dline"> &para;</a></span></dt>
<dd><p>删除当前行，进入插入模式。
</p>
</dd>
<dt><a id="index-copy_002dregion_002das_002dkill"></a><span><code class="t">copy-region-as-kill</code> (<code class="t">ESC-W ESC-w</code>) (unbound) (unbound)<a class="copiable-link" href="#index-copy_002dregion_002das_002dkill"> &para;</a></span></dt>
<dd><p>将从光标到标记的区域复制到删除缓冲区。
</p>
<p>如果从 ZLE 小部件函数中以 &lsquo;<code class="t">zle copy-region-as-kill</code> <var class="var">string</var>&rsquo; 的形式调用，则
<var class="var">string</var> 将作为文本复制到删除缓冲区。 在这种情况下，光标、标记和命令行上的文本将不会被使用。
</p>
</dd>
<dt><a id="index-copy_002dprev_002dword"></a><span><code class="t">copy-prev-word</code> (<code class="t">ESC-^_</code>) (unbound) (unbound)<a class="copiable-link" href="#index-copy_002dprev_002dword"> &para;</a></span></dt>
<dd><p>复制光标左侧的单词。
</p>
</dd>
<dt><a id="index-copy_002dprev_002dshell_002dword"></a><span><code class="t">copy-prev-shell-word</code><a class="copiable-link" href="#index-copy_002dprev_002dshell_002dword"> &para;</a></span></dt>
<dd><p>与 <code class="t">copy-prev-word</code>类似，但单词是通过 shell 解析找到的，而 <code class="t">copy-prev-word</code>
则是查找空格。当单词带引号并包含空格时，这一点就会有所不同。
</p>
</dd>
<dt><a id="index-vi_002ddelete"></a><span><code class="t">vi-delete</code> (unbound) (<code class="t">d</code>) (unbound)<a class="copiable-link" href="#index-vi_002ddelete"> &para;</a></span></dt>
<dd><p>从键盘读取移动命令，并从光标位置到移动终点进行删除。 如果命令是 <code class="t">vi-delete</code>，则删除当前行。
</p>
</dd>
<dt><a id="index-delete_002dchar"></a><span><code class="t">delete-char</code><a class="copiable-link" href="#index-delete_002dchar"> &para;</a></span></dt>
<dd><p>删除光标下的字符。
</p>
</dd>
<dt><a id="index-vi_002ddelete_002dchar"></a><span><code class="t">vi-delete-char</code> (unbound) (<code class="t">x</code>) (unbound)<a class="copiable-link" href="#index-vi_002ddelete_002dchar"> &para;</a></span></dt>
<dd><p>删除光标下的字符，但不越过行尾。
</p>
</dd>
<dt><a id="index-delete_002dword"></a><span><code class="t">delete-word</code><a class="copiable-link" href="#index-delete_002dword"> &para;</a></span></dt>
<dd><p>删除当前单词。
</p>
</dd>
<dt><a id="index-down_002dcase_002dword"></a><span><code class="t">down-case-word</code> (<code class="t">ESC-L ESC-l</code>) (unbound) (unbound)<a class="copiable-link" href="#index-down_002dcase_002dword"> &para;</a></span></dt>
<dd><p>将当前单词转换为全小写，然后移动过去。
</p>
</dd>
<dt><a id="index-vi_002ddown_002dcase"></a><span><code class="t">vi-down-case</code> (unbound) (<code class="t">gu</code>) (unbound)<a class="copiable-link" href="#index-vi_002ddown_002dcase"> &para;</a></span></dt>
<dd><p>从键盘读取移动命令，并将从光标位置到移动终点的所有字符转换为小写。 如果移动命令是 <code class="t">vi-down-case</code>，则交换当前行中所有字符的大小写。
</p>
</dd>
<dt><a id="index-kill_002dword"></a><span><code class="t">kill-word</code> (<code class="t">ESC-D ESC-d</code>) (unbound) (unbound)<a class="copiable-link" href="#index-kill_002dword"> &para;</a></span></dt>
<dd><p>删除当前单词。
</p>
</dd>
<dt><a id="index-gosmacs_002dtranspose_002dchars"></a><span><code class="t">gosmacs-transpose-chars</code><a class="copiable-link" href="#index-gosmacs_002dtranspose_002dchars"> &para;</a></span></dt>
<dd><p>交换光标后面的两个字符。
</p>
</dd>
<dt><a id="index-vi_002dindent"></a><span><code class="t">vi-indent</code> (unbound) (<code class="t">&gt;</code>) (unbound)<a class="copiable-link" href="#index-vi_002dindent"> &para;</a></span></dt>
<dd><p>缩进若干行。
</p>
</dd>
<dt><a id="index-vi_002dinsert"></a><span><code class="t">vi-insert</code> (unbound) (<code class="t">i</code>) (unbound)<a class="copiable-link" href="#index-vi_002dinsert"> &para;</a></span></dt>
<dd><p>进入插入模式。
</p>
</dd>
<dt><a id="index-vi_002dinsert_002dbol"></a><span><code class="t">vi-insert-bol</code> (unbound) (<code class="t">I</code>) (unbound)<a class="copiable-link" href="#index-vi_002dinsert_002dbol"> &para;</a></span></dt>
<dd><p>移动到该行第一个非空白字符处，进入插入模式。
</p>
</dd>
<dt><a id="index-vi_002djoin"></a><span><code class="t">vi-join</code> (<code class="t">^X^J</code>) (<code class="t">J</code>) (unbound)<a class="copiable-link" href="#index-vi_002djoin"> &para;</a></span></dt>
<dd><p>将当前行与下一行连接起来。
</p>
</dd>
<dt><a id="index-kill_002dline"></a><span><code class="t">kill-line</code> (<code class="t">^K</code>) (unbound) (unbound)<a class="copiable-link" href="#index-kill_002dline"> &para;</a></span></dt>
<dd><p>删除从光标到行尾的字符。 如果已在行尾，则删除换行符。
</p>
</dd>
<dt><a id="index-vi_002dkill_002dline"></a><span><code class="t">vi-kill-line</code> (unbound) (unbound) (<code class="t">^U</code>)<a class="copiable-link" href="#index-vi_002dkill_002dline"> &para;</a></span></dt>
<dd><p>从光标处往回删除到上次进入插入模式的位置。
</p>
</dd>
<dt><a id="index-vi_002dkill_002deol"></a><span><code class="t">vi-kill-eol</code> (unbound) (<code class="t">D</code>) (unbound)<a class="copiable-link" href="#index-vi_002dkill_002deol"> &para;</a></span></dt>
<dd><p>从光标删除到行尾。
</p>
</dd>
<dt><a id="index-kill_002dregion"></a><span><code class="t">kill-region</code><a class="copiable-link" href="#index-kill_002dregion"> &para;</a></span></dt>
<dd><p>从光标删除到标记。
</p>
</dd>
<dt><a id="index-kill_002dbuffer"></a><span><code class="t">kill-buffer</code> (<code class="t">^X^K</code>) (unbound) (unbound)<a class="copiable-link" href="#index-kill_002dbuffer"> &para;</a></span></dt>
<dd><p>删除整个缓冲区。
</p>
</dd>
<dt><a id="index-kill_002dwhole_002dline"></a><span><code class="t">kill-whole-line</code> (<code class="t">^U</code>) (unbound) (unbound)<a class="copiable-link" href="#index-kill_002dwhole_002dline"> &para;</a></span></dt>
<dd><p>删除当前行。
</p>
</dd>
<dt><a id="index-vi_002dmatch_002dbracket"></a><span><code class="t">vi-match-bracket</code> (<code class="t">^X^B</code>) (<code class="t">%</code>) (unbound)<a class="copiable-link" href="#index-vi_002dmatch_002dbracket"> &para;</a></span></dt>
<dd><p>移动到与光标下的括号相匹配的括号字符（<code class="t">{}</code>、<code class="t">()</code> 或 <code class="t">[]</code>之一）。
如果光标不在括号字符上，则在不超过行尾的情况下向前移动，找到一个括号字符，然后移至匹配的括号处。
</p>
</dd>
<dt><a id="index-vi_002dopen_002dline_002dabove"></a><span><code class="t">vi-open-line-above</code> (unbound) (<code class="t">O</code>) (unbound)<a class="copiable-link" href="#index-vi_002dopen_002dline_002dabove"> &para;</a></span></dt>
<dd><p>在光标上方打开一行，进入插入模式。
</p>
</dd>
<dt><a id="index-vi_002dopen_002dline_002dbelow"></a><span><code class="t">vi-open-line-below</code> (unbound) (<code class="t">o</code>) (unbound)<a class="copiable-link" href="#index-vi_002dopen_002dline_002dbelow"> &para;</a></span></dt>
<dd><p>在光标下方打开一行，进入插入模式。
</p>
</dd>
<dt><a id="index-vi_002doper_002dswap_002dcase"></a><span><code class="t">vi-oper-swap-case</code> (unbound) (<code class="t">g~</code>) (unbound)<a class="copiable-link" href="#index-vi_002doper_002dswap_002dcase"> &para;</a></span></dt>
<dd><p>从键盘读取移动命令，并交换从光标位置到移动终点的所有字符的大小写。 如果移动命令是
<code class="t">vi-oper-swap-case</code>，则交换当前行中所有字符的大小写。
</p>
</dd>
<dt><a id="index-overwrite_002dmode"></a><span><code class="t">overwrite-mode</code> (<code class="t">^X^O</code>) (unbound) (unbound)<a class="copiable-link" href="#index-overwrite_002dmode"> &para;</a></span></dt>
<dd><p>在覆盖模式和插入模式之间切换。
</p>
</dd>
<dt><a id="index-vi_002dput_002dbefore"></a><span><code class="t">vi-put-before</code> (unbound) (<code class="t">P</code>) (unbound)<a class="copiable-link" href="#index-vi_002dput_002dbefore"> &para;</a></span></dt>
<dd><p>在光标之前插入删除缓冲区的内容。 如果删除缓冲区包含一系列行（而不是字符），则将其粘贴到当前行的上方。
</p>
</dd>
<dt><a id="index-vi_002dput_002dafter"></a><span><code class="t">vi-put-after</code> (unbound) (<code class="t">p</code>) (unbound)<a class="copiable-link" href="#index-vi_002dput_002dafter"> &para;</a></span></dt>
<dd><p>在光标后插入删除缓冲区的内容。 如果删除缓冲区包含一系列行（而不是字符），则将其粘贴到当前行的下方。
</p>
</dd>
<dt><a id="index-put_002dreplace_002dselection"></a><span><code class="t">put-replace-selection</code> (unbound) (unbound) (unbound)<a class="copiable-link" href="#index-put_002dreplace_002dselection"> &para;</a></span></dt>
<dd><p>用删除缓冲区的内容替换当前区域或选区的内容。如果删除缓冲区包含一系列行（而不是字符），则当前行将被粘贴的行分割。
</p>
</dd>
<dt><a id="index-quoted_002dinsert"></a><span><code class="t">quoted-insert</code> (<code class="t">^V</code>) (unbound) (unbound)<a class="copiable-link" href="#index-quoted_002dinsert"> &para;</a></span></dt>
<dd><p>将输入的下一个字面字符插入缓冲区。 不会插入中断字符。
</p>
</dd>
<dt><a id="index-vi_002dquoted_002dinsert"></a><span><code class="t">vi-quoted-insert</code> (unbound) (unbound) (<code class="t">^Q ^V</code>)<a class="copiable-link" href="#index-vi_002dquoted_002dinsert"> &para;</a></span></dt>
<dd><p>在光标位置显示 &lsquo;<code class="t">^</code>&rsquo; ，并将输入的下一个字面字符插入缓冲区。 不会插入中断字符。
</p>
</dd>
<dt><a id="index-quote_002dline"></a><span><code class="t">quote-line</code> (<code class="t">ESC-'</code>) (unbound) (unbound)<a class="copiable-link" href="#index-quote_002dline"> &para;</a></span></dt>
<dd><p>为当前行加引号，即在行首和行尾添加一个 &lsquo;<code class="t">'</code>&rsquo; 字符，并将所有 &lsquo;<code class="t">'</code>&rsquo; 字符转换为 &lsquo;<code class="t">'\''</code>&rsquo;。
</p>
</dd>
<dt><a id="index-quote_002dregion"></a><span><code class="t">quote-region</code> (<code class="t">ESC-&quot;</code>) (unbound) (unbound)<a class="copiable-link" href="#index-quote_002dregion"> &para;</a></span></dt>
<dd><p>为从光标到标记的区域加引号。
</p>
</dd>
<dt><a id="index-vi_002dreplace"></a><span><code class="t">vi-replace</code> (unbound) (<code class="t">R</code>) (unbound)<a class="copiable-link" href="#index-vi_002dreplace"> &para;</a></span></dt>
<dd><p>进入覆盖模式。
</p>
</dd>
<dt><a id="index-vi_002drepeat_002dchange"></a><span><code class="t">vi-repeat-change</code> (unbound) (<code class="t">.</code>) (unbound)<a class="copiable-link" href="#index-vi_002drepeat_002dchange"> &para;</a></span></dt>
<dd><p>重复上一次 vi 模式文本修改。 如果修改时使用了计数，该计数将被记住。
如果为该命令指定了计数，则该计数将覆盖已记住的计数，并在以后使用该命令时被记住。 同样，剪切缓冲区规范也会类似的被记住。
</p>
</dd>
<dt><a id="index-vi_002dreplace_002dchars"></a><span><code class="t">vi-replace-chars</code> (unbound) (<code class="t">r</code>) (unbound)<a class="copiable-link" href="#index-vi_002dreplace_002dchars"> &para;</a></span></dt>
<dd><p>用从键盘读取的字符替换光标下的字符。
</p>
</dd>
<dt><a id="index-self_002dinsert"></a><span><code class="t">self-insert</code> (printable characters) (unbound) (printable characters and some control characters)<a class="copiable-link" href="#index-self_002dinsert"> &para;</a></span></dt>
<dd><p>在光标位置向缓冲区中插入一个字符。
</p>
</dd>
<dt><a id="index-self_002dinsert_002dunmeta"></a><span><code class="t">self-insert-unmeta</code> (<code class="t">ESC-^I ESC-^J ESC-^M</code>) (unbound) (unbound)<a class="copiable-link" href="#index-self_002dinsert_002dunmeta"> &para;</a></span></dt>
<dd><p>在去除元位并将 ^M 转换为 ^J 后，将字符插入缓冲区。
</p>
</dd>
<dt><a id="index-vi_002dsubstitute"></a><span><code class="t">vi-substitute</code> (unbound) (<code class="t">s</code>) (unbound)<a class="copiable-link" href="#index-vi_002dsubstitute"> &para;</a></span></dt>
<dd><p>替换下一个字符。
</p>
</dd>
<dt><a id="index-vi_002dswap_002dcase"></a><span><code class="t">vi-swap-case</code> (unbound) (<code class="t">~</code>) (unbound)<a class="copiable-link" href="#index-vi_002dswap_002dcase"> &para;</a></span></dt>
<dd><p>调换光标下字符的大小写并移动过去。
</p>
</dd>
<dt><a id="index-transpose_002dchars"></a><span><code class="t">transpose-chars</code> (<code class="t">^T</code>) (unbound) (unbound)<a class="copiable-link" href="#index-transpose_002dchars"> &para;</a></span></dt>
<dd><p>如果在行尾，交换光标左侧的两个字符，否则交换光标下的字符和左侧的字符。
</p>
</dd>
<dt><a id="index-transpose_002dwords"></a><span><code class="t">transpose-words</code> (<code class="t">ESC-T ESC-t</code>) (unbound) (unbound)<a class="copiable-link" href="#index-transpose_002dwords"> &para;</a></span></dt>
<dd><p>将当前单词与前面的单词交换。
</p>
<p>如果使用正数参数 <em class="emph">N</em>，光标周围的字（如果光标位于字与字之间，则光标后面的字）将与前面的 <em class="emph">N</em> 个字换位。
光标将被置于结果字组的末尾。
</p>
<p>如果使用负数参数 <em class="emph">-N</em>，效果与使用正数参数 <em class="emph">N</em> 相同，只是无论如何重新排列单词，都会保留原来的光标位置。
</p>
</dd>
<dt><a id="index-vi_002dunindent"></a><span><code class="t">vi-unindent</code> (unbound) (<code class="t">&lt;</code>) (unbound)<a class="copiable-link" href="#index-vi_002dunindent"> &para;</a></span></dt>
<dd><p>取消若干行的缩进。
</p>
</dd>
<dt><a id="index-vi_002dup_002dcase"></a><span><code class="t">vi-up-case</code> (unbound) (<code class="t">gU</code>) (unbound)<a class="copiable-link" href="#index-vi_002dup_002dcase"> &para;</a></span></dt>
<dd><p>从键盘读取移动命令，并将从光标位置到移动终点的所有字符转换为小写。 如果移动命令是 <code class="t">vi-up-case</code>，则交换当前行中所有字符的大小写。
</p>
</dd>
<dt><a id="index-up_002dcase_002dword"></a><span><code class="t">up-case-word</code> (<code class="t">ESC-U ESC-u</code>) (unbound) (unbound)<a class="copiable-link" href="#index-up_002dcase_002dword"> &para;</a></span></dt>
<dd><p>将当前单词转换为全大写字母，然后移动过去。
</p>
</dd>
<dt><a id="index-yank"></a><span><code class="t">yank</code> (<code class="t">^Y</code>) (unbound) (unbound)<a class="copiable-link" href="#index-yank"> &para;</a></span></dt>
<dd><p>在光标位置插入删除缓冲区的内容。
</p>
</dd>
<dt><a id="index-yank_002dpop"></a><span><code class="t">yank-pop</code> (<code class="t">ESC-y</code>) (unbound) (unbound)<a class="copiable-link" href="#index-yank_002dpop"> &para;</a></span></dt>
<dd><p>删除刚刚复制的文本，旋转删除环（之前删除文本的历史记录），然后复制新的顶部。 仅在
<code class="t">yank</code>、<code class="t">vi-put-before</code>、<code class="t">vi-put-after</code> 或 <code class="t">yank-pop</code> 之后起作用。
</p>
</dd>
<dt><a id="index-vi_002dyank"></a><span><code class="t">vi-yank</code> (unbound) (<code class="t">y</code>) (unbound)<a class="copiable-link" href="#index-vi_002dyank"> &para;</a></span></dt>
<dd><p>从键盘读取移动命令，并将从光标位置到移动终点的区域复制到删除缓冲区。 如果命令是 <code class="t">vi-yank</code>，则复制当前行。
</p>
</dd>
<dt><a id="index-vi_002dyank_002dwhole_002dline"></a><span><code class="t">vi-yank-whole-line</code> (unbound) (<code class="t">Y</code>) (unbound)<a class="copiable-link" href="#index-vi_002dyank_002dwhole_002dline"> &para;</a></span></dt>
<dd><p>将当前行复制到删除缓冲区。
</p>
</dd>
<dt><a id="index-vi_002dyank_002deol"></a><span><code class="t">vi-yank-eol</code><a class="copiable-link" href="#index-vi_002dyank_002deol"> &para;</a></span></dt>
<dd><p>将从光标位置到行尾的区域复制到删除缓冲区。 可以说，这就是 Y 在 vi 中应该做的事情，但实际上它并没有这么做。
</p>
</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_5b9e_53c2">

<h4 class="subsection" id="Shi-Can-"><span>18.6.4 实参<a class="copiable-link" href="#Shi-Can-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-digit_002dargument"></a><span><code class="t">digit-argument</code> (<code class="t">ESC-0</code>..<code class="t">ESC-9</code>) (<code class="t">1</code>-<code class="t">9</code>) (unbound)<a class="copiable-link" href="#index-digit_002dargument"> &para;</a></span></dt>
<dd><p>开始一个新的数字参数，或添加到当前参数。 另请参阅 <code class="t">vi-digit-or-beginning-of-line</code>。
只有绑定到以十进制数字结尾的按键序列时才有效。
</p>
<p>在小部件函数内部，调用该函数时会将调用小部件的按键序列中的最后一个按键视为数字。
</p>
</dd>
<dt><a id="index-neg_002dargument"></a><span><code class="t">neg-argument</code> (<code class="t">ESC-</code><code class="t">-</code>) (unbound) (unbound)<a class="copiable-link" href="#index-neg_002dargument"> &para;</a></span></dt>
<dd><p>更改后面参数的符号。
</p>
</dd>
<dt><a id="index-universal_002dargument"></a><span><code class="t">universal-argument</code><a class="copiable-link" href="#index-universal_002dargument"> &para;</a></span></dt>
<dd><p>将下一条命令的参数乘以 4。或者，如果该命令后跟一个整数（正数或负数），则将该整数作为下一条命令的参数。 因此，使用这条命令不能重复输入数字。
例如，如果这条命令出现两次，紧接着是 <code class="t">-forward-char</code>，则向前移动 16 个空格；如果紧接着是 <code class="t">-2</code>，然后是
<code class="t">-forward-char</code>，则向后移动 2 个空格。
</p>
<p>在小部件函数内部，如果传递一个参数，即 &lsquo;<code class="t">zle universal-argument</code> <var class="var">num</var>&rsquo;，数字参数将被设置为
<var class="var">num</var>；这相当于&lsquo;<code class="t">NUMERIC=</code><var class="var">num</var>。<var class="var">num</var>&rsquo;，数字参数将被设置为 <var class="var">num</var>；这相当于
&lsquo;<code class="t">NUMERIC=</code><var class="var">num</var>&rsquo;。
</p>
</dd>
<dt><a id="index-argument_002dbase"></a><span><code class="t">argument-base</code><a class="copiable-link" href="#index-argument_002dbase"> &para;</a></span></dt>
<dd><p>使用现有的数字参数作为基数，基数范围必须是 2 至 36（含）。 随后使用 <code class="t">digit-argument</code> 和
<code class="t">universal-argument</code> 将以给定的基数输入新的数字参数。 使用的是通常的十六进制约定：字母 <code class="t">a</code> 或 <code class="t">A</code> 对应
10，以此类推。 使用 <code class="t">universal-argument</code> 输入需要 10 位以上数字的基数参数更方便，因为 <code class="t">ESC-a</code>
等通常不会绑定到 <code class="t">digit-argument</code>。
</p>
<p>该函数可与用户自定义小部件内的命令参数一起使用。 下面的代码将基数设置为 16，并让用户输入十六进制参数，直到键入超出数字范围的按键为止：
</p>
<div class="example">
<pre class="example-preformatted">zle argument-base 16
zle universal-argument
</pre></div>

</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_8865_5168">

<h4 class="subsection" id="Bu-Quan--2"><span>18.6.5 补全<a class="copiable-link" href="#Bu-Quan--2"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-accept_002dand_002dmenu_002dcomplete"></a><span><code class="t">accept-and-menu-complete</code><a class="copiable-link" href="#index-accept_002dand_002dmenu_002dcomplete"> &para;</a></span></dt>
<dd><p>在菜单补全中，将当前补全插入缓冲区，并前进到下一个可能的补全。
</p>
</dd>
<dt><a id="index-complete_002dword"></a><span><code class="t">complete-word</code><a class="copiable-link" href="#index-complete_002dword"> &para;</a></span></dt>
<dd><p>尝试补全当前单词。
</p>
</dd>
<dt><a id="index-delete_002dchar_002dor_002dlist"></a><span><code class="t">delete-char-or-list</code> (<code class="t">^D</code>) (unbound) (unbound)<a class="copiable-link" href="#index-delete_002dchar_002dor_002dlist"> &para;</a></span></dt>
<dd><p>删除光标下的字符。 如果光标位于行尾，则列出当前单词可能的补全。
</p>
</dd>
<dt><a id="index-expand_002dcmd_002dpath"></a><span><code class="t">expand-cmd-path</code><a class="copiable-link" href="#index-expand_002dcmd_002dpath"> &para;</a></span></dt>
<dd><p>将当前命令扩展为其完整路径名。
</p>
</dd>
<dt><a id="index-expand_002dor_002dcomplete"></a><span><code class="t">expand-or-complete</code> (<code class="t">TAB</code>) (unbound) (<code class="t">TAB</code>)<a class="copiable-link" href="#index-expand_002dor_002dcomplete"> &para;</a></span></dt>
<dd><p>尝试对当前单词进行 shell 扩展。 如果失败，则尝试补全。
</p>
</dd>
<dt><a id="index-expand_002dor_002dcomplete_002dprefix"></a><span><code class="t">expand-or-complete-prefix</code><a class="copiable-link" href="#index-expand_002dor_002dcomplete_002dprefix"> &para;</a></span></dt>
<dd><p>尝试对当前单词直到光标前的部分进行 shell 扩展。
</p>
</dd>
<dt><a id="index-expand_002dhistory"></a><span><code class="t">expand-history</code> (<code class="t">ESC-space ESC-!</code>) (unbound) (unbound)<a class="copiable-link" href="#index-expand_002dhistory"> &para;</a></span></dt>
<dd><p>在编辑缓冲区上执行历史记录扩展。
</p>
</dd>
<dt><a id="index-expand_002dword"></a><span><code class="t">expand-word</code> (<code class="t">^X*</code>) (unbound) (unbound)<a class="copiable-link" href="#index-expand_002dword"> &para;</a></span></dt>
<dd><p>尝试对当前单词进行 shell 扩展。
</p>
</dd>
<dt><a id="index-list_002dchoices"></a><span><code class="t">list-choices</code> (<code class="t">ESC-^D</code>) (<code class="t">^D =</code>) (<code class="t">^D</code>)<a class="copiable-link" href="#index-list_002dchoices"> &para;</a></span></dt>
<dd><p>列出当前单词可能的补全。
</p>
</dd>
<dt><a id="index-list_002dexpand"></a><span><code class="t">list-expand</code> (<code class="t">^Xg ^XG</code>) (<code class="t">^G</code>) (<code class="t">^G</code>)<a class="copiable-link" href="#index-list_002dexpand"> &para;</a></span></dt>
<dd><p>列出当前单词的扩展。
</p>
</dd>
<dt><a id="index-magic_002dspace"></a><span><code class="t">magic-space</code><a class="copiable-link" href="#index-magic_002dspace"> &para;</a></span></dt>
<dd><p>执行历史扩展并在缓冲区中插入一个空格。 这预期与空格绑定。
</p>
</dd>
<dt><a class="index-entry-id" id="index-MENU_005fCOMPLETE_002c-use-of"></a>
<a id="index-menu_002dcomplete"></a><span><code class="t">menu-complete</code><a class="copiable-link" href="#index-menu_002dcomplete"> &para;</a></span></dt>
<dd><p>与 <code class="t">complete-word</code> 类似，但使用菜单补全功能。 参见 <code class="t">MENU_COMPLETE</code> 选项。
</p>
</dd>
<dt><a id="index-menu_002dexpand_002dor_002dcomplete"></a><span><code class="t">menu-expand-or-complete</code><a class="copiable-link" href="#index-menu_002dexpand_002dor_002dcomplete"> &para;</a></span></dt>
<dd><p>与 <code class="t">expand-or-complete</code> 类似，只是使用菜单补全。
</p>
</dd>
<dt><a id="index-reverse_002dmenu_002dcomplete"></a><span><code class="t">reverse-menu-complete</code><a class="copiable-link" href="#index-reverse_002dmenu_002dcomplete"> &para;</a></span></dt>
<dd><p>执行菜单补全，与 <code class="t">menu-complete</code> 类似，但如果菜单补全已在进行中，则移动到 <em class="emph">前一个</em> 补全，而不是下一个。
</p>
</dd>
<dt><a id="index-end_002dof_002dlist"></a><span><code class="t">end-of-list</code><a class="copiable-link" href="#index-end_002dof_002dlist"> &para;</a></span></dt>
<dd><p>当之前的补全在提示符下方显示列表时，可使用此小部件将提示符移到列表下方。
</p>
</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_6742_9879">

<h4 class="subsection" id="Za-Xiang-"><span>18.6.6 杂项<a class="copiable-link" href="#Za-Xiang-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-accept_002dand_002dhold"></a><span><code class="t">accept-and-hold</code> (<code class="t">ESC-A ESC-a</code>) (unbound) (unbound)<a class="copiable-link" href="#index-accept_002dand_002dhold"> &para;</a></span></dt>
<dd><p>将缓冲区的内容推入缓冲区堆栈并执行。
</p>
</dd>
<dt><a id="index-accept_002dand_002dinfer_002dnext_002dhistory"></a><span><code class="t">accept-and-infer-next-history</code><a class="copiable-link" href="#index-accept_002dand_002dinfer_002dnext_002dhistory"> &para;</a></span></dt>
<dd><p>执行缓冲区的内容。 然后在历史记录列表中搜索与当前事件相匹配的行，并将后面的事件推入缓冲堆栈。
</p>
</dd>
<dt><a id="index-accept_002dline"></a><span><code class="t">accept-line</code> (<code class="t">^J ^M</code>) (<code class="t">^J ^M</code>) (<code class="t">^J ^M</code>)<a class="copiable-link" href="#index-accept_002dline"> &para;</a></span></dt>
<dd><p>完成对缓冲区的编辑。 通常，这会使缓冲区作为 shell 命令执行。
</p>
</dd>
<dt><a id="index-accept_002dline_002dand_002ddown_002dhistory"></a><span><code class="t">accept-line-and-down-history</code> (<code class="t">^O</code>) (unbound) (unbound)<a class="copiable-link" href="#index-accept_002dline_002dand_002ddown_002dhistory"> &para;</a></span></dt>
<dd><p>执行当前行，并将下一个历史事件推入缓冲堆栈。
</p>
</dd>
<dt><a id="index-auto_002dsuffix_002dremove"></a><span><code class="t">auto-suffix-remove</code><a class="copiable-link" href="#index-auto_002dsuffix_002dremove"> &para;</a></span></dt>
<dd><p>如果前一个操作给命令行中的单词添加了后缀（空格、斜线等），则将其删除。 否则什么也不做。 删除后缀会结束任何活动的菜单补全或菜单选择。
</p>
<p>该小部件用于从用户自定义的小部件中调用，以强制执行所需的后缀移除行为。
</p>
</dd>
<dt><a id="index-auto_002dsuffix_002dretain"></a><span><code class="t">auto-suffix-retain</code><a class="copiable-link" href="#index-auto_002dsuffix_002dretain"> &para;</a></span></dt>
<dd><p>如果前一个操作为命令行中的单词添加了后缀（空格、斜线等），则强制保留该后缀。 否则什么也不做。 保留后缀会终止任何激活的菜单补全或菜单选择。
</p>
<p>该小部件用于从用户自定义的小部件中调用，以强制执行所需的后缀保护行为。
</p>
</dd>
<dt><a id="index-beep"></a><span><code class="t">beep</code><a class="copiable-link" href="#index-beep"> &para;</a></span></dt>
<dd><p>蜂鸣声，除非 <code class="t">BEEP</code> 选项未设置。
</p>
</dd>
<dt><a id="index-bracketed_002dpaste"></a><span><code class="t">bracketed-paste</code> (<code class="t">^[[200~</code>) (<code class="t">^[[200~</code>) (<code class="t">^[[200~</code>)<a class="copiable-link" href="#index-bracketed_002dpaste"> &para;</a></span></dt>
<dd><p>当文本粘贴到终端模拟器时，会调用该小部件。它不打算与实际按键绑定，而是与粘贴文本时终端模拟器生成的特殊序列绑定。
</p>
<p>当以交互方式调用时，粘贴的文本将插入缓冲区并放入剪切缓冲区。 如果给定了数字参数，则会在插入粘贴文本前对其应用 shell 引号。
</p>
<p>如果使用 <code class="t">vi-set-buffer</code> (<code class="t">&quot;x</code>) 指定了一个命名缓冲区，粘贴的文本将存储在该命名缓冲区中，但不是插入。
</p>
<p>在小部件函数中以  &lsquo;<code class="t">bracketed-paste</code> <var class="var">name</var>&lsquo; 调用时，粘贴的文本将赋值给变量
<var class="var">name</var>，而不会进行其他处理。
</p>
<p>另请参阅 <code class="t">zle_bracketed_paste</code> 参数。
</p>
</dd>
<dt><a id="index-vi_002dcmd_002dmode"></a><span><code class="t">vi-cmd-mode</code> (<code class="t">^X^V</code>) (unbound) (<code class="t">^[</code>)<a class="copiable-link" href="#index-vi_002dcmd_002dmode"> &para;</a></span></dt>
<dd><p>进入命令模式；即选择 &lsquo;<code class="t">vicmd</code>&rsquo; 键映射。 是的，默认情况下在 emacs 模式下是绑定的。
</p>
</dd>
<dt><a id="index-vi_002dcaps_002dlock_002dpanic"></a><span><code class="t">vi-caps-lock-panic</code><a class="copiable-link" href="#index-vi_002dcaps_002dlock_002dpanic"> &para;</a></span></dt>
<dd><p>挂起，直到按下任何小写键。 这是为那些没有心理承受能力去追踪大写锁定键的 vi 用户准备的（比如笔者）。
</p>
</dd>
<dt><a id="index-clear_002dscreen"></a><span><code class="t">clear-screen</code> (<code class="t">^L ESC-^L</code>) (<code class="t">^L</code>) (<code class="t">^L</code>)<a class="copiable-link" href="#index-clear_002dscreen"> &para;</a></span></dt>
<dd><p>清除屏幕并重新绘制提示符。
</p>
</dd>
<dt><a id="index-deactivate_002dregion"></a><span><code class="t">deactivate-region</code><a class="copiable-link" href="#index-deactivate_002dregion"> &para;</a></span></dt>
<dd><p>使当前区域处于非激活状态。如果 vim 风格的可视化选择模式处于激活状态，则会禁用该模式。
</p>
</dd>
<dt><a id="index-describe_002dkey_002dbriefly"></a><span><code class="t">describe-key-briefly</code><a class="copiable-link" href="#index-describe_002dkey_002dbriefly"> &para;</a></span></dt>
<dd><p>读取按键序列，然后打印与该序列绑定的函数。
</p>
</dd>
<dt><a id="index-exchange_002dpoint_002dand_002dmark"></a><span><code class="t">exchange-point-and-mark</code> (<code class="t">^X^X</code>) (unbound) (unbound)<a class="copiable-link" href="#index-exchange_002dpoint_002dand_002dmark"> &para;</a></span></dt>
<dd><p>交换光标位置（点）和标记位置。 除非给出负数参数，否则点和标记之间的区域将被激活，以便高亮显示。
如果给定的数字参数为零，该区域将被激活，但点和标记不会交换。
</p>
</dd>
<dt><a id="index-execute_002dnamed_002dcmd"></a><span><code class="t">execute-named-cmd</code> (<code class="t">ESC-x</code>) (<code class="t">:</code>) (unbound)<a class="copiable-link" href="#index-execute_002dnamed_002dcmd"> &para;</a></span></dt>
<dd><p>读取编辑器命令的名称并执行。 在解释按键绑定时，用 &lsquo;<code class="t">zle -A</code>&rsquo; 为该小部件建别名或用 &lsquo;<code class="t">zle -N</code>&rsquo;
替换该小部件没有任何作用，但 &lsquo;<code class="t">zle execute-named-cmd</code>&rsquo; 将调用此类别名或替换。
</p>
<p>在迷你缓冲区中可以使用一套受限的编辑功能。 键将在特殊的 <code class="t">command</code> 键映射中查找，如果找不到，则在主键映射中查找。 由 stty
设置定义的中断信号将中止该功能。 请注意，以下函数始终在 <code class="t">executed-named-cmd</code>
环境中执行相同的任务，不能被用户定义的小部件替代，也不能扩展函数集。 允许使用的函数包括: <code class="t">backward-delete-char</code>,
<code class="t">vi-backward-delete-char</code>, <code class="t">clear-screen</code>, <code class="t">redisplay</code>,
<code class="t">quoted-insert</code>, <code class="t">vi-quoted-insert</code>, <code class="t">backward-kill-word</code>,
<code class="t">vi-backward-kill-word</code>, <code class="t">kill-whole-line</code>, <code class="t">vi-kill-line</code>,
<code class="t">backward-kill-line</code>, <code class="t">list-choices</code>, <code class="t">delete-char-or-list</code>,
<code class="t">complete-word</code>, <code class="t">accept-line</code>, <code class="t">expand-or-complete</code> and
<code class="t">expand-or-complete-prefix</code>。
</p>
<p><code class="t">kill-region</code> 会删除最后一个单词，vi-cmd-mode 的处理方式与 accept-line 相同。
空格和制表符如果没有绑定到这些函数中的任何一个，就会补全名称，然后在 <code class="t">AUTO_LIST</code> 选项设置的情况下列出各种可能性。 任何未与
<code class="t">self-insert</code> 或 <code class="t">self-insert-unmeta</code> 绑定的其他字符都会发出蜂鸣声并被忽略。 将使用当前插入模式的绑定。
</p>
<p>目前该命令不能重新定义或通过名称调用。
</p>
</dd>
<dt><a id="index-execute_002dlast_002dnamed_002dcmd"></a><span><code class="t">execute-last-named-cmd</code> (<code class="t">ESC-z</code>) (unbound) (unbound)<a class="copiable-link" href="#index-execute_002dlast_002dnamed_002dcmd"> &para;</a></span></dt>
<dd><p>重做使用 <code class="t">execute-named-cmd</code> 执行的最后一个函数。
</p>
<p>与 <code class="t">execute-named-cmd</code> 一样，该命令不能重新定义，但可以通过名称调用。
</p>
</dd>
<dt><a id="index-get_002dline"></a><span><code class="t">get-line</code> (<code class="t">ESC-G ESC-g</code>) (unbound) (unbound)<a class="copiable-link" href="#index-get_002dline"> &para;</a></span></dt>
<dd><p>从缓冲堆栈中弹出顶行，并将其插入光标位置。
</p>
</dd>
<dt><a id="index-pound_002dinsert"></a><span><code class="t">pound-insert</code> (unbound) (<code class="t">#</code>) (unbound)<a class="copiable-link" href="#index-pound_002dinsert"> &para;</a></span></dt>
<dd><p>如果缓冲区开头没有 # 字符，则在每行开头添加一个 # 字符。 如果有 # 字符，则在有 # 字符的每一行中删除一个 # 字符。
无论哪种情况，都接受当前行。 必须设置 <code class="t">INTERACTIVE_COMMENTS</code> 选项才有用。
</p>
</dd>
<dt><a id="index-vi_002dpound_002dinsert"></a><span><code class="t">vi-pound-insert</code><a class="copiable-link" href="#index-vi_002dpound_002dinsert"> &para;</a></span></dt>
<dd><p>如果当前行开头没有 # 字符，则添加一个。 如果有，则将其删除。 必须设置 <code class="t">INTERACTIVE_COMMENTS</code> 选项才有用。
</p>
</dd>
<dt><a id="index-push_002dinput"></a><span><code class="t">push-input</code><a class="copiable-link" href="#index-push_002dinput"> &para;</a></span></dt>
<dd><p>将整个当前多行结构体推入缓冲堆栈，并返回顶层 (<code class="t">PS1</code>) 提示符。 如果当前解析器结构体只有一行，则与 <code class="t">push-line</code> 完全相同。
下次编辑器启动或使用 <code class="t">get-line</code> 弹出时，该结构体将从缓冲堆栈顶部弹出并加载到编辑缓冲区。
</p>
</dd>
<dt><a id="index-push_002dline"></a><span><code class="t">push-line</code> (<code class="t">^Q ESC-Q ESC-q</code>) (unbound) (unbound)<a class="copiable-link" href="#index-push_002dline"> &para;</a></span></dt>
<dd><p>将当前缓冲区推入缓冲区堆栈并清除缓冲区。 下次编辑器启动时，缓冲区将从缓冲区堆栈顶部弹出，并载入编辑缓冲区。
</p>
</dd>
<dt><a id="index-push_002dline_002dor_002dedit"></a><span><code class="t">push-line-or-edit</code><a class="copiable-link" href="#index-push_002dline_002dor_002dedit"> &para;</a></span></dt>
<dd><p>在顶层 (<code class="t">PS1</code>) 提示符下，相当于 <code class="t">push-line</code>。 在二级（<code class="t">PS2</code>）提示符下，将整个当前多行结构移入编辑缓冲区。
后者相当于 <code class="t">push-input</code> 后接 <code class="t">get-line</code>。
</p>
</dd>
<dt><a id="index-read_002dcommand"></a><span><code class="t">read-command</code><a class="copiable-link" href="#index-read_002dcommand"> &para;</a></span></dt>
<dd><p>仅对用户自定义小部件有用。 按键操作与正常操作一样被读取，但将被执行的命令名称存储在 shell 参数 <code class="t">REPLY</code> 中，而不是正在执行的命令。
该参数可用作未来 <code class="t">zle</code> 命令的参数。 如果键序未被绑定，则返回状态 1；但通常情况下，<code class="t">REPLY</code> 会被设置为
<code class="t">undefined-key</code>，以表示键序无用。
</p>
</dd>
<dt><a id="index-recursive_002dedit"></a><span><code class="t">recursive-edit</code><a class="copiable-link" href="#index-recursive_002dedit"> &para;</a></span></dt>
<dd><p>仅对用户定义的小部件有用。 此时，编辑器会重新获得控制权，直到执行了一个通常会导致 zle 退出的标准小部件（通常是由按回车键引起的
<code class="t">accept-line</code>）。 相反，控制权会返回到用户定义的小部件。
如果返回是由错误引起的，则返回的状态为非零，但函数仍在继续执行，因此可能会进行整理工作。 这使得用户自定义小部件可以安全地临时更改命令行或按键绑定。
</p>
<p>下面这个小部件 <code class="t">caps-lock</code> 就是一个例子。
</p>
<div class="example">
<pre class="example-preformatted">self-insert-ucase() {
  LBUFFER+=${(U)KEYS[-1]}
}

integer stat

zle -N self-insert self-insert-ucase
zle -A caps-lock save-caps-lock
zle -A accept-line caps-lock

zle recursive-edit
stat=$?

zle -A .self-insert self-insert
zle -A save-caps-lock caps-lock
zle -D save-caps-lock

(( stat )) &amp;&amp; zle send-break

return $stat
</pre></div>

<p>在输入 <code class="t">accept-line</code>（即通常的返回键）或再次调用 <code class="t">caps-lock</code> 小部件之前，输入的字母都会大写。
<code class="t">caps-lock</code> 的处理方式是把旧定义保存为 <code class="t">save-caps-lock</code>，然后重新绑定以调用
<code class="t">accept-line</code>。请注意，递归编辑产生的错误会被检测为非零返回状态，并通过 <code class="t">send-break</code> 小部件传播。
</p>
</dd>
<dt><a id="index-redisplay"></a><span><code class="t">redisplay</code> (unbound) (<code class="t">^R</code>) (<code class="t">^R</code>)<a class="copiable-link" href="#index-redisplay"> &para;</a></span></dt>
<dd><p>重新显示编辑缓冲区。
</p>
</dd>
<dt><a id="index-reset_002dprompt"></a><span><code class="t">reset-prompt</code> (unbound) (unbound) (unbound)<a class="copiable-link" href="#index-reset_002dprompt"> &para;</a></span></dt>
<dd><p>强制重新展开屏幕左右两边的提示符，然后重新显示编辑缓冲区。
这既反映了提示符变量本身的变化，也反映了扩展值的变化（例如时间或目录的变化，或提示符所指变量值的变化）。
</p>
<p>否则，提示符只会在每次 zle 启动时展开，以及在显示被 shell 其他部分的输出（如作业通知）打断时展开（这会导致命令行被重新打印）。
</p>
<p><code class="t">reset-prompt</code> 不会改变特殊参数 <code class="t">LASTWIDGET</code>。
</p>

</dd>
<dt><a id="index-send_002dbreak"></a><span><code class="t">send-break</code> (<code class="t">^G ESC-^G</code>) (unbound) (unbound)<a class="copiable-link" href="#index-send_002dbreak"> &para;</a></span></dt>
<dd><p>终止当前编辑器函数，例如 <code class="t">execute-named-command</code>，或编辑器本身，例如
<code class="t">vared</code>。否则，将中止当前行的解析；在这种情况下，中止的行可以在 shell 变量 <code class="t">ZLE_LINE_ABORTED</code> 中找到。 如果在
<code class="t">vared</code> 中中止编辑器，变量 <code class="t">ZLE_VARED_ABORTED</code> 将被设置。
</p>
</dd>
<dt><a id="index-run_002dhelp-1"></a><span><code class="t">run-help</code> (<code class="t">ESC-H ESC-h</code>) (unbound) (unbound)<a class="copiable-link" href="#index-run_002dhelp-1"> &para;</a></span></dt>
<dd><p>将缓冲区推入缓冲栈，然后执行命令 &lsquo;<code class="t">run-help</code> <var class="var">cmd</var>&rsquo; 其中 <var class="var">cmd</var> 是当前命令。<var class="var">cmd</var>&rsquo;，其中
<var class="var">cmd</var> 是当前命令。 <code class="t">run-help</code> 通常为 <code class="t">man</code> 的别名。
</p>
</dd>
<dt><a id="index-vi_002dset_002dbuffer"></a><span><code class="t">vi-set-buffer</code> (unbound) (<code class="t">&quot;</code>) (unbound)<a class="copiable-link" href="#index-vi_002dset_002dbuffer"> &para;</a></span></dt>
<dd><p>指定要在随后命令中使用的缓冲区。 可指定的缓冲区有 37 个：26 个 &lsquo;命名&rsquo; 缓冲区 <code class="t">&quot;a</code> 至 <code class="t">&quot;z</code>、&lsquo;yank&rsquo; 缓冲区
<code class="t">&quot;0</code>、9 个&lsquo;queued&rsquo; 缓冲区 <code class="t">&quot;1</code> 至 <code class="t">&quot;9</code> 和 &lsquo;黑洞&rsquo; 缓冲区 <code class="t">&quot;_</code>。 命名的缓冲区也可以指定为
<code class="t">&quot;A</code> 至 <code class="t">&quot;Z</code>。
</p>
<p>如果为剪切、更改或复制命令指定了缓冲区，相关文本将替换指定缓冲区中以前的内容。如果使用大写字母指定了一个已命名的缓冲区，则新剪切的文本将附加到缓冲区，而不是覆盖缓冲区。使用
<code class="t">&quot;_</code> 缓冲区时，不会发生任何操作。这对于删除文本而不影响任何缓冲区非常有用。
</p>
<p>如果剪切或更改命令没有指定缓冲区，则使用 <code class="t">&quot;1</code>，<code class="t">&quot;1</code> 至 <code class="t">&quot;8</code> 中的内容分别沿一个缓冲区移动；<code class="t">&quot;9</code> 中的内容丢失。如果
yank 命令没有指定缓冲区，则使用 <code class="t">&quot;0</code>。最后，没有指定缓冲区的粘贴命令将粘贴来自最近一条命令的文本，而与该命令可能使用的缓冲区无关。
</p>
<p>当使用 <code class="t">zle</code> 命令从小部件函数中调用时，可以选择使用参数指定缓冲区。例如
</p>
<div class="example">
<pre class="example-preformatted">zle vi-set-buffer A
</pre></div>

</dd>
<dt><a id="index-vi_002dset_002dmark"></a><span><code class="t">vi-set-mark</code> (unbound) (<code class="t">m</code>) (unbound)<a class="copiable-link" href="#index-vi_002dset_002dmark"> &para;</a></span></dt>
<dd><p>在光标位置设置指定标记。
</p>
</dd>
<dt><a id="index-set_002dmark_002dcommand"></a><span><code class="t">set-mark-command</code> (<code class="t">^@</code>) (unbound) (unbound)<a class="copiable-link" href="#index-set_002dmark_002dcommand"> &para;</a></span></dt>
<dd><p>在光标位置设置标记。 如果调用的参数为负数，则不设置标记，而是停用该区域，使其不再高亮显示（仍可用于其他目的）。 否则，该区域将被标记为激活状态。
</p>
</dd>
<dt><a id="index-spell_002dword"></a><span><code class="t">spell-word</code> (<code class="t">ESC-$ ESC-S ESC-s</code>) (unbound) (unbound)<a class="copiable-link" href="#index-spell_002dword"> &para;</a></span></dt>
<dd><p>尝试对当前单词进行拼写更正。
</p>
</dd>
<dt><a id="index-split_002dundo"></a><span><code class="t">split-undo</code><a class="copiable-link" href="#index-split_002dundo"> &para;</a></span></dt>
<dd><p>在当前更改处打破撤销序列。 这在 vi 模式下非常有用，因为在插入模式下所做的更改会在进入命令模式时合并。 类似地，<code class="t">undo</code>
通常会将用户定义的小部件所做的所有更改统一复原。
</p>
</dd>
<dt><a id="index-undefined_002dkey"></a><span><code class="t">undefined-key</code><a class="copiable-link" href="#index-undefined_002dkey"> &para;</a></span></dt>
<dd><p>当键入未与任何命令绑定的按键序列时，将执行该命令。 默认情况下会发出蜂鸣声。
</p>
</dd>
<dt><a id="index-undo"></a><span><code class="t">undo</code> (<code class="t">^_ ^Xu ^X^U</code>) (<code class="t">u</code>) (unbound)<a class="copiable-link" href="#index-undo"> &para;</a></span></dt>
<dd><p>递增撤销最后一次文本修改。 从用户定义的小部件调用时，会接收一个可选参数，该参数表示 <code class="t">UNDO_CHANGE_NO</code>
变量返回的撤销历史的前一个状态；在达到该状态之前，所作修改都会被撤销，但会受到 <code class="t">UNDO_LIMIT_NO</code> 变量的限制。
</p>
<p>请注意，在 vi 命令模式下调用时，插入模式下的全部修改将被还原（reverted），因为在选择命令模式时，这些修改已被合并。
</p>
</dd>
<dt><a id="index-redo"></a><span><code class="t">redo</code> (unbound) (<code class="t">^R</code>) (unbound)<a class="copiable-link" href="#index-redo"> &para;</a></span></dt>
<dd><p>增量重做未完成的文本修改。
</p>
</dd>
<dt><a id="index-vi_002dundo_002dchange"></a><span><code class="t">vi-undo-change</code> (unbound) (unbound) (unbound)<a class="copiable-link" href="#index-vi_002dundo_002dchange"> &para;</a></span></dt>
<dd><p>撤销上次文本修改。 如果重复，则重做修改。
</p>
</dd>
<dt><a id="index-visual_002dmode"></a><span><code class="t">visual-mode</code> (unbound) (<code class="t">v</code>) (unbound)<a class="copiable-link" href="#index-visual_002dmode"> &para;</a></span></dt>
<dd><p>切换 vim
风格的可视化选择模式。如果当前已启用按行选择的可视化模式，则会将其改为按字符选择。如果在操作符之后使用，则会强制将随后的移动命令视为按字符移动。
</p>
</dd>
<dt><a id="index-visual_002dline_002dmode"></a><span><code class="t">visual-line-mode</code> (unbound) (<code class="t">V</code>) (unbound)<a class="copiable-link" href="#index-visual_002dline_002dmode"> &para;</a></span></dt>
<dd><p>切换 vim
风格的逐行可视化选择模式。如果当前启用的是按字符的可视化模式，则会将其改为按行的可视化模式。如果在操作符之后使用，则会强制将随后的移动命令视为按行移动。
</p>
</dd>
<dt><a id="index-what_002dcursor_002dposition"></a><span><code class="t">what-cursor-position</code> (<code class="t">^X=</code>) (<code class="t">ga</code>) (unbound)<a class="copiable-link" href="#index-what_002dcursor_002dposition"> &para;</a></span></dt>
<dd><p>打印光标下的字符，以八进制、十进制和十六进制数的形式显示其代码，以及光标在缓冲区中的当前位置和当前行中的列数。
</p>
</dd>
<dt><a id="index-where_002dis"></a><span><code class="t">where-is</code><a class="copiable-link" href="#index-where_002dis"> &para;</a></span></dt>
<dd><p>读取编辑器命令的名称，并打印调用指定命令的按键序列列表。 迷你缓冲区中提供了一组受限的编辑功能。 按键在特殊的 <code class="t">command</code>
键映射中查找，如果找不到，则在主键映射中查找。
</p>
</dd>
<dt><a id="index-which_002dcommand"></a><span><code class="t">which-command</code> (<code class="t">ESC-?</code>) (unbound) (unbound)<a class="copiable-link" href="#index-which_002dcommand"> &para;</a></span></dt>
<dd><p>将缓冲区推入缓冲堆栈，然后执行命令 &lsquo;<code class="t">which-command</code> <var class="var">cmd</var>&rsquo; 。其中 <var class="var">cmd</var> 是当前命令。
<code class="t">which-command</code> 通常是 <code class="t">whence</code> 的别名。
</p>
</dd>
<dt><a id="index-vi_002ddigit_002dor_002dbeginning_002dof_002dline"></a><span><code class="t">vi-digit-or-beginning-of-line</code> (unbound) (<code class="t">0</code>) (unbound)<a class="copiable-link" href="#index-vi_002ddigit_002dor_002dbeginning_002dof_002dline"> &para;</a></span></dt>
<dd><p>如果最后执行的命令是作为参数一部分的数字，则继续执行参数。 否则，执行 vi-beginning-of-line。
</p>
</dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="g_t_6587_672c_5bf9_8c61">

<h4 class="subsection" id="WenBen-Dui-Xiang-"><span>18.6.7 文本对象<a class="copiable-link" href="#WenBen-Dui-Xiang-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-WenBen-Dui-Xiang-"></a>
<p>文本对象是用于根据某些标准选择文本块的命令。它们是 vim 文本编辑器的一项功能，因此主要用于 vi 操作符或可视化选择模式。不过，它们也可以在
vi-insert 或 emacs 模式下使用。下面列出的键绑定适用于 <code class="t">viopp</code> 和 <code class="t">visual</code> 键映射。
</p>
<dl class="table">
<dt><a id="index-select_002da_002dblank_002dword"></a><span><code class="t">select-a-blank-word</code> (<code class="t">aW</code>)<a class="copiable-link" href="#index-select_002da_002dblank_002dword"> &para;</a></span></dt>
<dd><p>选择包括相邻空格的单词，单词的定义是一系列非空格字符。使用数字参数时，将选择多个单词。
</p>
</dd>
<dt><a id="index-select_002da_002dshell_002dword"></a><span><code class="t">select-a-shell-word</code> (<code class="t">aa</code>)<a class="copiable-link" href="#index-select_002da_002dshell_002dword"> &para;</a></span></dt>
<dd><p>选择当前的命令参数，并应用正常的引号规则。
</p>
</dd>
<dt><a id="index-select_002da_002dword"></a><span><code class="t">select-a-word</code> (<code class="t">aw</code>)<a class="copiable-link" href="#index-select_002da_002dword"> &para;</a></span></dt>
<dd><p>使用普通的 vi-style 单词定义，选择包括相邻空白在内的单词。使用数字参数时，将选择多个单词。
</p>
</dd>
<dt><a id="index-select_002din_002dblank_002dword"></a><span><code class="t">select-in-blank-word</code> (<code class="t">iW</code>)<a class="copiable-link" href="#index-select_002din_002dblank_002dword"> &para;</a></span></dt>
<dd><p>选择一个单词，单词的定义是一系列非空格字符。使用数字参数时，将选择多个单词。
</p>
</dd>
<dt><a id="index-select_002din_002dshell_002dword"></a><span><code class="t">select-in-shell-word</code> (<code class="t">ia</code>)<a class="copiable-link" href="#index-select_002din_002dshell_002dword"> &para;</a></span></dt>
<dd><p>按常规引号规则选择当前命令参数。如果参数以匹配的引号字符开始和结束，则不在选择范围内。
</p>
</dd>
<dt><a id="index-select_002din_002dword"></a><span><code class="t">select-in-word</code> (<code class="t">iw</code>)<a class="copiable-link" href="#index-select_002din_002dword"> &para;</a></span></dt>
<dd><p>使用普通的 vi-style 单词定义选择一个单词, 使用数字参数时，将选择多个单词。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_5b57_7b26_9ad8_4eae">

<h3 class="section" id="Zi-Fu-Gao-Liang-"><span>18.7 字符高亮<a class="copiable-link" href="#Zi-Fu-Gao-Liang-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-zle_005fhighlight_002c-setting"></a>
<p>行编辑器可以高亮显示行中具有特殊意义的字符或区域。 如果用户设置了这一功能，则由数组参数 <code class="t">zle_highlight</code> 控制。
</p>
<p>如果参数只包含 <code class="t">none</code>，则所有高亮都会关闭。 请注意，该参数仍应是一个数组。
</p>
<p>否则，数组的每个条目都应由一个表示高亮上下文的单词，然后一个冒号，接着一个用逗号分隔的列表组成，列表中列出了在该上下文中应用的高亮类型。
</p>
<p>可用于高亮显示的上下文如下：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Gao-Liang-_002c-Qu-Yu-"></a>
<a id="index-Qu-Yu-_002c-Gao-Liang-"></a><span><code class="t">default</code><a class="copiable-link" href="#index-Qu-Yu-_002c-Gao-Liang-"> &para;</a></span></dt>
<dd><p>Any text within the command line not affected by any other highlighting.
Text outside the editable area of the command line is not affected.
</p>
</dd>
<dt><code class="t">isearch</code></dt>
<dd><p>当增量历史搜索小部件之一处于活动状态时，搜索字符串或模式所匹配的命令行区域。
</p>
</dd>
<dt><code class="t">region</code></dt>
<dd><p>当前选中的文本。在 emacs 术语中，这被称为区域，以光标（点）和标记为边界。只有在使用 <code class="t">set-mark-command</code> 或
<code class="t">exchange-point-and-mark</code> 命令修改标记后，该区域才会突出显示。 需要注意的是，区域是否激活对其在 emacs
风格小部件中的使用没有影响，它只是决定是否高亮显示。在 vi 模式下，该区域与可视化模式下的选定文本相对应。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Gao-Liang-_002c-Te-Shu-Zi-Fu-"></a>
<a id="index-Te-Shu-Zi-Fu-_002c-Gao-Liang-"></a><span><code class="t">special</code><a class="copiable-link" href="#index-Te-Shu-Zi-Fu-_002c-Gao-Liang-"> &para;</a></span></dt>
<dd><p>没有直接可打印表示，但行编辑器以特殊方式显示的单个字符。 下文将对这些字符进行说明。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Hou-Zhui-_002c-Gao-Liang-Ke-Shan-Chu-_002c-Zai-Bu-Quan-Zhong"></a>
<a class="index-entry-id" id="index-Ke-Shan-Chu-Hou-Zhui-_002c-Zai-Bu-Quan-ZhongGao-Liang-"></a>
<a id="index-Bu-Quan-Ke-Shan-Chu-Hou-Zhui-_002c-Gao-Liang-"></a><span><code class="t">suffix</code><a class="copiable-link" href="#index-Bu-Quan-Ke-Shan-Chu-Hou-Zhui-_002c-Gao-Liang-"> &para;</a></span></dt>
<dd><p>该上下文在补全中用于标记为后缀的字符，如果补全在该处结束，这些字符将被移除，最明显的例子是目录名后的斜线 (<code class="t">/</code>)。
请注意，后缀移除是可配置的；不同的补全可能会在不同的情况下移除后缀。
</p>
</dd>
<dt><code class="t">paste</code></dt>
<dd><p>执行粘贴文本的命令后，会显示插入的字符。
</p>
</dd>
</dl>

<p>设置 <code class="t">region_highlight</code> 时，首先应用描述区域的上下文 &mdash; <code class="t">isearch</code>、<code class="t">region</code>、<code class="t">suffix</code>
和 <code class="t">paste</code> &mdash; 然后应用 <code class="t">region_highlight</code>，最后应用其余的 <code class="t">zle_highlight</code> 上下文。
如果某个字符受到多个规范的影响，则最后一个规范胜出。
</p>
<p><code class="t">zle_highlight</code> 可能包含其他字段，用于控制如何输出改变颜色的终端序列。
以下每个字段后面都有一个冒号和一个字符串，形式与按键绑定相同。 由于括号中显示的默认值已被广泛使用，因此绝大多数终端都不需要这样做。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Yong-Yu-Gao-Liang-De-Zhong-Duan-Zhuan-Yi-Xu-Lie-"></a>
<a id="index-Zhuan-Yi-Xu-Lie-_002c-Zhong-Duan-_002c-Yong-Yu-Gao-Liang-"></a><span><code class="t">fg_start_code</code> (<code class="t">\e[3</code>)<a class="copiable-link" href="#index-Zhuan-Yi-Xu-Lie-_002c-Zhong-Duan-_002c-Yong-Yu-Gao-Liang-"> &para;</a></span></dt>
<dd><p>前景色转义序列的起始位置。 随后是代表颜色的一至三位 ASCII 数字。 仅用于调色板颜色，即不是通过颜色三连字符指定的 24 位颜色。
</p>
</dd>
<dt><code class="t">fg_default_code</code> (<code class="t">9</code>)</dt>
<dd><p>用来代替颜色的数字，以重置默认前景色。
</p>
</dd>
<dt><code class="t">fg_end_code</code> (<code class="t">m</code>)</dt>
<dd><p>前景色转义序列的终点。
</p>
</dd>
<dt><code class="t">bg_start_code</code> (<code class="t">\e[4</code>)</dt>
<dd><p>背景色转义序列的起始位置。 参见上文 <code class="t">fg_start_code</code>。
</p>
</dd>
<dt><code class="t">bg_default_code</code> (<code class="t">9</code>)</dt>
<dd><p>用来代替颜色的数字，以重置默认背景颜色。
</p>
</dd>
<dt><code class="t">bg_end_code</code> (<code class="t">m</code>)</dt>
<dd><p>背景色转义序列的结束。
</p>
</dd>
</dl>

<p>可用的高亮类型如下。请注意，并非所有终端都支持所有类型的高亮：
</p>
<dl class="table">
<dt><code class="t">none</code></dt>
<dd><p>不对给定上下文应用高亮。 与其他类型的高亮同时出现并无用处；它用于覆盖默认值。
</p>
</dd>
<dt><code class="t">fg=</code><var class="var">colour</var></dt>
<dd><p>前景色应设置为 <var class="var">colour</var>，即一个十进制整数，最广泛支持的八种颜色之一的名称，或者设置为 &lsquo;<code class="t">#</code>&rsquo; 后面跟一个十六进制格式的 RGB
三连字符。
</p>
<p>并非所有终端都支持此功能，而在支持此功能的终端中，也并非所有终端都提供测试功能，因此用户应根据终端类型来决定。 大多数终端都支持 <code class="t">black</code>,
<code class="t">red</code>, <code class="t">green</code>, <code class="t">yellow</code>, <code class="t">blue</code>, <code class="t">magenta</code>, <code class="t">cyan</code> 和
<code class="t">white</code>，这些颜色可以通过名称来设置。 此外 <code class="t">default</code> 可用于设置终端的默认前景色。 可以使用缩写；<code class="t">b</code> 或 <code class="t">bl</code>
选择黑色。 如果同时存在 <code class="t">bold</code> 属性，某些终端可能会生成其他颜色。
</p>
<p>在最新的终端和拥有最新终端数据库的系统上，可以通过命令  &lsquo;<code class="t">echotc Co</code>&rsquo;
来测试支持的颜色数量；如果测试成功，则表明行编辑器将执行的颜色数量限制。 在任何情况下，颜色数都不得超过 256 种（即范围 0 至 255）。
</p>
<p>某些现代终端模拟器支持 24 位真彩色（1600 万色）。在这种情况下，可以使用十六进制三连字符格式。这包括一个 &lsquo;<code class="t">#</code>&rsquo;
，后面跟一个三位或六位十六进制数，描述颜色的红、绿、蓝分量。通过 <code class="t">zsh/nearcolor</code> 模块（参见 <a class="ref" href="#zsh_002fnearcolor-_6a21_5757">zsh/nearcolor 模块</a>），十六进制三连串也可用于 88 和 256 色终端。
</p>
<p>Colour 也是 color。
</p>
</dd>
<dt><code class="t">bg=</code><var class="var">colour</var></dt>
<dd><p>背景颜色应设置为 <var class="var">colour</var>。 其作用与前景色类似，只是背景色通常不受粗体属性的影响。
</p>
</dd>
<dt><code class="t">bold</code></dt>
<dd><p>给定上下文中的字符以粗体显示。 并非所有终端都能区分粗体字体。
</p>
</dd>
<dt><code class="t">standout</code></dt>
<dd><p>给定上下文中的字符以终端的突出模式显示。 实际效果因终端而异；在许多终端上是反向视频。
在某些终端上，如果光标不闪烁，它就会以与突出模式相反出现，从而使光标的实际位置不太清晰。
在这些终端上，其他效果之一可能更适合高亮显示区域和匹配的搜索字符串。
</p>
</dd>
<dt><code class="t">underline</code></dt>
<dd><p>给定上下文中的字符以下划线显示。 有些终端会用不同的颜色显示前景；在这种情况下，空白不会高亮显示。
</p>
</dd>
</dl>

<p>上述 &lsquo;特殊&rsquo; 字符如下。 无论这些字符是否高亮显示，此处描述的格式都将使用：
</p>
<dl class="table">
<dt>ASCII 控制字符</dt>
<dd><p>ASCII 范围内的控制字符显示为 &lsquo;<code class="t">^</code>&rsquo; ，后跟基本字符。
</p>
</dd>
<dt>不可打印的多字节字符</dt>
<dd><p>该项适用于不在 ASCII 范围内的控制字符，以及以下其他字符。 如果 <code class="t">MULTIBYTE</code> 选项有效，当 <code class="t">COMBINING_CHARS</code>
选项开启时，不在 ASCII 字符集中的多字节字符如果被报告为宽度为零，则会被视为组合字符。
如果该选项处于关闭状态，或者出现的字符不是有效的组合字符，则该字符将被视为不可打印字符。
</p>
<p>无法打印的多字节字符以十六进制数字显示在角括号之间。 该数字是该字符在广义字符集中的码位；这可能是也可能不是 Unicode，取决于操作系统。
</p>
</dd>
<dt>无效多字节字符</dt>
<dd><p>如果 <code class="t">MULTIBYTE</code>
选项生效，那么任何一个或多个字节的序列，如果在当前字符集中不构成有效字符，将被视为一系列以特殊字符显示的字节。这种情况可以与其他不可打印字符加以区分，因为这些字节将以尖括号内的两个十六进制数字表示，与那些在当前字符集中仍然有效但不可打印的字符所用的四个或八个数字是不同的。
</p>
<p>并非所有系统都支持这种方法：要使其有效，系统对宽字符的表示必须是 IS0 10646（也称作 Unicode）定义的通用字符集中的代码值。
</p>
</dd>
<dt>封装的双宽度字符</dt>
<dd><p>当双倍宽度字符出现在一行的最后一列时，它将显示在下一行。原位置留下的空格将作为特殊字符高亮显示。
</p>
</dd>
</dl>

<p>如果未设置 <code class="t">zle_highlight</code>，或者没有适用于特定上下文的值，则应用的默认值相当于
</p>
<div class="example">
<pre class="example-preformatted">zle_highlight=(region:standout special:standout
suffix:bold isearch:underline paste:standout)
</pre></div>

<p>即区域字符和特殊字符都以高亮模式显示。
</p>
<p>在小部件中，可以通过设置特殊数组参数 <code class="t">region_highlight</code> 来突出显示任意区域；请参阅 <a class="ref" href="#Zle-_5c0f_90e8_4ef6">Zle 小部件</a>。
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_8865_5168_5c0f_90e8_4ef6">

<h2 class="chapter" id="Bu-Quan-Xiao-Bu-Jian-"><span>19 补全小部件<a class="copiable-link" href="#Bu-Quan-Xiao-Bu-Jian-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Xiao-Bu-Jian-"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Ke-Bian-Cheng-"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Kong-Zhi-"></a>

<div class="section-level-extent" id="Shuo-Ming--2">
<h3 class="section"><span>19.1 说明<a class="copiable-link" href="#Shuo-Ming--2"> &para;</a></span></h3>
<p>shell 的可编程补全机制有两种操作方式；这里定义了支持较新的、基于函数的机制的底层特性。 基于这些特性的一整套 shell 函数将在下一章
<a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a> 中介绍，没有兴趣添加到该系统（或编写自己的系统 &ndash; 参见词典中的 &lsquo;hubris&rsquo; 条目&lt;dictionary
entry&gt;）的用户可以跳过本节。 基于 <code class="t">compctl</code> 内置命令的旧版系统将在 <a class="ref" href="#g_t_7528-compctl-_8865_5168">用 compctl 补全</a> 中介绍。
</p>
<p>补全部件由 <code class="t">zsh/zle</code> 模块提供的 <code class="t">zle</code> 内置命令的 <code class="t">-C</code> 选项定义（参见 <a class="ref" href="#zsh_002fzle-_6a21_5757">zsh/zle 模块</a>）。例如
</p>
<div class="example">
<pre class="example-preformatted">zle -C complete expand-or-complete completer
</pre></div>

<p>定义了一个名为 &lsquo;<code class="t">complete</code>&rsquo; 的小部件。 第二个参数是处理补全的任何内置小部件的名称：
<code class="t">complete-word</code>、<code class="t">expand-or-complete</code>、<code class="t">expand-or-complete-prefix</code>、<code class="t">menu-complete</code>、<code class="t">menu-expand-or-complete</code>、<code class="t">reverse-menu-complete</code>、<code class="t">list-choices</code>
或 <code class="t">delete-char-or-list</code>。 请注意，即使相关小部件已被重新绑定，该功能仍将有效。
</p>
<p>当使用 <code class="t">zsh/zle</code> 模块（<a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>）中定义的 <code class="t">bindkey</code> 内置命令将这个新定义的 小部件
与某个按键绑定时，键入该按键将调用 shell 函数 &lsquo;<code class="t">completer</code>&rsquo;。该函数负责使用下文所述的内置命令生成补全匹配。 与其他 ZLE
小部件一样，该函数在调用时关闭了标准输入。
</p>
<p>一旦函数返回，补全代码将再次接管控制权，并以与指定的内置小部件（在本例中为 <code class="t">expand-or-complete</code>）相同的方式处理匹配结果。
</p>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_7279_6b8a_53c2_6570">

<h3 class="section" id="Bu-Quan-Te-Shu-Can-Shu-"><span>19.2 补全特殊参数<a class="copiable-link" href="#Bu-Quan-Te-Shu-Can-Shu-"> &para;</a></span></h3>

<p>参数 <code class="t">ZLE_REMOVE_SUFFIX_CHARS</code> 和 <code class="t">ZLE_SPACE_SUFFIX_CHARS</code> 用于补全机制，但并不特殊。请参阅
<a class="ref" href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a>。
</p>
<p>在补全小部件内部，以及从它们调用的任何函数中，有些参数具有特殊意义；在这些函数之外，它们对 shell 没有任何特殊意义。
这些参数用于在补全代码和补全小部件之间传递信息。某些内置命令和条件代码会使用或更改这些参数的当前值。 在执行补全小部件时，任何现有的值都将被隐藏；除了
<code class="t">compstate</code> 之外，这些参数在每次函数退出时（包括补全小部件内部的嵌套函数调用）都会被重置为进入函数时的值。
</p>
<dl class="table">
<dt><a id="index-CURRENT"></a><span><code class="t">CURRENT</code><a class="copiable-link" href="#index-CURRENT"> &para;</a></span></dt>
<dd><p>这是当前单词的编号，即 <code class="t">words</code> 数组中光标当前所在单词的编号。 请注意，只有在未设置 <code class="t">ksharrays</code>
选项的情况下，此值才是正确的。
</p>
</dd>
<dt><a id="index-IPREFIX"></a><span><code class="t">IPREFIX</code><a class="copiable-link" href="#index-IPREFIX"> &para;</a></span></dt>
<dd><p>初始值为空字符串。 该参数的功能与 <code class="t">PREFIX</code> 类似；它包含的字符串在 <code class="t">PREFIX</code> 之前，不被视为匹配列表的一部分。
例如，通常情况下，一个字符串会从 <code class="t">PREFIX</code> 的开头转到 <code class="t">IPREFIX</code> 的结尾：
</p>
<div class="example">
<pre class="example-preformatted">IPREFIX=${PREFIX%%\=*}=
PREFIX=${PREFIX#*=}
</pre></div>

<p>会导致前缀中包括第一个等号在内的部分不被视为匹配字符串的一部分。 <code class="t">compset</code> 内置函数可以自动做到这一点，见下文。
</p>
</dd>
<dt><a id="index-ISUFFIX"></a><span><code class="t">ISUFFIX</code><a class="copiable-link" href="#index-ISUFFIX"> &para;</a></span></dt>
<dd><p>与 <code class="t">IPREFIX</code>相同，但后缀不应被视为匹配的一部分；注意 <code class="t">ISUFFIX</code> 字符串位于 <code class="t">SUFFIX</code> 字符串之后。
</p>
</dd>
<dt><a id="index-PREFIX"></a><span><code class="t">PREFIX</code><a class="copiable-link" href="#index-PREFIX"> &para;</a></span></dt>
<dd><p>最初，将设置为当前单词从开头到光标位置的部分；也可以更改，以便为所有匹配提供一个通用前缀。
</p>
</dd>
<dt><a id="index-QIPREFIX"></a><span><code class="t">QIPREFIX</code><a class="copiable-link" href="#index-QIPREFIX"> &para;</a></span></dt>
<dd><p>这个参数是只读的，包含引号字符串到正在补全的单词为止。例如，在补全 &lsquo;<code class="t">&quot;foo</code>&rsquo;
时，该参数包含双引号。如果使用了<code class="t">compset</code>的<code class="t">-q</code>选项(见下文)，并且原始字符串是 &lsquo;<code class="t">&quot;foo bar</code>&rsquo;，且光标在
&lsquo;<code class="t">bar</code>&rsquo; 上，那么这个参数包含 &lsquo;<code class="t">&quot;foo </code>&rsquo;。
</p>
</dd>
<dt><a id="index-QISUFFIX"></a><span><code class="t">QISUFFIX</code><a class="copiable-link" href="#index-QISUFFIX"> &para;</a></span></dt>
<dd><p>与 <code class="t">QIPREFIX</code> 类似，但包含后缀。
</p>
</dd>
<dt><a id="index-SUFFIX"></a><span><code class="t">SUFFIX</code><a class="copiable-link" href="#index-SUFFIX"> &para;</a></span></dt>
<dd><p>初始，它将被设置为当前单词从光标位置到末尾的部分；也可以进行修改，为所有匹配的单词提供一个共同的后缀。 当设置了
<code class="t">COMPLETE_IN_WORD</code> 选项时，它的作用最大，否则命令行中的整个单词都会被视为前缀。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Bu-Quan-Xiao-Bu-Jian-_002cCe-Shi-He-She-Zhi-Zhuang-Tai-Wei-"></a>
<a id="index-compstate"></a><span><code class="t">compstate</code><a class="copiable-link" href="#index-compstate"> &para;</a></span></dt>
<dd><p>这是一个关联数组，包含不同的键和值，补全代码用它来与补全小部件交换信息。 键是
</p>
<dl class="table">
<dt><a id="index-all_005fquotes_002c-compstate"></a><span><code class="t">all_quotes</code><a class="copiable-link" href="#index-all_005fquotes_002c-compstate"> &para;</a></span></dt>
<dd><p><code class="t">compset</code> 内置命令的 <code class="t">-q</code>
选项（见下文）允许将引号字符串分解为不同的单词；如果光标位于其中一个单词上，该单词将被补全，并可能递归调用 &lsquo;<code class="t">compset -q</code>&rsquo; 。
使用该键可以测试当前以这种方式分解的引号字符串类型。 它的值包含每个引号级别的一个字符。
对于使用单引号或双引号加引号的字符串，这些字符是单引号或双引号；对于使用 <code class="t">$'</code><var class="var">...</var><code class="t">'</code>
加引号的字符串，这些字符是美元符号；对于不以引号字符开头的字符串，这些字符是反斜杠。 值中的第一个字符始终对应于最内层的引号。
</p>
</dd>
<dt><a id="index-context_002c-compstate"></a><span><code class="t">context</code><a class="copiable-link" href="#index-context_002c-compstate"> &para;</a></span></dt>
<dd><p>这将由补全代码设置为尝试补全的整体上下文。可能的取值包括：
</p>
<dl class="table">
<dt><code class="t">array_value</code></dt>
<dd><p>在数组参数赋值的值内补全时；在本例中，<code class="t">words</code> 数组包含括号内的单词。
</p>
</dd>
<dt><code class="t">brace_parameter</code></dt>
<dd><p>在以 <code class="t">${</code> 开头的参数扩展中补全参数名称时，也会设置该上下文。
在<code class="t">${(</code>之后补全参数标志时，也将设置这种上下文；完整的命令行参数会呈现出来，处理程序必须测试要补全的值，以确定情况是否如此。
</p>
</dd>
<dt><code class="t">assign_parameter</code></dt>
<dd><p>在参数赋值中补全参数名称时。
</p>
</dd>
<dt><code class="t">command</code></dt>
<dd><p>补全普通命令时（在命令位置或用于命令参数）。
</p>
</dd>
<dt><code class="t">condition</code></dt>
<dd><p>在 &lsquo;<code class="t">[[</code>...<code class="t">]]</code>&rsquo; 条件表达式中补全时；在这种情况下，<code class="t">words</code> 数组只包含条件表达式中的单词。
</p>
</dd>
<dt><code class="t">math</code></dt>
<dd><p>在数学环境中完成时，如 &lsquo;<code class="t">((</code>...<code class="t">))</code>&rsquo; 构造。
</p>
</dd>
<dt><code class="t">parameter</code></dt>
<dd><p>在以 <code class="t">$</code> 开头而不是 <code class="t">${</code> 开头的参数扩展中，补全参数名称时。
</p>
</dd>
<dt><code class="t">redirect</code></dt>
<dd><p>当在重定向操作后补全时。
</p>
</dd>
<dt><code class="t">subscript</code></dt>
<dd><p>在参数下标内补全时。
</p>
</dd>
<dt><code class="t">value</code></dt>
<dd><p>当补全参数赋值的值时。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-exact_002c-compstate"></a><span><code class="t">exact</code><a class="copiable-link" href="#index-exact_002c-compstate"> &para;</a></span></dt>
<dd><p>控制设置 <code class="t">REC_EXACT</code> 选项时的行为。 如果接受精确匹配，则设置为 <code class="t">accept</code>，否则不设置。
</p>
<p>如果在生成行上，至少一个匹配与行上字符串相同时设置了该值，则接受该匹配。
</p>
</dd>
<dt><a id="index-exact_005fstring_002c-compstate"></a><span><code class="t">exact_string</code><a class="copiable-link" href="#index-exact_005fstring_002c-compstate"> &para;</a></span></dt>
<dd><p>如果找到完全匹配的字符串，则为该字符串，否则为未设置字符串。
</p>
</dd>
<dt><a id="index-ignored_002c-compstate"></a><span><code class="t">ignored</code><a class="copiable-link" href="#index-ignored_002c-compstate"> &para;</a></span></dt>
<dd><p>由于与 <code class="t">compadd</code> 内置命令 <code class="t">-F</code> 选项中给出的模式之一相匹配而被忽略的补全次数。
</p>
</dd>
<dt><a id="index-insert_002c-compstate"></a><span><code class="t">insert</code><a class="copiable-link" href="#index-insert_002c-compstate"> &para;</a></span></dt>
<dd><p>它控制着将匹配信息插入命令行的方式。 在进入小部件函数时，如果未设置，命令行将不会被更改；如果设置为
<code class="t">unambiguous</code>，则会插入所有匹配的通用前缀；如果设置为
<code class="t">automenu-unambiguous</code>，则会插入通用前缀，下次调用补全代码时可能会启动菜单补全（由于设置了 <code class="t">AUTO_MENU</code>选项）；
如果设置为 <code class="t">menu</code> 或 <code class="t">automenu</code>，则将为当前生成的匹配启动菜单补全（在后一种情况下，这是因为设置了
<code class="t">AUTO_MENU</code>）。该值还可能包含字符串 &lsquo;<code class="t">tab</code>&rsquo; ，此时补全代码通常不会真正执行补全，而只会插入 TAB 字符。
</p>
<p>退出时，它可以被设置为上述任意值（设置为空字符串与取消设置相同），也可以被设置为一个数字，在这种情况下，给出数字的匹配项将被插入命令行。
负数从最后一个匹配项开始倒数（ &lsquo;<code class="t">-1</code>&rsquo; 选择最后一个匹配项），超出范围的数值会被回绕，因此数值为 0 会选择最后一个匹配项，而比最大值大 1
的数值会选择第一个匹配项。除非该键的值以空格结束，否则会像菜单补全一样插入匹配，即不会自动添加空格。
</p>
<p><code class="t">menu</code> 和 <code class="t">automenu</code> 还可以在冒号后指定要插入的匹配项的编号。 例如，&lsquo;<code class="t">menu:2</code>&rsquo; 表示从第二个匹配开始菜单补全。
</p>
<p>请注意，如果值包含子字符串 &lsquo;<code class="t">tab</code>&rsquo; ，则生成的匹配将被忽略，只插入 TAB。
</p>
<p>最后，也可以将其设置为 <code class="t">all</code>，这样就可以将生成的所有匹配结果插入到行中。
</p>
</dd>
<dt><a id="index-insert_005fpositions_002c-compstate"></a><span><code class="t">insert_positions</code><a class="copiable-link" href="#index-insert_005fpositions_002c-compstate"> &para;</a></span></dt>
<dd><p>当补全系统在行中插入一个无歧义的字符串时，可能会有多个位置缺少字符或插入的字符与至少一个匹配字符不同。
此键的值包含所有这些位置的冒号分隔列表，作为命令行的索引。
</p>
</dd>
<dt><a id="index-last_005fprompt_002c-compstate"></a><span><code class="t">last_prompt</code><a class="copiable-link" href="#index-last_005fprompt_002c-compstate"> &para;</a></span></dt>
<dd><p>如果为每一个添加的匹配设置为非空字符串，则在显示补全信息列表后，补全代码会将光标移回上一个提示符。 最初，该值的设置与否取决于
<code class="t">ALWAYS_LAST_PROMPT</code> 选项。
</p>
</dd>
<dt><a id="index-list_002c-compstate"></a><span><code class="t">list</code><a class="copiable-link" href="#index-list_002c-compstate"> &para;</a></span></dt>
<dd><p>用于控制是否显示匹配列表或如何显示匹配列表。 如果未设置或为空，则永远不显示匹配结果；如果以 <code class="t">list</code> 开头，则始终显示匹配结果；如果以
<code class="t">autolist</code> 或 <code class="t">ambiguous</code> 开头，则在 <code class="t">AUTO_LIST</code> 或 <code class="t">LIST_AMBIGUOUS</code>
选项通常会分别显示匹配结果时，显示匹配结果。
</p>
<p>如果子字符串 <code class="t">force</code> 出现在值中，即使只有一个匹配项，也会显示列表。通常，只有当至少有两个匹配项时，列表才会显示。
</p>
<p>如果设置了 <code class="t">LIST_PACKED</code> 选项，则该值包含子字符串 <code class="t">packed</code>。如果为添加到组中的所有匹配给出了该子串，则该组将显示
<code class="t">LIST_PACKED</code> 行为。同样，带子字符串 <code class="t">rows</code> 的 <code class="t">LIST_ROWS_FIRST</code> 选项也是如此。
</p>
<p>最后，如果值中包含字符串 <code class="t">explanations</code>，则只会列出解释字符串（如果有）；如果值中包含 <code class="t">messages</code>，则只会列出消息（通过
<code class="t">compadd</code> 的 <code class="t">-x</code> 选项添加）。 如果同时包含 <code class="t">explanations</code> 和
<code class="t">messages</code>，则会列出两种解释字符串。 在进入补全小部件时，它将被适当设置，并可在此处更改。
</p>
</dd>
<dt><a id="index-list_005flines_002c-compstate"></a><span><code class="t">list_lines</code><a class="copiable-link" href="#index-list_005flines_002c-compstate"> &para;</a></span></dt>
<dd><p>这给出了显示完整的补全列表所需的行数。 请注意，要计算显示的总行数，需要在此值上加上命令行所需的行数，这可以通过 <code class="t">BUFFERLINES</code>
特殊参数的值获得。
</p>
</dd>
<dt><a id="index-list_005fmax_002c-compstate"></a><span><code class="t">list_max</code><a class="copiable-link" href="#index-list_005fmax_002c-compstate"> &para;</a></span></dt>
<dd><p>初始值为 <code class="t">LISTMAX</code> 参数的值。也可以设置为任何其他值；小部件退出时，该值的使用方式与 <code class="t">LISTMAX</code> 值相同。
</p>
</dd>
<dt><a id="index-nmatches_002c-compstate"></a><span><code class="t">nmatches</code><a class="copiable-link" href="#index-nmatches_002c-compstate"> &para;</a></span></dt>
<dd><p>目前补全代码添加的匹配数。
</p>
</dd>
<dt><a id="index-old_005finsert_002c-compstate"></a><span><code class="t">old_insert</code><a class="copiable-link" href="#index-old_005finsert_002c-compstate"> &para;</a></span></dt>
<dd><p>在进入小部件时，该值将被设置为当前插入命令行的旧补全列表的匹配编号。如果没有插入匹配项，则不设置。
</p>
<p>与 <code class="t">old_list</code> 一样，该键的值只有在是   <code class="t">keep</code>
字符串时才会被使用。如果它被小部件设置为这个值，并且有一个旧的匹配项插入到命令行中，那么这个匹配项将被保留；如果 <code class="t">insert</code>
键的值指定插入另一个匹配项，那么这个匹配项将被插入到旧的匹配项之后。
</p>
</dd>
<dt><a id="index-old_005flist_002c-compstate"></a><span><code class="t">old_list</code><a class="copiable-link" href="#index-old_005flist_002c-compstate"> &para;</a></span></dt>
<dd><p>如果在调用该小部件时，前一个补全操作的补全列表仍然有效，则将其设置为 <code class="t">yes</code>。
通常只有在上一次编辑操作是使用补全小部件或内置补全函数时，才会出现这种情况。 如果有一个有效的列表，并且当前也显示在屏幕上，则此键的值为
<code class="t">shown</code>。
</p>
<p>小部件退出后，该键的值只有在被设置为 <code class="t">keep</code> 时才会被使用。 在这种情况下，补全代码将继续使用旧列表。
如果小部件生成了新的匹配项，则不会使用这些匹配项。
</p>
</dd>
<dt><a id="index-parameter_002c-compstate"></a><span><code class="t">parameter</code><a class="copiable-link" href="#index-parameter_002c-compstate"> &para;</a></span></dt>
<dd><p>在下标或参数赋值中值中补全时，参数名称。
</p>
</dd>
<dt><a id="index-pattern_005finsert_002c-compstate"></a><span><code class="t">pattern_insert</code><a class="copiable-link" href="#index-pattern_005finsert_002c-compstate"> &para;</a></span></dt>
<dd><p>通常情况下，它被设置为 <code class="t">menu</code>，即指定在使用 <code class="t">pattern_match</code>（见下文）生成匹配集时使用菜单补全。
如果用户将其设置为任何其他非空字符串，且没有通过其他选项设置选择菜单补全，则代码会像普通补全一样，为生成的匹配插入任何通用前缀。
</p>
</dd>
<dt><a id="index-pattern_005fmatch_002c-compstate"></a><span><code class="t">pattern_match</code><a class="copiable-link" href="#index-pattern_005fmatch_002c-compstate"> &para;</a></span></dt>
<dd><p>本地控制 <code class="t">GLOB_COMPLETE</code> 选项的行为。 初始化时，当且仅当该选项被设置时，它才会被设置为&lsquo;<code class="t">*</code>&rsquo;。
补全小部件可以将其设置为该值、空字符串（与取消设置的效果相同）或任何其他非空字符串。 如果它为非空字符串，命令行中未加引号的元字符将被视为模式；如果它为
&lsquo;<code class="t">*</code>&rsquo;，则光标位置上会出现通配符 &lsquo;<code class="t">*</code>&rsquo; ；如果它为空字符串或未设置，元字符将按字面意思处理。
</p>
<p>请注意，如果将这（ <code class="t">compadd</code> ）设置为非空字符串，则不会使用内置命令 <code class="t">compadd</code> 的匹配规范。
</p>
</dd>
<dt><a id="index-quote_002c-compstate"></a><span><code class="t">quote</code><a class="copiable-link" href="#index-quote_002c-compstate"> &para;</a></span></dt>
<dd><p>在引号内补全时，该值包含引号字符（即单引号、双引号或反引号）。 否则未设置。
</p>
</dd>
<dt><a id="index-quoting_002c-compstate"></a><span><code class="t">quoting</code><a class="copiable-link" href="#index-quoting_002c-compstate"> &para;</a></span></dt>
<dd><p>如果在单引号内补全，则设置为字符串 <code class="t">single</code>；在双引号内补全，则设置为字符串 <code class="t">double</code>；在反引号内补全，则设置为字符串
<code class="t">backtick</code>。 否则不设置。
</p>
</dd>
<dt><a id="index-redirect_002c-compstate"></a><span><code class="t">redirect</code><a class="copiable-link" href="#index-redirect_002c-compstate"> &para;</a></span></dt>
<dd><p>在重定向位置补全时的重定向操作符，即 <code class="t">&lt;</code>、<code class="t">&gt;</code> 等中的一个。
</p>
</dd>
<dt><a id="index-restore_002c-compstate"></a><span><code class="t">restore</code><a class="copiable-link" href="#index-restore_002c-compstate"> &para;</a></span></dt>
<dd><p>在进入函数前将其设置为
<code class="t">auto</code>，会强制上述特殊参数（<code class="t">words</code>、<code class="t">CURRENT</code>、<code class="t">PREFIX</code>、<code class="t">IPREFIX</code>、<code class="t">SUFFIX</code> 和
<code class="t">ISUFFIX</code>）在函数退出时恢复为之前的值。 如果函数取消设置或将其设置为任何其他字符串，它们将不会被恢复。
</p>
</dd>
<dt><a id="index-to_005fend_002c-compstate"></a><span><code class="t">to_end</code><a class="copiable-link" href="#index-to_005fend_002c-compstate"> &para;</a></span></dt>
<dd><p>指定插入匹配时光标移动到字符串末尾的场合。 在进入小部件函数时，可能是 <code class="t">single</code>（如果在插入单个明确的匹配项时会发生）或者
<code class="t">match</code>（如果在插入任何匹配项时都会发生）。（例如，通过菜单补全；这很可能是 <code class="t">ALWAYS_TO_END</code> 选项的效果）
</p>
<p>退出时，它可能会被设置为 <code class="t">single</code>。 也可以设置为
<code class="t">always</code>、空字符串或未设置；在这些情况下，光标将分别移动到字符串的末尾（始终或从不）。 任何其他字符串都将被视为 <code class="t">match</code>。
</p>
</dd>
<dt><a id="index-unambiguous_002c-compstate"></a><span><code class="t">unambiguous</code><a class="copiable-link" href="#index-unambiguous_002c-compstate"> &para;</a></span></dt>
<dd><p>此键为只读键，将始终设置为补全代码为迄今添加的所有匹配生成的通用（无歧义）前缀。
</p>
</dd>
<dt><a id="index-unambiguous_005fcursor_002c-compstate"></a><span><code class="t">unambiguous_cursor</code><a class="copiable-link" href="#index-unambiguous_005fcursor_002c-compstate"> &para;</a></span></dt>
<dd><p>如果插入 <code class="t">unambiguous</code> 键中的普通前缀，则光标将位于该键值的相对位置。光标将被置于该键给出的索引的字符之前。
</p>
</dd>
<dt><a id="index-unambiguous_005fpositions_002c-compstate"></a><span><code class="t">unambiguous_positions</code><a class="copiable-link" href="#index-unambiguous_005fpositions_002c-compstate"> &para;</a></span></dt>
<dd><p>其中包含在无歧义字符串中缺少字符或插入的字符与至少一个匹配字符不同的所有位置。 这些位置以 <code class="t">unambiguous</code>
键值所给字符串的索引形式给出。
</p>
</dd>
<dt><a id="index-vared_002c-compstate"></a><span><code class="t">vared</code><a class="copiable-link" href="#index-vared_002c-compstate"> &para;</a></span></dt>
<dd><p>如果在使用 <code class="t">vared</code> 内置函数编辑一行时调用了补全，则此键的值将被设置为作为 <code class="t">vared</code> 参数给出的参数的名称。 只有在
<code class="t">vared</code> 命令激活时，才会设置此键。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-words"></a><span><code class="t">words</code><a class="copiable-link" href="#index-words"> &para;</a></span></dt>
<dd><p>该数组包含当前正在编辑的命令行中出现的单词。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_5185_7f6e_547d_4ee4">

<h3 class="section" id="Bu-Quan-Nei-Zhi-Ming-Ling-"><span>19.3 补全内置命令<a class="copiable-link" href="#Bu-Quan-Nei-Zhi-Ming-Ling-"> &para;</a></span></h3>
<dl class="table">
<dd><a class="index-entry-id" id="index-compadd"></a>
<a class="index-entry-id" id="index-Bu-Quan-Xiao-Bu-Jian-_002c-Zeng-Jia-Zhi-Ding-De-Pi-Pei-"></a>

</dd>
<dt><code class="t">compadd </code>[ <code class="t">-akqQfenUl12C</code> ] [ <code class="t">-F</code> <var class="var">array</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-P</code> <var class="var">prefix</var> ] [ <code class="t">-S</code> <var class="var">suffix</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-p</code> <var class="var">hidden-prefix</var> ] [ <code class="t">-s</code> <var class="var">hidden-suffix</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-i</code> <var class="var">ignored-prefix</var> ] [ <code class="t">-I</code> <var class="var">ignored-suffix</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-W</code> <var class="var">file-prefix</var> ] [ <code class="t">-d</code> <var class="var">array</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-J</code> <var class="var">group-name</var> ] [ <code class="t">-X</code> <var class="var">explanation</var> ] [ <code class="t">-x</code> <var class="var">message</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-V</code> <var class="var">group-name</var> ] [ <code class="t">-o</code> [ <var class="var">order</var> ] ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-r</code> <var class="var">remove-chars</var> ] [ <code class="t">-R</code> <var class="var">remove-func</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-D</code> <var class="var">array</var> ] [ <code class="t">-O</code> <var class="var">array</var> ] [ <code class="t">-A</code> <var class="var">array</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-E</code> <var class="var">number</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[<code class="t">-M</code> <var class="var">match-spec</var> ] [ <code class="t">-</code><code class="t">-</code> ] [ <var class="var">completions</var> ... ]</dt>
<dd>
<p>该内置命令可用于直接添加匹配信息，并控制补全代码在每个可能补全时存储的所有信息。如果至少添加了一个匹配项，返回状态为
0；如果没有添加匹配项，返回状态为非 0。
</p>
<p>补全代码将每个匹配项按顺序分解为七个字段：
</p>
<blockquote class="quotation">
<p><var class="var">&lt;ipre&gt;&lt;apre&gt;&lt;hpre&gt;&lt;body&gt;&lt;hsuf&gt;&lt;asuf&gt;&lt;isuf&gt;</var>
</p></blockquote>

<p>第一个字段是来自命令行的忽略的前缀，即 <code class="t">IPREFIX</code> 参数的内容加上 <code class="t">-i</code> 选项的字符串。使用 <code class="t">-U</code> 选项时，只使用
<code class="t">-i</code> 选项中的字符串。字段 <var class="var">&lt;apre&gt;</var> 是通过 <code class="t">-P</code> 选项给出的可选前缀字符串。 <var class="var">&lt;hpre&gt;</var> 字段是通过
<code class="t">-p</code> 选项给出的字符串，它被视为匹配的一部分，但在列出补全时不应显示；例如，生成文件名的函数可能会以这种方式指定常用路径前缀。
<var class="var">&lt;body&gt;</var> 是应出现在向用户显示的匹配列表中的匹配部分。 后缀 <var class="var">&lt;hsuf&gt;</var>、<var class="var">&lt;asuf&gt;</var> 和
<var class="var">&lt;isuf&gt;</var> 与前缀 <var class="var">&lt;hpre&gt;</var>、<var class="var">&lt;apre&gt;</var> 和 <var class="var">&lt;ipre&gt;</var> 相对应，分别由选项
<code class="t">-s</code>、<code class="t">-S</code> 和 <code class="t">-I</code> 指定。
</p>
<p>支持的标志是：
</p>
<dl class="table">
<dt><code class="t">-P</code> <var class="var">prefix</var></dt>
<dd><p>这将在每次匹配之前插入一个字符串。 给定的字符串不会被视为匹配的一部分，在插入字符串时，其中的任何 shell 元字符都不会被加引号。
</p>
</dd>
<dt><code class="t">-S</code> <var class="var">suffix</var></dt>
<dd><p>类似于 <code class="t">-P</code>，但会在每次匹配后插入一个字符串。
</p>
</dd>
<dt><code class="t">-p</code> <var class="var">hidden-prefix</var></dt>
<dd><p>这给出了一个应插入到每个匹配字符串之前的字符串，但该字符串不应出现在匹配字符串列表中。除非给出 <code class="t">-U</code>
选项，否则该字符串必须作为命令行字符串的一部分进行匹配。
</p>
</dd>
<dt><code class="t">-s</code> <var class="var">hidden-suffix</var></dt>
<dd><p>类似于 &lsquo;<code class="t">-p</code>&rsquo;，但会在每次匹配后插入一个字符串。
</p>
</dd>
<dt><code class="t">-i</code> <var class="var">ignored-prefix</var></dt>
<dd><p>这将给出一个字符串，插入到任何使用 &lsquo;<code class="t">-P</code>&rsquo; 选项给出的字符串之前。 如果不使用 &lsquo;<code class="t">-P</code>&rsquo;，字符串会被插入到使用
&lsquo;<code class="t">-p</code>&rsquo;的字符串之前，或者直接插入到每个匹配的字符串之前。
</p>
</dd>
<dt><code class="t">-I</code> <var class="var">ignored-suffix</var></dt>
<dd><p>与 <code class="t">-i</code>类似，但给出了一个被忽略的后缀。
</p>
</dd>
<dt><code class="t">-a</code></dt>
<dd><p>使用该标志后，<var class="var">completions</var> 将作为数组的名称，而实际补全则是它们的值。
如果只需要数组中的某些元素，<var class="var">completions</var> 也可以包含下标，如 &lsquo;<code class="t">foo[2,-1]</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-k</code></dt>
<dd><p>使用此标志时，<var class="var">completions</var> 将被视为关联数组的名称，而实际补全则是其键。 与 <code class="t">-a</code> 一样，<var class="var">words</var>
也可以包含下标，如  &lsquo;<code class="t">foo[(R)*bar*]</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-d</code> <var class="var">array</var></dt>
<dd><p>这将添加按补全显示的字符串。每个 <var class="var">completion</var> 都应在 <var class="var">array</var>
中包含一个元素。补全代码将显示第一个元素，而不是第一个 <var class="var">completion</var>，以此类推。<var class="var">array</var>
可以作为数组参数的名称给出，也可以直接作为括号中空格分隔的单词列表给出。
</p>
<p>如果显示字符串少于 <var class="var">completions</var>，剩余的 <var class="var">completions</var> 将保持不变；如果显示字符串多于
<var class="var">completions</var>，剩余的显示字符串将被静默忽略。
</p>
</dd>
<dt><code class="t">-l</code></dt>
<dd><p>该选项只有与 <code class="t">-d</code> 选项一起使用时才有效。如果给定了该选项，显示字符串将按行列出，而不是按列排列。
</p>
</dd>
<dt><code class="t">-o</code> [ <var class="var">order</var> ]</dt>
<dd><p>这将控制匹配结果的排序顺序。<var class="var">order</var> 是一个以逗号分隔的列表，包含以下可能的值。 这些值可以缩写为前两个或三个字符。
请注意，排序是组名空间的一部分，因此不同排序的匹配结果不会出现在同一个组中。
</p>
<dl class="table">
<dt><code class="t">match</code></dt>
<dd><p>如果给定，输出的顺序由匹配字符串决定；否则由显示字符串（即 <code class="t">-d</code> 选项给定的字符串）决定。如果指定了&lsquo;<code class="t">-o</code>&rsquo; 但省略了
<var class="var">order</var> 参数，则默认情况下也是如此。
</p>
</dd>
<dt><code class="t">nosort</code></dt>
<dd><p>这表示 <var class="var">completions</var> 已预先排序，其顺序应保持不变。 此值只能单独使用，不能与其他值结合使用。
</p>
</dd>
<dt><code class="t">numeric</code></dt>
<dd><p>如果匹配项包含数字，则按数字排序，而不是按词典排序。
</p>
</dd>
<dt><code class="t">reverse</code></dt>
<dd><p>颠倒排序顺序，反向排列匹配项。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">-J</code> <var class="var">group-name</var></dt>
<dd><p>给出存储匹配信息的组名称。
</p>
</dd>
<dt><code class="t">-V</code> <var class="var">group-name</var></dt>
<dd><p>与 <code class="t">-J</code> 类似，但命名的是一个未排序的分组。该选项与 <code class="t">-J</code> 和 <code class="t">-o nosort</code> 的组合相同。
</p>
</dd>
<dt><code class="t">-1</code></dt>
<dd><p>如果与 <code class="t">-V</code> 选项一起使用，则只删除组内连续的重复数据。如果与 <code class="t">-J</code>
选项一起使用，则没有明显效果。请注意，有此标志和无此标志的组处于不同的名称空间。
</p>
</dd>
<dt><code class="t">-2</code></dt>
<dd><p>如果与 <code class="t">-J</code> 或 <code class="t">-V</code> 选项一起使用，则会保留所有重复。同样，有此标志和无此标志的组处于不同的名称空间。
</p>
</dd>
<dt><code class="t">-X</code> <var class="var">explanation</var></dt>
<dd><p><var class="var">explanation</var> 字符串将与匹配列表一起打印，位于当前选择的组之上。
</p>
<p>在 <var class="var">explanation</var> 中，可使用以下序列指定输出属性（参见 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>）： &lsquo;<code class="t">%B</code>&rsquo;, &lsquo;<code class="t">%S</code>&rsquo;,
&lsquo;<code class="t">%U</code>&rsquo;, &lsquo;<code class="t">%F</code>&rsquo;, &lsquo;<code class="t">%K</code>&rsquo;及其小写对应序列，以及&lsquo;<code class="t">%{</code>...<code class="t">%}</code>&rsquo;.  &lsquo;<code class="t">%F</code>&rsquo;,
&lsquo;<code class="t">%K</code>&rsquo;  并且 &lsquo;<code class="t">%{</code>...<code class="t">%}</code>&rsquo;  的参数形式与提示符扩展相同。 (注意，&lsquo;<code class="t">%G</code>&rsquo; 序列不可用；应使用
&lsquo;<code class="t">%{</code>&rsquo; 的参数代替）。 序列 &lsquo;<code class="t">%%</code>&rsquo; 产生一个字面意义上的 &lsquo;<code class="t">%</code>&rsquo;。
</p>
<p>用户在自定义 <code class="t">format</code> 样式时最常使用这些序列（参见 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a>），但在编写补全函数时也必须考虑到这些序列，因为将带有未转义
&lsquo;<code class="t">%</code>&rsquo; 字符的描述传递给 <code class="t">_arguments</code> 和 <code class="t">_message</code>
等实用函数时，可能会产生意想不到的结果。如果要在描述（description）中传递任意文本，可以使用 <code class="t">${my_str//\%/%%}</code>
等方式转义。
</p>
</dd>
<dt><code class="t">-x</code> <var class="var">message</var></dt>
<dd><p>与 <code class="t">-X</code> 类似，但即使组中没有匹配项，也会打印 <var class="var">message</var> 。
</p>
</dd>
<dt><code class="t">-q</code></dt>
<dd><p>如果键入的下一个字符是空白或没有插入任何内容，或者后缀只有一个字符，且键入的下一个字符是相同的字符，则 <code class="t">-S</code> 指定的后缀将自动删除。
</p>
</dd>
<dt><code class="t">-r</code> <var class="var">remove-chars</var></dt>
<dd><p>这是 <code class="t">-q</code> 选项的更加多功能的形式。 如果输入的下一个字符插入了 <var class="var">remove-chars</var> 中给出的字符之一，则 <code class="t">-S</code>
给出的后缀或补全目录后自动添加的斜线将被自动删除。 该字符串会被解析为字符类，并理解 <code class="t">print</code> 命令使用的反斜线序列。 例如， &lsquo;<code class="t">-r
&quot;a-z\t&quot;</code>&rsquo; 会在输入的下一个字符为小写字母或 TAB 时删除后缀， &lsquo;<code class="t">-r &quot;^0-9&quot;</code>&rsquo;
会在输入的下一个字符为数字以外的字符时删除后缀。在这个字符串中，有一个额外的反斜杠序列是可以被理解的： &lsquo;<code class="t">\-</code>&rsquo;
代表所有不插入任何内容的字符。因此， &lsquo;<code class="t">-S &quot;=&quot; -q</code>&rsquo; 与 &lsquo;<code class="t">-S &quot;=&quot; -r &quot;= \t\n\-&quot;</code>&rsquo; 相同。
</p>
<p>该选项也可在不使用 <code class="t">-S</code> 选项的情况下使用；这样，当输入列表中的一个字符时，任何自动添加的空格都会被删除。
</p>
</dd>
<dt><code class="t">-R</code> <var class="var">remove-func</var></dt>
<dd><p>这是 <code class="t">-r</code> 选项的另一种形式。在接受匹配并插入后缀后，将在输入下一个字符后调用 <var class="var">remove-func</var> 函数。
函数将后缀的长度作为参数传递给它，并可以使用普通（非完成）zle widget（参见 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>）中的特殊参数来分析和修改命令行。
</p>
</dd>
<dt><code class="t">-f</code></dt>
<dd><p>如果给定了该标志，从 <var class="var">completions</var> 生成的所有匹配结果都会被标记为文件名。 它们不一定是实际文件名，但如果是实际文件名，且选项
<code class="t">LIST_TYPES</code> 已设置，则会在补全列表中显示描述文件类型的字符。这也会强制在补全目录名称时添加斜线。
</p>
</dd>
<dt><code class="t">-e</code></dt>
<dd><p>该标志可用于告诉补全代码所添加的匹配是参数扩展的参数名。这将使 <code class="t">AUTO_PARAM_SLASH</code> 和 <code class="t">AUTO_PARAM_KEYS</code>
选项用于匹配。
</p>
</dd>
<dt><code class="t">-W</code> <var class="var">file-prefix</var></dt>
<dd><p>该字符串是一个路径名，将与 <code class="t">-p</code> 选项指定的任何前缀一起被添加到每个匹配项的前缀中，以形成一个完整的文件名进行测试。 因此，它只有与
<code class="t">-f</code> 标志结合使用时才有用，否则不会执行测试。
</p>
</dd>
<dt><code class="t">-F</code> <var class="var">array</var></dt>
<dd><p>指定一个包含模式的数组。 与其中一个模式匹配的 <var class="var">completions</var> 将被忽略，即不被视为匹配项。
</p>
<p><var class="var">array</var> 可以是一个数组参数的名称，也可以是一个用括号和引号括起来的字面模式列表，如  &lsquo;<code class="t">-F &quot;(*?.o *?.h)&quot;</code>&rsquo;
中。如果给出的是数组名称，则数组元素将作为模式。
</p>
</dd>
<dt><code class="t">-Q</code></dt>
<dd><p>该标志指示补全代码在将匹配插入命令行时，不对匹配符中的任何元字符加引号。
</p>
</dd>
<dt><code class="t">-M</code> <var class="var">match-spec</var></dt>
<dd><p>这将提供 <a class="ref" href="#g_t_8865_5168_5339_914d_63a7_5236">补全匹配控制</a> 中描述的本地匹配规范。该选项可以给出多次。 在这种情况下，所有给出的 <var class="var">match-spec</var>
都会用空格连接起来，形成要使用的规范字符串。 请注意，只有在未给出 <code class="t">-U</code> 选项时，才会使用这些字符串。
</p>
</dd>
<dt><code class="t">-n</code></dt>
<dd><p>指定将匹配的 <var class="var">completions</var> 加入匹配集，但不向用户列出。
</p>
</dd>
<dt><code class="t">-U</code></dt>
<dd><p>如果给出此标志，所有 <var class="var">completions</var> 都会被添加到匹配集合中，补全代码将不进行匹配。通常情况下，该标志用于自行完成匹配的函数。
</p>
</dd>
<dt><code class="t">-O</code> <var class="var">array</var></dt>
<dd><p>如果给定了该选项，<var class="var">completions</var>  <em class="emph">不会</em> 被添加到匹配集合中。 相反，匹配将像往常一样进行，所有匹配到的
<var class="var">completions</var> 都将存储在数组参数中，该参数的名称为 <var class="var">array</var>。
</p>
</dd>
<dt><code class="t">-A</code> <var class="var">array</var></dt>
<dd><p>与 <code class="t">-O</code> 选项相同，只不过 <var class="var">completions</var> 中的匹配字符串不存储在 <var class="var">array</var>
中，而是存储补全代码内部生成的字符串。 例如，如果匹配规范为 &lsquo;<code class="t">-M &quot;L:|no=&quot;</code>&rsquo;，当前单词为&lsquo;<code class="t">nof</code>&rsquo;，
<var class="var">completions</var> 为 &lsquo;<code class="t">foo</code>&rsquo; ，则该选项会在数组中存储字符串 &lsquo;<code class="t">nofoo</code>&rsquo; ，而 <code class="t">-O</code>
选项则存储最初给出的字符串 &lsquo;<code class="t">foo</code>&rsquo; 。
</p>
</dd>
<dt><code class="t">-D</code> <var class="var">array</var></dt>
<dd><p>与 <code class="t">-O</code> 一样，<var class="var">completions</var> 不会添加到匹配集合中。 相反，只要第 <var class="var">n</var> 个 <var class="var">completion</var>
不匹配，<var class="var">array</var> 的第 <var class="var">n</var> 个元素就会被移除。 相应 <var class="var">completion</var> 匹配的元素会被保留。
可以多次使用此选项来从多个数组中删除元素。
</p>
</dd>
<dt><code class="t">-C</code></dt>
<dd><p>该选项会添加一个特殊匹配项，在插入一行时会扩展到所有其他匹配项，即使是在使用该选项后添加的匹配项也不例外。 与 <code class="t">-d</code>
选项一起使用时，可以指定在列表中显示该特殊匹配的字符串。
如果没有指定字符串，则会显示为一个字符串，其中包含为其他匹配项插入的字符串，并根据屏幕宽度截断。
</p>
</dd>
<dt><code class="t">-E</code> <var class="var">number</var></dt>
<dd><p>该选项会在添加了匹配的 <var class="var">completions</var> 之后添加 <var class="var">number</var> 个空匹配。
空匹配会占用补全列表的空间，但永远不会插入行中，也不能用菜单补全或菜单选择来选择。
这使得空匹配只在格式化补全列表和在补全列表中显示解释性字符串时有用（因为可以使用 <code class="t">-d</code> 选项为空匹配提供显示字符串）。
由于除了一个空字符串之外的所有字符串都会被删除，因此该选项意味着 <code class="t">-V</code> 和 <code class="t">-2</code> 选项（即使给出了明确的 <code class="t">-J</code> 选项）。
这一点很重要，因为它会影响到添加匹配的名称空间。
</p>
</dd>
<dt><code class="t">-</code></dt>
<dt><code class="t">-</code><code class="t">-</code></dt>
<dd><p>该标志会结束标志和选项列表。其后的所有参数都将作为 <var class="var">completions</var> ，即使它们是以连字符开头的。
</p>
</dd>
</dl>

<p>除 <code class="t">-M</code> 标志外，如果这些标志中的任何一个被多次给出，则将使用第一个标志（及其参数）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Bu-Quan-Xiao-Bu-Jian-_002c-Xiu-Gai-Te-Shu-Can-Shu-"></a>
<a id="index-compset"></a><span><code class="t">compset -p</code> <var class="var">number</var><a class="copiable-link" href="#index-compset"> &para;</a></span></dt>
<dt><code class="t">compset -P</code> [ <var class="var">number</var> ] <var class="var">pattern</var></dt>
<dt><code class="t">compset -s</code> <var class="var">number</var></dt>
<dt><code class="t">compset -S</code> [ <var class="var">number</var> ] <var class="var">pattern</var></dt>
<dt><code class="t">compset -n</code> <var class="var">begin</var> [ <var class="var">end</var> ]</dt>
<dt><code class="t">compset -N</code> <var class="var">beg-pat</var> [ <var class="var">end-pat</var> ]</dt>
<dt><code class="t">compset -q</code></dt>
<dd><p>该命令简化了特殊参数的修改，其返回状态允许对特殊参数进行测试。
</p>
<p>这些选项是：
</p>
<dl class="table">
<dt><code class="t">-p</code> <var class="var">number</var></dt>
<dd><p>如果 <code class="t">PREFIX</code> 参数的值至少有 <var class="var">number</var> 个字符长，则会从中删除前 <var class="var">number</var> 个字符，并追加到
<code class="t">IPREFIX</code> 参数的内容中。
</p>
</dd>
<dt><code class="t">-P</code> [ <var class="var">number</var> ] <var class="var">pattern</var></dt>
<dd><p>如果 <code class="t">PREFIX</code> 参数的值以与 <var class="var">pattern</var> 匹配的内容开头，则匹配的部分会从 <code class="t">PREFIX</code> 中移除，并追加到
<code class="t">IPREFIX</code> 中。
</p>
<p>如果不使用可选的 <var class="var">number</var>，则取最长的匹配，但如果给出 <var class="var">number</var>，则移动第 <var class="var">number</var> 个之前的所有匹配。
如果 <var class="var">number</var> 为负数，则移动第 <var class="var">number</var> 个最长的匹配项。例如，如果 <code class="t">PREFIX</code> 包含字符串
&lsquo;<code class="t">a=b=c</code>&rsquo;，那么 <code class="t">compset -P '*\='</code> 将把字符串 &lsquo;<code class="t">a=b=</code>&rsquo; 移动到 <code class="t">IPREFIX</code> 参数中，但
<code class="t">compset -P 1 '*\='</code> 只移动字符串 &lsquo;<code class="t">a=</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-s</code> <var class="var">number</var></dt>
<dd><p>与 <code class="t">-p</code>相同，但会将 <code class="t">SUFFIX</code> 值中的最后 <var class="var">number</var> 个字符转到 <code class="t">ISUFFIX</code> 值的前面。
</p>
</dd>
<dt><code class="t">-S</code> [ <var class="var">number</var> ] <var class="var">pattern</var></dt>
<dd><p>与 <code class="t">-P</code> 相同，但匹配 <code class="t">SUFFIX</code> 的最后部分，并将匹配的部分转到 <code class="t">ISUFFIX</code> 值的前面。
</p>
</dd>
<dt><code class="t">-n</code> <var class="var">begin</var> [ <var class="var">end</var> ]</dt>
<dd><p>如果参数 <code class="t">CURRENT</code> 指定的当前字词位置大于或等于 <var class="var">begin</var>，则从 <code class="t">words</code> 数组中删除第 <var class="var">begin</var>
个字词之前的所有内容，并按 <var class="var">begin</var> 递减参数 <code class="t">CURRENT</code> 的值。
</p>
<p>如果给出了可选的 <var class="var">end</var>，则只有在当前单词位置也小于或等于 <var class="var">end</var> 时，才会进行修改。在这种情况下，从 <var class="var">end</var>
开始的单词也会从 <code class="t">words</code> 数组中删除。
</p>
<p><var class="var">begin</var> 和 <var class="var">end</var> 都可以是负数，以便从 <code class="t">words</code> 数组的最后一个元素开始倒数。
</p>
</dd>
<dt><code class="t">-N</code> <var class="var">beg-pat</var> [ <var class="var">end-pat</var> ]</dt>
<dd><p>如果 <code class="t">words</code> 数组中位于参数 <code class="t">CURRENT</code> 值给出的索引处的元素之前的一个元素与 <var class="var">beg-pat</var> 模式相匹配，则从
<code class="t">words</code> 数组中删除匹配元素之前的所有元素，并更改 <code class="t">CURRENT</code> 的值，使其指向已更改数组中的相同单词。
</p>
<p>如果同时给出了可选模式 <var class="var">end-pat</var>，并且 <code class="t">words</code> 数组中存在与该模式匹配的元素，那么只有当该词的索引高于
<code class="t">CURRENT</code> 参数给出的索引（因此匹配词必须在游标之后）时，才会修改参数。在这种情况下，从 <code class="t">end-pat</code> 开始的单词也会从
<code class="t">words</code> 数组中删除。如果 <code class="t">words</code> 数组中没有与 <var class="var">end-pat</var> 匹配的单词，则会像没有给出
<var class="var">end-pat</var> 一样进行测试和修改。
</p>
</dd>
<dt><code class="t">-q</code></dt>
<dd><p>当前正在补全的单词会按空格分割成不同的单词，并遵守通常的 shell 引号约定。 生成的单词存储在 <code class="t">words</code>
数组中，<code class="t">CURRENT</code>、<code class="t">PREFIX</code>、<code class="t">SUFFIX</code>、<code class="t">QIPREFIX</code> 和 <code class="t">QISUFFIX</code>
将被修改，以反映已补全的单词部分。
</p>
</dd>
</dl>

<p>在上述所有情况下，如果测试成功且参数被修改，则返回状态为 0，否则为非 0。这样就可以在以下测试中使用该内置函数：
</p>
<div class="example">
<pre class="example-preformatted">if compset -P '*\='; then ...
</pre></div>

<p>这样，补全代码就会忽略直到并包括最后一个等号在内的所有内容。
</p>
</dd>
<dt><code class="t">compcall</code> [ <code class="t">-TD</code> ]</dt>
<dd><p>这样就可以在补全小部件中使用 <code class="t">compctl</code> 内置函数定义的补全。 除了只使用为特定命令提供的 <code class="t">compctl</code>
外，匹配列表的生成过程与调用非小部件的补全函数（<code class="t">complete-word</code> 等）相同。要强制代码在适当的地方尝试 <code class="t">compctl</code> 的
<code class="t">-T</code> 选项定义的补全函数和/或默认补全函数（无论是 <code class="t">compctl -D</code> 还是内置默认），可以将 <code class="t">-T</code> 和/或 <code class="t">-D</code>
标志传递给 <code class="t">compcall</code>。
</p>
<p>返回状态可用于测试是否找到匹配的 <code class="t">compctl</code> 定义。如果找到 <code class="t">compctl</code>，返回状态为非零，否则为零。
</p>
<p>请注意，该内置程序是由 <code class="t">zsh/compctl</code> 模块定义的。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_6761_4ef6_4ee3_7801">

<h3 class="section" id="Bu-Quan-Tiao-Jian-Dai-Ma-"><span>19.4 补全条件代码<a class="copiable-link" href="#Bu-Quan-Tiao-Jian-Dai-Ma-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xiao-Bu-Jian-_002c-Tiao-Jian-Dai-Ma-"></a>

<p>在补全小部件中，可以使用以下用于 <code class="t">[[</code> <var class="var">...</var> <code class="t">]]</code> 结构的附加条件代码。 这些代码适用于特殊参数。 所有这些测试也可由
<code class="t">compset</code> 内置函数执行，但在条件代码的情况下，特殊参数的内容不会被修改。
</p>
<dl class="table">
<dt><code class="t">-prefix</code> [ <var class="var">number</var> ] <var class="var">pattern</var></dt>
<dd><p>如果 <code class="t">compset</code> 的 <code class="t">-P</code> 选项测试成功，则为 true。
</p>
</dd>
<dt><code class="t">-suffix</code> [ <var class="var">number</var> ] <var class="var">pattern</var></dt>
<dd><p>如果 <code class="t">compset</code> 的 <code class="t">-S</code> 选项测试成功，则为 true。
</p>
</dd>
<dt><code class="t">-after</code> <var class="var">beg-pat</var></dt>
<dd><p>如果只带有 <var class="var">beg-pat</var>的  <code class="t">-N</code> 选项的测试成功，则为 true。
</p>
</dd>
<dt><code class="t">-between</code> <var class="var">beg-pat end-pat</var></dt>
<dd><p>如果两种模式的 <code class="t">-N</code> 选项的测试都成功，则为 true。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_5339_914d_63a7_5236">

<h3 class="section" id="Bu-Quan-Pi-Pei-Kong-Zhi-"><span>19.5 补全匹配控制<a class="copiable-link" href="#Bu-Quan-Pi-Pei-Kong-Zhi-"> &para;</a></span></h3>

<p>当用户调用补全时，命令行上的当前 <em class="emph">word</em>（即光标当前所在的单词）会被用来生成一个 <em class="emph">匹配模式</em>。 只有那些与模式匹配的
<em class="emph">completions</em> 才会作为 <em class="emph">matches</em> 提供给用户。
</p>
<p>默认的匹配模式是由当前单词生成的，其方法是
</p>
<ul class="itemize mark-bullet">
<li>添加 &lsquo;<code class="t">*</code>&rsquo; （匹配补全中的任意字符数） <em class="emph">或者,</em>
</li><li>如果 shell 选项 <code class="t">COMPLETE_IN_WORD</code> 已设置，则会在光标位置插入 &lsquo;<code class="t">*</code>&rsquo; 。
</li></ul>

<p>通过 <code class="t">-M</code> 选项将 <em class="emph">匹配规范</em> 传递给 <code class="t">compadd</code> 内置命令（参见
<a class="ref" href="#g_t_8865_5168_5185_7f6e_547d_4ee4">补全内置命令</a>），可以有选择性地扩展这种狭义模式。 匹配规范由一个或多个 <var class="var">matchers</var> 组成，以空格分隔。
匹配规范中的匹配器从左到右逐个应用。 一旦应用了所有匹配器，就会将补全与最终匹配模式进行比较，并丢弃不匹配的补全。
</p>
<ul class="itemize mark-bullet">
<li>请注意，如果当前单词包含一个 glob 模式，并且 shell 选项 <code class="t">GLOB_COMPLETE</code> 已被设置，或者特殊关联数组
<code class="t">compstate</code> 的 <code class="t">pattern_match</code> 键被设置为非空值（参见 <a class="ref" href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a>），则 <code class="t">-M</code> 选项将被忽略。
</li><li><a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a> 的用户一般不应直接使用 <code class="t">-M</code> 选项，而应使用 <code class="t">matcher-list</code> 和 <code class="t">matcher</code> 样式（参见
<a class="ref" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a> 中的 <em class="emph">标准样式</em> 小节）。
</li></ul>

<p>每个匹配器由以下部分组成
</p>
<ul class="itemize mark-bullet">
<li>一个大小写相关的字母
</li><li>一个 &lsquo;<code class="t">:</code>&rsquo;,
</li><li>一个或多个用管道 (&lsquo;<code class="t">|</code>&rsquo;)分隔的模式、
</li><li>等号 (&lsquo;<code class="t">=</code>&rsquo;)，以及
</li><li>另一个模式。
</li></ul>

<p>&lsquo;<code class="t">=</code>&rsquo; 之前的模式用于匹配当前单词的子串。 对于每个匹配到的子串，匹配模式的相应部分将通过逻辑 <code class="t">OR</code> 与 &lsquo;<code class="t">=</code>&rsquo;
之后的模式进行扩展。
</p>
<p>匹配器中的每个模式包括
</p>
<ul class="itemize mark-bullet">
<li>空字符串或
</li><li>一序列

<ul class="itemize mark-bullet">
<li>字面字符（可以用一个&lsquo;<code class="t">\</code>&rsquo; 加引号），
</li><li>问号标记 (&lsquo;<code class="t">?</code>&rsquo;),
</li><li>括号表达式（ &lsquo;<code class="t">[...]</code>&rsquo; ；见 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中的 <em class="emph">Glob 操作符</em> 小节），和/或
</li><li>括号表达示 (见下文).
</li></ul>

</li></ul>

<p>其它 shell 模式是不允许的。
</p>
<p>一个大括号表达式，就像一个方括号表达式一样，由下面列表组成
</p>
<ul class="itemize mark-bullet">
<li>字面字符，
</li><li>范围 (&lsquo;<code class="t">0-9</code>&rsquo;)，和/或
</li><li>字符类(&lsquo;<code class="t">[:</code><var class="var">name</var><code class="t">:]</code>&rsquo;)。
</li></ul>

<p>不过，它们之间的区别如下：
</p>
<ul class="itemize mark-bullet">
<li>大括号表达式由一对括号（&lsquo;<code class="t">{...}</code>&rsquo;）分隔。
</li><li>括号表达式不支持否定。 也就是说，开头的 &lsquo;<code class="t">!</code>&rsquo; 或 &lsquo;<code class="t">^</code>&rsquo; 没有特殊含义，将被解释为字面字符。
</li><li>如果当前单词中的一个字符与一个括号表达式中的第 <var class="var">n</var> 个模式匹配时，仅与 &lsquo;<code class="t">=</code>&rsquo; 另一侧的括号表达式中的第 <var class="var">n</var>
个模式（如果有的话）匹配模式的相应部分会进行扩展；如果另一侧没有括号表达式，则该模式为空字符串。
但是，如果任何一个括号表达式的元素多于另一个括号表达式，那么多余的条目将被忽略。
在比较索引时，每个字面字符或字符类都算作一个元素，但每个范围都会扩展为它所代表的字面字符的完整列表。 此外，如果在 &lsquo;<code class="t">=</code>&rsquo; 的 <em class="emph">两</em>
边上，第 <var class="var">n</var> 个模式是 &lsquo;<code class="t">[:upper:]</code>&rsquo; 或 &lsquo;<code class="t">[:lower:]</code>&rsquo;，那么这些模式也会扩展为范围。
</li></ul>

<p>请注意，尽管匹配系统尚未处理多字节字符，但这很可能是未来的扩展。 因此，建议使用 &lsquo;<code class="t">[:upper:]</code>&rsquo; 和 &lsquo;<code class="t">[:lower:]</code>&rsquo;
，而不是 &lsquo;<code class="t">A-Z</code>&rsquo; 和 &lsquo;<code class="t">a-z</code>&rsquo;。
</p>
<p>以下是匹配器支持的不同形式。 每种 <em class="emph">大写</em>
形式的行为都与小写匹配器完全相同，但在匹配模式过滤掉非匹配补全<em class="emph">后</em>，会增加一个额外步骤：
由大写匹配器的子模式匹配的每个匹配子串都会被当前单词的相应子串替换。 但是，来自 <em class="emph">小写</em>
匹配器的模式权重更高：如果当前单词的子串同时被小写和大写匹配器的模式匹配，则小写匹配器的模式获胜，匹配的相应部分不会被修改。
</p>
<p>除非另有说明，否则列出的每个示例都假定 <code class="t">COMPLETE_IN_WORD</code> 未设置（默认情况下是这样）。
</p>
<dl class="table">
<dt><code class="t">m:</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">M:</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dd>
<p>对于当前单词中与 <var class="var">word-pat</var> 匹配的每个子串，拓宽匹配模式的相应部分，使其额外匹配 <var class="var">match-pat</var>。
</p>
<dl class="table">
<dt>例如：</dt>
<dd>
<p><code class="t">m:{[:lower:]}={[:upper:]}</code> 让当前单词中的任何小写字符都能补全为自己或其对应的大写字符。因此，
&lsquo;<code class="t">foo</code>&rsquo;, &lsquo;<code class="t">FOO</code>&rsquo; 和&lsquo;<code class="t">Foo</code>&rsquo; 将被视为与单词 &lsquo;<code class="t">fo</code>&rsquo; 匹配。
</p>
<p><code class="t">M:_=</code> 将当前单词中的每一个下划线插入到每个匹配中，插入的相对位置相同，由其周围的子串匹配决定。 因此，在给定补全词 &lsquo;<code class="t">foo</code>&rsquo;
的情况下，单词 &lsquo;<code class="t">f_o</code>&rsquo; 将被补全为匹配词 &lsquo;<code class="t">f_oo</code>&rsquo;，即使后者并不作为补全词出现。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">b:</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">B:</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">e:</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">E:</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dd>
<p>对于当前单词开始 （ <code class="t">b:</code>eginning ） 或结尾 （<code class="t">e:</code>nd） 处匹配 <var class="var">word-pat</var>
的每个连续子串，扩大匹配模式的相应部分，使其额外匹配 <var class="var">match-pat</var>。
</p>
<dl class="table">
<dt>例如：</dt>
<dd>
<p>&lsquo;<code class="t">b:-=+</code>&rsquo;  可以将当前单词开头的任意数量的减号补全为一个减号或加号。
</p>
<p>&lsquo;<code class="t">B:0=</code>&rsquo; 会将当前单词开头的所有 0 添加到每个匹配的开头。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">l:</code><code class="t">|</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">L:</code><code class="t">|</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">R:</code><var class="var">word-pat</var><code class="t">|</code><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">r:</code><var class="var">word-pat</var><code class="t">|</code><code class="t">=</code><var class="var">match-pat</var></dt>
<dd>
<p>如果在当前单词的 <code class="t">l:</code>eft  (左)或 <code class="t">r:</code>ight （右)边缘有子串与 <var class="var">word-pat</var>
匹配，则扩大匹配模式的相应部分，使其额外匹配 <var class="var">match-pat</var>。
</p>
<p>对于每个 <code class="t">l:</code>、<code class="t">L:</code>、<code class="t">r:</code> 和 <code class="t">R:</code>匹配器（包括下面的匹配器），模式 <var class="var">match-pat</var> 也可以是
&lsquo;<code class="t">*</code>&rsquo;。 它可以匹配补全中的任意数量的字符。
</p>
<dl class="table">
<dt>例如：</dt>
<dd>
<p>即使设置了 <code class="t">COMPLETE_IN_WORD</code>，且光标不在当前单词的末尾，&lsquo;<code class="t">r:|=*</code>&rsquo; 也会在匹配模式后添加 &lsquo;<code class="t">*</code>&rsquo; 。
</p>
<p>如果当前单词以减号开头， &lsquo;<code class="t">L:|-=</code>&rsquo; 将在每次匹配前加上减号。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">l:</code><var class="var">anchor</var><code class="t">|</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">L:</code><var class="var">anchor</var><code class="t">|</code><var class="var">word-pat</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">r:</code><var class="var">word-pat</var><code class="t">|</code><var class="var">anchor</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">R:</code><var class="var">word-pat</var><code class="t">|</code><var class="var">anchor</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dd>
<p>对于当前单词中匹配 <var class="var">word-pat</var> 的每个子串，如果其 <code class="t">l:</code>eft 或 <code class="t">r:</code>ight 上有另一个子串匹配
<var class="var">anchor</var>，则扩大匹配模式的相应部分，使其额外匹配 <var class="var">match-pat</var>。
</p>
<p>请注意，这些匹配器（以及下面的匹配器）只修改 <var class="var">word-pat</var> 所匹配的内容；它们不会改变 <var class="var">anchor</var> （或
<var class="var">coanchor</var>；请参阅下面的匹配器）所匹配内容的匹配行为。
因此，除非匹配模式的相应部分被修改，否则当前单词中的锚点必须像当前单词的任何其他子串一样，在每次完成时都进行字面匹配。
</p>
<p>如果一个匹配器包含至少一个锚点（包括下面有两个锚点的匹配器），那么 <var class="var">match-pat</var> 也可以是 &lsquo;<code class="t">*</code>&rsquo; 或
&lsquo;<code class="t">**</code>&rsquo;。&lsquo;<code class="t">*</code>&rsquo; 可以匹配不包含任何匹配 <var class="var">anchor</var> 的子字符串的补全的任何部分，而 &lsquo;<code class="t">**</code>&rsquo;
可以匹配补全的任何部分。 (请注意，这不同于 &lsquo;<code class="t">l:</code>&rsquo; 和 &lsquo;<code class="t">r:</code>&rsquo;的无锚形式中的 &lsquo;<code class="t">*</code>&rsquo; 行为，也不同于 glob 表达式中的
&lsquo;<code class="t">*</code>&rsquo; 和 &lsquo;<code class="t">**</code>&rsquo;）。
</p>
<dl class="table">
<dt>例如：</dt>
<dd>
<p>&lsquo;<code class="t">r:|.=*</code>&rsquo; 使补全语句  &lsquo;<code class="t">comp.sources.unix</code>&rsquo;  与单词 &lsquo;<code class="t">..u</code>&rsquo; 匹配 &mdash; 但与单词
&lsquo;<code class="t">.u</code>&rsquo;<em class="emph">不</em>匹配。
</p>
<p>给定补全词 &lsquo;<code class="t">-</code><code class="t">-foo</code>&rsquo;，匹配器 &lsquo;<code class="t">L:--|no-=</code>&rsquo; 将补全 &lsquo;<code class="t">-</code><code class="t">-no-</code>&rsquo; 到匹配的
&lsquo;<code class="t">-</code><code class="t">-no-foo</code>&rsquo;。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">l:</code><var class="var">anchor</var><code class="t">||</code><var class="var">coanchor</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">L:</code><var class="var">anchor</var><code class="t">||</code><var class="var">coanchor</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">r:</code><var class="var">coanchor</var><code class="t">||</code><var class="var">anchor</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dt><code class="t">R:</code><var class="var">coanchor</var><code class="t">||</code><var class="var">anchor</var><code class="t">=</code><var class="var">match-pat</var></dt>
<dd>
<p>对于当前单词中符合 <var class="var">anchor</var> 和 <var class="var">coanchor</var> 的任意两个连续子串，按照给出的顺序，在匹配模式中的相应部分之间插入模式
<var class="var">match-pat</var>。
</p>
<p>请注意，与 <var class="var">anchor</var> 不同，模式 <var class="var">coanchor</var> 并不改变 &lsquo;<code class="t">*</code>&rsquo; 可以匹配的内容。
</p>
<dl class="table">
<dt>例如：</dt>
<dd>
<p>&lsquo;<code class="t">r:?||[[:upper:]]=*</code>&rsquo; 会将当前单词 &lsquo;<code class="t">fB</code>&rsquo; 补全为 &lsquo;<code class="t">fooBar</code>&rsquo;，但不会将其补全为
&lsquo;<code class="t">fooHooBar</code>&rsquo; （因为此处的 &lsquo;<code class="t">*</code>&rsquo; 无法匹配包含 &lsquo;<code class="t">[[:upper:]]</code>&rsquo; 的内容），也不会将 &lsquo;<code class="t">B</code>&rsquo;
补全为 &lsquo;<code class="t">fooBar</code>&rsquo;（因为当前单词中没有与 <var class="var">coanchor</var> 匹配的字符）。
</p>
<p>给定当前单词  &lsquo;<code class="t">pass.n</code>&rsquo; 和补全 &lsquo;<code class="t">pass.byname</code>&rsquo;，匹配器 &lsquo;<code class="t">L:.||[[:alpha:]]=by</code>&rsquo;
将产生匹配结果 &lsquo;<code class="t">pass.name</code>&rsquo;。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">x:</code></dt>
<dd>
<p>忽略该匹配器及其右侧的所有匹配器。
</p>
<p>该匹配器用于标记匹配规范的结束。 在一个独立的匹配器列表中，这个匹配器没有任何作用，但在匹配规范被连接起来的情况下（如使用 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a>
时经常出现的情况），它可以允许一个匹配规范覆盖另一个匹配规范。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_5c0f_90e8_4ef6_4e3e_4f8b">

<h3 class="section" id="Bu-Quan-Xiao-Bu-Jian-Ju-Li"><span>19.6 补全小部件举例<a class="copiable-link" href="#Bu-Quan-Xiao-Bu-Jian-Ju-Li"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xiao-Bu-Jian-_002c-ShiLi"></a>

<p>第一步是定义小部件：
</p>
<div class="example">
<pre class="example-preformatted">zle -C complete complete-word complete-files
</pre></div>

<p>然后，可以使用 <code class="t">bindkey</code> 内置命令将小部件绑定到一个键上：
</p>
<div class="example">
<pre class="example-preformatted">bindkey '^X\t' complete
</pre></div>

<p>之后输入 control-X 和 TAB 键后，将调用 shell 函数 <code class="t">complete-files</code>。该函数将生成匹配，例如
</p>
<div class="example">
<pre class="example-preformatted">complete-files () { compadd - * }
</pre></div>

<p>该函数将补全当前目录中与当前单词匹配的文件。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_8865_5168_7cfb_7edf">

<h2 class="chapter" id="Bu-Quan-Xi-Tong-"><span>20 补全系统<a class="copiable-link" href="#Bu-Quan-Xi-Tong-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Ke-Bian-Cheng--1"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Kong-Zhi--1"></a>

<div class="section-level-extent" id="Shuo-Ming--3">
<h3 class="section"><span>20.1 说明<a class="copiable-link" href="#Shuo-Ming--3"> &para;</a></span></h3>

<p>本章将介绍 &quot;新 &quot;补全系统的 shell 代码，即 <code class="t">compsys</code>。 它是基于前一章 <a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>中描述的功能， 用 shell
函数编写的。
</p>
<p>这些功能与上下文有关，对开始补全的时间点很敏感。 许多补全功能已经提供。
因此，除了如何初始化系统（<a class="ref" href="#g_t_521d_59cb_5316">初始化</a>中对此进行了描述）之外，用户无需了解任何细节，就能执行大量任务。
</p>
<p>决定执行何种补全的上下文可能是
</p><ul class="itemize mark-bullet">
<li>参数或选项位置：这些参数描述了请求补全的命令行上的位置。 例如，&lsquo;rmdir 的第一个参数，要补全的单词名称是一个目录&rsquo;；

</li><li>一个特殊的上下文，表示 shell 语法中的一个元素。 例如 &lsquo;命令位置上的单词&rsquo; 或 &lsquo;数组下标&rsquo;。

</li></ul>

<p>完整的上下文规范还包含其他要素，我们将一一介绍。
</p>
<p>除了命令名称和上下文，系统还采用了另外两个概念，即样式 (<em class="emph">styles</em>) 和标签（ <em class="emph">tags</em>）。
它们为用户提供了配置系统行为的方法。
</p>
<p>标签具有双重作用。 它们是匹配的分类系统，通常表示用户可能需要区分的对象类别。 例如，在填写 <code class="t">ls</code> 命令的参数时，用户可能更愿意在
<code class="t">directories</code> 之前尝试 <code class="t">files</code>，因此这两个都是标记。 它们也会作为最右边的元素出现在上下文规范中。
</p>
<p>样式可以修改补全系统的各种操作，例如输出格式，还可以修改使用哪种补全程序（以及使用顺序），或检查哪些标记。 样式可以接受参数，并使用
<a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a> 中描述的 <code class="t">zstyle</code> 命令进行操作。
</p>
<p>总之，标记描述了 <em class="emph">什么</em> 是补全对象，以及 <code class="t">如何</code> 补全对象的样式。
在执行的不同阶段，补全系统会检查当前上下文定义了哪些样式和/或标签，并以此修改其行为。
上下文处理决定了上下文中的标记和其他元素如何影响样式的行为，有关上下文处理的完整描述请参阅 <a class="ref" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a>。
</p>
<p>当请求补全时，会调用一个调度函数；请参阅下面控制函数列表中 <code class="t">_main_complete</code>
的描述。调度程序会决定调用哪个函数来生成补全，并调用该函数。调度结果将传递给一个或多个
<em class="emph">completters</em>，这些函数实现了不同的补全策略：简单补全、纠错、带纠错的补全、菜单选择等。
</p>
<p>一般来说，补全系统包含两种 shell 函数：
</p><ul class="itemize mark-bullet">
<li>以 &lsquo;<code class="t">comp</code>&rsquo; 开头的将被直接调用；这样的调用只有少数几个；

</li><li>以 &lsquo;<code class="t">_</code>&rsquo; 开头的函数会被补全代码调用。 这组 shell 函数用于实现补全行为并可与按键绑定，被称为 &lsquo;小部件&rsquo;。
当需要新的补全功能时，这些小工具就会大量出现。

</li></ul>


<hr>
</div>
<div class="section-level-extent" id="g_t_521d_59cb_5316">

<h3 class="section" id="Chu-Shi-Hua-"><span>20.2 初始化<a class="copiable-link" href="#Chu-Shi-Hua-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-compinstall"></a>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-An-Zhuang-"></a>

<p>如果系统已完全安装完毕，只需在初始化文件中调用 shell 函数 <code class="t">compinit</code>（参见下一节）即可。 不过，用户也可以运行函数
<code class="t">compinstall</code> 来配置补全系统的各个方面。
</p>
<p>通常，<code class="t">compinstall</code> 会将代码插入 <code class="t">.zshrc</code>，但如果该文件不可写，它就会将代码保存到另一个文件中，并告诉你该文件的位置。
需要注意的是，您需要确保添加到 <code class="t">.zshrc</code> 中的行被实际运行；例如，如果 <code class="t">.zshrc</code>
通常提前返回，您可能需要将它们移到文件中较早的位置。 只要将它们放在一起（包括开始和结束时的注释行），就可以重新运行
<code class="t">compinstall</code>，它将正确定位并修改这些行。 不过需要注意的是，如果重新运行
<code class="t">compinstall</code>，手动添加到这一部分的代码很可能会丢失，不过使用命令 &lsquo;<code class="t">zstyle</code>&rsquo; 的行应该会得到妥善处理。
</p>
<p>新代码将在下次启动 shell 或手动运行 <code class="t">.zshrc</code> 时生效；也可以选择立即生效。 不过，如果 <code class="t">compinstall</code>
删除了定义，则需要重新启动 shell 才能看到更改。
</p>
<p>要运行 <code class="t">compinstall</code>，您需要确保它位于 <code class="t">fpath</code> 参数中提到的目录中，如果 zsh 配置正确，只要启动文件没有从
<code class="t">fpath</code> 中移除相应的目录，那么情况应该已经如此。 然后必须自动加载（建议使用 &lsquo;<code class="t">autoload -U compinstall</code>&rsquo;）。
在提示符出现时，你可以随时中止安装，你的 <code class="t">.zshrc</code> 完全不会被修改；只有在最后特别要求你确认时才会发生变化。
</p>

<div class="subsection-level-extent" id="compinit-De-Shi-Yong-">
<h4 class="subsection"><span>20.2.1 compinit 的使用<a class="copiable-link" href="#compinit-De-Shi-Yong-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-compinit"></a>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Chu-Shi-Hua-"></a>

<p>本节将介绍 <code class="t">compinit</code> 的用法，当直接调用时，它将初始化当前会话的补全；如果运行了 <code class="t">compinstall</code>，它将自动从
<code class="t">.zshrc</code> 中调用。
</p>
<p>要初始化系统，函数 <code class="t">compinit</code> 应位于 <code class="t">fpath</code> 参数中提到的目录中，并应自动加载（建议使用 &lsquo;<code class="t">autoload -U
compinit</code>&rsquo;），然后简单的以 &lsquo;<code class="t">compinit</code>&rsquo; 的方式运行。 这将定义一些实用程序函数，安排自动加载所有必要的 shell
函数，然后重新定义所有补全的小部件，以便使用新系统。 如果使用 <code class="t">menu-select</code> 小部件（它是 <code class="t">zsh/complist</code>
模块的一部分），则应确保在调用 <code class="t">compinit</code> 之前加载了该模块，以便重新定义该小部件。 如果补全样式（见下文）被设置为默认执行扩展和补全，且
TAB 键绑定到 <code class="t">expand-or-complete</code>，则 <code class="t">compinit</code> 将把它重新绑定到
<code class="t">complete-word</code>；这对于使用正确的扩展形式是必要的。
</p>
<p>如果您需要使用原始的补全命令，您仍然可以在小部件名称前加上 &lsquo;<code class="t">.</code>&rsquo; ，例如
&lsquo;<code class="t">.expand-or-complete</code>&rsquo;，从而将按键绑定到旧的小部件。
</p>
<p>为了加快 <code class="t">compinit</code> 的运行速度，我们可以让它生成一个转储配置文件，并在以后的调用中读入；这是默认设置，但也可以通过调用
<code class="t">compinit</code> 并加上 <code class="t">-D</code> 选项来关闭。 转储文件为 <code class="t">.zcompdump</code>，与启动文件位于同一目录（即
<code class="t">$ZDOTDIR</code> 或 <code class="t">$HOME</code>）；也可以通过 &lsquo;<code class="t">compinit -d</code> <var class="var">dumpfile</var>&rsquo; 给出明确的文件名。
下一次调用 <code class="t">compinit</code> 时，将读取转储文件，而不是执行完全初始化。
</p>
<p>如果补全文件的数量发生变化，<code class="t">compinit</code> 会识别并生成新的转储文件。 不过，如果函数名称或 <code class="t">#compdef</code>
函数（如下所述）第一行的参数发生变化，最简单的办法是手工删除转储文件，以便 <code class="t">compinit</code> 下次运行时重新创建。 可以通过 <code class="t">-C</code>
选项省略检查是否有新函数的过程。 在这种情况下，只有在没有转储文件的情况下，才会创建转储文件。
</p>
<p>转储实际上是由另一个函数 <code class="t">compdump</code> 完成的，但只有在更改配置（例如使用
<code class="t">compdef</code>）后想要转储新配置时，才需要自己运行该函数。 为此，旧转储文件的名称将被记住。
</p>
<p>如果设置了 <code class="t">_compdir</code> 参数，<code class="t">compinit</code>
就会将其用作查找补全函数的目录；只有在函数搜索路径中还没有补全函数时，才有必要这样做。
</p>
<p>出于安全考虑，<code class="t">compinit</code> 还会检查补全系统是否会使用非根用户或当前用户所有的文件，或者世界或组可写目录中非根用户或当前用户所有的文件。
如果发现此类文件或目录，<code class="t">compinit</code> 将询问是否真的应该使用补全系统。 使用 <code class="t">-u</code>
选项可避免这些测试，并使找到的所有文件都无需询问即可使用；使用 <code class="t">-i</code> 选项可使 <code class="t">compinit</code> 静默忽略所有不安全的文件和目录。
如果使用 <code class="t">-C</code> 选项，只要转储文件存在，就会完全跳过安全检查。
</p>
<a class="index-entry-id" id="index-compaudit"></a>
<p>运行 <code class="t">compaudit</code> 函数可随时重试安全检查。 这与 <code class="t">compinit</code> 使用的检查方法相同，但在直接执行 <code class="t">compaudit</code>
时，对 <code class="t">fpath</code> 的任何更改都会在函数本地进行，因此不会持久存在。 需要检查的目录可以作为参数传递；如果没有参数，<code class="t">compaudit</code>
会使用 <code class="t">fpath</code> 和 <code class="t">_compdir</code> 查找补全系统目录，并根据需要将缺失的目录添加到 <code class="t">fpath</code> 中。 要强制检查
<code class="t">fpath</code> 中当前命名的目录，可在调用 <code class="t">compaudit</code> 或 <code class="t">compinit</code> 之前将 <code class="t">_compdir</code>
设置为空字符串。
</p>
<a class="index-entry-id" id="index-bashcompinit"></a>
<p>函数 <code class="t">bashcompinit</code> 与 bash 的可编程补全系统兼容。 运行该函数时，它将定义 <code class="t">compgen</code> 和
<code class="t">complete</code> 函数，这两个函数与同名的 bash 内置函数相对应。 这样就可以使用为 bash 编写的补全规范和函数。
</p>

</div>
<div class="subsection-level-extent" id="Zi-Dong-Jia-Zai-De-WenJian-">
<h4 class="subsection"><span>20.2.2 自动加载的文件<a class="copiable-link" href="#Zi-Dong-Jia-Zai-De-WenJian-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Zi-Dong-Jia-Zai-De-Han-Shu-"></a>

<p>补全时使用的自动加载函数的惯例是以下划线开头；如前所述，<code class="t">fpath/FPATH</code> 参数必须包含存储这些函数的目录。 如果 <code class="t">zsh</code>
已在系统中正确安装，那么 <code class="t">fpath/FPATH</code> 就会自动包含标准函数所需的目录。
</p>
<p>对于不完整的安装，如果 <code class="t">compinit</code> 无法在搜索路径中找到足够的以下划线开头的文件（少于 20 个），则会尝试在搜索路径中添加
<code class="t">_compdir</code> 目录，以找到更多文件。 如果该目录有一个名为 <code class="t">Base</code> 的子目录，所有子目录都将被添加到路径中。 此外，如果
<code class="t">Base</code> 子目录下有一个名为 <code class="t">Core</code> 的子目录，<code class="t">compinit</code> 将把该子目录的所有子目录添加到路径中：这使得函数的格式与
<code class="t">zsh</code> 源代码发布版中的格式相同。
</p>
<a class="index-entry-id" id="index-compdef_002c-use-of-by-compinit"></a>
<p>运行 <code class="t">compinit</code> 时，它会搜索所有可通过 <code class="t">fpath/FPATH</code> 访问的此类文件，并读取每个文件的第一行。
该行应包含下述标记之一。 如果文件的第一行不是以这些标记之一开头，则不会被视为补全系统的一部分，也不会受到特殊处理。
</p>
<p>标记是：
</p>
<dl class="table">
<dt><code class="t">#compdef</code> <var class="var">name</var> ... [ <code class="t">-</code>{<code class="t">p</code>|<code class="t">P</code>} <var class="var">pattern</var> ... [ <code class="t">-N</code> <var class="var">name</var> ... ] ]</dt>
<dd><p>该文件将自动加载，在补全 <var class="var">name</var>s 时将调用其中定义的函数，每个 <var class="var">name</var>s 要么是要补全参数的命令名称，要么是下面描述的
<code class="t">-</code><var class="var">context</var><code class="t">-</code> 形式的一系列特殊上下文之一。
</p>
<p>每个 <var class="var">name</var> 也可以是 &lsquo;<var class="var">cmd</var><code class="t">=</code><var class="var">service</var>&rsquo; 的形式。 在补全 <var class="var">cmd</var>
命令时，函数的行为通常会被视为正在补全 <var class="var">service</var> 命令（或特殊上下文）。
这提供了一种改变函数行为的方法，这些函数可以执行多种不同的补全操作。 它是通过在调用函数时设置参数 <code class="t">$service</code>
来实现的；函数可以自行选择如何解释，而较简单的函数可能会忽略它。
</p>
<p>如果 <code class="t">#compdef</code> 行包含 <code class="t">-p</code> 或 <code class="t">-P</code> 选项之一，则后面的单词将被视为模式。
当试图补全与其中一个模式匹配的命令或上下文时，函数将被调用。 选项 <code class="t">-p</code> 和 <code class="t">-P</code> 分别用于指定在其他补全之前或之后尝试的模式。 因此
<code class="t">-P</code> 可用来指定默认操作。
</p>
<p>选项 <code class="t">-N</code> 用于 <code class="t">-p</code> 或 <code class="t">-P</code> 之后的列表；它指定剩余的词不再定义模式。 可以根据需要在这三个选项之间多次切换。
</p>
</dd>
<dt><code class="t">#compdef -k</code> <var class="var">style key-sequence</var> ...</dt>
<dd><p>该选项会创建一个与内置小部件 <var class="var">style</var> 行为类似的小部件，并将其绑定到给定的 <var class="var">key-sequence</var>s 上（如果有的话）。
<var class="var">style</var> 必须是执行补全的内置小部件之一，即
<code class="t">complete-word</code>、<code class="t">delete-char-or-list</code>、<code class="t">expand-or-complete</code>、<code class="t">expand-or-complete-prefix</code>、<code class="t">list-choices</code>、<code class="t">menu-complete</code>、<code class="t">menu-expand-or-complete</code>
或 <code class="t">reverse-menu-complete</code>。 如果已加载 <code class="t">zsh/complist</code> 模块（请参阅 <a class="ref" href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a>），小部件 <code class="t">menu-select</code> 也将可用。
</p>
<p>键入 <var class="var">key-sequence</var>s 之一时，文件中的函数将被调用以生成匹配。 需要注意的是，如果某个键已经绑定（即绑定到
<code class="t">undefined-key</code> 以外的其他键），则不会重新绑定。 创建的小部件与文件名相同，可以像往常一样使用 <code class="t">bindkey</code>
绑定到任何其他键。
</p>
</dd>
<dt><code class="t">#compdef -K</code> <var class="var">widget-name</var> <var class="var">style</var> <var class="var">key-sequence</var> [ <var class="var">name</var> <var class="var">style</var> <var class="var">seq</var> ... ]</dt>
<dd><p>除了每个 <var class="var">widget-name</var> <var class="var">style</var> 对只能给出一个 <var class="var">key-sequence</var> 参数外，该参数与
<code class="t">-k</code> 类似。不过，整组三个参数可以用不同的参数重复使用。 需要特别注意的是，每组中的 <var class="var">widget-name</var> 必须是不同的。
如果不是以 &lsquo;<code class="t">_</code>&rsquo; 开头，则会被添加。 <var class="var">widget-name</var> 不应与任何现有小部件的名称相冲突：基于函数名称的名称最有用。 例如
</p>
<div class="example">
<pre class="example-preformatted">#compdef -K _foo_complete complete-word &quot;^X^C&quot; \ 
  _foo_list list-choices &quot;^X^D&quot;
</pre></div>

<p>(在一行中）定义了一个用于完成的小部件 <code class="t">_foo_complete</code>，绑定到&lsquo;<code class="t">^X^C</code>&rsquo;，以及一个用于列出的小部件
<code class="t">_foo_list</code>，绑定到&lsquo;<code class="t">^X^D</code>&rsquo;。
</p>
</dd>
<dt><code class="t">#autoload</code> [ <var class="var">options</var> ]</dt>
<dd><p>带有 <code class="t">#autoload</code> 标记的函数会被标记为自动加载，但不会被特殊处理。 通常情况下，这些函数会在某个补全函数中被调用。 提供的任何
<var class="var">options</var> 都将传递给 <code class="t">autoload</code> 内置函数；典型用法是 <code class="t">+X</code> 强制立即加载函数。 请注意，<code class="t">-U</code> 和
<code class="t">-z</code> 标志总是隐式添加的。
</p>
</dd>
</dl>

<p><code class="t">#</code> 是标记名的一部分，后面不允许留白。 <code class="t">#compdef</code> 标签使用下面描述的 <code class="t">compdef</code>
函数；主要区别在于函数名称是隐式提供的。
</p>
<p>可定义补全函数的特殊上下文有:
</p>
<dl class="table">
<dt><a id="index-_002darray_002dvalue_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-array-value-</code><a class="copiable-link" href="#index-_002darray_002dvalue_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>数组赋值的右侧 (&lsquo;<var class="var">name</var><code class="t">=(</code><var class="var">...</var><code class="t">)</code>&rsquo;)
</p>
</dd>
<dt><a id="index-_002dassign_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-assign-parameter-</code><a class="copiable-link" href="#index-_002dassign_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>赋值中参数的名称，即 &lsquo;<code class="t">=</code>&rsquo; 的左边
</p>
</dd>
<dt><a id="index-_002dbrace_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-brace-parameter-</code><a class="copiable-link" href="#index-_002dbrace_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>大括号内的参数扩展名 (&lsquo;<code class="t">${</code><var class="var">...</var><code class="t">}</code>&rsquo;)
</p>
</dd>
<dt><a id="index-_002dcommand_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-command-</code><a class="copiable-link" href="#index-_002dcommand_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>命令位置上的一个单词
</p>
</dd>
<dt><a id="index-_002dcondition_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-condition-</code><a class="copiable-link" href="#index-_002dcondition_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>条件中的单词 (&lsquo;<code class="t">[[</code><var class="var">...</var><code class="t">]]</code>&rsquo;)
</p>
</dd>
<dt><a id="index-_002ddefault_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-default-</code><a class="copiable-link" href="#index-_002ddefault_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>没有其他补全定义的任何单词
</p>
</dd>
<dt><a id="index-_002dequal_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-equal-</code><a class="copiable-link" href="#index-_002dequal_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>以等号开头的单词
</p>
</dd>
<dt><a id="index-_002dfirst_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-first-</code><a class="copiable-link" href="#index-_002dfirst_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>该函数会在任何其他补全函数之前被调用。 被调用的函数可以将 <code class="t">_compskip</code> 参数设置为多种值之一：
<code class="t">all</code>：不再尝试其他补全函数；包含子串 <code class="t">patterns</code> 的字符串：不调用模式补全函数；包含 <code class="t">default</code> 的字符串：不调用
&lsquo;<code class="t">-default-</code>&rsquo; 上下文的函数，但会调用为命令定义的函数。
</p>
</dd>
<dt><a id="index-_002dmath_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-math-</code><a class="copiable-link" href="#index-_002dmath_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>在数学语境中，如 &lsquo;<code class="t">((</code><var class="var">...</var><code class="t">))</code>&rsquo;
</p>
</dd>
<dt><a id="index-_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-parameter-</code><a class="copiable-link" href="#index-_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>参数扩展的名称(&lsquo;<code class="t">$</code><var class="var">...</var>&rsquo;)
</p>
</dd>
<dt><a id="index-_002dredirect_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-redirect-</code><a class="copiable-link" href="#index-_002dredirect_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>重定向运算符后的单词。
</p>
</dd>
<dt><a id="index-_002dsubscript_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-subscript-</code><a class="copiable-link" href="#index-_002dsubscript_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>参数下标内容。
</p>
</dd>
<dt><a id="index-_002dtilde_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-tilde-</code><a class="copiable-link" href="#index-_002dtilde_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>在开头的波浪线之后（&lsquo;<code class="t">~</code>&rsquo;），单词的第一个斜线之前。
</p>
</dd>
<dt><a id="index-_002dvalue_002d_002c-Bu-Quan-Shang-Xia-Wen"></a><span><code class="t">-value-</code><a class="copiable-link" href="#index-_002dvalue_002d_002c-Bu-Quan-Shang-Xia-Wen"> &para;</a></span></dt>
<dd><p>在赋值的右边。
</p>
</dd>
</dl>

<p>这些上下文每个都有默认实现。 在大多数情况下，上下文 <code class="t">-</code><var class="var">context</var><code class="t">-</code> 由相应的函数 <code class="t">_</code><var class="var">context</var>
实现，例如上下文 &lsquo;<code class="t">-tilde-</code>&rsquo; 和函数 &lsquo;<code class="t">_tilde</code>&rsquo;）。
</p>
<p>上下文 <code class="t">-redirect-</code> 和 <code class="t">-value-</code> 允许使用额外的特定上下文信息。 (在内部，这些信息由调用 <code class="t">_dispatch</code>
的每个上下文的函数处理）。 额外信息用逗号分隔。
</p>
<p>对于 <code class="t">-redirect-</code> 上下文，额外信息的格式为
&lsquo;<code class="t">-redirect-,</code><var class="var">op</var><code class="t">,</code><var class="var">command</var>&rsquo;，其中 <var class="var">op</var>
是重定向操作符，<var class="var">command</var> 是该行上的命令名称。 如果行中还没有命令，<var class="var">command</var> 字段将为空。
</p>
<p>对于 <code class="t">-value-</code> 上下文，其形式为 &lsquo;<code class="t">-value-,</code><var class="var">name</var><code class="t">,</code><var class="var">command</var>&rsquo;，其中
<var class="var">name</var> 是赋值左侧的参数名称。 对于关联数组中的元素，例如 &lsquo;<code class="t">assoc=(key &lt;TAB&gt;</code>&rsquo;，<var class="var">name</var> 会扩展为
&lsquo;<var class="var">name</var><code class="t">-</code><var class="var">key</var>&rsquo;。 在某些特殊情况下，例如在 &lsquo;<code class="t">make CFLAGS=</code>&rsquo;
之后补全，<var class="var">command</var> 部分会给出命令名称，此处为 <code class="t">make</code>；否则为空。
</p>
<p>没有必要定义完全特定的补全，因为所提供的函数会尝试通过逐步替换 &lsquo;<code class="t">-default-</code>&rsquo; 元素来生成补全。 例如，当在
&lsquo;<code class="t">foo=&lt;TAB&gt;</code>&rsquo; 后补全时，<code class="t">_value</code> 将依次尝试 &lsquo;<code class="t">-value-,foo,</code>&rsquo; （注意 <var class="var">command</var>
部分为空）、&lsquo;<code class="t">-value-,foo,-default-</code>&rsquo;
和&lsquo;<code class="t">-value-,-default-,-default-</code>&rsquo;，直到找到可以处理上下文的函数。
</p>
<p>作为一个例子：
</p>
<div class="example">
<pre class="example-preformatted">compdef '_files -g &quot;*.log&quot;' '-redirect-,2&gt;,-default-'
</pre></div>

<p>补全在 &lsquo;<code class="t">2&gt; &lt;TAB&gt;</code>&rsquo; 之后与 &lsquo;<code class="t">*.log</code>&rsquo; 匹配的文件，适用于任何未定义更多特定处理程序的命令。
</p>
<p>还有：
</p>
<div class="example">
<pre class="example-preformatted">compdef _foo -value-,-default-,-default-
</pre></div>

<p>指定 <code class="t">_foo</code> 为未定义特殊函数的参数值提供补全。 这通常由函数 <code class="t">_value</code> 本身处理。
</p>
<p>查找样式时也使用相同的查找规则（如下所述），例如
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:-redirect-,2&gt;,*:*' file-patterns '*.log'
</pre></div>

<p>是另一种方法，可让 &lsquo;<code class="t">2&gt; &lt;TAB&gt;</code>&rsquo; 后的补全操作补全与 &lsquo;<code class="t">*.log</code>&rsquo; 匹配的文件。
</p>

</div>
<div class="subsection-level-extent" id="Han-Shu--1">
<h4 class="subsection"><span>20.2.3 函数<a class="copiable-link" href="#Han-Shu--1"> &para;</a></span></h4>

<p>以下函数由 <code class="t">compinit</code> 定义，可直接调用。
</p>
<a class="index-entry-id" id="index-compdef"></a>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Zeng-Jia-Ding-Yi-"></a>
<dl class="table">
<dt><code class="t">compdef</code> [ <code class="t">-ane</code> ] <var class="var">function name</var> ... [ <code class="t">-</code>{<code class="t">p</code>|<code class="t">P</code>} <var class="var">pattern</var> ... [ <code class="t">-N</code> <var class="var">name</var> ...]]</dt>
<dt><code class="t">compdef -d</code> <var class="var">name</var> ...</dt>
<dt><code class="t">compdef -k</code> [ <code class="t">-an</code> ] <var class="var">function style key-sequence</var> [ <var class="var">key-sequence</var> ... ]</dt>
<dt><code class="t">compdef -K</code> [ <code class="t">-an</code> ] <var class="var">function name style key-seq</var> [ <var class="var">name style seq</var> ... ]</dt>
<dd><p>第一种形式定义了在给定上下文中调用 <var class="var">function</var> 来补全的 <code class="t">#compdef</code> 标记。
</p>
<p>或者，所有参数的形式可以是 &lsquo;<var class="var">cmd</var><code class="t">=</code><var class="var">service</var>&rsquo;。 此处的 <var class="var">service</var> 应已由
<code class="t">#compdef</code> 文件中的 &lsquo;<var class="var">cmd1</var><code class="t">=</code><var class="var">service</var>&rsquo; 行定义，如上所述。 <var class="var">cmd</var> 的参数将以与
<var class="var">service</var> 相同的方式完成。
</p>
<p><var class="var">function</var> 参数也可以是包含几乎所有 shell 代码的字符串。 如果字符串中包含等号，则上述参数优先。 可以使用选项
<code class="t">-e</code>，将第一个参数指定为 shell 代码，即使其中包含等号。 该字符串将使用 <code class="t">eval</code> 内置命令来生成补全。
这样就可以避免定义新的补全函数。 例如，将以 &lsquo;<code class="t">.h</code>&rsquo; 结尾的文件作为 <code class="t">foo</code> 命令的参数来补全：
</p>
<div class="example">
<pre class="example-preformatted">compdef '_files -g &quot;*.h&quot;' foo
</pre></div>

<p>选项 <code class="t">-n</code> 可防止已为命令或上下文定义的补全被覆盖。
</p>
<p>选项 <code class="t">-d</code> 会删除为所列命令或上下文定义的任何补全。
</p>
<p><var class="var">name</var>s 也可以包含 <code class="t">-p</code>、<code class="t">-P</code> 和 <code class="t">-N</code> 选项，如 <code class="t">#compdef</code> 标记所述。
对参数列表的影响是相同的，即在最初尝试的模式定义、最后尝试的模式定义以及正常命令和上下文之间切换。
</p>
<p>参数 <code class="t">$_compskip</code> 可由任何为模式上下文定义的函数设置。 如果将其设置为包含子串 &lsquo;<code class="t">patterns</code>&rsquo;
的值，则不会调用任何模式函数；如果将其设置为包含子串 &lsquo;<code class="t">all</code>&rsquo; 的值，则不会调用任何其他函数。 在使用 <code class="t">-p</code> 选项时，以这种方式设置
<code class="t">$_compskip</code>
特别有用，否则调度程序会在调用模式上下文函数后继续调用其他函数（可能是默认函数），如果处理不当，可能会导致显示的补全可能混乱。
</p>
<p>带有 <code class="t">-k</code> 的形式定义了一个与 <var class="var">function</var> 同名的小部件，它将为每个 <var class="var">key-sequence</var>s 调用；这就像
<code class="t">#compdef -k</code> 标记一样。 该函数应生成所需的补全，否则其行为将与名称作为 <var class="var">style</var> 参数给出的内置小部件相同。
可用的小部件有 <code class="t">complete-word</code>, <code class="t">delete-char-or-list</code>, <code class="t">expand-or-complete</code>,
<code class="t">expand-or-complete-prefix</code>, <code class="t">list-choices</code>, <code class="t">menu-complete</code>,
<code class="t">menu-expand-or-complete</code>  和 <code class="t">reverse-menu-complete</code>, 以及 <code class="t">menu-select</code>
（如果已加载 <code class="t">zsh/complist</code> 模块）。 如果键已绑定到 <code class="t">undefined-key</code> 以外的其他键，则选项 <code class="t">-n</code>
将阻止键被绑定。
</p>
<p>带有 <code class="t">-K</code> 的形式与此类似，它基于同一个 <var class="var">function</var> 定义多个小部件，每个小部件都需要
<var class="var">name</var>、<var class="var">style</var> 和 <var class="var">key-seq</var>序列三个参数，其中后两个参数与 <code class="t">-k</code>
相同，第一个参数必须是以下划线开头的唯一小部件名称。
</p>
<p>在适用的情况下，<code class="t">-a</code> 选项使 <var class="var">function</var> 可自动加载，相当于 <code class="t">autoload -U </code><var class="var">function</var>。
</p>
</dd>
</dl>

<p>函数 <code class="t">compdef</code> 可用于将现有的补全函数与新命令关联起来。 例如
</p>
<div class="example">
<pre class="example-preformatted">compdef _pids foo
</pre></div>

<p>使用函数 <code class="t">_pids</code> 补全命令 <code class="t">foo</code> 的进程 ID。
</p>
<p>还请注意下面介绍的 <code class="t">_gnu_generic</code> 函数，该函数可用于能理解 &lsquo;<code class="t">-</code><code class="t">-help</code>&rsquo; 选项的命令补全选项。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_8865_5168_7cfb_7edf_914d_7f6e">

<h3 class="section" id="Bu-Quan-Xi-Tong-Pei-Zhi-"><span>20.3 补全系统配置<a class="copiable-link" href="#Bu-Quan-Xi-Tong-Pei-Zhi-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Pei-Zhi-"></a>

<p>本节简要概述了补全系统的工作原理，然后详细介绍了用户如何配置匹配的生成方式和时间。
</p>

<div class="subsection-level-extent" id="Gai-Shu--1">
<h4 class="subsection"><span>20.3.1 概述<a class="copiable-link" href="#Gai-Shu--1"> &para;</a></span></h4>

<p>当在命令行的某处尝试补全时，补全系统就会开始构建上下文。 上下文代表了 shell 所知道的命令行含义和光标位置的意义。
其中包括命令字（如&quot;<code class="t">grep</code>&quot;或&quot;<code class="t">zsh</code>&quot;）和当前命令字作为参数的选项（如 <code class="t">zsh</code> 的 &lsquo;<code class="t">-o</code>&rsquo; 选项，它将 shell
选项作为参数）。
</p>
<p>上下文开始时非常通用（&quot;我们正在开始补全&quot;），随着学习的深入，上下文会变得越来越具体（&quot;当前单词所在的位置通常是命令名 &quot;或 &quot;当前单词可能是变量名
&quot;等等）。 因此，在调用同一个补全系统时，上下文会有所不同。
</p>
<p>这些上下文信息被浓缩成一个字符串，由多个字段组成，中间用冒号隔开，在本文的其余部分中简称为 &lsquo;上下文&rsquo;。
请注意，补全系统的用户很少需要编写上下文字符串，除非编写一个新函数来执行新命令的补全。 用户可能需要做的是编写一个 <em class="emph">style</em>
模式，在需要查找配置补全系统的上下文敏感选项时与上下文进行匹配。
</p>
<p>接下来的几段将解释补全函数套件中的上下文是如何构成的。 接下来将讨论如何定义 <em class="emph">styles</em>。 样式决定匹配结果的生成方式，与 shell
选项类似，但控制能力更强。 它们由 <code class="t">zstyle</code> 内置命令定义（<a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>）。
</p>
<p>上下文字符串总是由一组固定的字段组成，字段之间用冒号隔开，第一个字段前有一个前导冒号。 未知字段留空，但周围的冒号还是会出现。 字段的顺序总是
<code class="t">:completion:</code><var class="var">function</var><code class="t">:</code><var class="var">completer</var><code class="t">:</code><var class="var">command</var><code class="t">:</code><var class="var">argument</var><code class="t">:</code><var class="var">tag</var>。
其含义如下：
</p>
<ul class="itemize mark-bullet">
<li>字面字符串 <code class="t">completion</code>，表示该样式由补全系统使用。 这将该上下文与 zle 小部件和 ZFTP 函数等使用的上下文区分开来。

</li><li><var class="var">function</var>，如果补全是通过一个已命名的小部件而不是通过正常的补全系统调用的。 通常情况下，它是空白的，但特殊部件（如
<code class="t">predict-on</code>）和发行版 <code class="t">Widget</code> 目录中的各种函数会将其设置为该函数的名称，通常是缩写形式。

</li><li>当前激活的 <var class="var">complete</var>，即函数名称，去掉前导下划线，并将其他下划线转换为连字符。 一个&lsquo;completer&rsquo;
可以全面控制补全程序的执行方式； &lsquo;<code class="t">complete</code>&rsquo;
是最简单的补全程序，但也存在其他补全程序来执行相关任务，如更正，或修改后一个补全程序的行为。 更多信息，请参阅 <a class="ref" href="#g_t_63a7_5236_51fd_6570">控制函数</a>。  

</li><li><var class="var">command</var> 或特殊的 <code class="t">-</code><var class="var">context</var><code class="t">-</code>，就在 <code class="t">#compdef</code> 标记或 <code class="t">compdef</code>
函数之后出现。 针对具有子命令的命令的补全函数通常会修改该字段，使其包含命令名称、减号和子命令。 例如，<code class="t">cvs</code> 命令的补全函数在补全
<code class="t">add</code> 子命令的参数时，会将该字段设置为 <code class="t">cvs-add</code>。

</li><li><var class="var">argument</var>；这表示我们正在补全哪个命令行或选项参数。 对于命令参数，一般采用 <code class="t">argument-</code><var class="var">n</var> 的形式，其中
<var class="var">n</var> 是参数的编号；对于选项参数，则采用 <code class="t">option-</code><var class="var">opt</var><code class="t">-</code><var class="var">n</var> 的形式，其中 <var class="var">n</var>
是选项 <var class="var">opt</var> 的参数编号。 不过，只有在使用标准 UNIX
样式的选项和参数对命令行进行解析时才会出现这种情况，因此许多补全程序并不设置它。

</li><li><var class="var">tag</var>.  如前所述，标记用于区分补全函数在特定上下文中可以生成的匹配类型。
任何补全函数都可以使用自己喜欢的标记名，下面列出了一些比较常用的标记名。

</li></ul>

<p>随着函数的执行，上下文逐渐组合在一起，从主入口点开始，必要时添加 <code class="t">:completion:</code> 和 <var class="var">function</var> 元素。
然后，补全器添加 <var class="var">completer</var> 元素。 上下文补全器添加 <var class="var">command</var> 和 <var class="var">argument</var> 选项。
最后，在知道补全类型时，会添加 <var class="var">tag</var>。 例如，上下文名称
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">:completion::complete:dvips:option-o-1:files</code>
</pre></div>

<p>表示正常补全作为 <code class="t">dvips</code> 命令的 <code class="t">-o</code> 选项的第一个参数进行了尝试：
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">dvips -o ...</code>
</pre></div>

<p>而补全函数将生成文件名。
</p>
<p>通常，补全将按照补全函数给出的顺序对所有可能的标记进行尝试。 不过，可以通过使用 <code class="t">tag-order</code> 样式来改变顺序。
这样，补全就会被限制在按给定顺序排列的给定标记列表中。
</p>
<p><code class="t">_complete_help</code> 可绑定命令显示了在某一点上可用于补全的所有上下文和标记。 这为查找 <code class="t">tag-order</code>
和其他样式的信息提供了一种简便的方法。 该命令在 <a class="ref" href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a> 中有所描述。
</p>
<p>在查找样式时，补全系统使用完整的上下文名称，包括标记。
因此，查找样式的值由两部分组成：上下文（与最具体（最适合）的模式匹配）和样式本身的名称（必须完全匹配）。
下面的示例说明，对于适用范围较广的样式，可以松散地定义模式，而对于适用范围较窄的样式，则可以根据需要严格定义模式。
</p>
<p>例如，许多补全函数可以以简单和详细两种形式生成匹配，并使用 <code class="t">verbose</code> 样式来决定使用哪种形式。 要使所有此类函数都使用详细形式，请将
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' verbose yes
</pre></div>

<p>放在启动文件（可能是 <code class="t">.zshrc</code>）中。 这使得 <code class="t">verbose</code> 样式在补全系统中的每种上下文中都具有 <code class="t">yes</code>
的值，除非该上下文有更具体的定义。 最好避免将样式定义为 &lsquo;<code class="t">*</code>&rsquo; ，以防该样式在补全系统之外有其他含义。
</p>
<p>只需使用 <code class="t">compinstall</code> 函数，就可以配置许多此类通用样式。
</p>
<p>使用 <code class="t">verbose</code> 样式的一个更具体的例子是 <code class="t">kill</code> 内置程序的补全。
如果设置了该样式，内置程序就会列出完整的作业文本和进程命令行；否则，就会只显示作业编号和 PID。 要关闭该样式，请执行以下操作:
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:kill:*:*' verbose no
</pre></div>

<p>为了获得更多控制权，样式可以使用标记 &lsquo;<code class="t">jobs</code>&rsquo; 或 &lsquo;<code class="t">processes</code>&rsquo;。 要关闭仅针对作业的冗长显示，请执行以下操作:
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:kill:*:jobs' verbose no
</pre></div>

<p><code class="t">zstyle</code> 的 <code class="t">-e</code> 选项甚至允许将补全函数代码作为样式的参数；这需要对补全函数的内部结构有一定的了解（参见
<a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>）。 例如
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">zstyle -e ':completion:*' hosts 'reply=($myhosts)'</code>
</pre></div>

<p>这就会强制每次需要主机名时从变量 <code class="t">myhosts</code> 中读取 <code class="t">hosts</code> 样式的值。如果 <code class="t">myhosts</code>
的值是动态变化的，这是有用的。 另一个有用的例子，请参阅下面 <code class="t">file-list</code> 样式描述中的示例。 这种形式可能会比较慢，对于
<code class="t">menu</code> 和 <code class="t">list-rows-first</code> 等常用样式，应避免使用。
</p>
<p>请注意，样式的 <em class="emph">定义</em> 顺序并不重要；样式机制使用特定样式的最具体匹配来确定值集。 字符串优先于模式（例如，
&lsquo;<code class="t">:completion::complete:::foo</code>&rsquo; 比 &lsquo;<code class="t">:completion::complete:::*'</code>
更具体），较长的模式优先于模式 &lsquo;<code class="t">*</code>&rsquo;。详情请参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>。
</p>
<p>使用通配符 (<code class="t">*</code>) 以外的其他内容来匹配上下文中间部分的上下文模式 &mdash; 即
<code class="t">:completion:</code><var class="var">function</var><code class="t">:</code><var class="var">completer</var><code class="t">:</code><var class="var">command</var><code class="t">:</code><var class="var">argument</var><code class="t">:</code><var class="var">tag</var>
中的<var class="var">completer</var>, <var class="var">command</var> 和 <var class="var">argument</var> 。应明确包含所有六个冒号
(<code class="t">:</code>)。如果不这样做，像 <code class="t">:completion:*:foo:*</code> 这样的模式就可能匹配到 <code class="t">foo</code> 以外的其他组件（例如，当要匹配
<var class="var">command</var> 时，却匹配到 <var class="var">completer</var> ）。
</p>
<p>样式名称与标记名称一样是任意命名的，取决于补全函数。 不过，下面两节列出了一些最常用的标记和样式。
</p>

</div>
<div class="subsection-level-extent" id="Biao-Zhun-Biao-Ji-">
<h4 class="subsection"><span>20.3.2 标准标记<a class="copiable-link" href="#Biao-Zhun-Biao-Ji-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Biao-Ji-"></a>

<p>以下部分内容仅用于查找特定样式，并不代表某种匹配类型。
</p>
<dl class="table">
<dt><a id="index-Zhang-Hu-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">帐户</code><a class="copiable-link" href="#index-Zhang-Hu-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于查询 <code class="t">users-hosts</code> 样式
</p>
</dd>
<dt><a id="index-all_002dexpansions_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">all-expansions</code><a class="copiable-link" href="#index-all_002dexpansions_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>在添加包含所有可能扩展的单个字符串时被 <code class="t">_expand</code> 补全器使用
</p>
</dd>
<dt><a id="index-all_002dfiles_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">all-files</code><a class="copiable-link" href="#index-all_002dfiles_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于所有文件的名称(有别于特定子集，参见 <code class="t">globbed-files</code> 标记）。
</p>
</dd>
<dt><a id="index-arguments_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">arguments</code><a class="copiable-link" href="#index-arguments_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于命令的参数
</p>
</dd>
<dt><a id="index-arrays_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">arrays</code><a class="copiable-link" href="#index-arrays_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于数组参数名
</p>
</dd>
<dt><a id="index-association_002dkeys_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">association-keys</code><a class="copiable-link" href="#index-association_002dkeys_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于关联数组的键；在补全该类型参数的下标时使用
</p>
</dd>
<dt><a id="index-bookmarks_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">bookmarks</code><a class="copiable-link" href="#index-bookmarks_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>补全书签时（如 URL 和 <code class="t">zftp</code> 函数套件）
</p>
</dd>
<dt><a id="index-builtins_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">builtins</code><a class="copiable-link" href="#index-builtins_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于内置命令的名称
</p>
</dd>
<dt><a id="index-characters_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">characters</code><a class="copiable-link" href="#index-characters_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于命令参数中的单字符，如 <code class="t">stty</code>。 也用于在开头括号后补全字符分类
</p>
</dd>
<dt><a id="index-colormapids_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">colormapids</code><a class="copiable-link" href="#index-colormapids_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X colormap ids
</p>
</dd>
<dt><a id="index-colors_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">colors</code><a class="copiable-link" href="#index-colors_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于颜色名称
</p>
</dd>
<dt><a id="index-commands_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">commands</code><a class="copiable-link" href="#index-commands_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于外部命令的名称。 复杂命令（如 <code class="t">cvs</code>）在补全子命令名称时也会用到。
</p>
</dd>
<dt><a id="index-contexts_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">contexts</code><a class="copiable-link" href="#index-contexts_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 <code class="t">zstyle</code> 内置命令参数中的上下文
</p>
</dd>
<dt><a id="index-corrections_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">corrections</code><a class="copiable-link" href="#index-corrections_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 <code class="t">_approximate</code> 和 <code class="t">_correct</code> 补全器使用，以进行可能的修正
</p>
</dd>
<dt><a id="index-cursors_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">cursors</code><a class="copiable-link" href="#index-cursors_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X 程序使用的光标名称
</p>
</dd>
<dt><a id="index-default_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">default</code><a class="copiable-link" href="#index-default_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>在某些上下文中使用，以便在更具体的标记也有效时提供默认值。 请注意，该标记仅在上下文名称的 <var class="var">function</var> 字段被设置时使用
</p>
</dd>
<dt><a id="index-Shuo-Ming-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">说明</code><a class="copiable-link" href="#index-Shuo-Ming-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于查找 <code class="t">format</code> 样式的值，以生成匹配类型的说明
</p>
</dd>
<dt><a id="index-She-Bei-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">设备</code><a class="copiable-link" href="#index-She-Bei-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>设备特殊文件的名字
</p>
</dd>
<dt><a id="index-Mu-Lu-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">directories</code><a class="copiable-link" href="#index-Mu-Lu-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>目录名 &mdash; 当补全 <code class="t">cd</code> 和相关内置命令的参数时，如果 <code class="t">cdpath</code> 数组已设置，将使用 <code class="t">local-directories</code>
代替
</p>
</dd>
<dt><a id="index-Mu-Lu-Zhan-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">目录栈</code><a class="copiable-link" href="#index-Mu-Lu-Zhan-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>目录栈中的条目
</p>
</dd>
<dt><a id="index-Xian-ShiQi-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">显示器</code><a class="copiable-link" href="#index-Xian-ShiQi-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>X 显示器名字
</p>
</dd>
<dt><a id="index-domains_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">domains</code><a class="copiable-link" href="#index-domains_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于网络域
</p>
</dd>
<dt><a id="index-email_002d_002a_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">email-</code><var class="var">plugin</var><a class="copiable-link" href="#index-email_002d_002a_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>从 <code class="t">_email_addresses</code> 的 &lsquo;<code class="t">_email-</code><var class="var">plugin</var>&rsquo; 后端获取电子邮件地址
</p>
</dd>
<dt><a id="index-expansions_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">扩展</code><a class="copiable-link" href="#index-expansions_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 <code class="t">_expand</code> 补全器，以补全命令行单词扩展后产生的单个单词（而不是完整的扩展集）。
</p>
</dd>
<dt><a id="index-extensions_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">extensions</code><a class="copiable-link" href="#index-extensions_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X 服务扩展
</p>
</dd>
<dt><a id="index-file_002ddescriptors_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">file-descriptors</code><a class="copiable-link" href="#index-file_002ddescriptors_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>表示打开的文件描述符的数量
</p>
</dd>
<dt><a id="index-files_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">files</code><a class="copiable-link" href="#index-files_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>补全文件名的函数使用的通用文件匹配标记
</p>
</dd>
<dt><a id="index-fonts_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">fonts</code><a class="copiable-link" href="#index-fonts_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X 字体名
</p>
</dd>
<dt><a id="index-fstypes_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">fstypes</code><a class="copiable-link" href="#index-fstypes_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于文件系统类型（例如用于 <code class="t">mount</code> 命令）
</p>
</dd>
<dt><a id="index-functions_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">函数</code><a class="copiable-link" href="#index-functions_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>函数名称 &mdash; 通常是 shell 函数，但某些命令可能理解其他类型的函数
</p>
</dd>
<dt><a id="index-globbed_002dfiles_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">globbed-files</code><a class="copiable-link" href="#index-globbed_002dfiles_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于文件名是通过模式匹配生成时
</p>
</dd>
<dt><a id="index-groups_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">groups</code><a class="copiable-link" href="#index-groups_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于用户组的名字
</p>
</dd>
<dt><a id="index-history_002dwords_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">history-words</code><a class="copiable-link" href="#index-history_002dwords_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于历史中的单词
</p>
</dd>
<dt><a id="index-hosts_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">hosts</code><a class="copiable-link" href="#index-hosts_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于主机名
</p>
</dd>
<dt><a id="index-indexes_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">indexes</code><a class="copiable-link" href="#index-indexes_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于数组索引
</p>
</dd>
<dt><a id="index-interfaces_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">interfaces</code><a class="copiable-link" href="#index-interfaces_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于网络接口
</p>
</dd>
<dt><a id="index-jobs_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">算术求值</code><a class="copiable-link" href="#index-jobs_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于作业 ( &lsquo;<code class="t">jobs</code>&rsquo; 内置程序列出的)
</p>
</dd>
<dt><a id="index-keymaps_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">键映射</code><a class="copiable-link" href="#index-keymaps_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 zsh 键映射的名字
</p>
</dd>
<dt><a id="index-keysyms_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">keysyms</code><a class="copiable-link" href="#index-keysyms_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X keysyms 的名字
</p>
</dd>
<dt><a id="index-libraries_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">libraries</code><a class="copiable-link" href="#index-libraries_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于系统库的名字
</p>
</dd>
<dt><a id="index-limits_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">limits</code><a class="copiable-link" href="#index-limits_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于系统限制
</p>
</dd>
<dt><a id="index-local_002ddirectories_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">local-directories</code><a class="copiable-link" href="#index-local_002ddirectories_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>在补全 <code class="t">cd</code> 和相关内置命令（比较 <code class="t">path-directories</code>）的参数时，用于查找当前工作目录的子目录名称 &mdash; 当
<code class="t">cdpath</code> 数组未设置时，将使用 <code class="t">directories</code> 代替
</p>
</dd>
<dt><a id="index-mailboxes_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">mailboxes</code><a class="copiable-link" href="#index-mailboxes_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于电子邮件目录
</p>
</dd>
<dt><a id="index-manuals_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">manuals</code><a class="copiable-link" href="#index-manuals_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于手册页的名字
</p>
</dd>
<dt><a id="index-maps_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">maps</code><a class="copiable-link" href="#index-maps_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于映射名（例如 NIS 映射）
</p>
</dd>
<dt><a id="index-messages_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">messages</code><a class="copiable-link" href="#index-messages_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于查找 <code class="t">format</code> 样式的信息
</p>
</dd>
<dt><a id="index-Xiu-Shi-Fu-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">修饰符</code><a class="copiable-link" href="#index-Xiu-Shi-Fu-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X 修饰符的名字（X modifiers）
</p>
</dd>
<dt><a id="index-modules_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">modules</code><a class="copiable-link" href="#index-modules_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于模块（如 <code class="t">zsh</code> 模块）
</p>
</dd>
<dt><a id="index-my_002daccounts_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">my-accounts</code><a class="copiable-link" href="#index-my_002daccounts_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于查询 <code class="t">users-hosts</code> 样式
</p>
</dd>
<dt><a id="index-named_002ddirectories_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">named-directories</code><a class="copiable-link" href="#index-named_002ddirectories_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于命名的目录（你不会猜到吧？）
</p>
</dd>
<dt><a id="index-names_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">names</code><a class="copiable-link" href="#index-names_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于所有类型的名称
</p>
</dd>
<dt><a id="index-newsgroups_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">newsgroups</code><a class="copiable-link" href="#index-newsgroups_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 USENET 组
</p>
</dd>
<dt><a id="index-nicknames_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">nicknames</code><a class="copiable-link" href="#index-nicknames_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 NIS 映射的昵称
</p>
</dd>
<dt><a id="index-options_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">选项</code><a class="copiable-link" href="#index-options_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于命令选项
</p>
</dd>
<dt><a id="index-original_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">original</code><a class="copiable-link" href="#index-original_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>在提供原始字符串作为匹配时,被 <code class="t">_approximate</code>、<code class="t">_correct</code> 和 <code class="t">_expand</code> 补全器使用。
</p>
</dd>
<dt><a id="index-other_002daccounts_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">other-accounts</code><a class="copiable-link" href="#index-other_002daccounts_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于查询 <code class="t">users-hosts</code> 样式
</p>
</dd>
<dt><a id="index-packages_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">packages</code><a class="copiable-link" href="#index-packages_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于软件包（例如 <code class="t">rpm</code> 或已安装的 <code class="t">Debian</code> 软件包）
</p>
</dd>
<dt><a id="index-parameters_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">参数</code><a class="copiable-link" href="#index-parameters_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于参数名称
</p>
</dd>
<dt><a id="index-path_002ddirectories_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">path-directories</code><a class="copiable-link" href="#index-path_002ddirectories_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>当补全 <code class="t">cd</code> 的参数和相关内置命令的参数时，用于通过搜索 <code class="t">cdpath</code> 数组找到的目录名称（比较
<code class="t">local-directories</code>。
</p>
</dd>
<dt><a id="index-paths_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">paths</code><a class="copiable-link" href="#index-paths_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于查找 <code class="t">expand</code>、<code class="t">ambiguous</code> 和 <code class="t">special-dirs</code> 样式的值
</p>
</dd>
<dt><a id="index-pods_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">pods</code><a class="copiable-link" href="#index-pods_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 perl pods (文档文件）
</p>
</dd>
<dt><a id="index-ports_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">ports</code><a class="copiable-link" href="#index-ports_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于通讯端口
</p>
</dd>
<dt><a id="index-prefixes_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">prefixes</code><a class="copiable-link" href="#index-prefixes_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于前缀（如 URL 的前缀）
</p>
</dd>
<dt><a id="index-printers_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">printers</code><a class="copiable-link" href="#index-printers_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于打印队列名称
</p>
</dd>
<dt><a id="index-processes_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">processes</code><a class="copiable-link" href="#index-processes_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于进程标识符
</p>
</dd>
<dt><a id="index-processes_002dnames_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">processes-names</code><a class="copiable-link" href="#index-processes_002dnames_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于为 <code class="t">killall</code> 生成进程名称时查找 <code class="t">command</code> 样式
</p>
</dd>
<dt><a id="index-sequences_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">sequences</code><a class="copiable-link" href="#index-sequences_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于序列（如 <code class="t">mh</code> 序列）
</p>
</dd>
<dt><a id="index-Hui-Hua-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">会话</code><a class="copiable-link" href="#index-Hui-Hua-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p><code class="t">zftp</code> 函数套件中的会话
</p>
</dd>
<dt><a id="index-Xin-Hao-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">signals</code><a class="copiable-link" href="#index-Xin-Hao-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于信号名
</p>
</dd>
<dt><a id="index-Zi-Fu-Chuan-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">字符串</code><a class="copiable-link" href="#index-Zi-Fu-Chuan-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于字符串（例如 <code class="t">cd</code> 内置命令的替换字符串）
</p>
</dd>
<dt><a id="index-Yang-Shi-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">样式</code><a class="copiable-link" href="#index-Yang-Shi-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>zstyle 内置命令使用的样式
</p>
</dd>
<dt><a id="index-Hou-Zhui-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">后缀</code><a class="copiable-link" href="#index-Hou-Zhui-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于文件扩展名
</p>
</dd>
<dt><a id="index-Biao-Ji-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">标记</code><a class="copiable-link" href="#index-Biao-Ji-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于标记（如 <code class="t">rpm</code> 标记）
</p>
</dd>
<dt><a id="index-Mu-Biao-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">目标</code><a class="copiable-link" href="#index-Mu-Biao-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 makefile 目标
</p>
</dd>
<dt><a id="index-Shi-Qu-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">时区</code><a class="copiable-link" href="#index-Shi-Qu-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于时区(例如，在设置 <code class="t">TZ</code> 参数时）
</p>
</dd>
<dt><a id="index-Lei-Xing-_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">类型</code><a class="copiable-link" href="#index-Lei-Xing-_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>关于各种类型的内容（例如 <code class="t">xhost</code> 命令的地址类型）。
</p>
</dd>
<dt><a id="index-urls_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">urls</code><a class="copiable-link" href="#index-urls_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于在补全 URL 时查找 <code class="t">urls</code> 和 <code class="t">local</code> 样式
</p>
</dd>
<dt><a id="index-users_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">users</code><a class="copiable-link" href="#index-users_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于用户名
</p>
</dd>
<dt><a id="index-values_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">values</code><a class="copiable-link" href="#index-values_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于某些列表中的一组数值之一
</p>
</dd>
<dt><a id="index-variant_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">variant</code><a class="copiable-link" href="#index-variant_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 <code class="t">_pick_variant</code> 在确定特定命令名安装了什么程序时查找要运行的命令。
</p>
</dd>
<dt><a id="index-visuals_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">visuals</code><a class="copiable-link" href="#index-visuals_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X 视觉效果
</p>
</dd>
<dt><a id="index-warnings_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">warnings</code><a class="copiable-link" href="#index-warnings_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于为警告查找 <code class="t">format</code> 样式
</p>
</dd>
<dt><a id="index-widgets_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">小部件</code><a class="copiable-link" href="#index-widgets_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 zsh 小部件名称
</p>
</dd>
<dt><a id="index-windows_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">windows</code><a class="copiable-link" href="#index-windows_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 X 窗口的 ID
</p>
</dd>
<dt><a id="index-zsh_002doptions_002c-Bu-Quan-Biao-Ji-"></a><span><code class="t">zsh-options</code><a class="copiable-link" href="#index-zsh_002doptions_002c-Bu-Quan-Biao-Ji-"> &para;</a></span></dt>
<dd><p>用于 shell 选项
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Biao-Zhun-Yang-Shi-">
<h4 class="subsection"><span>20.3.3 标准样式<a class="copiable-link" href="#Biao-Zhun-Yang-Shi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Yang-Shi-"></a>

<p>请注意，其中几个样式的值代表布尔值。 任何字符串 &lsquo;<code class="t">true</code>&rsquo;, &lsquo;<code class="t">on</code>&rsquo;, &lsquo;<code class="t">yes</code>&rsquo; 和 &lsquo;<code class="t">1</code>&rsquo; 都可用于表示值
&lsquo;true&rsquo; ，任何字符串 &lsquo;<code class="t">false</code>&rsquo;, &lsquo;<code class="t">off</code>&rsquo;, &lsquo;<code class="t">no</code>&rsquo; 和 &lsquo;<code class="t">0</code>&rsquo; 都可用于表示值 &lsquo;false&rsquo; 。
除非明确提及，否则任何其他值的行为都是未定义的。 如果未设置样式，默认值可能是 &lsquo;true&rsquo; 或 &lsquo;false&rsquo; 。
</p>
<p>其中一些样式会首先针对与匹配类型相对应的所有可能标记进行测试，如果未找到样式，则针对 <code class="t">default</code> 标签进行测试。 这类样式中最著名的是
<code class="t">menu</code>、<code class="t">list-colors</code> 和控制补全列表的样式，如 <code class="t">list-packed</code> 和 <code class="t">last-prompt</code>。 在对
<code class="t">default</code> 标记进行测试时，只有上下文的 <var class="var">function</var> 字段会被设置，因此使用 <code class="t">default</code>
标记的样式通常会按以下方式定义：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:default' menu ...
</pre></div>

<dl class="table">
<dt><a id="index-accept_002dexact_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">accept-exact</code><a class="copiable-link" href="#index-accept_002dexact_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>除了对当前上下文有效的标记外，还对 <code class="t">default</code> 标记进行测试。 如果将其设置为 &lsquo;true&rsquo;
，且任何一个试验匹配都与命令行中的字符串相同，则该匹配将立即被接受（即使在其他情况下它会被认为是模棱两可的）。
</p>
<p>在补全路径名时（使用的标记为 &lsquo;<code class="t">paths</code>&rsquo; ），除布尔值外，该样式还接受任意数量的模式作为值。
即使命令行中包含更多部分键入的路径名组件，且这些组件与所接受目录下的文件不匹配，也会立即接受与这些模式之一匹配的路径名。
</p>
<p><code class="t">_expand</code> 补全器也使用这种样式来决定是否扩展以斜线（tilde）开头的单词或参数扩展。 例如，如果有参数 <code class="t">foo</code> 和
<code class="t">foobar</code>，只有当 <code class="t">accept-exact</code> 设置为 &lsquo;true&rsquo; 时，字符串 &lsquo;<code class="t">$foo</code>&rsquo;
才会被展开；否则，将允许补全系统将 <code class="t">$foo</code> 补全为
<code class="t">$foobar</code>。如果样式被设置为&lsquo;<code class="t">continue</code>&rsquo;，<code class="t">_expand</code> 将添加扩展作为匹配，补全系统也将被允许继续。
</p>
</dd>
<dt><a id="index-accept_002dexact_002ddirs_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">accept-exact-dirs</code><a class="copiable-link" href="#index-accept_002dexact_002ddirs_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>用于文件名补全。 与 <code class="t">accept-exact</code> 不同，它是一个布尔值。
默认情况下，文件名补全会检查路径的所有组件，以查看是否存在该组件的补全，即使该组件与现有目录相匹配。 例如，当补全在 <code class="t">/usr/bin/</code>
之后时，函数会检查 <code class="t">/usr</code> 的可能补全。
</p>
<p>当该样式为 &lsquo;true&rsquo; 时，任何与现有目录匹配的路径前缀都会被接受，而不会尝试进一步补全。 因此，在给出的示例中，路径 <code class="t">/usr/bin/</code>
被立即接受，并尝试在该目录中补全。
</p>
<p>这种样式在处理引用后自动出现的目录时也很有用，比如 ZFS 的 <code class="t">.zfs</code> 目录或 NetApp 的 <code class="t">.snapshot</code>
目录。当设置了这种样式时，shell 不会检查父目录中的目录是否存在。
</p>
<p>如果希望完全禁止这种行为，请将 <code class="t">path-completion</code> 样式（见下文）设置为 &lsquo;false&rsquo;。
</p>
</dd>
<dt><a id="index-add_002dspace_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">add-space</code><a class="copiable-link" href="#index-add_002dspace_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">_expand</code> 补全器使用。 如果值为 &lsquo;true&rsquo;（默认值），则会在扩展后的所有单词后插入空格，如果是目录名，则会插入斜线。
如果该值为 &lsquo;<code class="t">file</code>&rsquo;，则补全器只会在现有文件名后添加空格。 布尔值 &lsquo;true&rsquo; 或值 &lsquo;<code class="t">file</code>&rsquo; 都可以与
&lsquo;<code class="t">subst</code>&rsquo; 结合使用，在这种情况下，补全器不会在形式为 &lsquo;<code class="t">$(</code><var class="var">...</var><code class="t">)</code>&rsquo; 或
&lsquo;<code class="t">${</code><var class="var">...</var><code class="t">}</code>&rsquo; 的替换扩展产生的单词后添加空格。
</p>
<p><code class="t">_prefix</code> 补全器使用这种样式作为一个简单的布尔值，来决定是否在后缀前插入空格。
</p>
</dd>
<dt><a id="index-ambiguous_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">ambiguous</code><a class="copiable-link" href="#index-ambiguous_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这适用于补全文件名路径中的非最终组件，换句话说，就是那些带有尾部斜线的组件。 如果设置了该样式，即使正在使用菜单补全，光标也会留在第一个含混的组件之后。
该样式始终使用 <code class="t">paths</code> 标记进行测试。
</p>
</dd>
<dt><a id="index-assign_002dlist_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">assign-list</code><a class="copiable-link" href="#index-assign_002dlist_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>在等号后补全赋值时，补全系统通常只补全一个文件名。 在某些情况下，该值可能是由冒号分隔的文件名列表，如 <code class="t">PATH</code> 和类似参数。
这种样式可以设置为与此类参数名称相匹配的模式列表。
</p>
<p>默认情况下，当一行中的单词已经包含冒号时，列表会补全。
</p>
</dd>
<dt><a id="index-auto_002ddescription_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">auto-description</code><a class="copiable-link" href="#index-auto_002ddescription_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置了该样式，则该样式的值将用作未被补全函数描述但有一个参数的选项的描述。 值中的序列 &lsquo;<code class="t">%d</code>&rsquo; 将被该参数的描述所取代。
根据个人喜好，将该样式设置为类似于 &lsquo;<code class="t">specify: %d</code>&rsquo;。  请注意，这对某些命令可能不起作用。
</p>
</dd>
<dt><a id="index-avoid_002dcompleter_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">avoid-completer</code><a class="copiable-link" href="#index-avoid_002dcompleter_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_all_matches</code> 补全器使用它来决定是否将所有匹配字符串添加到当前生成的列表中。 它的值是一个补全器名称列表。
如果其中任何一个是在此补全中生成匹配结果的补全器名称，则不会添加该字符串。
</p>
<p>该样式的默认值为 &lsquo;<code class="t">_expand _old_list _correct
_approximate</code>&rsquo;，也就是说，该样式包含的补全器几乎永远不会有匹配的字符串。
</p>
</dd>
<dt><a id="index-cache_002dpath_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">cache-path</code><a class="copiable-link" href="#index-cache_002dpath_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式定义了包含转储补全数据的缓存文件的存储路径。 默认路径为 &lsquo;<code class="t">$ZDOTDIR/.zcompcache</code>&rsquo;，如果未定义
<code class="t">$ZDOTDIR</code>，则默认路径为 &lsquo;<code class="t">$HOME/.zcompcache</code>&rsquo; 。 除非设置了 <code class="t">use-cache</code>
样式，否则不会使用补全缓存。
</p>
</dd>
<dt><a id="index-cache_002dpolicy_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">cache-policy</code><a class="copiable-link" href="#index-cache_002dpolicy_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式定义了用于确定缓存是否需要重建的函数。 请参阅下面有关 <code class="t">_cache_invalid</code> 函数的部分。
</p>
</dd>
<dt><a id="index-call_002dcommand_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">call-command</code><a class="copiable-link" href="#index-call_002dcommand_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这种风格用于函数中的命令，如<code class="t">make</code>和<code class="t">ant</code>，在这些情况下，直接调用命令来生成匹配项会遇到一些问题，例如速度慢，或者像在<code class="t">make</code>的情况下，可能会导致
makefile 中的操作被执行。如果它被设置为 &lsquo;true&rsquo;，则会调用命令来生成匹配项。这种风格的默认值是false。
</p>
</dd>
<dt><a id="index-command_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">command</code><a class="copiable-link" href="#index-command_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>在许多地方，补全函数需要调用外部命令来生成补全列表。 在这种情况下，可以使用这种样式来覆盖调用的命令。 值中的元素用空格连接，形成要执行的命令行。
该值也可以以连字符开头，在这种情况下，通常的命令会被添加到最后；这对于在前面加上 &lsquo;<code class="t">builtin</code>&rsquo; 或
&lsquo;<code class="t">command</code>&rsquo;，以确保调用的是命令的适当版本（例如，避免调用与外部命令同名的 shell 函数）最为有用。
</p>
<p>举例来说，进程 ID 的补全函数使用这种样式和 <code class="t">processes</code> 标记来生成要补全的 ID 和要显示的进程列表（如果 <code class="t">verbose</code>
样式为 &lsquo;true&rsquo;）。 该命令生成的列表应与 <code class="t">ps</code> 命令的输出相似。 第一行不会显示，但会搜索字符串 &lsquo;<code class="t">PID</code>&rsquo; （或
&lsquo;<code class="t">pid</code>&rsquo;），以确定进程 ID 在下面各行中的位置。 如果该行不包含 &lsquo;<code class="t">PID</code>&rsquo;，则其他各行中的第一个数字将作为进程 ID 用来补全。
</p>
<p>需要注意的是，每次尝试生成补全列表时，补全函数一般都要调用指定的命令。 因此，应注意只指定运行时间较短的命令，尤其要避免任何可能永远不会终止的命令。
</p>
</dd>
<dt><a id="index-command_002dpath_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">command-path</code><a class="copiable-link" href="#index-command_002dpath_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这是要搜索补全命令的目录列表。 该样式的默认值是特殊参数 <code class="t">path</code> 的值。
</p>
</dd>
<dt><a id="index-commands_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">commands</code><a class="copiable-link" href="#index-commands_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>用于补全系统初始化脚本的子命令的函数（位于 <code class="t">/etc/init.d</code> 或其他位置）。
对于补全函数无法自动找出的命令，它的值给出了要补全的默认命令。 该样式的默认值是两个字符串 &lsquo;<code class="t">start</code>&rsquo; 和 &lsquo;<code class="t">stop</code>&rsquo;。
</p>
</dd>
<dt><a id="index-complete_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">complete</code><a class="copiable-link" href="#index-complete_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>当作为可绑定命令调用时，<code class="t">_expand_alias</code> 函数将使用此值。 如果设置为 &lsquo;true&rsquo;
，且命令行中的单词不是别名的名字，则将补全与别名匹配的名字。
</p>
</dd>
<dt><a id="index-complete_002doptions_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">complete-options</code><a class="copiable-link" href="#index-complete_002doptions_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这是 <code class="t">cd</code>、<code class="t">chdir</code> 和 <code class="t">pushd</code> 的补全器使用的。 对于这些命令，<code class="t">-</code>
用于引入目录堆栈条目，补全这些命令远比补全选项更常见。 因此，除非该样式的值为 &lsquo;true&rsquo;，否则即使在初始化 <code class="t">-</code> 后，也不会补全选项。
如果该样式的值为 &lsquo;true&rsquo;，选项将在初始化 <code class="t">-</code> 之后补全，除非命令行中有<code class="t">-</code><code class="t">-</code>。
</p>
</dd>
<dt><a id="index-completer_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">completer</code><a class="copiable-link" href="#index-completer_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>作为该样式值的字符串提供了要使用的补全函数名称。<a class="ref" href="#g_t_63a7_5236_51fd_6570">控制函数</a> 中描述了可用的补全函数。
</p>
<p>每个字符串既可以是补全函数的名称，也可以是形式为 &lsquo;<var class="var">function</var><code class="t">:</code><var class="var">name</var>&rsquo; 的字符串。 在第一种情况下，上下文的
<var class="var">completer</var> 字段将包含补全器的名称，但不包括前导下划线，其他下划线均由连字符代替。 在第二种情况下，<var class="var">function</var>
是要调用的完成器的名称，但上下文的 <var class="var">completer</var> 字段中将包含用户定义的 <var class="var">name</var> 。 如果 <var class="var">name</var>
以连字号开头，则上下文字符串将与第一种情况一样，由包含 <var class="var">name</var> 的补全函数名称追加构建而成。 例如： 
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer _complete _complete:-foo
</pre></div>

<p>在这里，补全将调用 <code class="t">_complete</code> 补全函数两次，一次是使用 &lsquo;<code class="t">complete</code>&rsquo; ，另一次是在上下文的
<var class="var">completer</var> 字段中使用 &lsquo;<code class="t">complete-foo</code>&rsquo; 。 通常，只有在与
&lsquo;<var class="var">functions</var><code class="t">:</code><var class="var">name</var>&rsquo;
形式一起使用时，多次使用同一补全器才有意义，否则在所有对补全器的调用中，上下文名称都将相同；<code class="t">_ignored</code> 和 <code class="t">_prefix</code>
补全器可能是这一规则的例外。
</p>
<p>该样式的默认值为 &lsquo;<code class="t">_complete _ignored</code>&rsquo;：只完成补全，首先使用 <code class="t">ignored-patterns</code> 样式和
<code class="t">$fignore</code> 数组，然后在不忽略匹配的情况下进行。
</p>
</dd>
<dt><a id="index-condition_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">condition</code><a class="copiable-link" href="#index-condition_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式被 <code class="t">_list</code> 补全器函数用于决定是否应无条件延迟插入匹配项。默认为 &lsquo;true&rsquo;。
</p>
</dd>
<dt><a id="index-delimiters_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">delimiters</code><a class="copiable-link" href="#index-delimiters_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式用于添加分隔符，以便与历史修饰符或 glob 限定符一起使用(具有分隔的参数)。 它是一个要添加的首选分隔符数组。
首选非特殊字符，否则补全系统可能会混淆。 默认列表为 <code class="t">:</code>、<code class="t">+</code>、<code class="t">/</code>、<code class="t">-</code>、<code class="t">%</code>。 该列表可以为空，以强制输入分隔符。
</p>
</dd>
<dt><a id="index-disabled_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">disabled</code><a class="copiable-link" href="#index-disabled_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo;，<code class="t">_expand_alias</code> 补全器和可绑定命令也将尝试扩展禁用的别名。 默认值为 &lsquo;false&rsquo;。
</p>
</dd>
<dt><a id="index-domains_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">domains</code><a class="copiable-link" href="#index-domains_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>用于补全的网络域名列表。 如果未设置，域名将取自 <code class="t">/etc/resolv.conf</code> 文件。
</p>
</dd>
<dt><a id="index-environ_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">environ</code><a class="copiable-link" href="#index-environ_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>environ 样式用于补全 &lsquo;<code class="t">sudo</code>&rsquo;。 在调用目标命令的补全之前，它将被设置为 &lsquo;<var class="var">VAR</var><code class="t">=</code><var class="var">value</var>&rsquo;
赋值的数组，并导出到本地环境中。
</p><div class="example">
<pre class="example-preformatted">zstyle ':completion:*:sudo::' environ \ 
  PATH=&quot;/sbin:/usr/sbin:$PATH&quot; HOME=&quot;/root&quot;
</pre></div>

</dd>
<dt><a id="index-expand_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">expand</code><a class="copiable-link" href="#index-expand_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这种样式用于补全由多个部分（如路径名）组成的字符串。
</p>
<p>如果其值之一是字符串 &lsquo;<code class="t">prefix</code>&rsquo;，则即使尾部无法完成，也会尽可能扩展该行的部分输入字。
</p>
<p>如果其值之一是字符串 &lsquo;<code class="t">suffix</code>&rsquo;，则在第一个模棱两可的名称之后也会添加匹配的组件名称。 这意味着生成的字符串可能是最长的无歧义字符串。
不过，可以使用菜单补全来循环查看所有匹配结果。
</p>
</dd>
<dt><a id="index-extra_002dverbose_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">extra-verbose</code><a class="copiable-link" href="#index-extra_002dverbose_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置，则补全列表会更加冗长，但可能会降低补全速度。 如果将此样式设置为 &lsquo;true&rsquo;，补全性能将受到影响。
</p>
</dd>
<dt><a id="index-fake_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">fake</code><a class="copiable-link" href="#index-fake_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>可为任何补全上下文设置该样式。 它指定了在该上下文中将始终补全的附加字符串。 每个字符串的形式为
&lsquo;<var class="var">value</var><code class="t">:</code><var class="var">description</var>&rsquo;；冒号和描述可以省略，但 <var class="var">value</var>
中的任何字面冒号必须用反斜杠引出。 提供的任何 <var class="var">description</var> 都会与值一起显示在补全列表中。
</p>
<p>在指定虚假字符串时，必须使用足够严格的上下文。 请注意，<code class="t">fake-files</code> 和 <code class="t">fake-parameters</code>
样式可在补全文件或参数时提供额外功能。
</p>
</dd>
<dt><a id="index-fake_002dalways_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">fake-always</code><a class="copiable-link" href="#index-fake_002dalways_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>除了不使用 <code class="t">ignored-patterns</code> 样式外，该样式的作用与 <code class="t">fake</code> 样式相同。 这样，通过将忽略模式设置为
&lsquo;<code class="t">*</code>&rsquo;，就可以完全覆盖一组匹配。
</p>
<p>下面的示例展示了一种用任意数据补充任何标记的方法，但在显示时，这些数据的表现与单独的标记无异。 在本例中，我们使用 <code class="t">tag-order</code>
样式的功能，在使用标准补全器 <code class="t">complete</code> 对 <code class="t">cd</code> 的参数进行补全时，将 <code class="t">named-directories</code>
标签分为两个。 标签 <code class="t">named-directories-normal</code> 的行为与正常一样，但标签
<code class="t">named-directories-mine</code> 包含一组固定的目录。 这样做的效果是，使用给定的补全添加匹配组 &lsquo;<code class="t">extra
directories</code>&rsquo;。
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion::complete:cd:*' tag-order \ 
  'named-directories:-mine:extra\ directories
  named-directories:-normal:named\ directories *'
zstyle ':completion::complete:cd:*:named-directories-mine' \ 
  fake-always mydir1 mydir2
zstyle ':completion::complete:cd:*:named-directories-mine' \ 
  ignored-patterns '*'
</pre></div>

</dd>
<dt><a id="index-fake_002dfiles_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">fake-files</code><a class="copiable-link" href="#index-fake_002dfiles_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式用于补全文件和查找无标记的文件。 其值的形式为 &lsquo;<var class="var">dir</var><code class="t">:</code><var class="var">names...</var>&rsquo;。 这将在目录 <var class="var">dir</var>
中补全时添加 <var class="var">names</var>（用空格分隔的字符串）作为可能的匹配项，即使确实不存在这样的文件。 dir 可以是一个模式；<var class="var">dir</var>
中的模式字符或冒号应使用反斜杠引出，以便按字面意思处理。
</p>
<p>这在支持特殊文件系统的系统中非常有用，这些系统的顶层路径名无法用 glob 模式列出或生成（但请参阅
<code class="t">accept-exact-dirs</code>，了解处理这一问题的更普遍方法）。 它还可用于没有读取权限的目录。
</p>
<p>模式形式可用于在特定文件系统的所有目录中添加某个 &lsquo;魔法&rsquo; 条目。
</p>
</dd>
<dt><a id="index-fake_002dparameters_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">fake-parameters</code><a class="copiable-link" href="#index-fake_002dparameters_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>补全函数将其用于参数名称。 其值是可能尚未设置但仍应补全的参数名称。 每个名称后面还可以跟一个冒号和一个字符串，该字符串指定了参数的类型（如
&lsquo;<code class="t">scalar</code>&rsquo;, &lsquo;<code class="t">array</code>&rsquo; 或 &lsquo;<code class="t">integer</code>&rsquo;）。
如果给出了类型，只有在特定上下文中需要该类型的参数时，才会补全名称。 未指定类型的名称将始终补全。
</p>
</dd>
<dt><a id="index-file_002dlist_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">file-list</code><a class="copiable-link" href="#index-file_002dlist_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式控制使用标准内置机制补全的文件是否以类似 <code class="t">ls -l</code> 的长列表形式列出。 需要注意的是，该功能使用 shell 模块
<code class="t">zsh/stat</code> 来获取文件信息；这将加载内置的 <code class="t">stat</code>，从而取代任何外部 <code class="t">stat</code> 可执行文件。
为避免这种情况，可在初始化文件中加入以下代码：
</p>
<div class="example">
<pre class="example-preformatted">zmodload -i zsh/stat
disable stat
</pre></div>

<p>样式既可以设置为 &lsquo;true&rsquo; 值（或 &lsquo;<code class="t">all</code>&rsquo;），也可以设置为 &lsquo;<code class="t">insert</code>&rsquo; 或&lsquo;<code class="t">list</code>&rsquo;
值之一，表示在任何情况下都将以长格式列出文件，或在尝试插入文件名时，或在列出文件名但不尝试插入文件名时。
</p>
<p>一般来说，该值可以是由上述任意值组成的数组，可选择在其后加上 <code class="t">=</code><var class="var">num</var>。 如果存在
<var class="var">num</var>，则表示将使用长列表样式的最大匹配次数。 例如
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' file-list list=20 insert=10
</pre></div>

<p>指定在列出多达 20 个文件或插入多达 10 个匹配文件时使用长格式（假设要显示列表，例如在模棱两可的补全时），否则将使用短格式。
</p>
<div class="example">
<pre class="example-preformatted">zstyle -e ':completion:*' file-list \ 
       '(( ${+NUMERIC} )) &amp;&amp; reply=(true)'
</pre></div>

<p>指定在提供数字参数时使用长格式，否则使用短格式。
</p>
</dd>
<dt><a id="index-file_002dpatterns_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">file-patterns</code><a class="copiable-link" href="#index-file_002dpatterns_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>用于补全文件名的标准函数 <code class="t">_files</code>。 如果未设置样式，则会根据 <code class="t">_files</code>
的调用者所期望的文件类型，提供三种标记：&lsquo;<code class="t">globbed-files</code>&rsquo;,&lsquo;<code class="t">directories</code>&rsquo; 和 &lsquo;<code class="t">all-files</code>&rsquo;。
前两种（&lsquo;<code class="t">globbed-files</code>&rsquo; 和 &lsquo;<code class="t">directories</code>&rsquo;）通常一起提供，以方便补全子目录中的文件。
</p>
<p><code class="t">file-patterns</code> 样式提供了默认标记的替代方案，默认标记不会被使用。 其值由形式为
&lsquo;<var class="var">pattern</var><code class="t">:</code><var class="var">tag</var>&rsquo; 的元素组成；每个字符串可包含任意数量的此类规范，并用空格分隔。
</p>
<p><var class="var">pattern</var> 是用于生成文件名的模式。 任何出现的序列 &lsquo;<code class="t">%p</code>&rsquo; 都会被调用 <code class="t">_files</code> 的函数所传递的任何模式所替换。
模式中的冒号必须在前面加上反斜杠，以便与 <var class="var">tag</var> 前面的冒号区分开来。 如果需要多个模式，可以将模式放在大括号内，中间用逗号隔开。
</p>
<p>值中所有字符串的 <var class="var">tag</var>s 将由 <code class="t">_files</code> 提供，并在查找其他样式时使用。 同一单词中的任何 <var class="var">tag</var>s
都将同时提供，并在后面的单词之前提供。 如果没有给出 &lsquo;<code class="t">:</code><var class="var">tag</var>&rsquo; ，则将使用 &lsquo;<code class="t">files</code>&rsquo; 标记。
</p>
<p>在 <var class="var">tag</var> 后面还可以可选择的跟着第二个冒号和描述，描述将用于 <code class="t">format</code> 样式值中的 &lsquo;<code class="t">%d</code>&rsquo;
（如果已设置），而不是补全函数提供的默认描述。 包含描述也会优先于相关选项，如补全分组，因此它可以用于需要分隔文件的地方。
</p>
<p>例如，要使 <code class="t">rm</code> 命令首先只补全对象文件的名称，然后在没有匹配的对象文件时补全所有文件的名称：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:rm:*:*' file-patterns \ 
    '*.o:object-files' '%p:all-files'
</pre></div>

<p>改变文件补全的默认行为 &mdash; 第一次尝试时，提供与模式和目录匹配的文件，然后提供所有文件 &mdash;
改为第一次尝试时，只提供匹配的文件，然后提供目录，最后提供所有文件：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' file-patterns \ 
    '%p:globbed-files' '*(-/):directories' '*:all-files'
</pre></div>

<p>即使在没有特殊模式的情况下，也能正常工作： <code class="t">_files</code> 第一步会匹配所有使用 &lsquo;<code class="t">*</code>&rsquo; 模式的文件，并在看到该模式时停止。
还要注意的是，它不会在一次补全尝试中多次尝试一个模式。
</p>
<p>若要将目录与文件分隔成一组，但仍能在第一次尝试时补全，则需要给出说明。 请注意，目录需要明确地从 globbed-files 中排除，因为
&lsquo;<code class="t">*</code>&rsquo; 将匹配目录。对于分组，还需要设置 <code class="t">group-name</code> 样式。
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' file-patterns \ 
    '%p(^-/):globbed-files *(-/):directories:location'
</pre></div>

<p>在执行补全函数期间，<code class="t">EXTENDED_GLOB</code> 选项有效，因此字符 &lsquo;<code class="t">#</code>&rsquo;, &lsquo;<code class="t">~</code>&rsquo; 和 &lsquo;<code class="t">^</code>&rsquo; 在模式中具有特殊含义。
</p>
</dd>
<dt><a id="index-file_002dsort_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">file-sort</code><a class="copiable-link" href="#index-file_002dsort_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>标准文件名补全函数使用这种不带标记的样式来确定名称的排列顺序；菜单补全将以相同的顺序循环显示这些名称。 可能的值有:
&lsquo;<code class="t">size</code>&rsquo;,按文件大小排序；&lsquo;<code class="t">links</code>&rsquo; , 按文件链接数排序；&lsquo;<code class="t">modification</code>&rsquo;（或 &lsquo;<code class="t">time</code>&rsquo; 或
&lsquo;<code class="t">date</code>&rsquo;）,按最后修改时间排序；&lsquo;<code class="t">access</code>&rsquo; ,按最后访问时间排序；&lsquo;<code class="t">inode</code>&rsquo;（或
&lsquo;<code class="t">change</code>&rsquo;）,按最后 inode 更改时间排序。 如果样式被设置为其他值或未设置，文件将按名称的字母顺序排序。 如果值包含字符串
&lsquo;<code class="t">reverse</code>&rsquo;，则按相反顺序排序。 如果值包含字符串
&lsquo;<code class="t">follow</code>&rsquo;，时间戳将与符号链接的目标相关联；默认情况下使用链接本身的时间戳。
</p>
</dd>
<dt><a id="index-file_002dsplit_002dchars_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">file-split-chars</code><a class="copiable-link" href="#index-file_002dsplit_002dchars_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>一组字符，会导致 <em class="emph">所有</em> 文件补全在出现其中任何一个字符时被分割。 典型的用法是将样式设置为
<code class="t">:</code>；这样，在补全文件时，字符串中直到最后一个 <code class="t">:</code> 在内的所有内容都将被忽略。
由于这种做法比较粗暴，通常最好是更新补全函数，以适应这种有用的行为。
</p>
</dd>
<dt><a id="index-filter_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">filter</code><a class="copiable-link" href="#index-filter_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>电子邮件地址补全的 <code class="t">ldap</code> 插件（请参阅 <code class="t">_email_addresses</code>）在过滤条目时使用该样式指定匹配的属性。
例如，如果样式设置为 &lsquo;<code class="t">sn</code>&rsquo;，则会根据姓氏进行匹配。 将使用标准 LDAP 过滤，因此绕过了正常的补全匹配。 如果未设置此样式，则会跳过
LDAP 插件。 您可能还需要设置 <code class="t">command</code> 样式，以指定如何连接到 LDAP 服务器。
</p>
</dd>
<dt><a id="index-force_002dlist_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">force-list</code><a class="copiable-link" href="#index-force_002dlist_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这将强制在进行列表时显示补全列表，即使在通常不显示补全列表的情况下也是如此。 例如，通常只有在至少有两个不同的匹配项时才会显示列表。 将该样式设置为
&lsquo;<code class="t">always</code>&rsquo; 后，列表将始终显示，即使只有一个匹配项会立即被接受。 样式也可以设置为数字。
在这种情况下，如果至少有这么多匹配项，即使所有匹配项都插入相同的字符串，列表也会显示。
</p>
<p>该样式针对默认标记以及当前补全时有效的每个标签进行测试。 因此，可以只对某些类型的匹配强制应用列表。
</p>
</dd>
<dt><a id="index-format_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">format</code><a class="copiable-link" href="#index-format_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果为 <code class="t">descriptions</code> 标记设置了此项，其值将作为字符串在补全列表中显示以上匹配项。 该字符串中的 &lsquo;<code class="t">%d</code>&rsquo;
序列将被替换为这些匹配项的简短描述。 该字符串还可能包含 <code class="t">compadd -X</code> 所理解的输出属性序列（参见 <a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>）。
</p>
<p>在对 <code class="t">descriptions</code> 标记进行测试之前，会对当前补全时有效的每个标记进行样式测试。 因此，可以为不同类型的匹配定义不同的格式字符串。
</p>
<p>还要注意的是，某些补全函数定义了额外的 &lsquo;<code class="t">%</code>&rsquo; 序列。 我们将对使用这些序列的补全函数进行说明。
</p>
<p>某些补全函数显示的信息可以通过为 <code class="t">messages</code> 标记设置这种样式来定制。 在这里，&lsquo;<code class="t">%d</code>&rsquo; 会被替换为补全函数给出的信息。
</p>
<p>最后，使用 <code class="t">warnings</code> 标记查找格式字符串，以便在完全无法生成匹配结果时使用。 在这种情况下，&lsquo;<code class="t">%d</code>&rsquo;
会被替换为预期匹配的描述，并用空格分隔。 序列 &lsquo;<code class="t">%D</code>&rsquo; 会被替换为同样的描述，并用换行符隔开。
</p>
<p>可以使用printf 风格的字段宽度指定符 &lsquo;<code class="t">%d</code>&rsquo; 和类似的转义序列。 这由 <code class="t">zsh/zutil</code> 模块中的 <code class="t">zformat</code>
内置命令处理，参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>。
</p>
</dd>
<dt><a id="index-gain_002dprivileges_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">gain-privileges</code><a class="copiable-link" href="#index-gain_002dprivileges_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 <code class="t">true</code>，该样式将允许使用 <code class="t">sudo</code> 或 <code class="t">doas</code> 等命令来获取额外权限，以检索补全信息。只有当 <code class="t">sudo</code>
等命令出现在命令行中时，才会这样做。要强制使用 <code class="t">sudo</code> 等命令，或覆盖因 <code class="t">gain-privileges</code>
而可能添加的任何前缀，可以使用 <code class="t">command</code> 样式和以连字符开头的值。
</p>
</dd>
<dt><a id="index-glob_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">glob</code><a class="copiable-link" href="#index-glob_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>由 <code class="t">_expand</code> 补全器使用。 如果将其设置为 &lsquo;true&rsquo; （默认值），则将尝试对之前替换（参见 <code class="t">substitute</code>
样式）后的字词进行 globbing，否则将使用该行的原始字符串。
</p>
</dd>
<dt><a id="index-global_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">global</code><a class="copiable-link" href="#index-global_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo; （默认），<code class="t">_expand_alias</code> 补全器和可绑定命令将尝试扩展全局别名。
</p>
</dd>
<dt><a id="index-group_002dname_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">group-name</code><a class="copiable-link" href="#index-group_002dname_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>补全系统可以将不同类型的匹配分组，分别出现在不同的列表中。 这种样式可用于为特定标记提供分组名称。
例如，在命令位置，补全系统会生成内置和外部命令名称、别名、shell 函数和参数以及保留字作为可能的补全。 若要单独列出外部命令和 shell
函数，可使用以下方法：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:-command-:*:commands' \ 
       group-name commands
zstyle ':completion:*:*:-command-:*:functions' \ 
       group-name functions
</pre></div>

<p>因此，任何具有相同标记的匹配都会显示在同一组中。
</p>
<p>如果给定的名称是空字符串，匹配标记的名称将被用作组的名称。 因此，要分别显示所有不同类型的匹配信息，只需设置
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' group-name ''
</pre></div>

<p>所有未定义组名的匹配结果都将被归入名为 <code class="t">-default-</code> 的组中。
</p>
<p>要在输出中显示组名，请参阅 <code class="t">descriptions</code> 标记下的 <code class="t">format</code> 样式（q.v. ）。
</p>
</dd>
<dt><a id="index-group_002dorder_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">group-order</code><a class="copiable-link" href="#index-group_002dorder_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式是 <code class="t">group-name</code> 样式的附加样式，用于指定该样式所定义的组的显示顺序（比较 <code class="t">tag-order</code>，它决定显示哪些补全）。
已命名的组按指定顺序显示；其他任何组则按补全函数定义的顺序显示。
</p>
<p>例如，让内置命令、shell 函数和外部命令的名称在命令位置补全时按顺序显示：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:-command-:*:*' group-order \ 
       builtins functions commands
</pre></div>

</dd>
<dt><a id="index-groups_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">groups</code><a class="copiable-link" href="#index-groups_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>UNIX 组名称列表。 如果未设置，则组名取自 YP 数据库或文件 &lsquo;<code class="t">/etc/group</code>&rsquo;。
</p>
</dd>
<dt><a id="index-hidden_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">hidden</code><a class="copiable-link" href="#index-hidden_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo;，则不会列出给定上下文的匹配项，但会显示使用 <code class="t">format</code> 样式设置的匹配项的描述。 如果设置为
&lsquo;<code class="t">all</code>&rsquo;，则连描述也不会显示。
</p>
<p>请注意，这些匹配项仍然会被补全，只是不会显示在列表中。 为了避免将匹配项视为可能的补全项，可以按下文所述修改 <code class="t">tag-order</code> 样式。
</p>
</dd>
<dt><a id="index-hosts_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">hosts</code><a class="copiable-link" href="#index-hosts_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>应补全的主机名列表。 如果未设置，主机名将取自文件 &lsquo;<code class="t">/etc/hosts</code>&rsquo;。
</p>
</dd>
<dt><a id="index-hosts_002dports_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">hosts-ports</code><a class="copiable-link" href="#index-hosts_002dports_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这种样式适用于需要或接受主机名和网络端口的命令。 值中的字符串格式应为 &lsquo;<var class="var">host</var><code class="t">:</code><var class="var">port</var>&rsquo;。
有效端口由主机名决定；同一主机可能有多个端口。
</p>
</dd>
<dt><a id="index-ignore_002dline_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">ignore-line</code><a class="copiable-link" href="#index-ignore_002dline_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这将为当前补全有效的每个标记进行测试。 如果设置为 &lsquo;true&rsquo;，则该行中已经存在的单词都不会被视为可能的补全。 如果设置为
&lsquo;<code class="t">current</code>&rsquo;，光标所在的单词将不被视为可能的补全。 值 &lsquo;<code class="t">current-shown</code>&rsquo;
与之类似，但只适用于当前屏幕上显示补全列表的情况。 最后，如果样式设置为
&lsquo;<code class="t">other</code>&rsquo;，则该行中除当前单词外的所有单词都将被排除在可能的补全之外。
</p>
<p>&lsquo;<code class="t">current</code>&rsquo; 和 &lsquo;<code class="t">current-shown</code>&rsquo; 有点像 <code class="t">accept-exact</code>
样式的反义词：只有字符缺失的字符串才会被补全。
</p>
<p>需要注意的是，在一般情况下，比如 &lsquo;<code class="t">:completion:*</code>&rsquo; ，你几乎肯定不想将其设置为 &lsquo;true&rsquo; 或 &lsquo;<code class="t">other</code>&rsquo; 。
这是因为，即使相关命令不止一次接受选项，它也会禁止多次补全选项。
</p>
</dd>
<dt><a id="index-ignore_002dparents_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">ignore-parents</code><a class="copiable-link" href="#index-ignore_002dparents_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>补全路径名的函数会在没有标记的情况下对样式进行测试，以确定是忽略当前单词中已提及的目录名，还是忽略当前工作目录名。
该值必须包括以下字符串中的一个或两个：
</p>
<dl class="table">
<dt><code class="t">parent</code></dt>
<dd><p>如果该行中的单词已包含任何目录的路径，则该目录的名称将被忽略。 例如，在 <code class="t">foo/../</code> 之后补全时，目录 <code class="t">foo</code>
将不被视为有效的补全。
</p>
</dd>
<dt><code class="t">pwd</code></dt>
<dd><p>当前工作目录的名称不会被补全；因此，例如，在 <code class="t">../</code> 之后补全将不会使用当前目录的名称。
</p>
</dd>
</dl>

<p>此外，该值还可包括以下一项或两项：
</p>
<dl class="table">
<dt><code class="t">..</code></dt>
<dd><p>仅当一行中的单词包含子字符串 &lsquo;<code class="t">../</code>&rsquo; 时，才忽略指定目录。
</p>
</dd>
<dt><code class="t">directory</code></dt>
<dd><p>仅在补全目录名时忽略指定目录，而不在补全文件名时忽略指定目录。
</p>
</dd>
</dl>

<p>排除值的作用方式与 <code class="t">ignored-patterns</code> 样式的值类似，因此可以通过 <code class="t">_ignored</code> 补全器恢复对它们的考虑。
</p>
</dd>
<dt><a id="index-ignored_002dpatterns_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">ignored-patterns</code><a class="copiable-link" href="#index-ignored_002dpatterns_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>模式列表；任何与其中一个模式匹配的试验补全都将被排除在外。 <code class="t">_ignored</code> 补全器可以出现在补全器列表中，以恢复被忽略的匹配。 这是
shell 参数 <code class="t">$fignore</code> 的可配置版本。
</p>
<p>请注意，<code class="t">EXTENDED_GLOB</code> 选项是在执行补全函数期间设置的，因此字符 &lsquo;<code class="t">#</code>&rsquo;, &lsquo;<code class="t">~</code>&rsquo; 和 &lsquo;<code class="t">^</code>&rsquo;
在模式中具有特殊含义。
</p>
</dd>
<dt><a id="index-insert_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">insert</code><a class="copiable-link" href="#index-insert_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_all_matches</code> 补全器使用这种样式来决定是否无条件插入所有匹配项的列表，而不是将列表作为另一个匹配项添加。
</p>
</dd>
<dt><a id="index-insert_002dids_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">insert-ids</code><a class="copiable-link" href="#index-insert_002dids_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>在填写进程 ID 时，例如作为 <code class="t">kill</code> 和 <code class="t">wait</code> 内置程序的参数，命令名称可能会被转换为相应的进程 ID。
如果键入的进程名称不是唯一的，就会出现问题。 默认情况下（或将此样式显式设置为 &lsquo;<code class="t">menu</code>&rsquo;），名称会立即转换为一组可能的
ID，并启动菜单补全以循环浏览这些 ID。
</p>
<p>如果样式的值为&lsquo;<code class="t">single</code>&rsquo;，shell 将等待用户键入足够多的字符，使命令具有唯一性后才将名称转换为 ID；在此之前，补全尝试将不会成功。
如果值是任何其他字符串，当用户键入的字符串长于相应 ID 的通用前缀时，将启动菜单补全。
</p>
</dd>
<dt><a id="index-insert_002dsections_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">insert-sections</code><a class="copiable-link" href="#index-insert_002dsections_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>在补全手册页面名称时，该样式与格式为 &lsquo;<code class="t">manuals.</code><var class="var">X</var>&rsquo; 的标记一起使用。如果设置了该样式，且标签名称中的 <var class="var">X</var>
与所补全页面的章节编号一致，则章节编号将与页面名称一起插入。例如，
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:manuals.*' insert-sections true
</pre></div>

<p><code class="t">man ssh_&lt;TAB&gt;</code> 可被补全为 <code class="t">man 5 ssh_config</code>。
</p>
<p>该值也可以设置为 &lsquo;<code class="t">prepend</code>&rsquo; 或 &lsquo;<code class="t">suffix</code>&rsquo; 之一。 在上例中，&lsquo;<code class="t">prepend</code>&rsquo; 的行为与 &lsquo;true&rsquo;
相同，而 &lsquo;<code class="t">suffix</code>&rsquo; 则会将 <code class="t">man ssh_&lt;TAB&gt;</code> 补全为 <code class="t">man ssh_config.5</code>。
</p>
<p>这一点与 <code class="t">separate-sections</code> 配合使用尤其有用，因为它可以确保在有多个同名页面时（例如 <code class="t">printf(1)</code> 和
<code class="t">printf(3)</code>），<code class="t">man</code> 请求的页面与补全列表中显示的页面一致。
</p>
<p>该样式的默认值为 &lsquo;false&rsquo;。
</p>
</dd>
<dt><a id="index-insert_002dtab_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">insert-tab</code><a class="copiable-link" href="#index-insert_002dtab_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo;，当光标左侧没有非空白字符时，补全系统将插入一个 TAB 字符（假设该字符用于开始补全），而不是执行补全。 如果设置为
&lsquo;false&rsquo;，即使在这种情况下也会执行补全。
</p>
<p>值也可能包含子串 &lsquo;<code class="t">pending</code>&rsquo; 或 &lsquo;<code class="t">pending=</code><var class="var">val</var>&rsquo;。
在这种情况下，当有未处理的输入待处理时，将插入键入的字符，而不是开始补全。 如果给定了
<var class="var">val</var>，那么如果至少有这么多字符的未处理输入，就不会补全。 这在向终端粘贴字符时非常有用。 但需要注意的是，它依赖于 <code class="t">zsh/zle</code>
模块中的 <code class="t">$PENDING</code> 特殊参数的正确设置，而这并非在所有平台上都能保证。
</p>
<p>该样式的默认值为 &lsquo;true&rsquo; ，但在 <code class="t">vared</code> 内置命令中补全时为 &lsquo;false&rsquo;。
</p>
</dd>
<dt><a id="index-insert_002dunambiguous_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">insert-unambiguous</code><a class="copiable-link" href="#index-insert_002dunambiguous_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这被 <code class="t">_match</code> 和 <code class="t">_approximate</code> 补全器使用。
这些补全器通常与菜单补全一起使用，因为键入的单词可能与最终的补全几乎没有相似之处。 但是，如果该样式为
&lsquo;true&rsquo;，则补全器只有在找不到至少与用户键入的原始字符串一样长的明确初始字符串时，才会启动菜单补全。
</p>
<p>如果使用 <code class="t">_approximate</code> 补全器，上下文中的补全器字段将被设置为 <code class="t">correct-</code><var class="var">num</var> 或
<code class="t">approximate-</code><var class="var">num</var>，其中 <var class="var">num</var> 是已接受的错误数。
</p>
<p>对于 <code class="t">_match</code> 补全器，样式也可以设置为字符串 &lsquo;<code class="t">pattern</code>&rsquo;。 如果该行上的模式不能明确匹配，则保持不变。
</p>
</dd>
<dt><a id="index-keep_002dprefix_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">keep-prefix</code><a class="copiable-link" href="#index-keep_002dprefix_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">_expand</code> 补全器使用。 如果为 &lsquo;true&rsquo;，补全器将尝试保留包含转折号(tilde)或参数扩展的前缀。 例如，字符串
&lsquo;<code class="t">~/f*</code>&rsquo; 将扩展为  &lsquo;<code class="t">~/foo</code>&rsquo; ，而不是 &lsquo;<code class="t">/home/user/foo</code>&rsquo;。 如果样式设置为
&lsquo;<code class="t">changed</code>&rsquo; （默认），只有在扩展后的单词与命令行中的原始单词之间有其他变化时，前缀才会保持不变。 任何其他值都会强制无条件扩展前缀。
</p>
<p>这个样式为 &lsquo;true&rsquo; 时，<code class="t">_expand</code> 的行为是，当恢复的前缀的单个扩展与原始扩展相同时，<code class="t">_expand</code>
会放弃；因此，可以调用任何剩余的补全器。
</p>
</dd>
<dt><a id="index-known_002dhosts_002dfiles"></a><span><code class="t">known-hosts-files</code><a class="copiable-link" href="#index-known_002dhosts_002dfiles"> &para;</a></span></dt>
<dd><p>该样式应包含一个文件列表，用于搜索与 ssh <code class="t">known_hosts</code> 文件格式兼容的主机名和 IP 地址（如果设置了 <code class="t">use-ip</code>
样式）。 如果未设置，则使用 <code class="t">/etc/ssh/ssh_known_hosts</code> 和 <code class="t">~/.ssh/known_hosts</code> 文件。
</p>
</dd>
<dt><a id="index-last_002dprompt_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">last-prompt</code><a class="copiable-link" href="#index-last_002dprompt_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这是 <code class="t">ALWAYS_LAST_PROMPT</code> 选项的一种更灵活的形式。 如果该选项为
&lsquo;true&rsquo;，补全系统将尝试在显示补全列表后将光标返回到前一个命令行。 它会对当前补全有效的所有标记进行测试，然后是 <code class="t">default</code> 标记。
如果该样式对所有类型的匹配都是 &lsquo;true&rsquo; ，光标将被移回上一行。 需要注意的是，与 <code class="t">ALWAYS_LAST_PROMPT</code>
选项不同，此样式与数字参数无关。
</p>
</dd>
<dt><a id="index-list_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list</code><a class="copiable-link" href="#index-list_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">_history_complete_word</code> 可绑定命令使用。 如果设置为 &lsquo;true&rsquo; ，则没有任何效果。 如果设置为
&lsquo;false&rsquo;，则不会列出匹配结果。 这将覆盖控制列表行为的选项设置，尤其是 <code class="t">AUTO_LIST</code>。 上下文总是以
&lsquo;<code class="t">:completion:history-words</code>&rsquo; 开头。
</p>
</dd>
<dt><a id="index-list_002dcolors_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-colors</code><a class="copiable-link" href="#index-list_002dcolors_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果已加载 <code class="t">zsh/complist</code> 模块，则可使用此样式来设置颜色规格。 这种机制取代了 <a class="ref" href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a>中
<code class="t">ZLS_COLORS</code> 和 <code class="t">ZLS_COLOURS</code> 参数的使用，但语法相同。
</p>
<p>如果为 <code class="t">default</code> 标记设置了这种样式，那么值中的字符串将被视为在任何地方都要使用的规范。
如果为其他标记设置了该样式，则仅在该标记描述的匹配类型中使用规范。 为达到最佳效果，必须将 <code class="t">group-name</code> 样式设置为空字符串。  
</p>
<p>除了为特定标记设置样式外，还可以使用 <code class="t">group-name</code> 标记明确指定的组名，以及 <code class="t">ZLS_COLORS</code> 和
<code class="t">ZLS_COLOURS</code> 参数允许的 &lsquo;<code class="t">(group)</code>&rsquo; 语法，并简单地使用 <code class="t">default</code> 标记。
</p>
<p>可以使用已为 GNU 版本 <code class="t">ls</code> 命令设置的任何颜色规格：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:default' list-colors \ 
       ${(s.:.)LS_COLORS}
</pre></div>

<p>默认颜色与 GNU <code class="t">ls</code> 命令相同，可以通过将样式设置为空字符串（即 <code class="t">''</code>）来获得。
</p>
</dd>
<dt><a id="index-list_002ddirs_002dfirst_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-dirs-first</code><a class="copiable-link" href="#index-list_002ddirs_002dfirst_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>文件补全时使用，与 <code class="t">file-patterns</code> 样式的特定设置相对应。
如果设置了该样式，则要补全的默认目录将与其他文件分开列出，并先于其他文件补全。
</p>
</dd>
<dt><a id="index-list_002dgrouped_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-grouped</code><a class="copiable-link" href="#index-list_002dgrouped_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果该样式为 &lsquo;true&rsquo; （默认），补全系统将尝试通过分组匹配使某些补全列表更紧凑。 例如，具有相同描述的命令选项（在 <code class="t">verbose</code>
样式设置为 &lsquo;true&rsquo; 时显示）将显示为一个条目。 不过，可以使用菜单选择来循环浏览所有匹配项。
</p>
</dd>
<dt><a id="index-list_002dpacked_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-packed</code><a class="copiable-link" href="#index-list_002dpacked_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这将针对当前上下文中有效的每个标记以及 <code class="t">default</code> 标记进行测试。 如果设置为 &lsquo;true&rsquo;，则相应的匹配项会出现在列表中，就像设置了
<code class="t">LIST_PACKED</code> 选项一样。 如果设置为 &lsquo;false&rsquo;，则会正常列出。
</p>
</dd>
<dt><a id="index-list_002dprompt_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-prompt</code><a class="copiable-link" href="#index-list_002dprompt_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果为 <code class="t">default</code> 标记设置了该样式，则无法在屏幕上显示的补全列表可以滚动显示（参见 <a class="ref" href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a>）。
如果该值不是空字符串，则会在每次刷屏后显示，并且 shell 会提示按键；如果样式设置为空字符串，则会使用默认提示符。
</p>
<p>该值可能包含转义序列：&lsquo;<code class="t">%l</code>&rsquo; 或 &lsquo;<code class="t">%L</code>&rsquo;，它将被最后显示的行数和总行数取代；&lsquo;<code class="t">%m</code>&rsquo; 或
&lsquo;<code class="t">%M</code>&rsquo;，它将被最后显示的匹配数和总匹配数取代；以及 &lsquo;<code class="t">%p</code>&rsquo; 和 &lsquo;<code class="t">%P</code>&rsquo;，当位于列表开头时为 &lsquo;<code class="t">Top</code>&rsquo;
，位于列表结尾时为 &lsquo;<code class="t">Bottom</code>&rsquo; ，否则将以总长度的百分比显示位置。
在每种情况下，大写字母形式将被固定宽度的字符串替换，并在右侧填充空格，而小写字母形式将被宽度可变的字符串替换。
与其他提示符字符串一样，用于进入和离开显示模式的转义序列 &lsquo;<code class="t">%S</code>&rsquo;, &lsquo;<code class="t">%s</code>&rsquo;, &lsquo;<code class="t">%B</code>&rsquo;, &lsquo;<code class="t">%b</code>&rsquo;,
&lsquo;<code class="t">%U</code>&rsquo;, &lsquo;<code class="t">%u</code>&rsquo; (突出,粗体，下划线)，此外，还有用于改变前景背景颜色的 &lsquo;<code class="t">%F</code>&rsquo;, &lsquo;<code class="t">%f</code>&rsquo;,
&lsquo;<code class="t">%K</code>&rsquo;, &lsquo;<code class="t">%k</code>&rsquo; ,和&quot;<code class="t">%{</code>&quot;形式。用于括起来的 &lsquo;<code class="t">%{</code>...<code class="t">%}</code>&rsquo;
转义序列，其显示宽度为零（或用数字参数表示为其他宽度）。
</p>
<p>删除此提示符后，应取消设置变量 <code class="t">LISTPROMPT</code> ,才能生效。
</p>
</dd>
<dt><a id="index-list_002drows_002dfirst_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-rows-first</code><a class="copiable-link" href="#index-list_002drows_002dfirst_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式的测试方法与 <code class="t">list-packed</code> 样式相同，并决定是否以行优先的方式列出匹配结果，就像设置了 <code class="t">LIST_ROWS_FIRST</code>
选项一样。
</p>
</dd>
<dt><a id="index-list_002dseparator_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-separator</code><a class="copiable-link" href="#index-list_002dseparator_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式的值在补全列表中用于在可能的情况下（如补全选项时）分隔要补全的字符串和描述。 默认值为 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; （两个连字符）。
</p>
</dd>
<dt><a id="index-list_002dsuffixes_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">list-suffixes</code><a class="copiable-link" href="#index-list_002dsuffixes_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由补全文件名的函数使用。 如果该样式为 &lsquo;true&rsquo;，并且在尝试补全键入的包含多个部分路径名组件的字符串时，将显示所有不明确的组件。
否则，补全将在第一个含糊的部分停止。
</p>
</dd>
<dt><a id="index-local_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">local</code><a class="copiable-link" href="#index-local_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>用于补全 URL 的函数，这些 URL 的相应文件可直接从文件系统中获取。
其值应由三个字符串组成：主机名、服务器默认网页的路径，以及用户在其主页区域放置网页时使用的目录名。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' local toast \ 
    /var/http/public/toast public_html
</pre></div>

<p>在 &lsquo;<code class="t">http://toast/stuff/</code>&rsquo; 后补全将查找 <code class="t">/var/http/public/toast/stuff</code>
目录中的文件，而在 &lsquo;<code class="t">http://toast/~yousir/</code>&rsquo; 后补全将查找 <code class="t">~yousir/public_html</code> 目录中的文件。
</p>
</dd>
<dt><a id="index-mail_002ddirectory_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">mail-directory</code><a class="copiable-link" href="#index-mail_002ddirectory_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置了该选项，zsh 会假定邮箱文件在指定的目录中。 默认值为 &lsquo;<code class="t">~/Mail</code>&rsquo;。
</p>
</dd>
<dt><a id="index-match_002doriginal_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">match-original</code><a class="copiable-link" href="#index-match_002doriginal_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这是 <code class="t">_match</code> 补全器使用的。 如果设置为 <code class="t">only</code>，<code class="t">_match</code> 将尝试生成匹配,但不在光标位置插入 &lsquo;<code class="t">*</code>&rsquo; 。
如果设置为任何其他非空值，它将首先在不插入 &lsquo;<code class="t">*</code>&rsquo; 的情况下尝试生成匹配结果，如果没有匹配结果，它将在插入 &lsquo;<code class="t">*</code>&rsquo; 的情况下再次尝试。
如果未设置或设置为空字符串，则只在插入 &lsquo;<code class="t">*</code>&rsquo; 时执行匹配。
</p>
</dd>
<dt><a id="index-Pi-Pei-Qi-_002cBu-Quan-Yang-Shi-"></a><span><code class="t">匹配器</code><a class="copiable-link" href="#index-Pi-Pei-Qi-_002cBu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式对当前上下文中有效的每个标记分别进行测试。 它的值被置于 <code class="t">matcher-list</code> 样式给出的任何匹配规范之前，因此可以通过使用
<code class="t">x:</code> 规范来覆盖这些规范。 该值应采用 <a class="ref" href="#g_t_8865_5168_5339_914d_63a7_5236">补全匹配控制</a> 中描述的形式。 有关示例，请参阅 <code class="t">tag-order</code> 样式的说明。
</p>
<p>关于该样式注意与 <code class="t">matcher-list</code> 样式的使用进行比较，请参阅 <code class="t">tag-order</code> 样式的说明。
</p>
</dd>
<dt><a id="index-matcher_002dlist_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">matcher-list</code><a class="copiable-link" href="#index-matcher_002dlist_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式可设置为匹配规范的列表，这些匹配规范将应用于所有地方。<a class="ref" href="#g_t_8865_5168_5339_914d_63a7_5236">补全匹配控制</a> 中描述了匹配规范。
补全系统将针对所选的每个补全器逐一尝试匹配规范。 例如，首先尝试简单补全，如果没有匹配结果，则尝试不区分大小写的补全：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' matcher-list '' 'm:{a-zA-Z}={A-Za-z}'
</pre></div>

<p>默认情况下，每一条规范都会取代前一条规范；但是，如果一条规范的前缀是 <code class="t">+</code>，它就会被添加到现有的列表中。
因此，可以在不重复的情况下创建越来越多的通用规范：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' matcher-list \ 
       '' '+m:{a-z}={A-Z}' '+m:{A-Z}={a-z}'
</pre></div>

<p>通过使用上下文的第三个字段，可以创建对特定补全程序有效的匹配规范。 这仅适用于覆盖全局匹配器列表的补全程序，截至本文撰写时，全局匹配器列表仅包括
<code class="t">_prefix</code> 和 <code class="t">_ignored</code>。 例如，要使用 <code class="t">_complete</code> 和 <code class="t">_prefix</code>，但只允许使用
<code class="t">_complete</code> 进行大小写不敏感的补全：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer _complete _prefix
zstyle ':completion:*:complete:*:*:*' matcher-list \ 
       '' 'm:{a-zA-Z}={A-Za-z}'
</pre></div>

<p>用户可自定义名称，如 <code class="t">completer</code> 样式所解释的那样。 这样就可以多次使用同一个补全器，每次使用不同的匹配规范。
例如，先尝试不带匹配规范的正常补全，再尝试带大小写不敏感匹配的正常补全，然后是纠错，最后是部分词补全：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer \ 
    _complete _correct _complete:foo
zstyle ':completion:*:complete:*:*:*' matcher-list \ 
    '' 'm:{a-zA-Z}={A-Za-z}'
zstyle ':completion:*:foo:*:*:*' matcher-list \ 
    'm:{a-zA-Z}={A-Za-z} r:|[-_./]=* r:|=*'
</pre></div>

<p>如果在任何上下文中未设置样式，则不会应用匹配规范。 还需注意的是，某些补全器（如 <code class="t">_correct</code> 和
<code class="t">_approximate</code>）根本不使用匹配规范，不过即使 <code class="t">matcher-list</code> 包含多个元素，这些补全器也只会被调用一次。
</p>
<p>在使用多个规范时，请注意 <em class="emph">整个</em> 补全过程是针对 <code class="t">matcher-list</code> 的每个元素进行的，这会迅速降低 shell 的性能。
根据粗略的经验，一到三个字符串就能提供可接受的性能。 另一方面，将多个以空格分隔的值放入同一字符串不会对性能产生明显影响。
</p>
<p>如果当前没有匹配器或匹配器为空，且选项 <code class="t">NO_CASE_GLOB</code> 有效，则在任何情况下都将执行不区分大小写的文件匹配。
不过，如果需要，任何匹配器都必须明确指定大小写不敏感匹配。
</p>
<p>关于该样式与 <code class="t">matcher</code> 样式的使用比较，请参阅 <code class="t">tag-order</code> 样式的说明。
</p>
</dd>
<dt><a id="index-max_002derrors_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">max-errors</code><a class="copiable-link" href="#index-max_002derrors_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_approximate</code> 和 <code class="t">_correct</code> 补全函数使用它来确定允许的最大错误数。
补全器在生成补全时，会先允许一个错误，然后是两个错误，以此类推，直到找到一个或多个匹配项，或者达到该样式给出的最大错误数。
</p>
<p>如果该样式的值包含字符串 &lsquo;<code class="t">numeric</code>&rsquo;，则补全函数会将任何数字参数作为允许的最大错误数。例如
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:approximate:::' max-errors 2 numeric
</pre></div>

<p>如果没有给出数值参数，则允许出现两个错误，但如果数值参数为 6（如 &lsquo;<code class="t">ESC-6 TAB</code>&rsquo;），则最多可接受六个错误。 因此，如果值为&lsquo;<code class="t">0
numeric</code>&rsquo;，除非给出一个数字参数，否则不会尝试纠正补全。
</p>
<p>如果值包含字符串 &lsquo;<code class="t">not-numeric</code>&rsquo;，则在给定数字参数时，补全程序将 <em class="emph">不会</em>
尝试生成更正补全，因此在这种情况下，给定的数字应大于零。 例如， &lsquo;<code class="t">2 not-numeric</code>&rsquo;
表示通常会对两个错误进行纠正补全，但如果给出的是数字参数，则不会进行纠正补全。
</p>
<p>这个样式的默认值是 &lsquo;<code class="t">2 numeric</code>&rsquo;.
</p>
</dd>
<dt><a id="index-max_002dmatches_002dwidth_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">max-matches-width</code><a class="copiable-link" href="#index-max_002dmatches_002dwidth_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>当 <code class="t">verbose</code> 样式生效时，该样式用于确定匹配内容显示宽度与匹配内容描述宽度之间的权衡。 该值给出了为匹配预留的显示列数。
默认值为屏幕宽度的一半。
</p>
<p>当多个匹配具有相同的描述，会被分组在一起，这一点影响最大。 增大样式可以将更多的匹配归为一组；减小样式可以显示更多的描述。
</p>
</dd>
<dt><a id="index-menu_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">menu</code><a class="copiable-link" href="#index-menu_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果此值为 &lsquo;true&rsquo; ，则将在当前补全定义的任何标记上下文中使用菜单补全。 特定标记的值优先于 &lsquo;<code class="t">default</code>&rsquo; 标记的值。
</p>
<p>如果通过这种方法找到的值都不是 &lsquo;true&rsquo; ，但至少有一个值被设置为 &lsquo;<code class="t">auto</code>&rsquo;，那么 shell 的行为就如同设置了
<code class="t">AUTO_MENU</code> 选项。
</p>
<p>如果其中一个值被明确设置为 &lsquo;false&rsquo;，则菜单补全将被明确关闭，并覆盖 <code class="t">MENU_COMPLETE</code> 选项和其他设置。
</p>
<p>在 &lsquo;<code class="t">yes=</code><var class="var">num</var>&rsquo; 形式中， &lsquo;<code class="t">yes</code>&rsquo; 可以是任何一个 &lsquo;true&rsquo; 值（&lsquo;<code class="t">yes</code>&rsquo;, &lsquo;<code class="t">true</code>&rsquo;,
&lsquo;<code class="t">on</code>&rsquo; 和 &lsquo;<code class="t">1</code>&rsquo;），如果至少有 <var class="var">num</var> 个匹配项，则将打开菜单补全功能。 在 &lsquo;<code class="t">yes=long</code>&rsquo;
形式中，如果列表无法显示在屏幕上，则将打开菜单补全功能。 如果小部件通常只列出补全信息，则不会激活菜单补全，但在这种情况下，可以使用值
&lsquo;<code class="t">yes=long-list</code>&rsquo; 激活菜单补全（通常情况下，后面介绍的值  &lsquo;<code class="t">select=long-list</code>&rsquo;
更有用，因为它提供了对滚动的控制）。
</p>
<p>同样，如果使用任何 &lsquo;false&rsquo; 值（如 &lsquo;<code class="t">no=10</code>&rsquo;），如果有 <var class="var">num</var> 或更多个匹配项，将 <em class="emph">不会</em> 使用完成菜单。  
</p>
<p>该小部件的值还可以控制菜单选择，由 <code class="t">zsh/complist</code> 模块实现。 以下值可以与上述值同时出现，也可以代替上述值。
</p>
<p>如果值包含字符串 &lsquo;<code class="t">select</code>&rsquo;，则将无条件启动菜单选择。
</p>
<p>在 &lsquo;<code class="t">select=</code><var class="var">num</var>&rsquo; 形式中，只有至少有 <var class="var">num</var> 个匹配时，才会启动菜单选择。
如果不止一个标记的值提供了一个数字，则取最小的数字。
</p>
<p>通过定义包含字符串 &lsquo;<code class="t">no-select</code>&rsquo; 的值，可以明确关闭菜单选择功能。
</p>
<p>还可以使用值 &lsquo;<code class="t">select=long</code>&rsquo;，仅在匹配列表无法在屏幕上显示时启动菜单选择。
要在当前小部件只执行列表功能的情况下启动菜单选择，可使用值 &lsquo;<code class="t">select=long-list</code>&rsquo;。
</p>
<p>当有一定数量的匹配项 <em class="emph">或</em> 匹配项列表无法在屏幕上显示时，打开菜单补全或菜单选择功能，则可以同时给出两次 &lsquo;<code class="t">yes=</code>&rsquo; 和
&lsquo;<code class="t">select=</code>&rsquo; ，一次是数字，另一次是 &lsquo;<code class="t">long</code>&rsquo; 或 &lsquo;<code class="t">long-list</code>&rsquo;。
</p>
<p>最后，还可以激活两种特殊的菜单选择模式。 值中包含 &lsquo;<code class="t">interactive</code>&rsquo;
会导致在开始选择菜单时立即进入交互模式；有关交互模式的描述，请参阅 <a class="ref" href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a>。 包含字符串 &lsquo;<code class="t">search</code>&rsquo;
增量搜索模式中行为相同。 要选择后向增量搜索，请加入字符串 &lsquo;<code class="t">search-backward</code>&rsquo;。
</p>
</dd>
<dt><a id="index-muttrc_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">muttrc</code><a class="copiable-link" href="#index-muttrc_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置，则给出 mutt 配置文件的位置。 默认为 &lsquo;<code class="t">~/.muttrc</code>&rsquo;。
</p>
</dd>
<dt><a id="index-numbers_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">numbers</code><a class="copiable-link" href="#index-numbers_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>与 <code class="t">jobs</code> 标记一起使用。 如果值为 &lsquo;true&rsquo;，shell 将补全作业编号，而不是作业命令文本中最短的无歧义前缀。
如果值为数字，则只有在需要从作业描述中找出这么多字来解决歧义时，才会使用作业编号。 例如，如果值为
&lsquo;<code class="t">1</code>&rsquo;，则只有在所有作业命令行的第一个单词不同时，才会使用字符串。
</p>
</dd>
<dt><a id="index-old_002dlist_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">old-list</code><a class="copiable-link" href="#index-old_002dlist_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该值由 <code class="t">_oldlist</code> 补全器使用。 如果将其设置为
&lsquo;<code class="t">always</code>&rsquo;，那么执行列表的标准小部件将保留当前的匹配列表，无论它们是如何生成的；可以使用值 &lsquo;<code class="t">never</code>&rsquo;
显式地关闭此功能，从而在不使用 <code class="t">_oldlist</code> 补全器的情况下提供相应的行为。
如果未设置样式或其他值，则会显示现有的补全列表（如果还没有）；否则，将生成标准的补全列表；这是 <code class="t">_oldlist</code> 的默认行为。
不过，如果存在旧列表，且该样式包含生成该列表的补全函数名称，则将使用旧列表，即使该列表是由不做列表的小部件生成的。
</p>
<p>例如，假设键入 <code class="t">^Xc</code> 来使用 <code class="t">_correct_word</code> 小部件，它会生成光标下单词的更正列表。 通常情况下，键入 <code class="t">^D</code>
会在命令行中生成该单词的标准补全列表并显示出来。 如果使用 <code class="t">_oldlist</code>，则会显示已生成的更正列表。
</p>
<p>再以 <code class="t">_match</code> 补全器为例：当 <code class="t">insert-unambiguous</code> 样式设置为 &lsquo;true&rsquo;
时，如果有公共前缀字符串，它只会插入该字符串。 不过，这可能会删除原始模式的部分内容，因此进一步补全可能会产生比第一次更多的匹配结果。 通过使用
<code class="t">_oldlist</code> 补全器并将此样式设置为 <code class="t">_match</code>，将再次使用第一次尝试时生成的匹配列表。
</p>
</dd>
<dt><a id="index-old_002dmatches_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">old-matches</code><a class="copiable-link" href="#index-old_002dmatches_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_all_matches</code> 补全器使用该值来决定是否在存在匹配列表的情况下使用旧的匹配列表。 这可以通过 &lsquo;true&rsquo; 值或字符串
&lsquo;<code class="t">only</code>&rsquo; 来选择。 如果值为 &lsquo;<code class="t">only</code>&rsquo;，<code class="t">_all_matches</code>
将只使用旧的匹配列表，而不会对当前生成的匹配列表产生任何影响。
</p>
<p>如果设置了这种样式，无条件调用 <code class="t">_all_matches</code> 补全器通常是不明智的。 一种可能的用法是，使用这个样式 或使用 <code class="t">zstyle</code>
的 <code class="t">-e</code> 选项来定义的 <code class="t">completer</code> 样式，从而使样式具有条件性。
</p>
</dd>
<dt><a id="index-old_002dmenu_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">old-menu</code><a class="copiable-link" href="#index-old_002dmenu_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>由 <code class="t">_oldlist</code> 补全器使用。 它可以控制菜单补全在已插入补全且用户键入标准补全键（如 <code class="t">TAB</code>）时的行为。 <code class="t">_oldlist</code>
的默认行为是，菜单补全总是继续使用现有的补全列表。 但如果将此样式设置为
&lsquo;false&rsquo;，则如果旧的补全列表是由不同的补全命令生成的，则会启动新的补全；这是没有 <code class="t">_oldlist</code> 补全器时的行为。
</p>
<p>例如，假设您键入 <code class="t">^Xc</code> 来生成一个更正列表，然后菜单补全以常规方式之一启动。 通常情况下，或在此样式设置为&lsquo;false&rsquo; 的情况下，此时键入
<code class="t">TAB</code> 将开始尝试补全现在显示的行。 如果使用 <code class="t">_oldlist</code>，则会继续在更正列表中循环。
</p>
</dd>
<dt><a id="index-original_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">original</code><a class="copiable-link" href="#index-original_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这被 <code class="t">_approximate</code> 和 <code class="t">_correct</code> 补全器用来决定是否应将原始字符串添加为可能的补全。
通常，只有在至少有两个可能的纠正时，才会添加补全，但如果此样式设置为 &lsquo;true&rsquo;，则总是会添加补全。
请注意，在检查该样式时，将把上下文名称中的补全器字段设置为 <code class="t">correct-</code><var class="var">num</var> 或
<code class="t">approximate-</code><var class="var">num</var>，其中 <var class="var">num</var> 是接受的错误数。
</p>
</dd>
<dt><a id="index-packageset_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">packageset</code><a class="copiable-link" href="#index-packageset_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式用于完成 Debian 的 &lsquo;<code class="t">dpkg</code>&rsquo; 程序的参数。 它包含对给定上下文的默认软件包集的覆盖。 例如，
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:complete:dpkg:option--status-1:*' \ 
               packageset avail
</pre></div>

<p>会导致 &lsquo;<code class="t">dpkg -</code><code class="t">-status</code>&rsquo; 补全可用的软件包，而不仅仅是已安装的软件包。
</p>
</dd>
<dt><a id="index-path_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">path</code><a class="copiable-link" href="#index-path_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>补全颜色名称的函数使用这种带有 <code class="t">colors</code> 标记的样式。 该值应是包含颜色名称的文件的路径名，格式为 X11 <code class="t">rgb.txt</code> 文件。
如果未设置样式，但在各种标准位置中找到了该文件，则默认使用该文件。
</p>
</dd>
<dt><a id="index-path_002dcompletion_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">path-completion</code><a class="copiable-link" href="#index-path_002dcompletion_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>文件名补全时使用。 默认情况下，文件名补全会检查路径的所有组件，查看是否存在该组件的补全。 例如，<code class="t">/u/b/z</code> 可以补全为
<code class="t">/usr/bin/zsh</code>。 如果将此样式明确设置为 &lsquo;false&rsquo; ，则光标前的 <code class="t">/</code> 之前的路径组件将无法执行此行为；这将覆盖
<code class="t">accept-exact-dirs</code> 的设置。
</p>
<p>即使将样式设置为  &lsquo;false&rsquo;，通过设置选项
<code class="t">COMPLETE_IN_WORD</code>，并将光标移回到要补全的路径中的第一个组件，仍然可以补全多个路径。 例如，如果光标位于 <code class="t">/u</code> 之后，则
<code class="t">/u/b/z</code> 可以补全为 <code class="t">/usr/bin/zsh</code>。
</p>
</dd>
<dt><a id="index-pine_002ddirectory_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">pine-directory</code><a class="copiable-link" href="#index-pine_002ddirectory_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置，则指定包含 PINE 邮箱文件的目录。 没有默认设置，因为递归搜索该目录对不使用 PINE 的人来说很不方便。
</p>
</dd>
<dt><a id="index-ports_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">ports</code><a class="copiable-link" href="#index-ports_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>要补全的互联网服务名称（网络端口）列表。 如果未设置，服务名称将取自文件 &lsquo;<code class="t">/etc/services</code>&rsquo;。
</p>
</dd>
<dt><a id="index-prefix_002dhidden_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">prefix-hidden</code><a class="copiable-link" href="#index-prefix_002dhidden_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>用于某些有共同前缀的补全，例如以破折号开头的命令选项。 如果设置为 &lsquo;true&rsquo;，前缀将不会显示在匹配列表中。
</p>
<p>这个样式的默认值是 &lsquo;false&rsquo;.
</p>
</dd>
<dt><a id="index-prefix_002dneeded_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">prefix-needed</code><a class="copiable-link" href="#index-prefix_002dneeded_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这种样式也适用于有共同前缀的匹配。 如果设置为 &lsquo;true&rsquo; ，则必须由用户输入共同前缀才能生成匹配。
</p>
<p>该样式适用于 <code class="t">options</code>, <code class="t">signals</code>, <code class="t">jobs</code>, <code class="t">functions</code> 和 <code class="t">parameters</code>
等补全标记。
</p>
<p>对于命令选项而言，这意味着在补全选项名称之前，必须明确键入前导的 &lsquo;<code class="t">-</code>&rsquo;, &lsquo;<code class="t">+</code>&rsquo; 或 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;。
</p>
<p>对于信号，在补全信号名称之前，需要一个前导的 &lsquo;<code class="t">-</code>&rsquo; 。
</p>
<p>对于作业，在补全作业名称之前，需要输入前导的 &lsquo;<code class="t">%</code>&rsquo;。
</p>
<p>对于函数名和参数名，在补全以 &lsquo;<code class="t">_</code>&rsquo; 或 &lsquo;<code class="t">.</code>&rsquo; 字符开头的函数名或参数名之前，需要先输入前导的 &lsquo;<code class="t">_</code>&rsquo; 或 &lsquo;<code class="t">.</code>&rsquo; 。
</p>
<p>对于 <code class="t">function</code> 和 <code class="t">parameter</code> 补全，该样式的默认值为 &lsquo;false&rsquo; ，否则为 &lsquo;true&rsquo; 。
</p>
</dd>
<dt><a id="index-preserve_002dprefix_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">preserve-prefix</code><a class="copiable-link" href="#index-preserve_002dprefix_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式用于补全路径名。 它的值应该是一个与要补全的单词的首字母前缀相匹配的模式，在任何情况下都不应改变。 例如，在某些 Unices 中(指 UNIX
的多种变体)，开头的 &lsquo;<code class="t">//</code>&rsquo;（双斜线）具有特殊含义；将该样式设置为字符串 &lsquo;<code class="t">//</code>&rsquo; 将保留该含义。 再比如，在 Cygwin
下将该样式设置为 &lsquo;<code class="t">?:/</code>&rsquo; 将允许在 &lsquo;<code class="t">a:/...</code>&rsquo; 后补全，等等。
</p>
</dd>
<dt><a id="index-range_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">range</code><a class="copiable-link" href="#index-range_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_history</code> 补全器和 <code class="t">_history_complete_word</code> 可绑定命令会使用该命令来决定哪些词应该被补全。  
</p>
<p>如果是单个数字，则只补全历史记录中最后 <var class="var">N</var> 个字。
</p>
<p>如果它是一个形式为 &lsquo;<var class="var">max</var><code class="t">:</code><var class="var">slice</var>&rsquo; 的范围，则将补全最后一个 <var class="var">slice</var>
词；如果没有匹配结果，则将尝试之前的 <var class="var">slice</var> 词，依此类推。 这个过程会在找到至少一个匹配词或 <var class="var">max</var> 个词已被尝试后停止。
</p>
<p>默认设置是一次性补全历史记录中的所有单词。
</p>
</dd>
<dt><a id="index-recursive_002dfiles_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">recursive-files</code><a class="copiable-link" href="#index-recursive_002dfiles_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置了该样式，其值将是针对 &lsquo;<code class="t">$PWD/</code>&rsquo; 进行测试的模式数组：请注意尾部的斜线，它允许通过在两侧包含斜线来明确划分模式中的目录。
如果普通文件补全失败，而命令行中的单词名称中还没有目录部分，那么将使用与刚才尝试的补全相同的标记来检索样式，然后依次根据 <code class="t">$PWD/</code>
对元素进行测试。 如果有一个匹配，shell 会重新尝试补全，方法是依次将命令行上的单词用 <code class="t">**/*(/)</code> 扩展中的每个目录作为前缀。
通常情况下，样式元素的设置会将当前目录下的目录数量限制在可控范围内，例如 &lsquo;<code class="t">*/.git/*</code>&rsquo; 。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' recursive-files '*/zsh/*'
</pre></div>

<p>如果当前目录是 <code class="t">/home/pws/zsh/Src</code>，则 <code class="t">zle_tr&lt;TAB&gt;</code> 可以补全为 <code class="t">Zle/zle_tricky.c</code>。
</p>
</dd>
<dt><a id="index-regular_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">regular</code><a class="copiable-link" href="#index-regular_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">_expand_alias</code> 补全器和可绑定命令使用。 如果设置为 &lsquo;true&rsquo; （默认），正则别名将被展开，但仅限于命令位置。
如果设置为  &lsquo;false&rsquo;，则不会扩展常规别名。 如果设置为 &lsquo;<code class="t">always</code>&rsquo;，即使不在命令位置，也会展开常规别名。
</p>
</dd>
<dt><a id="index-rehash_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">rehash</code><a class="copiable-link" href="#index-rehash_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果在补全外部命令时设置了该选项，则每次搜索时都会通过 <code class="t">rehash</code> 命令更新内部命令列表（哈希）。
这样做会降低速度，只有在路径中的目录文件访问速度较慢时才会明显感觉到。
</p>
</dd>
<dt><a id="index-remote_002daccess_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">remote-access</code><a class="copiable-link" href="#index-remote_002daccess_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;false&rsquo;，某些命令将无法通过互联网连接获取远程信息。 这包括 <code class="t">CVS</code> 命令的补全。
</p>
<p>我们并不总能知道连接是否确实指向远程站点，因此有些连接可能会被不必要地阻止。
</p>
</dd>
<dt><a id="index-remove_002dall_002ddups_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">remove-all-dups</code><a class="copiable-link" href="#index-remove_002dall_002ddups_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_history_complete_word</code> 可绑定命令和 <code class="t">_history</code>
补全器利用这一点来决定是否要删除所有重复匹配，而不是只删除连续的重复匹配。
</p>
</dd>
<dt><a id="index-select_002dprompt_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">select-prompt</code><a class="copiable-link" href="#index-select_002dprompt_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果为 <code class="t">default</code> 标记设置了该值，则当补全列表无法作为一个整体显示在屏幕上时，其值将在菜单选择时显示（参见上文的 <code class="t">menu</code>
样式）。 与 <code class="t">list-prompt</code> 样式相同的转义符都可以被识别，只是数字指的是标记所在的匹配或行。 当值为空字符串时，将使用默认提示符。
</p>
</dd>
<dt><a id="index-select_002dscroll_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">select-scroll</code><a class="copiable-link" href="#index-select_002dscroll_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式针对 <code class="t">default</code> 标记进行测试，并决定在菜单选择（见上文 <code class="t">menu</code>
样式）时，如果补全列表无法在整个屏幕上显示时，如何滚动补全列表。 如果该值为 &lsquo;<code class="t">0</code>&rsquo;
（零），则按半屏滚动；如果该值为正整数，则按给定的行数滚动；如果该值为负数，则按给定行数的绝对值减去一屏滚动。 默认滚动行数为单行。
</p>
</dd>
<dt><a id="index-separate_002dsections_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">separate-sections</code><a class="copiable-link" href="#index-separate_002dsections_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>在补全手册页面名称时，该样式与 <code class="t">manuals</code> 标记一起使用。 如果该样式为 &lsquo;true&rsquo;，不同章节的条目将使用
&lsquo;<code class="t">manuals.</code><var class="var">X</var>&rsquo; 形式的标签名分别添加，其中 <var class="var">X</var> 是章节编号。 当 <code class="t">group-name</code>
样式也有效时，不同章节的页面将分别显示。 在为 dict 命令补全单词时，该样式也与 <code class="t">words</code>
样式类似。它允许分别添加来自不同词典数据库的单词。另请参阅 <code class="t">insert-sections</code>。
</p>
<p>该样式的默认值为 &lsquo;false&rsquo;。
</p>
</dd>
<dt><a id="index-show_002dambiguity_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">show-ambiguity</code><a class="copiable-link" href="#index-show_002dambiguity_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果加载了 <code class="t">zsh/complist</code> 模块，该样式可用于高亮显示补全列表中的第一个模糊字符。其值可以是颜色指示，如
<code class="t">list-colors</code> 样式所支持的颜色；或者，如果值为
&lsquo;true&rsquo;，则默认选择下划线。只有在补全显示字符串与实际匹配对应时，才会应用高亮显示。
</p>
</dd>
<dt><a id="index-show_002dcompleter_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">show-completer</code><a class="copiable-link" href="#index-show_002dcompleter_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>每当尝试一个新的补全器时都会进行测试。 如果为 &lsquo;true&rsquo;，补全系统会在列表区输出一条进度信息，显示正在尝试的补全器。
当找到补全器时，该信息会被输出覆盖，并在补全完成后删除。
</p>
</dd>
<dt><a id="index-single_002dignored_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">single-ignored</code><a class="copiable-link" href="#index-single_002dignored_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>当只有一个匹配时，<code class="t">_ignored</code> 补全器会使用该值。 如果其值为 &lsquo;<code class="t">show</code>&rsquo;，则将显示但不插入单个匹配字符串。 如果其值为
&lsquo;<code class="t">menu</code>&rsquo;，则单个匹配字符串和原始字符串都会被添加为匹配字符串，并启动菜单补全，从而方便选择其中任何一个。
</p>
</dd>
<dt><a id="index-sort_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">sort</code><a class="copiable-link" href="#index-sort_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这样就可以覆盖匹配的标准排序。
</p>
<p>如果其值为 &lsquo;<code class="t">true</code>&rsquo; 或 &lsquo;<code class="t">false</code>&rsquo;，则表示启用或禁用排序。 此外，还可以列出与 <code class="t">compadd</code> 的 &lsquo;<code class="t">-o</code>&rsquo;
选项相关的值： <code class="t">match</code>, <code class="t">nosort</code>, <code class="t">numeric</code>, <code class="t">reverse</code>。
如果上下文未设置该选项，则使用调用小部件的标准行为。
</p>
<p>首先针对包含标记的完整上下文测试这个样式，如果测试失败，则针对不包含标记的上下文测试这个样式。
</p>
<p>在许多情况下，如果调用小部件明确选择了特定的排序方式，而不是默认的排序方式，&lsquo;<code class="t">true</code>&rsquo;
的值就不会被兑现。不是这种情况的例子是，在命令历史中，可以通过将样式设置为 &lsquo;true&rsquo; 来覆盖按时间顺序排列匹配的默认值。
</p>
<p>在 <code class="t">_expand</code> 补全器中，如果将其设置为 &lsquo;true&rsquo;，生成的扩展将始终排序。 如果将其设置为
&lsquo;<code class="t">menu</code>&rsquo;，则只有当扩展作为单个字符串提供时，才会对扩展进行排序，而不是在包含所有可能扩展的字符串中进行排序。
</p>
</dd>
<dt><a id="index-special_002ddirs_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">special-dirs</code><a class="copiable-link" href="#index-special_002ddirs_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>通常情况下，补全代码不会将目录名 &lsquo;<code class="t">.</code>&rsquo; 和 &lsquo;<code class="t">..</code>&rsquo; 作为可能的补全。 如果将该样式设置为 &lsquo;true&rsquo;，则会同时添加 &lsquo;<code class="t">.</code>&rsquo;
和 &lsquo;<code class="t">..</code>&rsquo; 作为可能的补全；如果设置为 &lsquo;<code class="t">..</code>&rsquo;，则只会添加 &lsquo;<code class="t">..</code>&rsquo;。
</p>
<p>下面的示例将 <code class="t">special-dirs</code> 设置为 &lsquo;<code class="t">..</code>&rsquo; ，前提是当前前缀为空，是单一的 &lsquo;<code class="t">.</code>&rsquo; 或仅由以 &lsquo;<code class="t">../</code>&rsquo;
开头的路径组成。 否则，该值为 &lsquo;false&rsquo;。
</p>
<div class="example">
<pre class="example-preformatted">zstyle -e ':completion:*' special-dirs \ 
   '[[ $PREFIX = (../)#(|.|..) ]] &amp;&amp; reply=(..)'
</pre></div>

</dd>
<dt><a id="index-squeeze_002dslashes_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">squeeze-slashes</code><a class="copiable-link" href="#index-squeeze_002dslashes_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo;，文件名路径中的斜线序列（例如在 &lsquo;<code class="t">foo//bar</code>&rsquo; 中）将被视为单个斜线。 这是 UNIX 路径的通常行为。
不过，默认情况下，文件补全函数会认为斜线之间有一个 &lsquo;<code class="t">*</code>&rsquo; 。
</p>
</dd>
<dt><a id="index-stop_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">stop</code><a class="copiable-link" href="#index-stop_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo;，<code class="t">_history_complete_word</code> 可绑定命令将在到达历史记录的开始或结束时停止一次。 然后，调用
<code class="t">_history_complete_word</code> 将回绕到历史的另一端。 如果将此样式设置为
&lsquo;false&rsquo;（默认），<code class="t">_history_complete_word</code> 将像菜单补全一样立即循环。
</p>
</dd>
<dt><a id="index-strip_002dcomments_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">strip-comments</code><a class="copiable-link" href="#index-strip_002dcomments_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;true&rsquo;，该样式会删除补全匹配中的非必要注释文本。
目前，它只用于补全电子邮件地址，在这种情况下，它会删除地址中的任何显示名称，将其缩减为简单的 <var class="var">user@host</var> 格式。
</p>
</dd>
<dt><a id="index-subst_002dglobs_002donly_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">subst-globs-only</code><a class="copiable-link" href="#index-subst_002dglobs_002donly_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这将被 <code class="t">_expand</code> 补全器使用。 如果将其设置为 &lsquo;true&rsquo;，则只有通过 globbing
产生的扩展才会被使用；因此，如果扩展是通过使用下面描述的 <code class="t">substitute</code> 样式产生的，但这些扩展并没有通过 globbing
进一步改变，则这些扩展将被拒绝。
</p>
<p>该样式的默认值为 &lsquo;false&rsquo;。
</p>
</dd>
<dt><a id="index-Ti-Huan-_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">替换</code><a class="copiable-link" href="#index-Ti-Huan-_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该布尔样式控制 <code class="t">_expand</code>  补全器是否首先尝试扩展字符串中的所有替换（如 &lsquo;<code class="t">$(</code><var class="var">...</var><code class="t">)</code>&rsquo;  和
&lsquo;<code class="t">${</code><var class="var">...</var><code class="t">}</code>&rsquo; ）。
</p>
<p>默认是 &lsquo;true&rsquo;.
</p>
</dd>
<dt><a id="index-Hou-Zhui-_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">suffix</code><a class="copiable-link" href="#index-Hou-Zhui-_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果单词以转折号(tilde)开头或包含参数扩展，<code class="t">_expand</code> 补全器就会使用它。 如果将其设置为
&lsquo;true&rsquo;，则只有在单词没有后缀的情况下才会进行扩展，也就是说，如果单词的后缀是类似 &lsquo;<code class="t">~foo</code>&rsquo; 或 &lsquo;<code class="t">$foo</code>&rsquo; ，而不是
&lsquo;<code class="t">~foo/</code>&rsquo; 或 &lsquo;<code class="t">$foo/bar</code>&rsquo;，才会进行扩展，除非该后缀本身包含符合扩展条件的字符。 该样式的默认值为 &lsquo;true&rsquo;。
</p>
</dd>
<dt><a id="index-tag_002dorder_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">tag-order</code><a class="copiable-link" href="#index-tag_002dorder_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这就提供了一种机制，用于对特定上下文中可用标记的使用方式进行排序。
</p>
<p>样式的值是一组以空格分隔的标记列表。 每个值中的标签将同时被尝试；如果没有找到匹配，则使用下一个值。 (请参阅 <code class="t">file-patterns</code>
样式，了解此行为的例外情况）。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:complete:-command-:*:*' tag-order \ 
    'commands functions'
</pre></div>

<p>指定命令位置的补全首先提供外部命令和 shell 函数。 如果找不到补全，将尝试其余标记。
</p>
<p>除标记名称外，值中的每个字符串还可以是以下形式之一：
</p>
<dl class="table">
<dt><code class="t">-</code></dt>
<dd><p>如果任何值只包含一个连字符，那么将 <em class="emph">只</em> 生成其他值中指定的标记。
通常情况下，如果指定的标记无法生成任何匹配结果，则最后尝试所有未明确选择的标记。 这意味着，仅由一个连字符组成的单个值将关闭补全功能。
</p>
</dd>
<dt><code class="t">!</code> <var class="var">tags</var>...</dt>
<dd><p>以感叹号开头的字符串用于指定 <em class="emph">不会使用的</em> 标记的名称。 其效果与列出上下文中所有其他可能的标签相同。
</p>
</dd>
<dt><var class="var">tag</var><code class="t">:</code><var class="var">label</var> ...</dt>
<dd><p>这里，<var class="var">tag</var> 是标准标签之一，<var class="var">label</var> 是任意名称。 匹配结果的生成与正常情况相同，但在上下文中使用 <var class="var">label</var>
而不是 <var class="var">tag</var>。 这在以 <code class="t">!</code> 开头的词语中没有用处。
</p>
<p>如果 <var class="var">label</var> 以连字符开头，则 <var class="var">tag</var> 将作为 <var class="var">label</var> 的前缀，以形成用于查找的名称。
这可以用来让补全系统多次尝试某个标签，并为每次尝试提供不同的样式设置；请参阅下面的示例。
</p>
</dd>
<dt><var class="var">tag</var><code class="t">:</code><var class="var">label</var><code class="t">:</code><var class="var">description</var></dt>
<dd><p>与之前一样，但 <code class="t">description</code> 将替换 <code class="t">format</code> 样式值中的 &lsquo;<code class="t">%d</code>&rsquo; ，而不是补全函数提供的默认描述。
描述中的空格必须用反斜线引出。 出现在 <var class="var">description</var> 中的 &lsquo;<code class="t">%d</code>&rsquo; 会被补全函数给出的描述所替换。
</p>
</dd>
</dl>

<p>在上述任何一种形式中，标记可以是一个模式或多个模式，其形式为 &lsquo;<code class="t">{</code><var class="var">pat1</var><code class="t">,</code><var class="var">pat2...</var><code class="t">}</code>&rsquo;。
在这种情况下，除了同一字符串中任何明确给出的标记外，所有匹配标签都将被使用。
</p>
<p>这些功能的一个用途是多次尝试一个标记，每次尝试都以不同的方式设置其他样式，但仍可使用所有其他标记，而不必重复所有标记。
例如，在第一次尝试补全时，让命令位置的函数名补全忽略所有以下划线开头的补全函数：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:-command-:*:*' tag-order \ 
    'functions:-non-comp *' functions
zstyle ':completion:*:functions-non-comp' \ 
    ignored-patterns '_*'
</pre></div>

<p>第一次尝试时，将提供所有标记，但 <code class="t">functions</code> 标记将被 <code class="t">functions-non-comp</code> 替换。 为该标记设置的
<code class="t">ignored-patterns</code> 样式将排除以下划线开头的函数。 如果没有匹配项，则使用 <code class="t">tag-order</code>
样式的第二个值，以使用默认标记补全函数，这次可能包括所有函数名。
</p>
<p>一个标记的匹配可以分成不同的组。 例如
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' tag-order \ 
    'options:-long:long\ options
     options:-short:short\ options
     options:-single-letter:single\ letter\ options'
zstyle ':completion:*:options-long' \ 
     ignored-patterns '[-+](|-|[^-]*)'
zstyle ':completion:*:options-short' \ 
     ignored-patterns '--*' '[-+]?'
zstyle ':completion:*:options-single-letter' \ 
     ignored-patterns '???*'
</pre></div>

<p>如果设置了 <code class="t">group-names</code> 样式，以 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 开头的选项、以单个 &lsquo;<code class="t">-</code>&rsquo; 或 &lsquo;<code class="t">+</code>&rsquo;
开头但包含多个字符的选项，以及单字母选项，都将以不同的描述分组显示。
</p>
<p>模式的另一个用途是连续尝试多个匹配规范。 <code class="t">matcher-list</code>
样式提供了类似的功能，但它在补全系统中很早就进行了测试，因此不能为单个命令或更具体的上下文设置。
下面是如何在没有任何匹配规范的情况下尝试正常补全，如果没有匹配结果，则再次尝试大小写不敏感匹配，将效果限制在命令 <code class="t">foo</code> 的参数上：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:foo:*:*' tag-order '*' '*:-case'
zstyle ':completion:*-case' matcher 'm:{a-z}={A-Z}'
</pre></div>

<p>首先，在 <code class="t">foo</code> 之后补全时提供的所有标记都会使用正常的标记名称进行尝试。 如果没有匹配结果，则使用 <code class="t">tag-order</code>
的第二个值，再次尝试所有标记，但这次每个标记的名称后都附加了 <code class="t">-case</code>，以便查找样式。 因此，这次将使用示例中第二次调用 <code class="t">zstyle</code>
时的 <code class="t">matcher</code> 样式值来完成补全，而不区分大小写。
</p>
<p>可以使用 <code class="t">zstyle</code> 内置命令的 <code class="t">-e</code> 选项来指定使用特定标记的条件。 例如:
</p>
<div class="example">
<pre class="example-preformatted">zstyle -e '*:-command-:*' tag-order '
    if [[ -n $PREFIX$SUFFIX ]]; then
      reply=( )
    else
      reply=( - )
    fi'
</pre></div>

<p>只有当输入的字符串不为空时，才会尝试在命令位置补全。 这将通过 <code class="t">PREFIX</code> 特殊参数进行测试；有关补全小部件内部特殊参数的描述，请参阅
<a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>。 将 <code class="t">reply</code>
设置为空数组时，默认情况下会一次性尝试所有标记；将其设置为仅包含连字符的数组时，则禁止使用所有标记，因此也无法使用所有补全。
</p>
<p>如果没有为上下文定义 <code class="t">tag-order</code> 样式，则将使用字符串 &lsquo;<code class="t">(|*-)argument-* (|*-)option-*
values</code>&rsquo; 和 &lsquo;<code class="t">options</code>&rsquo;
以及补全函数提供的所有标记来提供合理的默认行为，在大多数命令中，参数（无论是普通命令参数还是选项参数）将在选项名称之前补全。
</p>
</dd>
<dt><a id="index-urls_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">urls</code><a class="copiable-link" href="#index-urls_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该标记与 <code class="t">urls</code> 标记一起用于补全 URL 的函数。
</p>
<p>如果值由多个字符串组成，或者唯一的字符串没有命名文件或目录，则这些字符串作为 URL 来补全。
</p>
<p>如果值中只包含一个字符串，即一个普通文件的名称，URL 将取自该文件（URL 之间可以用空格或换行分隔）。
</p>
<p>最后，如果值中唯一的字符串命名了一个目录，则根植于该目录的目录层次结构会给出补全。 顶层目录应是文件访问方式，如 &lsquo;<code class="t">http</code>&rsquo;,
&lsquo;<code class="t">ftp</code>&rsquo;, &lsquo;<code class="t">bookmark</code>&rsquo; 等。 在许多情况下，下一级目录将是文件名。 目录层次结构可以根据需要尽可能深入。
</p>
<p>例如, 
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' urls ~/.urls
mkdir -p ~/.urls/ftp/ftp.zsh.org/pub

</pre></div>

<p>允许在执行适当的命令（如 &lsquo;<code class="t">netscape</code>&rsquo; 或&lsquo;<code class="t">lynx</code>&rsquo;）后补全 URL <code class="t">ftp://ftp.zsh.org/pub</code>
的所有组件。 但需要注意的是，访问方法和文件是分开补全的，因此如果设置了 <code class="t">hosts</code> 样式，则可以在不参考 <code class="t">urls</code>
样式的情况下补全主机。
</p>
<p>更多信息请参阅函数 <code class="t">_urls</code> 本身的描述（例如 &lsquo;<code class="t">more $^fpath/_urls(N)</code>&rsquo;）。
</p>
</dd>
<dt><a id="index-use_002dcache_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">use-cache</code><a class="copiable-link" href="#index-use_002dcache_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置了该值，则会为任何使用该值的补全激活补全缓存层（通过 <code class="t">_store_cache</code>、<code class="t">_retrieve_cache</code> 和
<code class="t">_cache_invalid</code> 函数）。 可以使用 <code class="t">cache-path</code> 样式更改包含缓存文件的目录。
</p>
</dd>
<dt><a id="index-use_002dcompctl_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">use-compctl</code><a class="copiable-link" href="#index-use_002dcompctl_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果将此样式设置为 <em class="emph">不</em> 等于 <code class="t">false</code>、<code class="t">0</code>、<code class="t">no</code> 和 <code class="t">off</code> 的字符串，补全系统可以使用
<code class="t">compctl</code> 内置命令定义的任何补全规范。 如果未设置该样式，则只有在加载了 <code class="t">zsh/compctl</code> 模块时才会这样做。
该字符串还可以包含子字符串&lsquo;<code class="t">first</code>&rsquo; ，以使用用 &lsquo;<code class="t">compctl -T</code>&rsquo; 定义的补全，以及子字符串
&lsquo;<code class="t">default</code>&rsquo;，以使用用 &lsquo;<code class="t">compctl -D</code>&rsquo; 定义的补全。
</p>
<p>请注意，这只是为了从 <code class="t">compctl</code> 向新的补全系统平稳过渡，将来可能会消失。
</p>
<p>还请注意，只有在相关命令没有特定的补全函数时，才会使用 <code class="t">compctl</code> 定义的。 例如，如果有一个函数 <code class="t">_foo</code> 来补全命令
<code class="t">foo</code> 的参数，那么 <code class="t">compctl</code> 将不会被调用。 但是，如果 <code class="t">foo</code> 只使用默认补全，则会尝试 <code class="t">compctl</code>
版本。
</p>
</dd>
<dt><a id="index-use_002dip_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">use-ip</code><a class="copiable-link" href="#index-use_002dip_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>默认情况下，补全主机名的函数 <code class="t">_hosts</code> 会从 NIS 和 ssh 文件等主机数据库读取的条目中剥离 IP 地址。 如果该样式为
&lsquo;true&rsquo;，则相应的 IP 地址也可以补全。 在任何设置了 <code class="t">hosts</code>
样式的情况下，都不能使用该样式；还需注意的是，必须在生成主机名缓存（通常是第一次补全尝试）之前设置该样式。
</p>
</dd>
<dt><a id="index-users_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">users</code><a class="copiable-link" href="#index-users_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>可将其设置为待补全的用户名列表。 如果不设置，则将补全所有用户名。
请注意，如果设置了该选项，则只能补全该用户列表；这是因为在某些系统中，查询所有用户会耗费大量时间。
</p>
</dd>
<dt><a id="index-users_002dhosts_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">users-hosts</code><a class="copiable-link" href="#index-users_002dhosts_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式的值应为 &lsquo;<var class="var">user</var><code class="t">@</code><var class="var">host</var>&rsquo; 或
&lsquo;<var class="var">user</var><code class="t">:</code><var class="var">host</var>&rsquo;。它用于需要成对用户名和主机名的命令。
这些命令将补全（仅）该样式中的用户名，并将限制后续主机名的补全，只能补全与该样式值之一中的用户配对的主机。
</p>
<p>可以使用 <code class="t">my-accounts</code> 标记对允许远程登录的命令集的值进行分组，如 <code class="t">rlogin</code> 和 <code class="t">ssh</code>。
同样，对于通常指向他人账户的命令集（如 <code class="t">talk</code> 和 <code class="t">finger</code>），也可以使用 <code class="t">other-accounts</code> 标记进行分组。
比较矛盾的命令可以使用 <code class="t">accounts</code> 标记。
</p>
</dd>
<dt><a id="index-users_002dhosts_002dports_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">users-hosts-ports</code><a class="copiable-link" href="#index-users_002dhosts_002dports_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>与 <code class="t">users-hosts</code> 类似，但用于执行 <code class="t">telnet</code> 等命令，并包含格式为
&lsquo;<var class="var">user</var><code class="t">@</code><var class="var">host</var><code class="t">:</code><var class="var">port</var>&rsquo; 的字符串。
</p>
</dd>
<dt><a id="index-verbose_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">verbose</code><a class="copiable-link" href="#index-verbose_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置(默认)，则补全列表会更加详细。 特别是，如果该样式为 &lsquo;true&rsquo;，许多命令都会显示选项说明。
</p>
</dd>
<dt><a id="index-word_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">word</code><a class="copiable-link" href="#index-word_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">_list</code> 补全器使用了这一功能，它可以防止插入补全，直到第二次补全尝试时行内容未发生变化。
正常情况下，要确定该行是否已更改，需要在两次尝试中比较其全部内容。 如果该样式为 &lsquo;true&rsquo;，则只对当前单词进行比较。
因此，如果在内容相同的另一个字上执行补全，补全将不会延迟。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_63a7_5236_51fd_6570">

<h3 class="section" id="Kong-Zhi-Han-Shu-"><span>20.4 控制函数<a class="copiable-link" href="#Kong-Zhi-Han-Shu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Xuan-Ze-Bu-Quan-Qi-"></a>

<p>初始化脚本 <code class="t">compinit</code> 会重新定义所有执行补全的小部件，以调用提供的小部件函数 <code class="t">_main_complete</code>。
该函数作为一个包装器，调用生成匹配的所谓 &lsquo;completer&rsquo; 函数。 如果 <code class="t">_main_complete</code>
是带参数调用的，那么这些参数将作为按给定顺序调用的补全函数名称。 如果没有给定参数，则从 <code class="t">completer</code> 样式中获取要尝试的函数集。
例如，使用正常补全，如果不能生成任何匹配，则进行修正：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer _complete _correct
</pre></div>

<p>在调用 <code class="t">compinit</code> 之后。该样式的默认值为 &lsquo;<code class="t">_complete _ignored</code>&rsquo;，即通常只尝试普通补全，先使用
<code class="t">ignored-patterns</code> 样式的效果，然后不使用。 <code class="t">_main_complete</code>
函数使用补全函数的返回状态来决定是否调用其他补全器。 如果返回状态为零，则不尝试其他补全器，并返回 <code class="t">_main_complete</code> 函数。
</p>
<p>如果 <code class="t">_main_complete</code> 的第一个参数是单个连字符，则不会将参数作为补全器的名称。 相反，第二个参数会给出一个名称，用于上下文的
<var class="var">completer</var> 字段，其他参数会给出一个命令名称和参数s，用于调用生成匹配。
</p>
<p>尽管用户可以编写自己的补全函数，但发行版中包含以下补全函数。 请注意，在上下文中，前导下划线会被去掉，例如，基本补全是在上下文
&lsquo;<code class="t">:completion::complete:</code><var class="var">...</var>&rsquo; 中执行的。
</p>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Bu-Quan-Qi-"></a>
<dl class="table">
<dt><a id="index-_005fall_005fmatches"></a><span><code class="t">_all_matches</code><a class="copiable-link" href="#index-_005fall_005fmatches"> &para;</a></span></dt>
<dd><p>该补全器可用于添加一个由所有其他匹配项组成的字符串。 由于它会影响后面的补全器，因此必须作为列表中的第一个补全器出现。 所有匹配列表都会受到上述
<code class="t">avoid-completer</code> 和 <code class="t">old-matches</code> 样式的影响。
</p>
<p>例如，使用下面描述的 <code class="t">_generic</code> 函数将 <code class="t">_all_matches</code> 与自己的按键绑定，可能会很有用：
</p>
<div class="example">
<pre class="example-preformatted">zle -C all-matches complete-word _generic
bindkey '^Xa' all-matches
zstyle ':completion:all-matches:*' old-matches only
zstyle ':completion:all-matches::::' completer _all_matches
</pre></div>

<p>请注意，这本身并不会生成补全：首先使用任何标准方法生成补全列表，然后使用 <code class="t">^Xa</code> 显示所有匹配。
您可以在列表中添加一个标准补全器，并要求直接插入所有匹配列表：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:all-matches::::' completer \ 
       _all_matches _complete
zstyle ':completion:all-matches:*' insert true
</pre></div>

<p>在这种情况下，不应设置 <code class="t">old-matches</code> 样式。
</p>
</dd>
<dt><a id="index-_005fapproximate"></a><span><code class="t">_approximate</code><a class="copiable-link" href="#index-_005fapproximate"> &para;</a></span></dt>
<dd><p>这与基本的 <code class="t">_complete</code> 补全器类似，但允许对补全内容进行修正。 错误的最大数量可以通过 <code class="t">max-errors</code>
样式指定；关于如何计算错误，请参阅 <a class="ref" href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a> 中关于近似匹配的描述。 通常情况下，该补全器只会在正常的 <code class="t">_complete</code>
补全器之后尝试：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer _complete _approximate
</pre></div>

<p>只有在正常补全没有结果的情况下，才会给出修正补全。 当找到修正补全时，补全器通常会启动菜单补全，允许您循环查看这些字符串。
</p>
<p>该补全器在生成可能的更正和原始字符串时使用 <code class="t">corrections</code> 和 <code class="t">original</code> 标记。 前者的 <code class="t">format</code>
样式可能包含额外的序列 &lsquo;<code class="t">%e</code>&rsquo; 和 &lsquo;<code class="t">%o</code>&rsquo; ，它们将分别被生成更正和原始字符串时接受的错误数所取代。
</p>
<p>补全器会逐步增加允许的错误数，直至达到 <code class="t">max-errors</code> 样式的限制，因此如果发现一个补全有一个错误，就不会显示有两个错误的补全，以此类推。
它会修改上下文中的补全器名称，以显示正在尝试的错误数：第一次尝试时，补全器字段包含 &lsquo;<code class="t">approximate-1</code>&rsquo;，第二次尝试时包含
&lsquo;<code class="t">approximate-2</code>&rsquo;，以此类推。
</p>
<p>当 <code class="t">_approximate</code> 从其他函数调用时，可以通过 <code class="t">-a</code> 选项传递接受的错误数。 参数的格式与 <code class="t">max-errors</code>
样式相同，都在一个字符串中。
</p>
<p>需要注意的是，这个补全器（以及下面提到的 <code class="t">_correct</code> 补全器）的调用代价可能会相当高昂，尤其是在允许出现大量错误的情况下。
避免这种情况的方法之一是使用 zstyle 的 <code class="t">-e</code> 选项来设置 <code class="t">completer</code>
样式，这样只有在对同一字符串进行第二次补全尝试时才会使用某些补全器，例如：
</p>
<div class="example">
<pre class="example-preformatted">zstyle -e ':completion:*' completer '
  if [[ $_last_try != &quot;$HISTNO$BUFFER$CURSOR&quot; ]]; then
    _last_try=&quot;$HISTNO$BUFFER$CURSOR&quot;
    reply=(_complete _match _prefix)
  else
    reply=(_ignored _correct _approximate)
  fi'
</pre></div>

<p>它会使用 <code class="t">HISTNO</code> 参数和 <code class="t">BUFFER</code> 及 <code class="t">CURSOR</code> 特殊参数（这些参数在 zle
和补全小部件中可用）来查找命令行自上次尝试补全后是否未发生变化。 只有这样，才会调用 <code class="t">_ignored</code>、<code class="t">_correct</code> 和
<code class="t">_approximate</code> 补全函数。
</p>
</dd>
<dt><a id="index-_005fcanonical_005fpaths"></a><span><code class="t">_canonical_paths</code> [ <code class="t">-A</code> <var class="var">var</var> ] [ <code class="t">-N</code> ] [ <code class="t">-MJV12nfX</code> ] <var class="var">tag</var> <var class="var">descr</var> [ <var class="var">paths</var> ... ]<a class="copiable-link" href="#index-_005fcanonical_005fpaths"> &para;</a></span></dt>
<dd><p>该补全函数会补全所有给定的路径，并尝试提供与给定路径指向相同文件的补全（当给定绝对路径时为相对路径，反之亦然；当待补全的单词中存在 <code class="t">..</code>
时；以及从符号链接中获得的某些路径）。
</p>
<p>如果指定了 <code class="t">-A</code>，则会从指定的数组变量中获取路径。路径也可以如上所示在命令行中指定。 如果指定了
<code class="t">-N</code>，则可以防止在使用所给路径进行补全之前将其规范化，假设它们已经这样规范化。选项
<code class="t">-M</code>、<code class="t">-J</code>、<code class="t">-V</code>、<code class="t">-1</code>、<code class="t">-2</code>、<code class="t">-n</code>、<code class="t">-F</code>、<code class="t">-X</code> 会传递给 <code class="t">compadd</code>。
</p>
<p>有关 <var class="var">tag</var> 和 <var class="var">descr</var> 的说明，请参见 <code class="t">_description</code>。
</p>
</dd>
<dt><a id="index-_005fcmdambivalent"></a><span><code class="t">_cmdambivalent</code><a class="copiable-link" href="#index-_005fcmdambivalent"> &para;</a></span></dt>
<dd><p>将剩余的位置参数作为外部命令补全。 如果命令行上有两个或两个以上的剩余位置参数，外部命令及其参数将作为单独的参数（以补全
<code class="t">/usr/bin/env</code> 的适当方式）补全，否则将作为带引号的命令字符串（以 <code class="t">system(...)</code> 的方式）补全。 另请参见
<code class="t">_cmdstring</code> 和 <code class="t">_precommand</code>。
</p>
<p>该函数不带参数。
</p>
</dd>
<dt><a id="index-_005fcmdstring"></a><span><code class="t">_cmdstring</code><a class="copiable-link" href="#index-_005fcmdstring"> &para;</a></span></dt>
<dd><p>以单个参数形式补全外部命令，如 <code class="t">system(...)</code>。
</p>
</dd>
<dt><a id="index-_005fcomplete"></a><span><code class="t">_complete</code><a class="copiable-link" href="#index-_005fcomplete"> &para;</a></span></dt>
<dd><p>该补全器以上下文相关的方式生成所有可能的补全，即使用上文解释的 <code class="t">compdef</code> 函数定义的设置以及所有特殊参数的当前设置。
这就给出了正常的补全行为。
</p>
<p>为了补全命令的参数，<code class="t">_complete</code> 使用了实用函数 <code class="t">_normal</code>，该函数又负责查找特定的函数；下文将对其进行介绍。
<code class="t">-</code><var class="var">context</var><code class="t">-</code> 形式的各种上下文会特殊处理。上面提到的这些都是 <code class="t">#compdef</code> 标记的可能参数。
</p>
<p>在尝试为特定上下文查找函数之前，<code class="t">_complete</code> 会检查参数&lsquo;<code class="t">compcontext</code>&rsquo; 是否已设置。设置
&lsquo;<code class="t">compcontext</code>&rsquo; 可以覆盖通常的补全调度，这在使用 <code class="t">vared</code>
作为输入的函数等地方非常有用。如果将其设置为数组，则元素将被视为可能的匹配项，这些匹配项将使用标记&lsquo;<code class="t">values</code>&rsquo; 和描述
&lsquo;<code class="t">value</code>&rsquo; 来补全。如果设置为关联数组，则键被用作可能的补全，值（如果非空）被用作匹配的描述。 如果将&lsquo;<code class="t">compcontext</code>&rsquo;
设置为包含冒号的字符串，则其形式应为 &lsquo;<var class="var">tag</var><code class="t">:</code><var class="var">descr</var><code class="t">:</code><var class="var">action</var>&rsquo;。
在这种情况下，<var class="var">tag</var> 和 <var class="var">descr</var> 给出了要使用的标记和描述，<var class="var">action</var> 则表示应以下面描述的
<code class="t">_arguments</code> 实用程序函数所接受的形式之一来补全。
</p>
<p>最后，如果将 &lsquo;<code class="t">compcontext</code>&rsquo; 设置为不带冒号的字符串，则该值将作为要使用的上下文名称，并调用为该上下文定义的函数。 为此，有一种名为
<code class="t">-command-line-</code>的特殊上下文可以补全整条命令行（命令及其参数）。 补全系统本身并不使用该上下文，但在明确调用时会对其进行处理。
</p>
</dd>
<dt><a id="index-_005fcorrect"></a><span><code class="t">_correct</code><a class="copiable-link" href="#index-_005fcorrect"> &para;</a></span></dt>
<dd><p>为当前单词生成更正，但不生成补全；这与 <code class="t">_approximate</code> 类似，但不会像该补全器那样允许光标处出现任何数量的额外字符。
其效果类似于拼写检查。 它基于 <code class="t">_approximate</code>，但上下文名称中的补全器字段是 <code class="t">correct</code>。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:::::' completer \ 
       _complete _correct _approximate
zstyle ':completion:*:correct:::' max-errors 2 not-numeric
zstyle ':completion:*:approximate:::' max-errors 3 numeric
</pre></div>

<p>更正最多接受两个错误。 如果给出了数字参数，则不会执行修正，但会执行更正补全，并接受与数字参数相同数量的错误。
在没有数字参数的情况下，将先尝试修正，然后再尝试更正补全，前者接受两个错误，后者接受三个错误。
</p>
<p>当 <code class="t">_correct</code> 作为函数调用时，可以在 <code class="t">-a</code> 选项后给出要接受的错误数量。 参数的形式与 <code class="t">accept</code>
样式的值相同，都在一个字符串中。
</p>
<p>该补全函数可以在不使用 <code class="t">_approximate</code> 补全函数的情况下使用，或者像示例中那样，在 <code class="t">_approximate</code>
补全函数之前使用。 在 <code class="t">_approximate</code> 补全函数之后使用该函数是没有用的，因为 <code class="t">_approximate</code> 至少会生成
<code class="t">_correct</code> 补全函数生成的修正字符串 &mdash; 可能还会更多。
</p>
</dd>
<dt><a id="index-_005fexpand"></a><span><code class="t">_expand</code><a class="copiable-link" href="#index-_005fexpand"> &para;</a></span></dt>
<dd><p>该补全函数并不真正执行补全，而是检查命令行中的单词是否符合扩展条件，如果符合，则详细控制如何进行扩展。 为此，需要使用
<code class="t">complete-word</code> 而不是 <code class="t">expand-or-complete</code>（<code class="t">TAB</code>
的默认绑定）来调用补全系统，否则字符串将在补全系统启动之前被 shell 的内部机制展开。 还请注意，此补全函数应在 <code class="t">_complete</code>
补全函数之前调用。
</p>
<p>生成扩展时使用的标记有：<code class="t">all-expansions</code>，用于包含所有可能扩展的字符串；<code class="t">expansions</code>，用于将可能的扩展作为单个匹配项添加；<code class="t">original</code>，用于添加该行的原始字符串。
这些字符串的生成顺序（如果有的话）可以像往常一样由 <code class="t">group-order</code> 和 <code class="t">tag-order</code> 样式控制。
</p>
<p><code class="t">all-expansions</code> 和 <code class="t">expansions</code> 的格式字符串可能包含 &lsquo;<code class="t">%o</code>&rsquo; 序列，该序列将被该行的原始字符串替换。
</p>
<p>要尝试的扩展类型由 <code class="t">substitute</code>、<code class="t">glob</code> 和 <code class="t">subst-globs-only</code> 样式控制。
</p>
<p>也可以将 <code class="t">_expand</code> 作为函数调用，在这种情况下，可以通过选项选择不同的模式： <code class="t">-s</code> 表示
<code class="t">substitute</code>，<code class="t">-g</code> 表示 <code class="t">glob</code> ，<code class="t">-o</code> 表示 <code class="t">subst-globs-only</code>。
</p>
</dd>
<dt><a id="index-_005fexpand_005falias"></a><span><code class="t">_expand_alias</code><a class="copiable-link" href="#index-_005fexpand_005falias"> &para;</a></span></dt>
<dd><p>如果光标所在的单词是别名，则会展开该别名，而不会调用其他补全器。 可以使用 <code class="t">regular</code>、<code class="t">global</code> 和 <code class="t">disabled</code>
样式来控制要展开的别名类型。
</p>
<p>该函数也是一个可绑定命令，请参阅 <a class="ref" href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a>。
</p>
</dd>
<dt><a id="index-_005fextensions"></a><span><code class="t">_extensions</code><a class="copiable-link" href="#index-_005fextensions"> &para;</a></span></dt>
<dd><p>如果光标跟随字符串 &lsquo;<code class="t">*.</code>&rsquo;，则补全文件扩展名。扩展名取自当前目录下的文件或指定以当前单词开头的目录。对于完全匹配，补全继续允许
<code class="t">_expand</code> 等其他补全器扩展模式。标准的 <code class="t">add-space</code> 和 <code class="t">prefix-hidden</code> 样式会被遵守。
</p>
</dd>
<dt><a id="index-_005fexternal_005fpwds"></a><span><code class="t">_external_pwds</code><a class="copiable-link" href="#index-_005fexternal_005fpwds"> &para;</a></span></dt>
<dd><p>补全属于当前用户的其他 zsh 进程的当前目录。
</p>
<p>它通过 <code class="t">_generic</code> 与自定义组合键绑定使用。请注意，模式匹配已启用，因此匹配的执行方式与 <code class="t">_match</code> 补全器类似。
</p>
</dd>
<dt><a id="index-_005fhistory"></a><span><code class="t">_history</code><a class="copiable-link" href="#index-_005fhistory"> &para;</a></span></dt>
<dd><p>补全 shell 历史命令中的单词。 该补全器可由 <code class="t">remove-all-dups</code> 和 <code class="t">sort</code> 样式控制，正如
<code class="t">_history_complete_word</code> 可绑定命令一样，请参阅 <a class="ref" href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a> 和 <a class="ref" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a>。
</p>
</dd>
<dt><a id="index-_005fignored"></a><span><code class="t">_ignored</code><a class="copiable-link" href="#index-_005fignored"> &para;</a></span></dt>
<dd><p>可以将 <code class="t">ignored-patterns</code> 样式设置为一个模式列表，并将其与可能的补全进行比较；匹配的模式将被删除。
有了这个补全器，就可以恢复这些匹配，就像没有设置 <code class="t">ignored-patterns</code> 样式一样。
补全器实际上会生成自己的匹配列表；调用哪些补全器的决定方与 <code class="t">_prefix</code> 补全器相同。 如上所述，还可以使用
<code class="t">single-ignored</code> 样式。
</p>
</dd>
<dt><a id="index-_005flist"></a><span><code class="t">_list</code><a class="copiable-link" href="#index-_005flist"> &para;</a></span></dt>
<dd><p>该补全器允许延迟插入匹配内容，直到第二次尝试补全时，行上的单词才会被更改。 第一次尝试时，只显示匹配列表。 它受 <code class="t">condition</code> 和
<code class="t">word</code> 样式的影响，参见 <a class="ref" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a>。
</p>
</dd>
<dt><a id="index-_005fmatch"></a><span><code class="t">_match</code><a class="copiable-link" href="#index-_005fmatch"> &para;</a></span></dt>
<dd><p>该补全器用于 <code class="t">_complete</code> 补全器之后。 它的行为类似，但命令行上的字符串可以是与试用补全匹配的模式。 它具有
<code class="t">GLOB_COMPLETE</code> 选项的效果。
</p>
<p>通常情况下，补全是通过从行中提取模式，在光标位置插入 &lsquo;<code class="t">*</code>&rsquo; ，然后将生成的模式与可能的补全进行比较。 这可以通过上述
<code class="t">match-original</code> 样式进行修改。
</p>
<p>除非 <code class="t">insert-unambiguous</code> 样式设置为
&lsquo;true&rsquo;，否则生成的匹配结果将在菜单补全中提供；有关该样式的其他选项，请参阅上文的说明。
</p>
<p>请注意，全局定义的或补全函数使用的匹配器规范（样式 <code class="t">matcher-list</code> 和 <code class="t">matcher</code>），不会被使用。
</p>
</dd>
<dt><a id="index-_005fmenu"></a><span><code class="t">_menu</code><a class="copiable-link" href="#index-_005fmenu"> &para;</a></span></dt>
<dd><p>该补全器是作为一个简单的示例函数编写的，用于展示如何在 shell 代码中启用菜单补全功能。不过，它也有一个显著的效果，就是禁用了菜单选择功能，这对基于
<code class="t">_generic</code> 的小部件很有用。它应作为列表中的第一个补全器使用。 请注意，这与 <code class="t">MENU_COMPLETE</code>
选项的设置无关，并且不能与 <code class="t">reverse-menu-complete</code> 或 <code class="t">accept-and-menu-complete</code>
等其他菜单补全小部件一起使用。
</p>
</dd>
<dt><a id="index-_005foldlist"></a><span><code class="t">_oldlist</code><a class="copiable-link" href="#index-_005foldlist"> &para;</a></span></dt>
<dd><p>在存在由特殊补全（即单独绑定的补全命令）生成的现有补全列表时，该补全器可控制标准补全部件的行为。
它允许普通补全键继续使用由此生成的补全列表，而不是生成一个新的普通上下文补全列表。 它应该在任何生成匹配的小部件之前，出现在补全器列表中，。
它使用两种样式： <code class="t">old-list</code> 和 <code class="t">old-menu</code>，请参阅 <a class="ref" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a>。
</p>
</dd>
<dt><a id="index-_005fprecommand"></a><span><code class="t">_precommand</code><a class="copiable-link" href="#index-_005fprecommand"> &para;</a></span></dt>
<dd><p>用分隔参数（word-separated）补全外部命令，如 <code class="t">exec</code> 和 <code class="t">/usr/bin/env</code>。
</p>
</dd>
<dt><a id="index-_005fprefix"></a><span><code class="t">_prefix</code><a class="copiable-link" href="#index-_005fprefix"> &para;</a></span></dt>
<dd><p>该补全器可用于在忽略后缀（光标后的所有内容）的情况下尝试补全。 换句话说，后缀不会被视为要补全的单词的一部分。 其效果类似于
<code class="t">expand-or-complete-prefix</code> 命令。
</p>
<p><code class="t">completer</code> 样式用于决定调用哪些其他补全程序来生成匹配。 如果未设置此样式，则使用为当前上下文设置的补全程序列表 &mdash;
当然，<code class="t">_prefix</code> 补全器本身除外。 此外，如果该补全器在补全器列表中出现不止一次，则只会调用上次调用 <code class="t">_prefix</code>
时尚未尝试过的补全器。
</p>
<p>例如，请看这个全局 <code class="t">completer</code> 样式：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer \ 
    _complete _prefix _correct _prefix:foo
</pre></div>

<p>在这里，<code class="t">_prefix</code> 补全器会尝试正常补全，但忽略后缀。 如果没有匹配结果，之后调用 <code class="t">_correct</code> 补全器也没有匹配结果，那么
<code class="t">_prefix</code> 将被第二次调用，现在只尝试修正而忽略后缀。 在第二次调用时，上下文的补全部分显示为 &lsquo;<code class="t">foo</code>&rsquo;。
</p>
<p>将 <code class="t">_prefix</code> 作为最后手段使用，并在调用时只尝试正常补全：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer _complete ... _prefix
zstyle ':completion::prefix:*' completer _complete
</pre></div>

<p>同时，<code class="t">add-space</code> 样式也会受到尊守。 如果设置为 &lsquo;true&rsquo; ，<code class="t">_prefix</code> 将在生成的匹配项（如果有）和后缀之间插入空格。
</p>
<p>请注意，只有设置了 <code class="t">COMPLETE_IN_WORD</code>
选项，这个补全器才会有用；否则，在调用补全代码之前，光标会被移到当前单词的末尾，因此不会有后缀。
</p>
</dd>
<dt><a id="index-_005fuser_005fexpand"></a><span><code class="t">_user_expand</code><a class="copiable-link" href="#index-_005fuser_005fexpand"> &para;</a></span></dt>
<dd><p>该补全器的行为与 <code class="t">_expand</code> 补全器类似，但它执行的是由用户定义的扩展。 除了补全系统一般处理的其他样式外，<code class="t">_user_expand</code>
还可以使用指定给 <code class="t">_expand</code> 的 <code class="t">_add-space</code> 和 <code class="t">sort</code> 样式。 此外，还可以使用
<code class="t">all-expansions</code> 标记。
</p>
<p>扩展取决于为当前上下文定义的数组样式 <code class="t">user-expand</code>；请记住，补全器的上下文没有上下文补全程序那么具体，因为完整的上下文尚未确定。
数组的元素可以是以下形式之一：
</p>
<dl class="table">
<dt><code class="t">$</code><var class="var">hash</var></dt>
<dd>
<p><var class="var">hash</var> 是关联数组的名称。 请注意，这并不是一个完整的参数表达式，而只是一个
<code class="t">$</code>，为防止立即展开，该表达式后跟了一个关联数组的名称。 如果试验扩展词与 <var class="var">hash</var> 中的键匹配，则扩展结果就是相应的值。
</p>
</dd>
<dt><var class="var">_func</var></dt>
<dd>
<p><var class="var">_func</var> 是 shell 函数的名称，其名称必须以 <code class="t">_</code> 开头，但对补全系统没有其他特殊要求。 调用该函数时，试用词作为参数。
如果要对单词进行扩展，函数应将数组 <code class="t">reply</code> 设置为扩展列表。 可选的，函数还可以将 <code class="t">REPLY</code>
设置为一个单词，该单词将用作扩展集的描述。 函数的返回状态与此无关。
</p>
</dd>
</dl>

</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_53ef_7ed1_5b9a_547d_4ee4">

<h3 class="section" id="Ke-Bang-Ding-Ming-Ling-"><span>20.5 可绑定命令<a class="copiable-link" href="#Ke-Bang-Ding-Ming-Ling-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Ke-Bang-Ding-Ming-Ling-"></a>

<p>除了所提供的与上下文相关的补全（这些补全有望以直观明显的方式运行）外，还有一些实现特殊行为的小部件可以单独绑定到按键上。
下面列出了这些部件及其默认绑定。
</p>
<dl class="table">
<dt><a id="index-_005fbash_005fcompletions"></a><span><code class="t">_bash_completions</code><a class="copiable-link" href="#index-_005fbash_005fcompletions"> &para;</a></span></dt>
<dd><p><code class="t">_bash_complete-word</code> 和 <code class="t">_bash_list-choices</code> 这两个小部件使用了该函数。 它的存在是为了与 bash
中的补全绑定兼容。 绑定的最后一个字符决定补全的内容： &lsquo;<code class="t">!</code>&rsquo;，命令名；&lsquo;<code class="t">$</code>&rsquo;，环境变量； &lsquo;<code class="t">@</code>&rsquo;，主机名；
&lsquo;<code class="t">/</code>&rsquo;，文件名；&lsquo;<code class="t">~</code>&rsquo; ，用户名。 在 bash 中，以 &lsquo;<code class="t">\e</code>&rsquo; 开头的绑定给出补全，&lsquo;<code class="t">^X</code>&rsquo; 开头的绑定列出选项。
由于其中一些绑定与标准的 zsh 绑定冲突，因此默认只绑定了 &lsquo;<code class="t">\e~</code>&rsquo; 和 &lsquo;<code class="t">^X~</code>&rsquo;。 要添加其余选项，应在
<code class="t">compinit</code> 运行后将以下内容添加到 <code class="t">.zshrc</code> 中：
</p>
<div class="example">
<pre class="example-preformatted">for key in '!' '$' '@' '/' '~'; do
  bindkey &quot;\e$key&quot; _bash_complete-word
  bindkey &quot;^X$key&quot; _bash_list-choices
done
</pre></div>

<p>这包括 &lsquo;<code class="t">~</code>&rsquo; 的绑定，以防它们已经绑定到其他东西上；补全代码不会覆盖用户绑定。
</p>
</dd>
<dt><a id="index-_005fcorrect_005ffilename-_0028_005eXC_0029"></a><span><code class="t">_correct_filename</code> (<code class="t">^XC</code>)<a class="copiable-link" href="#index-_005fcorrect_005ffilename-_0028_005eXC_0029"> &para;</a></span></dt>
<dd><p>更正光标位置的文件名路径。 最多允许在名称中出现六个错误。 也可以调用带参数的命令来修正文件名路径，独立于 zle ；修正结果将打印在标准输出上。
</p>
</dd>
<dt><a id="index-_005fcorrect_005fword-_0028_005eXc_0029"></a><span><code class="t">_correct_word</code> (<code class="t">^Xc</code>)<a class="copiable-link" href="#index-_005fcorrect_005fword-_0028_005eXc_0029"> &para;</a></span></dt>
<dd><p>使用通常的上下文补全词作为可能的选择，对当前参数执行校正。这会在上下文名称的 <var class="var">function</var> 字段中存储字符串
&lsquo;<code class="t">correct-word</code>&rsquo; ，然后调用 <code class="t">_correct</code> 补全器。
</p>
</dd>
<dt><a id="index-_005fexpand_005falias-_0028_005eXa_0029"></a><span><code class="t">_expand_alias</code> (<code class="t">^Xa</code>)<a class="copiable-link" href="#index-_005fexpand_005falias-_0028_005eXa_0029"> &para;</a></span></dt>
<dd><p>该函数可用作补全器和可绑定命令。 如果光标所在的单词是别名，它将展开该单词。 可以使用 <code class="t">regular</code>、<code class="t">global</code> 和
<code class="t">disabled</code> 样式控制展开的别名类型。
</p>
<p>当作为可绑定命令使用时，还有一个额外的功能，可以通过将 <code class="t">complete</code> 样式设置为 &lsquo;true&rsquo; 来选择。
在这种情况下，如果单词不是别名的名称，<code class="t">_expand_alias</code> 会尝试将单词补全为完整的别名，而不对其进行扩展。
它会将光标直接留在已补全的单词之后，这样再次调用 <code class="t">_expand_alias</code> 时，就会展开现已补全的别名。
</p>
</dd>
<dt><a id="index-_005fexpand_005fword-_0028_005eXe_0029"></a><span><code class="t">_expand_word</code> (<code class="t">^Xe</code>)<a class="copiable-link" href="#index-_005fexpand_005fword-_0028_005eXe_0029"> &para;</a></span></dt>
<dd><p>对当前单词进行扩展：等同于标准的 <code class="t">expand-word</code> 命令，但使用 <code class="t">_expand</code> 补全器。 调用前，上下文的
<var class="var">function</var> 字段将被设置为&lsquo;<code class="t">expand-word</code>&rsquo;。
</p>
</dd>
<dt><a id="index-_005fgeneric"></a><span><code class="t">_generic</code><a class="copiable-link" href="#index-_005fgeneric"> &para;</a></span></dt>
<dd><p>该函数未定义为小部件，默认情况下不绑定。 不过，它可以用来定义一个小部件，然后会将小部件的名称存储在上下文的 <var class="var">function</var>
字段中，并调用补全系统。 这样就可以轻松定义具有自己风格设置的自定义补全小部件。 例如，定义一个执行正常补全并启动菜单选择的小部件：
</p>
<div class="example">
<pre class="example-preformatted">zle -C foo complete-word _generic
bindkey '...' foo
zstyle ':completion:foo:*' menu yes select=1
</pre></div>

<p>需要特别注意的是，可以为上下文设置 <code class="t">completer</code> 样式，以更改用于生成可能匹配的函数集。 如果 <code class="t">_generic</code>
在调用时带有参数，那么这些参数将作为补全函数列表传递给 <code class="t">_main_complete</code>，以代替 <code class="t">completer</code> 样式所定义的补全函数。
</p>
</dd>
<dt><a id="index-_005fhistory_005fcomplete_005fword-_0028_005ce_002f_0029"></a><span><code class="t">_history_complete_word</code> (<code class="t">\e/</code>)<a class="copiable-link" href="#index-_005fhistory_005fcomplete_005fword-_0028_005ce_002f_0029"> &para;</a></span></dt>
<dd><p>补全 shell 命令历史中的单词。它使用 <code class="t">list</code>、<code class="t">remove-all-dups</code>、<code class="t">sort</code> 和 <code class="t">stop</code> 样式。
</p>
</dd>
<dt><a id="index-_005fmost_005frecent_005ffile-_0028_005eXm_0029"></a><span><code class="t">_most_recent_file</code> (<code class="t">^Xm</code>)<a class="copiable-link" href="#index-_005fmost_005frecent_005ffile-_0028_005eXm_0029"> &para;</a></span></dt>
<dd><p>补全与命令行模式匹配的最近修改的文件名（可能为空）。 如果给定一个数字参数 <var class="var">N</var>，则补全第 <var class="var">N</var> 个最近修改的文件。
请注意，补全（如果有）总是唯一的。
</p>
</dd>
<dt><a id="index-_005fnext_005ftags-_0028_005eXn_0029"></a><span><code class="t">_next_tags</code> (<code class="t">^Xn</code>)<a class="copiable-link" href="#index-_005fnext_005ftags-_0028_005eXn_0029"> &para;</a></span></dt>
<dd><p>这条命令会改变下一个标记或标记集的匹配集，可以是 <code class="t">tag-order</code> 样式给出的匹配集，也可以是默认设置的匹配集；否则这些匹配集将不可用。
连续调用该命令将循环使用所有可能的标记集。
</p>
</dd>
<dt><a id="index-_005fread_005fcomp-_0028_005eX_005eR_0029"></a><span><code class="t">_read_comp</code> (<code class="t">^X^R</code>)<a class="copiable-link" href="#index-_005fread_005fcomp-_0028_005eX_005eR_0029"> &para;</a></span></dt>
<dd><p>提示符会提示用户输入一个字符串，并使用该字符串对当前单词进行补全。 字符串有两种可能。 首先，它可以是一组以 &lsquo;<code class="t">_</code>&rsquo; 开头的单词，例如
&lsquo;<code class="t">_files -/</code>&rsquo;，在这种情况下，将调用带有任何参数的函数来生成补全。
函数名中不明确的部分将自动补全（此时无法使用普通补全），直到键入空格为止。
</p>
<p>其次，任何其他字符串都将作为一组参数传递给 <code class="t">comppadd</code>，因此应该是一个表达式，指定应该补全的内容。
</p>
<p>读取字符串时，只能使用一组非常有限的编辑命令：&lsquo;<code class="t">DEL</code>&rsquo; 和 &lsquo;<code class="t">^H</code>&rsquo; 删除最后一个字符；&lsquo;<code class="t">^U</code>&rsquo; 删除行， &lsquo;<code class="t">^C</code>&rsquo;
和 &lsquo;<code class="t">^G</code>&rsquo; 中止函数，而 &lsquo;<code class="t">RET</code>&rsquo; 接受补全。 请注意，字符串是作为命令行逐字使用的，因此参数必须按照标准 shell 规则加引号。
</p>
<p>一旦读取了一个字符串，下一次调用 <code class="t">_read_comp</code> 时，将使用现有的字符串，而不会读取新的字符串。 如果要强制读取新字符串，请在调用
<code class="t">_read_comp</code> 时输入数字参数。
</p>
</dd>
<dt><a id="index-_005fcomplete_005fdebug-_0028_005eX_003f_0029"></a><span><code class="t">_complete_debug</code> (<code class="t">^X?</code>)<a class="copiable-link" href="#index-_005fcomplete_005fdebug-_0028_005eX_003f_0029"> &para;</a></span></dt>
<dd><p>该小部件执行普通补全，但会在一个临时文件中捕获补全系统执行的 shell 命令的跟踪信息。 每次补全尝试都有自己的文件。
查看每个文件的命令会被推入编辑器缓冲堆栈。
</p>
</dd>
<dt><a id="index-_005fcomplete_005fhelp-_0028_005eXh_0029"></a><span><code class="t">_complete_help</code> (<code class="t">^Xh</code>)<a class="copiable-link" href="#index-_005fcomplete_005fhelp-_0028_005eXh_0029"> &para;</a></span></dt>
<dd><p>该小部件显示在当前光标位置补全时使用的上下文名称、标记和补全函数等信息。如果给定的数字参数不是 <code class="t">1</code>（如 &lsquo;<code class="t">ESC-2
^Xh</code>&rsquo;），则还将显示使用的样式和上下文。
</p>
<p>请注意，有关样式的信息可能是不完整的；它取决于所调用的补全函数提供的信息，而补全函数的信息又是由用户自己的样式和其他设置决定的。
</p>
</dd>
<dt><a id="index-_005fcomplete_005fhelp_005fgeneric"></a><span><code class="t">_complete_help_generic</code><a class="copiable-link" href="#index-_005fcomplete_005fhelp_005fgeneric"> &para;</a></span></dt>
<dd><p>与此处列出的其他命令不同，它必须作为普通 ZLE 小部件而非补全小部件创建（即使用 <code class="t">zle -N</code>）。 它用于生成与上述 <code class="t">_generic</code>
小部件绑定的帮助。
</p>
<p>如果该小部件是使用函数名称创建的（默认情况下是这样），那么执行时它将读取一个按键序列。 这将绑定到使用 <code class="t">_generic</code>
小部件的补全函数的调用。 该小部件将被执行，并以 <code class="t">_complete_help</code> 小部件显示上下文补全的相同格式提供信息。
</p>
<p>如果小部件的名称中包含 <code class="t">debug</code>，例如以 &lsquo;<code class="t">zle -N _complete_debug_generic
_complete_help_generic</code>&rsquo; 的方式创建，它就会像之前一样读取并执行通用小部件的密钥(keystring)，但随后会像
<code class="t">_complete_debug</code> 为上下文补全所做的那样生成调试信息。
</p>
<p>如果小部件的名称中包含 <code class="t">noread</code>，它将不会读取密钥，而是安排下一次使用在同一 shell 中运行的通用小部件时,产生上述效果。
</p>
<p>小部件通过设置由 <code class="t">_generic</code> 读取的 shell 参数 <code class="t">ZSH_TRACE_GENERIC_WIDGET</code> 来工作。
取消参数设置后，<code class="t">noread</code> 形式的任何待定效果都将被取消。
</p>
<p>例如，执行以下操作后:
</p>
<div class="example">
<pre class="example-preformatted">zle -N _complete_debug_generic _complete_help_generic
bindkey '^x:' _complete_debug_generic
</pre></div>

<p>键入 &lsquo;<code class="t">C-x :</code>&rsquo;，然后输入通用小部件的按键序列，就会将该小部件的跟踪输出保存到文件中。
</p>
</dd>
<dt><a id="index-_005fcomplete_005ftag-_0028_005eXt_0029"></a><span><code class="t">_complete_tag</code> (<code class="t">^Xt</code>)<a class="copiable-link" href="#index-_005fcomplete_005ftag-_0028_005eXt_0029"> &para;</a></span></dt>
<dd><p>该小部件补全由 <code class="t">etags</code> 或 <code class="t">ctags</code> 程序（注意与补全系统的标签没有任何联系）创建的符号标记，这些标记存储在 <code class="t">TAGS</code>
文件中，格式为 <code class="t">etags</code> 使用的格式，或 <code class="t">tags</code> 文件中，格式为 <code class="t">ctags</code> 创建的格式。
它将在路径层次结构中查找第一个出现的文件；如果两个文件都存在，则优先选择 <code class="t">TAGS</code> 文件。 您可以通过设置参数 <code class="t">$TAGSFILE</code> 或
<code class="t">$tagsfile</code> 分别指定 <code class="t">TAGS</code> 或 <code class="t">tags</code> 文件的完整路径。 相应使用的补全标记是 <code class="t">etags</code> 和
<code class="t">vtags</code>，分别与 emacs 和 vi 后缀相同。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_51fd_6570">

<h3 class="section" id="Shi-Yong-Han-Shu-"><span>20.6 实用函数<a class="copiable-link" href="#Shi-Yong-Han-Shu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Shi-Yong-Han-Shu-"></a>

<p>下面将介绍在编写补全函数时可能有用的实用函数。 如果函数安装在子目录中，其中大部分位于 <code class="t">Base</code> 子目录中。
与分发版中的命令的示例函数一样，生成匹配的实用函数都遵循这样的惯例：如果生成补全，则返回状态为 0；如果无法添加匹配的补全，则返回非 0。
</p>
<dl class="table">
<dt><a id="index-_005fabsolute_005fcommand_005fpaths"></a><span><code class="t">_absolute_command_paths</code><a class="copiable-link" href="#index-_005fabsolute_005fcommand_005fpaths"> &para;</a></span></dt>
<dd><p>该函数将外部命令补全为绝对路径（与 <code class="t">_command_names -e</code> 不同，后者补全的是其基名）。 它不需要参数。
</p>
</dd>
<dt><a id="index-_005fall_005flabels"></a><span><code class="t">_all_labels</code> [ <code class="t">-x</code> ] [ <code class="t">-12VJ</code> ] <var class="var">tag</var> <var class="var">name</var> <var class="var">descr</var> [ <var class="var">command</var> <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-_005fall_005flabels"> &para;</a></span></dt>
<dd><p>这是下面 <code class="t">_next_label</code> 函数的一个便捷接口，用于实现 <code class="t">_next_label</code> 示例中的循环。 调用 <var class="var">command</var>
及其参数可生成匹配结果。 存储在参数 <var class="var">name</var> 中的选项会自动插入传给 <var class="var">command</var> 的 <var class="var">arg</var>s 中。
通常情况下，这些选项会直接放在 <var class="var">command</var> 之后，但如果 <var class="var">arg</var>s 中有一个是连字符，这些选项就会直接插入
<var class="var">command</var> 之前。 如果连字符是最后一个参数，则会在调用 <var class="var">command</var> 之前从参数列表中删除。
这样一来，<code class="t">_all_labels</code> 几乎可以在所有情况下使用，只需调用 <code class="t">compadd</code> 内置命令或调用其中一个实用函数，即可生成匹配结果。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">local expl
...
if _requested foo; then
  ...
  _all_labels foo expl '...' compadd ... - $matches
fi
</pre></div>

<p>将补全 <code class="t">matches</code> 参数中的字符串，使用 <code class="t">compadd</code> 和附加选项，这些选项优先于 <code class="t">_all_labels</code> 生成的选项。
</p>
</dd>
<dt><a id="index-_005falternative"></a><span><code class="t">_alternative</code> [ <code class="t">-O</code> <var class="var">name</var> ] [ <code class="t">-C</code> <var class="var">name</var> ] <var class="var">spec</var> ...<a class="copiable-link" href="#index-_005falternative"> &para;</a></span></dt>
<dd><p>该函数适用于有多个标记的简单情况。 本质上，它实现了一个循环，就像下面描述的 <code class="t">_tags</code> 函数一样。
</p>
<p><var class="var">spec</var>
的形式描述了要使用的标记和请求标记时要执行的操作：&lsquo;<var class="var">tag</var><code class="t">:</code><var class="var">descr</var><code class="t">:</code><var class="var">action</var>&rsquo;。
<var class="var">tag</var>s 使用 <code class="t">_tags</code> 提供，如果标记被请求，则执行 <var class="var">action</var> 并给出描述 <var class="var">descr</var>。
<var class="var">action</var>s 是 <code class="t">_arguments</code> 函数（如下所述）接受的参数，但以下情况除外：
</p><ul class="itemize mark-bullet">
<li>不支持 &lsquo;<code class="t">-&gt;</code><var class="var">state</var>&rsquo; 和 &lsquo;<code class="t">=</code><var class="var">...</var>&rsquo; 形式。

</li><li>&lsquo;<code class="t">((a\:bar b\:baz</code><code class="t">))</code>&rsquo; 形式不需要转义冒号，因为 <var class="var">spec</var>s 在 <var class="var">action</var>
之后没有以冒号分隔的字段。

</li></ul>

<p>例如，<var class="var">action</var> 可能是一个简单的函数调用：
</p>
<div class="example">
<pre class="example-preformatted">_alternative \ 
    'users:user:_users' \ 
    'hosts:host:_hosts'
</pre></div>

<p>提供用户名和主机名作为可能的匹配项，分别由 <code class="t">_users</code> 和 <code class="t">_hosts</code> 函数生成。
</p>
<p>与 <code class="t">_arguments</code> 一样，该函数使用 <code class="t">_all_labels</code> 来执行操作，将循环遍历所有标记集。
只有在有额外有效标记的情况下，例如在 <code class="t">_alternative</code> 调用的函数内部，才需要进行特殊处理。
</p>
<p>选项 &lsquo;<code class="t">-O</code> <var class="var">name</var>&rsquo; 的使用方式与 <code class="t">_arguments</code> 函数相同。 换句话说，在执行操作时，<var class="var">name</var>
数组中的元素将传递给 <code class="t">compadd</code>。
</p>
<p>与 <code class="t">_tags</code> 类似，该函数支持 <code class="t">-C</code> 选项，可为参数上下文字段赋予不同的名称。
</p>
<a class="index-entry-id" id="index-_005farguments"></a>

</dd>
<dt><code class="t">_arguments </code>[ <code class="t">-nswWCRS</code> ] [ <code class="t">-A</code> <var class="var">pat</var> ] [ <code class="t">-O</code> <var class="var">name</var> ] [ <code class="t">-M</code> <var class="var">matchspec</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">:</code> ] <var class="var">spec</var> ...</dt>
<dt><code class="t">_arguments </code>[ <var class="var">opt</var> ... ] <code class="t">-</code><code class="t">-</code> [ <code class="t">-l</code> ] [ <code class="t">-i</code> <var class="var">pats</var> ] [ <code class="t">-s</code> <var class="var">pair</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <var class="var">helpspec</var> ...]</dt>
<dd><p>该函数可用于为参数遵循标准 UNIX 选项和参数约定的命令提供完整的补全规范。
</p>
<p><em class="emph">选项概述</em>
</p>
<p><code class="t">_arguments</code> 本身的选项必须使用单独的单词，即 <code class="t">-s -w</code>，而不是 <code class="t">-sw</code>。 选项后面的 <var class="var">spec</var>s
描述了已分析命令的选项和参数。 为避免歧义，<code class="t">_arguments</code> 本身的所有选项可以用一个冒号与 <var class="var">spec</var> 分开。
</p>
<p>&lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 形式用于从被分析命令的帮助输出中直观获取 <var class="var">spec</var> 形式，下文将详细介绍。 此外， &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;
形式的 <var class="var">opts</var> 与第一种形式相同。 请注意，&lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 后面的 &lsquo;<code class="t">-s</code>&rsquo; 与 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 前面的
&lsquo;<code class="t">-s</code>&rsquo; 含义不同，两者都可能出现。
</p>
<p>选项开关 <code class="t">-s</code>、<code class="t">-S</code>、<code class="t">-A</code>、<code class="t">-w</code> 和 <code class="t">-W</code> 会影响 <code class="t">_arguments</code> 分析命令行选项的方式。
这些开关对使用标准参数解析的命令非常有用。
</p>
<p><code class="t">_arguments</code> 的选项含义如下：
</p>
<dl class="table">
<dt><code class="t">-n</code></dt>
<dd><p>使用此选项后，<code class="t">_arguments</code> 会将参数 <code class="t">NORMARG</code> 设置为 <code class="t">$words</code>
数组中第一个正常参数的位置，即选项结束后的位置。 如果该参数尚未到达，<code class="t">NORMARG</code> 将被设置为 <code class="t">-1</code>。 如果传递了 <code class="t">-n</code>
选项，调用者应声明 &lsquo;<code class="t">integer NORMARG</code>&rsquo; ，否则将不使用该参数。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>启用单字母选项的 <em class="emph">选项堆叠</em>，可以将多个单字母选项合并为一个单词。 例如，两个选项 &lsquo;<code class="t">-x</code>&rsquo; 和 &lsquo;<code class="t">-y</code>&rsquo;
可以合并为一个单词 &lsquo;<code class="t">-xy</code>&rsquo;。 默认情况下，每个单词对应一个选项名称（&lsquo;<code class="t">-xy</code>&rsquo; 是一个名为 &lsquo;<code class="t">xy</code>&rsquo; 的选项）。
</p>
<p>以单个连字符或加号开头的选项可叠加；以两个连字符开头的词不可叠加。
</p>
<p>请注意，<code class="t">-</code><code class="t">-</code> 后的 <code class="t">-s</code> 含义不同，这在题为 &lsquo;从帮助输出中获取 <var class="var">spec</var> 形式&rsquo; 的部分有详细说明。
</p>
</dd>
<dt><code class="t">-w</code></dt>
<dd><p>与 <code class="t">-s</code> 结合使用时，即使一个或多个选项带有参数，也允许堆叠选项。 例如，如果 <code class="t">-x</code> 包含一个参数，在没有 <code class="t">-s</code> 的情况下，
&lsquo;<code class="t">-xy</code>&rsquo; 被视为一个单独的（未处理的）选项；在有 <code class="t">-s</code> 的情况下，<code class="t">-xy</code> 是一个包含参数 &lsquo;<code class="t">y</code>&rsquo; 的选项； 同时使用
<code class="t">-s</code> 和 <code class="t">-w</code> 时，<code class="t">-xy</code> 是选项 <code class="t">-x</code> 和选项 <code class="t">-y</code>，<code class="t">-x</code> 的参数（以及 <code class="t">-y</code>
的参数，如果它需要参数）仍在后面的语句中。
</p>
</dd>
<dt><code class="t">-W</code></dt>
<dd><p>该选项使 <code class="t">-w</code> 更进了一步：即使在出现在同一单词中的参数之后，也可以补全单字母选项。 不过，选项是否真的会在此时补全取决于所执行的操作。
为了获得更多的控制权，可以使用 <code class="t">_guard</code> 这样的实用程序作为操作的一部分。
</p>
</dd>
<dt><code class="t">-C</code></dt>
<dd><p>为 &lsquo;<code class="t">-&gt;</code><var class="var">state</var>&rsquo; 形式的操作修改 <code class="t">curcontext</code> 参数。 下文将对此进行详细讨论。
</p>
</dd>
<dt><code class="t">-R</code></dt>
<dd><p>当要处理 <code class="t">$state</code> 时，以 &lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo; 语法返回状态 300 而不是 0。
</p>
</dd>
<dt><code class="t">-S</code></dt>
<dd><p>不要在行中出现的 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 之后补全选项，并忽略 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;。 例如，在行中,带有 <code class="t">-S</code>
</p>
<div class="example">
<pre class="example-preformatted">foobar -x -- -y
</pre></div>

<p>&lsquo;<code class="t">-x</code>&rsquo; 被视为选项， &lsquo;<code class="t">-y</code>&rsquo; 被视为参数，而 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 既不是选项也不是参数。
</p>
</dd>
<dt><code class="t">-A</code> <var class="var">pat</var></dt>
<dd><p>在该行第一个非选项参数之后，选项不再补全。 <var class="var">pat</var> 是一个匹配所有不作为参数的字符串的模式。 例如，要使 <code class="t">_arguments</code>
在第一个普通参数之后不再补全选项，但忽略所有以连字符开头的字符串，即使这些字符串没有被 <var class="var">optspec</var> 之一描述，其形式为 &lsquo;<code class="t">-A
&quot;-*&quot;</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-O</code> <var class="var">name</var></dt>
<dd><p>将数组 <var class="var">name</var> 中的元素作为参数传递给执行 <var class="var">action</var>s 的函数。 下文将对此进行详细讨论。
</p>
</dd>
<dt><code class="t">-M</code> <var class="var">matchspec</var></dt>
<dd><p>使用匹配规范 <var class="var">matchspec</var> 来补全选项名和值。 默认的 <var class="var">matchspec</var> 允许在 &lsquo;<code class="t">_</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo;
之后补全部分单词，例如将 &lsquo;<code class="t">-f-b</code>&rsquo; 补全为 &lsquo;<code class="t">-foo-bar</code>&rsquo;。 默认的 <var class="var">matchspec</var> 是：
</p><div class="example">
<pre class="example-preformatted"><code class="t">r:|[_-]=* r:|=*</code>
</pre></div>

</dd>
<dt><code class="t">-0</code></dt>
<dd><p>在填充关联数组 &lsquo;<code class="t">opt_args</code>&rsquo; 的值时，不要反斜线转义冒号和反斜线，在连接多个值时使用 NUL 而不是冒号。下文将在
<em class="emph"><var class="var">spec</var>s: actions</em> 标题下详细介绍该选项。
</p>
</dd>
</dl>

<p><em class="emph"><var class="var">spec</var>s: 概述</em>
</p>
<p>以下每种形式都是一个 <var class="var">spec</var>，用于描述被分析命令行上的各组选项或参数。
</p>
<dl class="table">
<dt><var class="var">n</var><code class="t">:</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><var class="var">n</var><code class="t">::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dd><p>这描述了第 <var class="var">n</var> 个普通参数。 <var class="var">message</var> 将打印在生成的匹配结果上方，而 <var class="var">action</var>
则表示在这个位置可以补全的内容（见下文）。 如果 <var class="var">message</var> 前面有两个冒号，则该参数为可选参数。 如果 <var class="var">message</var>
只包含空格，除非操作本身添加了解释字符串，否则匹配结果上方不会打印任何内容。
</p>
</dd>
<dt><code class="t">:</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><code class="t">::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dd><p>类似，但描述的是 <em class="emph">下一个</em> 参数，不管它是什么数字。 如果所有参数都按正确的顺序以这种形式指定，数字就没有必要了。
</p>
</dd>
<dt><code class="t">*:</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><code class="t">*::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><code class="t">*:::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dd><p>说明在没有提供前两种形式的参数时，如何补全参数（通常是非选项参数，即不是以 <code class="t">-</code> 或 <code class="t">+</code> 开头的参数）。
任何数量的参数都可以用这种方式补全。
</p>
<p>如果 <var class="var">message</var> 之前有两个冒号，<code class="t">words</code> 特殊数组和 <code class="t">CURRENT</code> 特殊参数将被修改为在 <var class="var">action</var>
执行或求值时仅引用常规参数。 如果在 <var class="var">message</var> 之前加上三个冒号，它们将被修改为仅指本说明涵盖的正常参数。
</p>
</dd>
<dt><var class="var">optspec</var></dt>
<dt><var class="var">optspec</var><code class="t">:</code><var class="var">...</var></dt>
<dd><p>描述一个选项。 冒号表示处理该选项的一个或多个参数；如果没有冒号，则假定该选项不带参数。
</p>
<p>无论选项是否有参数，初始的 <var class="var">optspec</var> 都有以下几种形式。
</p>
<dl class="table">
<dt><code class="t">*</code><var class="var">optspec</var></dt>
<dd><p>这里的 <var class="var">optspec</var> 是以下其余形式之一。 这表示后面的 <var class="var">optspec</var> 可以重复。
否则，如果光标左侧的命令行中已有相应选项，则不会再次提供。
</p>
</dd>
<dt><code class="t">-</code><var class="var">optname</var></dt>
<dt><code class="t">+</code><var class="var">optname</var></dt>
<dd><p>在最简单的形式中，<var class="var">optspec</var> 只是以减号或加号开头的选项名称，如 &lsquo;<code class="t">-foo</code>&rsquo;。 选项的第一个参数（如果有）必须以
<em class="emph">separate</em> 的形式出现在选项之后。
</p>
<p>&lsquo;<code class="t">-+</code><var class="var">optname</var>&rsquo; 和 &lsquo;<code class="t">+-</code><var class="var">optname</var>&rsquo; 中的任一个都可以用来指定
<code class="t">-</code><var class="var">optname</var> 和 <code class="t">+</code><var class="var">optname</var> 都有效。
</p>
<p>在其余所有形式中，前导符 &lsquo;<code class="t">-</code>&rsquo; 都可以以这个的方式用 &lsquo;<code class="t">+</code>&rsquo; 替换或配对。
</p>
</dd>
<dt><code class="t">-</code><var class="var">optname</var><code class="t">-</code></dt>
<dd><p>选项的第一个参数必须直接位于 <em class="emph">同一个词中</em> 的选项名称之后。例如， &lsquo;<code class="t">-foo-:</code><var class="var">...</var>&rsquo; 指定补全的选项和参数看起来像
&lsquo;<code class="t">-foo</code><var class="var">arg</var>&rsquo;。
</p>
</dd>
<dt><code class="t">-</code><var class="var">optname</var><code class="t">+</code></dt>
<dd><p>第一个参数可以紧跟在 <var class="var">optname</var> 之后出现在同一个词中，也可以在选项之后作为一个单独的词出现。
例如，&lsquo;<code class="t">-foo+:</code><var class="var">...</var>&rsquo; 表示补全后的选项和参数看上去像 &lsquo;<code class="t">-foo</code><var class="var">arg</var>&rsquo; 或 &lsquo;<code class="t">-foo</code>
<var class="var">arg</var>&rsquo;。
</p>
</dd>
<dt><code class="t">-</code><var class="var">optname</var><code class="t">=</code></dt>
<dd><p>参数可以作为下一个单词出现，也可以与选项名称出现在同一个单词中，但必须用等号分隔，例如 &lsquo;<code class="t">-foo=</code><var class="var">arg</var>&rsquo; 或 &lsquo;<code class="t">-foo</code>
<var class="var">arg</var>&rsquo;。
</p>
</dd>
<dt><code class="t">-</code><var class="var">optname</var><code class="t">=-</code></dt>
<dd><p>选项的参数必须出现在同一单词的等号之后，且不得在下一个参数中给出。
</p>
</dd>
<dt><var class="var">optspec</var><code class="t">[</code><var class="var">explanation</var><code class="t">]</code></dt>
<dd><p>在 <var class="var">optspec</var>的任何前述形式中，都可以用括号括起解释字符串，如 &lsquo;<code class="t">-q[query operation]</code>&rsquo;。
</p>
<p><code class="t">verbose</code> 样式用于决定是否在补全列表中与选项一起显示解释字符串。
</p>
<p>如果没有给出括号内的解释字符串，但设置了 <code class="t">auto-description</code> 样式，且该 <var class="var">optspec</var>
只描述了一个参数，则会显示该样式的值，其中出现的任何序列 &lsquo;<code class="t">%d</code>&rsquo; 都会被 <var class="var">optspec</var> 后面的第一个 <var class="var">optarg</var>
的 <var class="var">message</var> 所替换；见下文。
</p>
</dd>
</dl>

<p>选项中可以出现字面的 &lsquo;<code class="t">+</code>&rsquo; 或 &lsquo;<code class="t">=</code>&rsquo; ，但必须加上引号，例如 &lsquo;<code class="t">-\+</code>&rsquo;。
</p>
<p>在 <var class="var">optspec</var> 之后的每个 <var class="var">optarg</var> 必须是以下形式之一：
</p>
<dl class="table">
<dt><code class="t">:</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><code class="t">::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dd><p>选项的参数；<var class="var">message</var> 和 <var class="var">action</var> 与普通参数一样。 在第一种形式中，参数是必选的，而在第二种形式中，参数是可选的。
</p>
<p>对于包含多个参数的选项，可以重复使用这组参数。 换句话说，
<code class="t">:</code><var class="var">message1</var><code class="t">:</code><var class="var">action1</var><code class="t">:</code><var class="var">message2</var><code class="t">:</code><var class="var">action2</var>
表示该选项有两个参数。
</p>
</dd>
<dt><code class="t">:*</code><var class="var">pattern</var><code class="t">:</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><code class="t">:*</code><var class="var">pattern</var><code class="t">::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dt><code class="t">:*</code><var class="var">pattern</var><code class="t">:::</code><var class="var">message</var><code class="t">:</code><var class="var">action</var></dt>
<dd><p>描述多个参数。 对于包含多个参数的选项，只有最后一个 <var class="var">optarg</var> 可以用这种形式给出。 如果 <var class="var">pattern</var> 为空（即
<code class="t">:*:</code>），则该行剩余的所有单词都将按 <var class="var">action</var> 所描述的方式补全；否则，所有单词（直到和包括与 <var class="var">pattern</var>
匹配的单词）都将按 <var class="var">action</var> 所描述的方式补全。
</p>
<p>多个冒号的处理方式与普通参数的 &lsquo;<code class="t">*:</code><var class="var">...</var>&rsquo; 形式相同：当 <var class="var">message</var> 前面有两个冒号时，<code class="t">words</code>
特殊数组和 <code class="t">CURRENT</code> 特殊参数会在 <var class="var">action</var> 执行或求值过程中被修改为仅指选项后面的单词。
如果前面有三个冒号，它们将被修改为仅指本说明所涉及的字词。
</p>
</dd>
</dl>

</dd>
</dl>

<p>在 <var class="var">optname</var>、<var class="var">message</var> 或 <var class="var">action</var> 中的任何字面冒号前都必须加上反斜线 &lsquo;<code class="t">\:</code>&rsquo;。
</p>
<p>上述每种形式的前面都可以用括号列出选项名称和参数编号。 如果给定选项在命令行中，则不提供括号中的选项和参数。 例如，&lsquo;<code class="t">(-two -three
1)-one:</code><var class="var">...</var>&rsquo; 补全了选项 &lsquo;<code class="t">-one</code>&rsquo;；如果该选项出现在命令行中，在它之后将不会补全选项 <code class="t">-two</code> 和
<code class="t">-three</code> 以及第一个普通参数。 &lsquo;<code class="t">(-foo):</code><var class="var">...</var>&rsquo; 指定普通参数补全；如果该参数已经存在，则不会补全
<code class="t">-foo</code> 。
</p>
<p>排除选项列表中还可能出现其他项目，以表示在匹配当前规范时不应应用的其他各种项目：单星号（<code class="t">*</code>）表示其余参数（即格式为
&lsquo;<code class="t">*:</code><var class="var">...</var>&rsquo; 的规范）；冒号（<code class="t">:</code>）表示所有普通（非选项）参数；连字符（<code class="t">-</code>）表示所有选项。
例如，如果&lsquo;<code class="t">(*)</code>&rsquo; 出现在某个选项之前，并且该选项出现在命令行中，那么剩余的参数列表（上表中以 &lsquo;<code class="t">*:</code>&rsquo; 开头的参数）将不会补全。
</p>
<p>为了帮助规范的重复使用，可以在上述任何形式前加上 &lsquo;<code class="t">!</code>&rsquo;；这样形式将不再补全，但如果选项或参数出现在命令行中，它们将被正常跳过。
这样做的主要用途是当参数由数组给出时，<code class="t">_arguments</code> 会在更具体的上下文中被重复调用：第一次调用时使用 &lsquo;<code class="t">_arguments
$global_options</code>&rsquo;，随后调用时使用 &lsquo;<code class="t">_arguments !$^global_options</code>&rsquo;。
</p>
<p><em class="emph"><var class="var">spec</var>s: 行为</em>
</p>

<p>在上述每个形式中，<var class="var">action</var> 都决定了补全的生成方式。 除了下面的 &lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo;
形式，<var class="var">action</var> 将通过调用 <code class="t">_all_labels</code> 函数处理所有标记标签来执行。
除非函数调用引入了新标签，否则无需对标记进行特殊处理。
</p>
<p>执行 <var class="var">action</var>s 时调用的函数将以 &lsquo;<code class="t">-O</code> <var class="var">name</var>&rsquo; 选项命名的数组元素作为参数。 例如，这可以用来将
<code class="t">compadd</code> 内置函数的同一选项集传递给所有 <var class="var">action</var>s 。
</p>
<p><var class="var">action</var> 的形式如下。
</p>
<dl class="table">
<dt><code class="t">&nbsp;</code>(single unquoted space)</dt>
<dd><p>This is useful where an argument is required but it is not possible or
desirable to generate matches for it.  The <var class="var">message</var> will be displayed
but no completions listed.  Note that even in this case the colon at the end
of the <var class="var">message</var> is needed; it may only be omitted when neither a
<var class="var">message</var> nor an <var class="var">action</var> is given.
</p>
</dd>
<dt><code class="t">(</code><var class="var">item1</var> <var class="var">item2</var> <var class="var">...</var><code class="t">)</code></dt>
<dd><p>例如，可能匹配的列表之一：
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">:foo:(foo bar baz</code><code class="t">)</code>
</pre></div>

</dd>
<dt><code class="t">((<var class="var">item1</var>\:<var class="var">desc1</var> <var class="var">...</var>))</code></dt>
<dd><p>与上述类似，但对每种可能的匹配都进行了说明。 注意冒号前的反斜杠。 例如
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">:foo:((a\:bar b\:baz</code><code class="t">))</code>
</pre></div>

<p>如果上下文中的 <code class="t">values</code> 标记设置了 <code class="t">description</code> 样式，则匹配项将与其描述一起列出。
</p>
</dd>
<dt><a class="index-entry-id" id="index-line_002c-use-of"></a>
<a class="index-entry-id" id="index-opt_005fargs_002c-use-of"></a>
<a id="index-context_002c-use-of"></a><span><code class="t">-&gt;</code><var class="var">string</var><a class="copiable-link" href="#index-context_002c-use-of"> &para;</a></span></dt>
<dd><p>在这种形式中，<code class="t">_arguments</code> 处理参数和选项，然后将控制权返回给调用函数，并设置参数指示处理状态；正在调用的函数然后自行安排生成补全。
例如，实现状态机的函数就可以使用这种操作。
</p>
<p>当 <code class="t">_arguments</code> 遇到格式为 &lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo; 的 <var class="var">action</var> 时，它将从
<var class="var">string</var> 中删除所有前导和尾部空白，并将数组 <code class="t">state</code> 设置为要执行操作的所有 <var class="var">string</var>s 的集合。 数组
<code class="t">state_descr</code> 中的元素将分配给每个 <var class="var">optarg</var> 中包含此类 <var class="var">action</var> 的 <var class="var">message</var>
字段。
</p>
<p>默认情况下，与所有其他行为良好的补全函数一样，_arguments 在能够添加匹配时返回状态 0，否则返回非 0。但是，如果给出 <code class="t">-R</code>
选项，<code class="t">_arguments</code> 将返回状态 300，表示 <code class="t">$state</code> 将被处理。
</p>
<p>除了 <code class="t">$state</code> 和 <code class="t">$state_descr</code> 之外，<code class="t">_arguments</code> 还会如下所述设置全局参数
&lsquo;<code class="t">context</code>&rsquo;, &lsquo;<code class="t">line</code>&rsquo; 和 &lsquo;<code class="t">opt_args</code>&rsquo; ，并且不会重置任何对 <code class="t">PREFIX</code> 和 <code class="t">words</code>
等特殊参数的修改。 这使得调用函数可以选择重置这些参数或传播参数的更改。
</p>
<p>因此，调用 <code class="t">_arguments</code> 时至少有一个动作包含 &lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo; 的函数，必须声明适当的本地参数：
</p>
<div class="example">
<pre class="example-preformatted">local context state state_descr line
typeset -A opt_args
</pre></div>

<p>以防止 <code class="t">_arguments</code> 改变全局环境。
</p>
</dd>
<dt><a id="index-expl_002c-use-of"></a><span><code class="t">{</code><var class="var">eval-string</var><code class="t">}</code><a class="copiable-link" href="#index-expl_002c-use-of"> &para;</a></span></dt>
<dd><p>括号中的字符串将作为 shell 代码进行计算，以生成匹配结果。 如果 <var class="var">eval-string</var>
本身不是以开小括号或开大括号开头，则会在执行前被分割成单独的单词。
</p>
</dd>
<dt><code class="t">= </code><var class="var">action</var></dt>
<dd><p>如果 <var class="var">action</var> 以 &lsquo;<code class="t">= </code>&rsquo; （等号后有空格）开头，<code class="t">_arguments</code> 将插入当前上下文中
<var class="var">argument</var> 字段的内容，作为 <code class="t">words</code> 特殊数组中新的第一个元素，并递增 <code class="t">CURRENT</code> 特殊参数的值。
这样做的效果是在补全命令行中插入一个虚词，同时不改变补全正在进行的位置。
</p>
<p>对于限制 <var class="var">action</var> 在命令行中操作的字词的指定符之一（上述双冒号和三冒号形式），这一点最为有用。 一个特殊的用法是，当
<var class="var">action</var> 本身导致 <code class="t">_arguments</code> 在一个受限的范围内运行时；有必要使用这个技巧，在 <code class="t">_arguments</code>
的第二次调用的范围内插入一个适当的命令名称，以便能够解析该行。
</p>
</dd>
<dt><var class="var"><code class="t">&nbsp;</code>word...</var></dt>
<dt><var class="var">word...</var></dt>
<dd><p>这涵盖了除上述形式以外的所有其他形式。 如果 <var class="var">action</var> 以空格开头，剩余的单词列表将保持不变。
</p>
<p>否则，调用时将在第一个单词后添加一些额外的字符串；这些字符串将作为选项传递给 <code class="t">compadd</code> 内置函数。 它们确保 <code class="t">_arguments</code>
指定的状态，尤其是选项和参数的描述，能正确地传递给补全命令。 这些附加参数取自数组参数 &lsquo;<code class="t">expl</code>&rsquo;；该参数将在执行 <var class="var">action</var>
之前设置，因此可以在 <var class="var">action</var> 中引用，通常以 &lsquo;<code class="t">$expl[@]</code>&rsquo; 的形式展开，这样可以保留数组中的空元素。
</p>
</dd>
</dl>

<p>在执行操作时，数组 &lsquo;<code class="t">line</code>&rsquo; 将被设置为命令行中的正常参数，即命令行中命令名称之后的字词，不包括所有选项及其参数。 选项存储在关联数组
&lsquo;<code class="t">opt_args</code>&rsquo; 中，选项名称为键，参数为值。 默认情况下，值中的所有冒号和反斜线都用反斜线转义，如果一个选项有多个参数（例如，当使用形式为
&lsquo;<code class="t">*</code><var class="var">optspec</var>&rsquo; 的 <var class="var">optspec</var> 时），它们会用（未转义的）冒号连接起来。 但是，如果传递了 <code class="t">-0</code>
选项，则不会执行反斜杠转义，而是用 NUL 字节连接多个值。 例如，在 &lsquo;<code class="t">zsh -o foo:foo -o bar:bar -o &lt;TAB&gt;</code>&rsquo;
之后，&lsquo;<code class="t">opt_args</code>&rsquo; 的内容将是
</p>
<div class="example">
<pre class="example-preformatted">typeset -A opt_args=( [-o]='foo\:foo:bar\:bar:' )
</pre></div>

<p>默认，并且
</p>
<div class="example">
<pre class="example-preformatted">typeset -A opt_args=( [-o]=$'foo:foo\x00bar:bar\x00' )
</pre></div>

<p>如果 <code class="t">_arguments</code> 在调用时使用了 <code class="t">-0</code> 选项。
</p>
<p>参数 &lsquo;<code class="t">context</code>&rsquo; 在返回调用函数执行形式为 &lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo; 的操作时被设置。 它被设置为与
<code class="t">$state</code> 的元素相对应的元素数组。 每个元素都是上下文参数字段的合适名称：或者是表示选项 <var class="var">-opt</var> 的第 <var class="var">n</var>
个参数的形式为 &lsquo;<code class="t">option</code><var class="var">-opt</var><code class="t">-</code><var class="var">n</var>&rsquo; 的字符串，或者是表示第 <var class="var">n</var> 个参数的形式为
&lsquo;<code class="t">argument-</code><var class="var">n</var>&rsquo; 的字符串。 对于 &lsquo;rest&rsquo; 参数，即列表末尾未被 position 处理的参数，<var class="var">n</var>
是字符串 &lsquo;<code class="t">rest</code>&rsquo;。 例如，补全 <code class="t">-o</code> 选项的参数时，名称为
&lsquo;<code class="t">option-o-1</code>&rsquo;，而对于第二个正常（非选项）参数，名称为 &lsquo;<code class="t">argument-2</code>&rsquo;。
</p>
<p>此外，在执行 <var class="var">action</var> 时，会更改 <code class="t">curcontext</code> 参数中的上下文名称，以附加 <code class="t">context</code>
参数中存储的相同的字符串。
</p>
<p>选项 <code class="t">-C</code> 会告诉 <code class="t">_arguments</code> 为形式为 &lsquo;<code class="t">-&gt;</code><var class="var">state</var>&rsquo; 的操作修改 <code class="t">curcontext</code>
参数。 这是用于跟踪当前上下文的标准参数。 在此，它（而非 <code class="t">context</code>
数组）应被设置为调用函数的本地参数，以避免传回修改后的值，并应在函数开始时初始化为当前值：
</p>
<div class="example">
<pre class="example-preformatted">local curcontext=&quot;$curcontext&quot;
</pre></div>

<p>当多个状态不可能同时有效时，这种方法就很有用。
</p>
<p><em class="emph">选项分组</em>
</p>
<p>可以对选项进行分组，以简化排除列表。一个组可以用 &lsquo;<code class="t">+</code>&rsquo;
引入，后面的词是该组的名称。在排除列表中可以引用整个组，也可以使用组名来区分同一选项的两种形式。例如
</p>
<div class="example">
<pre class="example-preformatted">_arguments \ 
    '(group2--x)-a' \ 
  + group1 \ 
    -m \ 
    '(group2)-n' \ 
  + group2 \ 
    -x -y
</pre></div>

<p>如果以 &lsquo;<code class="t">(</code><var class="var">name</var><code class="t">)</code>&rsquo;
的形式指定了一个组的名称，那么该组中只有一个值会被补全；更正式地说，所有规范与该组中的所有其他规范互斥。这对于定义互为别名的选项非常有用。例如:
</p>
<div class="example">
<pre class="example-preformatted">_arguments \ 
    -a -b \ 
  + '(operation)' \ 
    {-c,--compress}'[compress]' \ 
    {-d,--decompress}'[decompress]' \ 
    {-l,--list}'[list]'
</pre></div>

<p>如果命令行中出现了某个组中的选项，该选项就会以 &rsquo;<var class="var">group</var><code class="t">-</code><var class="var">option</var>&rsquo; 为键存储在关联数组
&lsquo;<code class="t">opt_args</code>&rsquo; 中。 在上例中，如果命令行中出现选项 &lsquo;<code class="t">-c</code>&rsquo; ，则使用键 &lsquo;<code class="t">operation--c</code>&rsquo; 。
</p>
<p><em class="emph">指定多个参数集</em>
</p>
<p>可以指定多个选项和参数集(set)，各个集(set)之间用单个连字符隔开。这与组(group)不同，集与集之间是相互排斥的。
</p>
<p>第一组之前和任何一组中的规格对所有组都是通用的。例如
</p>
<div class="example">
<pre class="example-preformatted">_arguments \ 
    -a \ 
  - set1 \ 
    -c \ 
  - set2 \ 
    -d \ 
    ':arg:(x2 y2)'
</pre></div>

<p>这定义了两个集。 当命令行包含 &lsquo;<code class="t">-c</code>&rsquo; 选项时， &lsquo;<code class="t">-d</code>&rsquo; 选项和参数将不被视为可能的补全。 当命令行包含 &lsquo;<code class="t">-d</code>&rsquo;
或一个参数时， &lsquo;<code class="t">-c</code>&rsquo; 选项将不被考虑。 但是，在 &lsquo;<code class="t">-a</code>&rsquo; 之后，这两个集仍将被视为有效。
</p>
<p>至于组，集合的名称可以单独出现在排除列表中，或者在普通选项或参数规范之前出现。
</p>
<p>补全代码必须为每个集分别解析命令行。这可能会很慢，因此只有在必要时才使用集合。 一个有用的替代方法通常是带有其余参数的选项说明（如
&lsquo;<code class="t">-foo:*:...</code>&rsquo; 中）；在这里，选项 <code class="t">-foo</code> 会吞掉 <var class="var">optarg</var> 定义中描述的所有其余参数。
</p>
<p><em class="emph">从帮助输出中派生 <var class="var">spec</var> 形式</em>
</p>
<p>选项 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 允许 <code class="t">_arguments</code> 计算出支持 &lsquo;<code class="t">-</code><code class="t">-help</code>&rsquo; 选项的长选项名称，该选项是许多 GNU
命令的标准选项。 在调用命令字时，会使用参数 &lsquo;<code class="t">-</code><code class="t">-help</code>&rsquo; ，并检查输出的选项名称。
显然，将该选项传递给可能不支持该选项的命令是很危险的，因为命令的行为是不明确的。
</p>
<p>除选项外，当 &lsquo;<code class="t">-</code><code class="t">-</code><var class="var">opt</var><code class="t">=</code><var class="var">val</var>&rsquo; 形式有效时，&lsquo;<code class="t">_arguments -</code><code class="t">-</code>&rsquo;
将尝试推断出选项的参数类型。 还可以通过检查命令的帮助文本并添加形式为
&lsquo;<var class="var">pattern</var><code class="t">:</code><var class="var">message</var><code class="t">:</code><var class="var">action</var>&rsquo; 的 <var class="var">helpspec</var>
来提供提示；注意，其他 <code class="t">_arguments</code> <var class="var">spec</var> 形式不被使用。 <var class="var">pattern</var>
将与选项的帮助文本进行匹配，如果匹配成功，则使用 <var class="var">message</var> 和 <var class="var">action</var> 作为其他参数指定符。  &lsquo;<code class="t">*:</code>&rsquo;
的特殊情况意味着 <var class="var">message</var> 和 <var class="var">action</var> 都是空的，这将导致在帮助输出中没有说明的选项被排在有说明的选项之前。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">_arguments -- '*\*:toggle:(yes no)' \ 
              '*=FILE*:file:_files' \ 
              '*=DIR*:directory:_files -/' \ 
              '*=PATH*:directory:_files -/'
</pre></div>

<p>这里，&lsquo;<code class="t">yes</code>&rsquo; 和 &lsquo;<code class="t">no</code>&rsquo; 将作为描述是以星号结尾的选项的参数进行补全；选项的描述中包含子串 &lsquo;<code class="t">=FILE</code>&rsquo;
的，文件会被补全；选项的描述中包含 &lsquo;<code class="t">=DIR</code>&rsquo; 或 &lsquo;<code class="t">=PATH</code>&rsquo; 的，目录会被补全。
后三种模式实际上是默认的，因此不需要明确给出，不过可以覆盖这些模式的使用。 使用这一功能的典型帮助文本是:
</p>
<div class="example">
<pre class="example-preformatted">  -C, --directory=DIR          转到目录 DIR
</pre></div>

<p>因此，上述规范将导致目录在 &lsquo;<code class="t">-</code><code class="t">-directory</code>&rsquo; 之后补全，但不会在 &lsquo;<code class="t">-C</code>&rsquo; 之后补全。
</p>
<p>请注意，<code class="t">_arguments</code> 会自动检测选项的参数是否为可选参数。 可以通过在 <var class="var">message</var> 前面加双冒号来明确指定。
</p>
<p>如果 <var class="var">pattern</var> 以 &lsquo;<code class="t">(-)</code>&rsquo; 结尾，则会将其从模式中删除，并且 <var class="var">action</var> 只会在 &lsquo;<code class="t">=</code>&rsquo;
之后直接使用，而不会在下一个词中使用。 这就是以 &lsquo;<code class="t">=-</code>&rsquo; 形式定义的正常规范的行为。
</p>
<p>默认情况下，命令（带选项 &lsquo;<code class="t">--help</code>&rsquo;）会在将所有语言类别（<code class="t">LC_CTYPE</code>除外）重置为 &lsquo;<code class="t">C</code>&rsquo; 后运行。
如果已知本地化帮助输出有效，可以在 &lsquo;<code class="t">_arguments -</code><code class="t">-</code>&rsquo; 之后指定选项 &lsquo;<code class="t">-l</code>&rsquo;
，这样命令就会以当前的本地化语言运行。
</p>
<p>在&quot; &lsquo;<code class="t">_arguments -</code><code class="t">-</code>&rsquo; 后面可以加上 &lsquo;<code class="t">-i</code> <var class="var">patterns</var>&rsquo; 选项,以给出不需要补全的选项模式。
模式可以是数组参数的名称，也可以是括号中的字面列表。 例如,
</p>
<div class="example">
<pre class="example-preformatted">_arguments -- -i \ 
    &quot;(--(en|dis)able-FEATURE*)&quot;
</pre></div>

<p>将导致补全忽略选项 &lsquo;<code class="t">-</code><code class="t">-enable-FEATURE</code>&rsquo; 和 &lsquo;<code class="t">-</code><code class="t">-disable-FEATURE</code>&rsquo; （本例在使用
GNU <code class="t">configure</code> 时非常有用）。
</p>
<p>&lsquo;<code class="t">_arguments -</code><code class="t">-</code>&rsquo; 形式后还可以加上 &lsquo;<code class="t">-s</code> <var class="var">pair</var>&rsquo; 选项来描述选项别名。 <var class="var">pair</var>
由一系列可选的模式和相应的替换组成，用双引号括起来，以便在 <code class="t">_arguments</code> 调用中形成一个参数词。
</p>
<p>例如，某些 <code class="t">configure</code> 脚本的帮助输出仅将选项描述为 &lsquo;<code class="t">-</code><code class="t">-enable-foo</code>&rsquo;，但脚本也接受否定形式
&lsquo;<code class="t">-</code><code class="t">-disable-foo</code>&rsquo;。 允许补全第二种形式：
</p>
<div class="example">
<pre class="example-preformatted">_arguments -- -s &quot;((#s)--enable- --disable-)&quot;
</pre></div>

<p><em class="emph">杂项说明</em>
</p>
<p>最后请注意，<code class="t">_arguments</code> 通常希望自己是处理补全的主要函数。 它可能会产生副作用，改变在它之后调用的其他函数所添加的匹配项的处理方式。
要将 <code class="t">_arguments</code> 与其他函数结合使用，应在 <code class="t">_arguments</code> 之前,作为 <var class="var">spec</var> 中的
<var class="var">action</var> 调用，或在 &lsquo;<code class="t">-&gt;</code><var class="var">state</var>&rsquo; 操作的处理程序中调用。
</p>
<p>下面是使用 <code class="t">_arguments</code> 的一个更普通的示例：
</p>
<div class="example">
<pre class="example-preformatted">_arguments '-l+:left border:' \ 
           '-format:paper size:(letter A4)' \ 
           '*-copy:output file:_files::resolution:(300 600)' \ 
           ':postscript file:_files -g \*.\(ps\|eps\)' \ 
           '*:page number:'
</pre></div>

<p>这里描述了三个选项： &lsquo;<code class="t">-l</code>&rsquo;, &lsquo;<code class="t">-format</code>&rsquo; 和 &lsquo;<code class="t">-copy</code>&rsquo;。 第一个选项需要一个参数，描述为&lsquo;<var class="var">left
border</var>&rsquo; ，由于是空操作，因此不会提供补全。 它的参数可以直接位于 &lsquo;<code class="t">-l</code>&rsquo; 之后，也可以作为该行的下一个单词给出。
</p>
<p>&lsquo;<code class="t">-format</code>&rsquo; 选项在下一个单词中接收一个参数，描述为 &lsquo;<var class="var">paper size</var>&rsquo; ，对于该参数，只会补全
&lsquo;<code class="t">letter</code>&rsquo; 和 &lsquo;<code class="t">A4</code>&rsquo; 字符串。
</p>
<p>&lsquo;<code class="t">-copy</code>&rsquo; 选项可以在命令行中出现多次，并包含两个参数。 第一个参数是必选参数，将以文件名形式补全。 第二个参数是可选参数（因为在描述符
&lsquo;<var class="var">resolution</var>&rsquo; 前有第二个冒号），将由字符串 &lsquo;<code class="t">300</code>&rsquo; 和 &lsquo;<code class="t">600</code>&rsquo; 补全。
</p>
<p>后两处说明了应补全的参数。 第一个说明将第一个参数描述为 &lsquo;<var class="var">postscript file</var>&rsquo;，并要求补全以 &lsquo;<code class="t">ps</code>&rsquo; 或
&lsquo;<code class="t">eps</code>&rsquo; 结尾的文件。 最后一种描述将所有其他参数描述为 &lsquo;<var class="var">page number</var>&rsquo; ，但不提供补全。
</p>
</dd>
<dt><a id="index-_005fcache_005finvalid"></a><span><code class="t">_cache_invalid</code> <var class="var">cache_identifier</var><a class="copiable-link" href="#index-_005fcache_005finvalid"> &para;</a></span></dt>
<dd><p>如果给定的补全缓存标识符对应的补全缓存需要重建，则此函数返回状态 0。 它通过查找当前上下文的 <code class="t">cache-policy</code> 样式来确定。
它应提供一个函数名，该函数名的唯一参数是相关缓存文件的完整路径。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">_example_caching_policy () {
    # rebuild if cache is more than a week old
    local -a oldp
    oldp=( &quot;$1&quot;(Nm+7) )
    (( $#oldp ))
}
</pre></div>

</dd>
<dt><a id="index-_005fcall_005ffunction"></a><span><code class="t">_call_function</code> <var class="var">return</var> <var class="var">name</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-_005fcall_005ffunction"> &para;</a></span></dt>
<dd><p>如果存在函数 <var class="var">name</var>，则使用参数 <var class="var">arg</var>s 调用该函数。 <var class="var">return</var> 参数给出了一个参数的名称，函数
<var class="var">name</var> 的返回状态应存储在该参数中；如果 <var class="var">return</var> 为空或单个连字符，则该参数将被忽略。
</p>
<p>如果函数 <var class="var">name</var> 存在并被调用，<code class="t">_call_function</code> 本身的返回状态为 0，否则为非 0。
</p>
</dd>
<dt><a id="index-_005fcall_005fprogram"></a><span><code class="t">_call_program</code> [ <code class="t">-l</code> ] [ <code class="t">-p</code> ] <var class="var">tag</var> <var class="var">string</var> ...<a class="copiable-link" href="#index-_005fcall_005fprogram"> &para;</a></span></dt>
<dd><p>该函数为用户提供了一种覆盖外部命令使用的机制。 它使用提供的 <var class="var">tag</var> 查找 <code class="t">command</code> 样式。
如果设置了样式，其值将作为要执行的命令。 调用 <code class="t">_call_program</code> 的 <var class="var">string</var>s ，或样式（如果已设置）中的
<var class="var">string</var>s， 会以空格连接起来，并对得到的字符串进行求值。 返回状态是被调用命令的返回状态。
</p>
<p>默认情况下，命令的运行环境是通过调用实用程序 <code class="t">_comp_locale</code>（见下文）将所有语言类别（<code class="t">LC_CTYPE</code>除外）重置为
&lsquo;<code class="t">C</code>&rsquo; 。如果给出选项 &lsquo;<code class="t">-l</code>&rsquo; ，命令将以当前的本地语言运行。
</p>
<p>如果提供了选项 &lsquo;<code class="t">-p</code>&rsquo; ，则表示命令输出受运行权限的影响。如果 <code class="t">gain-privileges</code> 样式设置为
true，<code class="t">_call_program</code> 将使用 <code class="t">sudo</code> 等命令（如果命令行中存在），以匹配最终命令可能的运行权限。在查找
<code class="t">gain-privileges</code> 和 <code class="t">command</code> 样式时，zstyle 上下文中的命令组件将以斜线
(&lsquo;<code class="t">/</code>&rsquo;)结尾，之后是用于获取权限的命令。
</p>
</dd>
<dt><a id="index-_005fcombination"></a><span><code class="t">_combination</code> [ <code class="t">-s</code> <var class="var">pattern</var> ] <var class="var">tag</var> <var class="var">style</var> <var class="var">spec</var> ... <var class="var">field</var> <var class="var">opts</var> ...<a class="copiable-link" href="#index-_005fcombination"> &para;</a></span></dt>
<dd><p>该函数用于补全值的组合，例如主机名和用户名的组合。 <var class="var">style</var> 参数给出了定义成对值的样式；该样式将在指定了 <var class="var">tag</var>
的上下文中查找。
</p>
<p>样式名称由用连字符分隔的字段名组成，例如 &lsquo;<code class="t">users-hosts-ports</code>&rsquo;。 对于已知值的每个字段，都会给出一个格式为
&lsquo;<var class="var">field</var><code class="t">=</code><var class="var">pattern</var>&rsquo; 的 <var class="var">spec</var>。 例如，如果命令行指定了用户 &lsquo;<code class="t">pws</code>&rsquo;，则参数
&lsquo;<code class="t">users=pws</code>&rsquo; 应当出现。
</p>
<p>下一个不带等号的参数将作为应生成补全的字段名（可能不是已知值的 <var class="var">field</var>s 中的一个）。
</p>
<p>生成的匹配结果将取自样式值。 这些值应按适当顺序（如上例中的用户、主机、端口）包含可能的组合值。 不同字段的值用冒号分隔。 可以使用选项 <code class="t">-s</code>
将其改为 <code class="t">_combination</code>，以指定一个模式。 通常情况下，这是一个字符类，例如，在 <code class="t">users-hosts</code> 样式中使用了
&lsquo;<code class="t">-s &quot;[:@]&quot;</code>&rsquo; 。 每个 &lsquo;<var class="var">field</var><code class="t">=</code><var class="var">pattern</var>&rsquo;
规范都会限制补全,这些补全适用于具有相应匹配字段的样式的元素。
</p>
<p>如果没有为给定标记定义具有给定名称的样式，或者样式值中的字符串都不匹配，但定义了带前导下划线的所需字段的函数名，则将调用该函数生成匹配值。
例如，如果没有 &lsquo;<code class="t">users-hosts-ports</code>&rsquo; 或在需要主机时没有匹配的主机名，将自动调用函数 &lsquo;<code class="t">_hosts</code>&rsquo; 。
</p>
<p>如果同一名称用于多个字段，在 &lsquo;<var class="var">field</var><code class="t">=</code><var class="var">pattern</var>&rsquo;
和给出要补全的字段名称的参数中，可以在字段名称后给出字段编号（从 1 开始），并用冒号隔开。
</p>
<p>在根据样式值生成匹配时，必填字段名后的所有参数都会传递给 <code class="t">compadd</code>，或者在为字段调用函数时传递给这些函数。
</p>
</dd>
<dt><a id="index-_005fcommand_005fnames"></a><span><code class="t">_command_names</code> [ <code class="t">-e</code> | <code class="t">-</code> ]<a class="copiable-link" href="#index-_005fcommand_005fnames"> &para;</a></span></dt>
<dd><p>该函数补全在命令位置有效的单词：别名、内置命令、散列命令、函数等的名称。 使用 <code class="t">-e</code> 标志时，只补全散列命令。 <code class="t">-</code> 标志将被忽略。
</p>
</dd>
<dt><a id="index-_005fcomp_005flocale"></a><span><code class="t">_comp_locale</code><a class="copiable-link" href="#index-_005fcomp_005flocale"> &para;</a></span></dt>
<dd><p>该函数将 <code class="t">LC_CTYPE</code> 以外的所有区域设置类别重置为 &lsquo;<code class="t">C</code>&rsquo; ，以便补全系统可以轻松分析外部命令的输出。<code class="t">LC_CTYPE</code>
保留当前值（将 <code class="t">LC_ALL</code> 和 <code class="t">LANG</code> 考虑在内），确保文件名中的非 ASCII 字符仍能得到正确处理。
</p>
<p>该函数通常只能在子 shell 中运行，因为新的本地语言(locale)会导出到环境中。典型用法是 &lsquo;<code class="t">$(_comp_locale;
</code><var class="var">command</var> ...<code class="t">)</code>&rsquo;。
</p>
</dd>
<dt><a id="index-_005fcompleters"></a><span><code class="t">_completers</code> [ <code class="t">-p</code> ]<a class="copiable-link" href="#index-_005fcompleters"> &para;</a></span></dt>
<dd><p>该函数可补全补全器的名称。
</p>
<dl class="table">
<dt><code class="t">-p</code></dt>
<dd><p>在匹配中包含前导下划线 (&lsquo;<code class="t">_</code>&rsquo;)。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-_005fdefault"></a><span><code class="t">_default</code><a class="copiable-link" href="#index-_005fdefault"> &para;</a></span></dt>
<dd><p>该函数对应于 <code class="t">-default-</code> 特殊上下文，适用于未定义补全的情况。 在某些错误条件下调用该函数非常有用，例如在未识别子命令后补全。
这将优美降级的概念应用于补全系统，允许它在基本补全文件名等常用内容时回退。
</p>
<a class="index-entry-id" id="index-_005fdescribe"></a>

</dd>
<dt><code class="t">_describe </code>[<code class="t">-12JVx</code>] [ <code class="t">-oO</code> | <code class="t">-t</code> <var class="var">tag</var> ] <var class="var">descr</var> <var class="var">name1</var> [ <var class="var">name2</var> ] [ <var class="var">opt</var> ... ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-</code><code class="t">-</code> <var class="var">name1</var> [ <var class="var">name2</var> ] [ <var class="var">opt</var> ... ] ... ]</dt>
<dd><p>此函数将补全与描述关联起来。 可以提供多个用 <code class="t">-</code><code class="t">-</code> 分隔的组，可能会有不同的补全选项 <var class="var">opt</var>s。
</p>
<p>如果 <code class="t">descr</code> 标记的 <code class="t">format</code> 样式被设置，则 <var class="var">descr</var> 将作为字符串显示在匹配结果的上方。
接下来是一个或两个数组的名称，后面是传递给 <code class="t">compadd</code> 的选项。 数组 <var class="var">name1</var> 包含可能的补全及其描述，格式为
&lsquo;<var class="var">completion</var><code class="t">:</code><var class="var">description</var>&rsquo;。 <var class="var">completion</var>
中任何字面上的冒号都必须用反斜杠引出。 如果给出 <var class="var">name2</var>，则其元素个数应与 <var class="var">name1</var>
相同；在这种情况下，相应的元素将作为可能的补全元素添加，而不是 <var class="var">name1</var> 中的 <var class="var">completion</var> 字符串。 补全列表将保留
<var class="var">name1</var> 中的描述。 最后，可以出现一补全选项集。
</p>
<p>如果第一个参数前出现了选项 &lsquo;<code class="t">-o</code>&rsquo; ，则添加的匹配字符串将被视为命令选项名称（注意：不是 shell 选项），通常位于命令行上的
&lsquo;<code class="t">-</code>&rsquo;, &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 或 &lsquo;<code class="t">+</code>&rsquo; 之后。 在这种情况下，<code class="t">_describe</code> 会使用
<code class="t">prefix-hidden</code>、<code class="t">prefix-needed</code> 和 <code class="t">verbose</code>
样式来查找是否应将字符串添加为补全，以及是否显示说明。 如果不使用 &lsquo;<code class="t">-o</code>&rsquo; 选项，则只使用 <code class="t">verbose</code> 样式来决定如何显示说明。
如果使用 &lsquo;<code class="t">-O</code>&rsquo; 而不是 &lsquo;<code class="t">-o</code>&rsquo;，命令选项的补全方式如上，但 <code class="t">_describe</code> 不会处理
<code class="t">prefix-needed</code> 样式。
</p>
<p>使用 <code class="t">-t</code> 选项可以指定一个 <var class="var">tag</var> 。 默认值为 &lsquo;<code class="t">values</code>&rsquo; ，如果使用 <code class="t">-o</code> 选项，则为
&lsquo;<code class="t">options</code>&rsquo;。
</p>
<p>选项 <code class="t">-1</code>, <code class="t">-2</code>, <code class="t">-J</code>, <code class="t">-V</code>, <code class="t">-x</code> 将传递给 <code class="t">_next_label</code>。
</p>
<p>如果通过使用 <code class="t">list-grouped</code> 样式选择，具有相同描述的字符串将一起出现在列表中。
</p>
<p><code class="t">_describe</code> 使用 <code class="t">_all_labels</code> 函数来生成匹配结果，因此它无需出现在标记标签的循环中。
</p>
</dd>
<dt><a id="index-_005fdescription"></a><span><code class="t">_description</code> [ <code class="t">-x</code> ] [ <code class="t">-12VJ</code> ] <var class="var">tag</var> <var class="var">name</var> <var class="var">descr</var> [ <var class="var">spec</var> ... ]<a class="copiable-link" href="#index-_005fdescription"> &para;</a></span></dt>
<dd><p>不要将此函数与前一个函数混淆；它是用于为创建 <code class="t">compadd</code> 的选项的辅助函数。 它被埋藏在许多高级补全函数中，因此通常不需要直接调用。
</p>
<p>下面列出的样式将在当前上下文中使用给定的 <var class="var">tag</var> 进行测试。 <code class="t">compadd</code> 产生的选项会被放入名为 <var class="var">name</var>
的数组（传统上是 &lsquo;<code class="t">expl</code>&rsquo;，但这一约定并不强制执行）。 相应匹配集的描述信息将以 <var class="var">descr</var> 的形式传递给函数。
</p>
<p>测试的样式有
<code class="t">format</code>、<code class="t">hidden</code>、<code class="t">matcher</code>、<code class="t">ignore-line</code>、<code class="t">ignored-patterns</code>、<code class="t">group-name</code>
和 <code class="t">sort</code>。 首先针对给定的 <var class="var">tag</var> 对 <code class="t">format</code> 样式进行测试，如果未找到值，则针对
<code class="t">descriptions</code> 标签进行测试，其余的只针对作为第一个参数给定的标签进行测试。 函数还会调用 <code class="t">_setup</code>，以测试更多样式。
</p>
<p>由 <code class="t">format</code> 样式（如果有）返回的字符串将被修改，使 &lsquo;<code class="t">%d</code>&rsquo; 序列被作为第三个参数给出的 <var class="var">descr</var>
所替换，且不留任何前导或尾部空白。 如果删除空白后，<var class="var">descr</var> 为空字符串，则格式样式将不被使用，放入 <var class="var">name</var>
数组的选项将不包含显示在匹配结果上方的解释字符串。
</p>
<p>如果调用 <code class="t">_description</code> 时有三个以上的参数，则附加的 <var class="var">spec</var>s 应为
&lsquo;<var class="var">char</var><code class="t">:</code><var class="var">str</var>&rsquo; 形式。 这些参数将为 <code class="t">format</code> 样式提供转义序列替换：每次出现
&lsquo;<code class="t">%</code><var class="var">char</var>&rsquo; 时，都会被 <var class="var">string</var> 替换。 如果没有给出额外的 <var class="var">spec</var>s，但 <var class="var">descr</var>
中的描述符合通用格式，则会为描述中的元素设置更多转义序列。  这些元素分别对应默认值 (&lsquo;<code class="t">%o</code>&rsquo;)、可接受值的单位(&lsquo;<code class="t">%m</code>&rsquo;)
范围和描述 (&lsquo;<code class="t">%h</code>&rsquo;)的其余初始部分。  描述的形式包括在括号中指定单位和范围，和在方括号中指定的默认值，例如：
</p>
<div class="example">
<pre class="example-preformatted">_description times expl 'timeout (seconds) (0-60) [20]'
</pre></div>

<p>在为这些元素设计样式时，可以使用 <code class="t">zformat</code> 条件表达式。因此，举例来说，要添加 &lsquo;<code class="t">default:</code>&rsquo;
作为标记，但只在有默认值要显示时，<code class="t">format</code> 样式可能包括 &lsquo;<code class="t">%(o.default: %o.)</code>&rsquo;。
</p>
<p>如果给出 <code class="t">-x</code> 选项，描述将使用 <code class="t">-x</code> 选项而不是默认的 <code class="t">-X</code> 传递给 <code class="t">compadd</code>。
这意味着即使没有相应的匹配，描述也会显示。
</p>
<p>放在 <var class="var">name</var> 数组中的选项会考虑 <code class="t">group-name</code> 样式，因此必要时会将匹配结果放在一个单独的组中。
通常情况下，组中的元素是排序的（通过向 <code class="t">compadd</code> 传递 <code class="t">-J</code> 选项），但如果向 <code class="t">_description</code>
传递了以&lsquo;<code class="t">-V</code>&rsquo;, &lsquo;<code class="t">-J</code>&rsquo;, &lsquo;<code class="t">-1</code>&rsquo; 或 &lsquo;<code class="t">-2</code>&rsquo; 开头的选项，则该选项将包含在数组中。 因此，可以通过给出选项
&lsquo;<code class="t">-V</code>&rsquo;, &lsquo;<code class="t">-1V</code>&rsquo; 或 &lsquo;<code class="t">-2V</code>&rsquo; 来取消补全组的排序。
</p>
<p>在大多数情况下，函数的使用方法是这样的：
</p>
<div class="example">
<pre class="example-preformatted">local expl
_description files expl file
compadd &quot;$expl[@]&quot; - &quot;$files[@]&quot;
</pre></div>

<p>请注意参数 <code class="t">expl</code>、连字符和匹配列表的使用。 补全系统中几乎所有对 <code class="t">compadd</code>
的调用都使用了类似的格式；这样可以确保用户指定的样式正确地传递给实现补全内部结构的内置程序。
</p>
</dd>
<dt><a id="index-_005fdir_005flist"></a><span><code class="t">_dir_list</code> [ <code class="t">-s</code> <var class="var">sep</var> ] [ <code class="t">-S</code> ]<a class="copiable-link" href="#index-_005fdir_005flist"> &para;</a></span></dt>
<dd><p>补全一个用冒号分隔的目录名列表（格式与 <code class="t">$PATH</code>相同）。
</p>
<dl class="table">
<dt><code class="t">-s</code> <var class="var">sep</var></dt>
<dd><p>使用 <var class="var">sep</var> 作为项目之间的分隔符。 <var class="var">sep</var> 默认为冒号 (&lsquo;<code class="t">:</code>&rsquo;)。
</p>
</dd>
<dt><code class="t">-S</code></dt>
<dd><p>添加 <var class="var">sep</var> 代替斜线 (&lsquo;<code class="t">/</code>&rsquo;)，作为可自动删除的后缀。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-_005fdispatch"></a><span><code class="t">_dispatch</code> <var class="var">context string</var> ...<a class="copiable-link" href="#index-_005fdispatch"> &para;</a></span></dt>
<dd><p>此操作会将当前上下文设置为 <var class="var">context</var>，并通过搜索作为 <var class="var">string</var>s 给出的命令名称或特殊上下文（如上文针对
<code class="t">compdef</code> 所述）列表来查找处理此上下文的补全函数。 第一个为列表中某个上下文定义的补全函数将用于生成匹配。 通常情况下，最后一个
<var class="var">string</var> 是 <code class="t">-default-</code>，以便使用默认补全函数作为备用。
</p>
<p>该函数将参数 <code class="t">$service</code> 设置为正在尝试的 <var class="var">string</var>，并将 <code class="t">$curcontext</code> 参数的
<var class="var">context/command</var> 字段（第四字段）设置为作为第一个参数给定的 <var class="var">context</var>。
</p>
</dd>
<dt><a id="index-_005femail_005faddresses"></a><span><code class="t">_email_addresses</code> [ <code class="t">-c</code> ] [ <code class="t">-n</code> <var class="var">plugin</var> ]<a class="copiable-link" href="#index-_005femail_005faddresses"> &para;</a></span></dt>
<dd><p>补全电子邮件地址。 地址由插件提供。
</p>
<dl class="table">
<dt><code class="t">-c</code></dt>
<dd><p>补全裸 <code class="t">localhost@domain.tld</code> 地址，不含名称部分或注释。 如果不使用该选项，RFC822
中的&lsquo;<var class="var">Firstname Lastname</var> <code class="t">&lt;</code><var class="var">address</var><code class="t">&gt;</code>&rsquo; 字符串将被补全。
</p>
</dd>
<dt><code class="t">-n</code> <var class="var">plugin</var></dt>
<dd><p>补全来自 <var class="var">plugin</var> 的别名。  
</p>
</dd>
</dl>

<p>默认情况下可使用以下插件： <code class="t">_email-ldap</code> （参见 <code class="t">filter</code> 样式）、<code class="t">_email-local</code>（补全
<var class="var">user</var><code class="t">@</code><var class="var">hostname</var> Unix 地址）、<code class="t">_email-mail</code>（补全 <code class="t">~/.mailrc</code>
中的别名）、<code class="t">_email-mush</code>、<code class="t">_email-mutt</code> 和 <code class="t">_email-pine</code>。
</p>
<p>来自 <code class="t">_email-</code><var class="var">foo</var>  插件的地址会添加到标记 &lsquo;<code class="t">email-</code><var class="var">foo</var>&rsquo; 下。
</p>
<p><em class="emph">编写插件</em>
</p>
<p>插件以单独函数的形式编写，名称以 &lsquo;<code class="t">_email-</code>&rsquo; 开头。 调用时使用 <code class="t">-c</code> 选项和 <code class="t">compadd</code> 选项。
它们应自行补全或将 <code class="t">$reply</code> 数组设置为 &lsquo;<var class="var">alias</var><code class="t">:</code><var class="var">address</var>&rsquo; 元素列表，并返回 <code class="t">300</code>。
新插件将被拾取并自动运行。
</p>
</dd>
<dt><a id="index-_005ffiles"></a><span><code class="t">_files</code><a class="copiable-link" href="#index-_005ffiles"> &para;</a></span></dt>
<dd><p>函数 <code class="t">_files</code> 是 <code class="t">_path_files</code> 的包装器。它支持所有相同的功能，并做了一些改进 &mdash; 尤其是，它尊重
<code class="t">list-dirs-first</code> 样式，并允许用户使用 <code class="t">file-patterns</code> 样式覆盖 <code class="t">-g</code> 和 <code class="t">-/</code>
选项的行为。因此，在大多数情况下，<code class="t">_files</code> 比 <code class="t">_path_files</code> 更受青睐。
</p>
<p>该函数接受 <code class="t">_path_files</code> 允许的全部选项，具体描述如下。
</p>
</dd>
<dt><a id="index-_005fgnu_005fgeneric"></a><span><code class="t">_gnu_generic</code><a class="copiable-link" href="#index-_005fgnu_005fgeneric"> &para;</a></span></dt>
<dd><p>该函数是上述 <code class="t">_arguments</code> 函数的一个简单封装。 它可用于自动确定命令所能理解的长选项，这些命令在传递选项
&lsquo;<code class="t">-</code><code class="t">-help</code>&rsquo; 时会产生一个列表。 它本身就是一个顶级补全函数。 例如，要启用 <code class="t">foo</code> 和 <code class="t">bar</code>
命令的选项补全功能，请使用
</p>
<div class="example">
<pre class="example-preformatted">compdef _gnu_generic foo bar
</pre></div>

<p>在调用 <code class="t">compinit</code> 后。
</p>
<p>补全系统在使用该函数时比较保守，因为必须确保命令理解选项 &lsquo;<code class="t">-</code><code class="t">-help</code>&rsquo;。
</p>
</dd>
<dt><a id="index-_005fguard"></a><span><code class="t">_guard</code> [ <var class="var">options</var> ] <var class="var">pattern descr</var><a class="copiable-link" href="#index-_005fguard"> &para;</a></span></dt>
<dd><p>如果 <var class="var">pattern</var> 与要补全的字符串匹配，该函数将显示 <var class="var">descr</var>。 该函数用于 <var class="var">action</var> 中传递给
<code class="t">_arguments</code> 和类似函数的规范。
</p>
<p>如果信息已显示且待补全字不为空，则返回状态为零，否则为非零。
</p>
<p>在 <var class="var">pattern</var> 之前可以加上 <code class="t">compadd</code> 可以理解的任何选项，这些选项是从 <code class="t">_description</code> 传递下来的，即
<code class="t">-M</code>、<code class="t">-J</code>、<code class="t">-V</code>、<code class="t">-1</code>、<code class="t">-2</code>、<code class="t">-n</code>、<code class="t">-F</code> 和 <code class="t">-X</code>。 所有这些选项都将被忽略。 这与
<code class="t">_arguments</code> 动作的参数传递约定非常吻合。
</p>
<p>例如，考虑一个命令，包含 <code class="t">-n</code> 和 <code class="t">-none</code> 两个选项，其中 -n 必须在同一个单词中后跟一个数值。通过使用：
</p>
<div class="example">
<pre class="example-preformatted">_arguments '-n-: :_guard &quot;[0-9]#&quot; &quot;numeric value&quot;' '-none'
</pre></div>

<p><code class="t">_arguments</code> 可以同时显示&lsquo;<code class="t">numeric value</code>&rsquo; 和 &lsquo;<code class="t">-n&lt;TAB&gt;</code>&rsquo; 之后的补全选项。 如果
&lsquo;<code class="t">-n</code>&rsquo; 后面已经有一个或多个数字（传给 <code class="t">_guard</code> 的模式），则只显示信息；如果 &lsquo;<code class="t">-n</code>&rsquo; 后面有其他字符，则只补全选项。
</p>
</dd>
<dt><a id="index-_005fmessage"></a><span><code class="t">_message</code> [ <code class="t">-r12</code> ] [ <code class="t">-VJ</code> <var class="var">group</var> ] <var class="var">descr</var><a class="copiable-link" href="#index-_005fmessage"> &para;</a></span></dt>
<dt><code class="t">_message -e</code> [ <var class="var">tag</var> ] <var class="var">descr</var></dt>
<dd><p><var class="var">descr</var> 的使用方式与 <code class="t">_description</code> 函数的第三个参数相同，不同的是，无论是否生成了匹配结果，都会显示生成的字符串。
这对于在无法生成补全的地方显示帮助信息非常有用。
</p>
<p><code class="t">format</code> 样式与 <code class="t">messages</code> 标记一起检查，以查找消息；只有在前者未设置样式时，才会使用通常的标签
<code class="t">descriptions</code>。
</p>
<p>如果给出 <code class="t">-r</code> 选项，则不使用任何样式；<var class="var">descr</var> 将作为要显示的字面字符串。 当 <var class="var">descr</var>
来自预处理过的参数列表，而该参数列表已包含扩展的描述时，该选项最为有用。 请注意，此选项不会禁用 <code class="t">compadd</code> 的 &lsquo;<code class="t">%</code>&rsquo; 序列解析。
</p>
<p><code class="t">-12VJ</code> 选项和 <var class="var">group</var> 被传递给 <code class="t">comppadd</code>，从而决定信息字符串被添加到哪个组。
</p>
<p>第二个 <code class="t">-e</code> 形式为带有 <var class="var">tag</var> 标记的补全提供说明，即使该标记没有匹配项也会显示。
如果选项说明中没有任何操作，<code class="t">_arguments</code> 将调用该形式。 标记可以省略，如果省略，则标记取自参数
<code class="t">$curtag</code>；该参数由补全系统维护，因此通常是正确的。 需要注意的是，如果调用此函数时没有匹配项，<code class="t">compstate[insert]</code>
将被清除，因此不会在命令行中插入随后生成的匹配项。
</p>
</dd>
<dt><a id="index-_005fmulti_005fparts"></a><span><code class="t">_multi_parts</code> [ <code class="t">-i</code> ] <var class="var">sep</var> <var class="var">array</var><a class="copiable-link" href="#index-_005fmulti_005fparts"> &para;</a></span></dt>
<dd><p>参数 <var class="var">sep</var> 是一个分隔字符。 <var class="var">array</var> 可以是一个数组参数的名称，也可以是一个形式为 &lsquo;<code class="t">(foo bar</code><code class="t">)</code>&rsquo;
的字面数组，即一个用括号括起来的以空白分隔的单词列表。 可能的补全是数组中的字符串。 不过，由 <var class="var">sep</var> 分隔的每个词块都将单独补全。
例如，<code class="t">_tar</code> 函数使用 &lsquo;<code class="t">_multi_parts</code> <code class="t">/</code> <var class="var">patharray</var>&rsquo;
来从给定的完整文件路径数组中补全部分文件路径。
</p>
<p><code class="t">-i</code> 选项会使 <code class="t">_multi_parts</code> 插入唯一匹配，即使需要插入多个分隔符。
这通常不是文件名的预期行为，但某些其他类型的补全，例如有固定可能性的补全集，可能更适合这种形式。
</p>
<p>与其他实用用函数一样，该函数接受 &lsquo;<code class="t">-V</code>&rsquo;, &lsquo;<code class="t">-J</code>&rsquo;, &lsquo;<code class="t">-1</code>&rsquo;, &lsquo;<code class="t">-2</code>&rsquo;, &lsquo;<code class="t">-n</code>&rsquo;, &lsquo;<code class="t">-f</code>&rsquo;,
&lsquo;<code class="t">-X</code>&rsquo;, &lsquo;<code class="t">-M</code>&rsquo;, &lsquo;<code class="t">-P</code>&rsquo;, &lsquo;<code class="t">-S</code>&rsquo;, &lsquo;<code class="t">-r</code>&rsquo;, &lsquo;<code class="t">-R</code>&rsquo; 和 &lsquo;<code class="t">-q</code>&rsquo;
选项，并将它们传递给 <code class="t">compadd</code> 内置函数。
</p>
</dd>
<dt><a id="index-_005fnext_005flabel"></a><span><code class="t">_next_label</code> [ <code class="t">-x</code> ] [ <code class="t">-12VJ</code> ] <var class="var">tag</var> <var class="var">name</var> <var class="var">descr</var> [ <var class="var">option</var> ... ]<a class="copiable-link" href="#index-_005fnext_005flabel"> &para;</a></span></dt>
<dd><p>该函数用于实现上述在 <code class="t">tag-order</code> 样式的特定标记的不同标记(tag labels)上的循环。
每次调用时，它都会检查是否还有其他标签；如果有，则返回状态 0，否则返回非 0。 由于该函数需要设置一个当前标签，因此它必须始终跟随 <code class="t">_tags</code>
或 <code class="t">_requested</code> 的调用。
</p>
<p><code class="t">-x12VJ</code> 选项和前三个参数会传递给 <code class="t">_description</code> 函数。 在此调用中，<var class="var">tag</var> 将酌情替换为标签(tag
label)。 任何以 <code class="t">tag-order</code> 样式给出的描述都优先于传递给 <code class="t">_next_label</code> 的 <var class="var">descr</var>。
</p>
<p>在 <var class="var">descr</var> 后面给出的 <var class="var">option</var>s 是在 <var class="var">name</var> 给出的参数中设置的，因此应传递给 <code class="t">compadd</code>
或任何调用以用于添加匹配的函数。
</p>
<p>下面是该函数在标记 <code class="t">foo</code> 中的典型用法。 对 <code class="t">_requested</code> 的调用确定是否需要 <code class="t">foo</code> 标记；对
<code class="t">_next_label</code> 的循环,处理为 <code class="t">tag-order</code> 样式中的标记定义的标签（labels）。
</p>
<div class="example">
<pre class="example-preformatted">local expl ret=1
...
if _requested foo; then
  ...
  while _next_label foo expl '...'; do
    compadd &quot;$expl[@]&quot; ... &amp;&amp; ret=0
  done
  ...
fi
return ret
</pre></div>

</dd>
<dt><a id="index-_005fnormal"></a><span><code class="t">_normal</code> [ <code class="t">-P</code> | <code class="t">-p</code> <var class="var">precommand</var> ]<a class="copiable-link" href="#index-_005fnormal"> &para;</a></span></dt>
<dd><p>这是一个标准函数，用于处理任何特殊 <code class="t">-</code><var class="var">context</var><code class="t">-</code> 以外的补全。 它既可用于补全命令字，也可用于补全命令的参数。
在第二种情况下，<code class="t">_normal</code> 会查找该命令的特殊补全，如果没有，则使用 <code class="t">-default-</code> 上下文的补全。
</p>
<p>第二个用途是在 <code class="t">$words</code> 数组和 <code class="t">$CURRENT</code> 参数被修改后，重新检查它们指定的命令行。 例如，函数
<code class="t">_precommand</code> 在 <code class="t">nohup</code> 等前置命令指定符之后补全，它会删除 <code class="t">words</code> 数组中的第一个单词，递减
<code class="t">CURRENT</code> 参数，然后调用 &lsquo;<code class="t">_normal -p $service</code>&rsquo;。 其效果是： &lsquo;<code class="t">nohup</code> <var class="var">cmd
...</var>&rsquo; 的处理方式与 &lsquo;<var class="var">cmd ...</var>&rsquo; 相同。
</p>
<dl class="table">
<dt><code class="t">-P</code></dt>
<dd><p>重置前置命令列表。如果补全的命令行允许使用内部命令（如内置命令和函数）而不考虑先前的前置命令（如 &lsquo;<code class="t">zsh -c</code>&rsquo;），则应使用该选项。
</p>
</dd>
<dt><code class="t">-p</code> <var class="var">precommand</var></dt>
<dd><p>将 <var class="var">precommand</var> 追加到前置命令列表中。该选项几乎适用于 <code class="t">-P</code> 不适用的所有情况。
</p>
</dd>
</dl>

<p>如果命令名与 <code class="t">compdef</code> 的 <code class="t">-p</code> 或 <code class="t">-P</code> 的选项之一给出的模式之一匹配，则调用相应的补全函数，然后检查参数
<code class="t">_compskip</code>。 如果参数 <code class="t">_compskip</code> 被设置，即使未找到匹配结果，也会在此时终止补全。 这与 <code class="t">-first-</code>
上下文中的效果相同。
</p>
</dd>
<dt><a id="index-_005fnumbers"></a><span><code class="t">_numbers</code> [ <var class="var">option</var> ... ] [ <var class="var">description</var> ] [ <var class="var">suffix</var> ... ]<a class="copiable-link" href="#index-_005fnumbers"> &para;</a></span></dt>
<dd><p>当一个数字后面有一个表示单位的后缀时，就可以使用这种方法。 单位后缀可以补全，也可以包含在为前一个数字调用补全时使用的描述中。
</p>
<p>除了常用的 <code class="t">compadd</code> 选项外，<code class="t">_numbers</code> 还接受以下选项：
</p>
<dl class="table">
<dt><code class="t">-t</code> <var class="var">tag</var></dt>
<dd><p>指定一个要使用的标记，而不是默认的 <code class="t">numbers</code>。
</p>
</dd>
<dt><code class="t">-u</code> <var class="var">units</var></dt>
<dd><p>指出数字的默认单位，例如 <code class="t">字节</code>。
</p>
</dd>
<dt><code class="t">-l</code> <var class="var">min</var></dt>
<dd><p>指定数字的最小可能值。
</p>
</dd>
<dt><code class="t">-m</code> <var class="var">max</var></dt>
<dd><p>指定数字的最大可能值。
</p>
</dd>
<dt><code class="t">-d</code> <var class="var">default</var></dt>
<dd><p>指定默认值。
</p>
</dd>
<dt><code class="t">-N</code></dt>
<dd><p>允许负数。 如果范围中包含负数,那么这是隐含的。
</p>
</dd>
<dt><code class="t">-f</code></dt>
<dd><p>允许使用小数。
</p>
</dd>
</dl>

<p>如果某个后缀代表一个数字的默认单位，则应在其前加上冒号。 此外，后缀后面还可以加上冒号和说明。
因此，举例来说，下面可以指定某事物的年龄，可以用秒或可选的后缀来表示更长的时间单位：
</p>
<div class="example">
<pre class="example-preformatted">_numbers -u seconds age :s:seconds m:minutes h:hours d:days
</pre></div>

<p>补全时，按大小顺序排列单位通常会有帮助。 为方便起见，我们保留了给出单位的顺序。
</p>
<p>使用 <code class="t">descriptions</code> 标记或 <code class="t">-t</code> 指定的标记查找 <code class="t">format</code> 样式时，后缀列表可作为 &lsquo;<code class="t">%x</code>&rsquo;
转义序列使用。这是 <code class="t">format</code> 样式下记录的常规序列之外的另一种形式。该列表的形式也可以配置。为此，首先使用
<code class="t">unit-suffixes</code> 标记查找 <code class="t">format</code> 样式。检索到的格式依次应用于每个后缀，然后将结果连接起来，形成补全列表。对于
<code class="t">unit-suffixes</code> 格式，&lsquo;<code class="t">%x</code>&rsquo; 表示单个后缀， &lsquo;<code class="t">%X</code>&rsquo; 表示其描述。 &lsquo;<code class="t">%d</code>&rsquo;
表示默认后缀，可在条件中使用。索引和反向索引分别设置在 &lsquo;<code class="t">%i</code>&rsquo; 和 &lsquo;<code class="t">%r</code>&rsquo;
中，适用于只包含列表中第一和最后一个后缀的文本。例如，下文将后缀以逗号分隔的列表形式连接在一起：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:unit-suffixes' format '%x%(r::,)'
</pre></div>


</dd>
<dt><a id="index-_005foptions"></a><span><code class="t">_options</code><a class="copiable-link" href="#index-_005foptions"> &para;</a></span></dt>
<dd><p>可用于补全 shell 选项的名称。 它提供了一个忽略前导
&lsquo;<code class="t">no</code>&rsquo;、忽略下划线并允许大写字母匹配小写字母的匹配规范（例如，&lsquo;<code class="t">glob</code>&rsquo;, &lsquo;<code class="t">noglob</code>&rsquo;, &lsquo;<code class="t">NO_GLOB</code>&rsquo;
均可补全）。 任何参数都会传播给 <code class="t">compadd</code> 内置函数。
</p>
</dd>
<dt><a class="index-entry-id" id="index-_005foptions_005funset"></a>
<a id="index-_005foptions_005fset"></a><span><code class="t">_options_set</code> and <code class="t">_options_unset</code><a class="copiable-link" href="#index-_005foptions_005fset"> &para;</a></span></dt>
<dd><p>这些函数只补全设置或取消设置的选项，其匹配规范与 <code class="t">_options</code> 函数中使用的相同。
</p>
<p>请注意，要使这些函数正常工作，需要取消 <code class="t">_main_complete</code> 函数中的几行注释。
在补全小部件本地设置所需的选项之前，这些行用于存储有效的选项设置。 因此，补全系统一般不会使用这些函数。
</p>
</dd>
<dt><a id="index-_005fparameters"></a><span><code class="t">_parameters</code><a class="copiable-link" href="#index-_005fparameters"> &para;</a></span></dt>
<dd><p>用于补全 shell 参数的名称。
</p>
<p>选项 &lsquo;<code class="t">-g</code> <var class="var">pattern</var>&rsquo; 限制补全的参数类型与 <var class="var">pattern</var> 匹配。 参数的类型由 &lsquo;<code class="t">print
${(t)</code><var class="var">param</var><code class="t">}</code>&rsquo; 显示，因此在 <var class="var">pattern</var> 中明智地使用 &lsquo;<code class="t">*</code>&rsquo; 可能是必要的。
</p>
<p>所有其他参数都将传递给 <code class="t">compadd</code> 内置函数。
</p>
</dd>
<dt><a id="index-_005fpath_005ffiles"></a><span><code class="t">_path_files</code><a class="copiable-link" href="#index-_005fpath_005ffiles"> &para;</a></span></dt>
<dd><p>该函数在整个补全系统中用于补全文件名。 它允许补全部分路径。 例如，字符串 &lsquo;<code class="t">/u/i/sig</code>&rsquo; 可以补全为
&lsquo;<code class="t">/usr/include/sys/signal.h</code>&rsquo;。
</p>
<p><code class="t">_path_files</code> 和 <code class="t">_files</code> 都接受的选项有:
</p>
<dl class="table">
<dt><code class="t">-f</code></dt>
<dd><p>补全所有文件名。 这是默认设置。
</p>
</dd>
<dt><code class="t">-/</code></dt>
<dd><p>指定只补全目录。
</p>
</dd>
<dt><code class="t">-g</code> <var class="var">pattern</var></dt>
<dd><p>指定只补全与 <var class="var">pattern</var> 匹配的文件。
</p>
</dd>
<dt><code class="t">-W</code> <var class="var">paths</var></dt>
<dd><p>指定路径前缀，这些路径前缀将被放到命令行字符串前以生成文件名，但不会作为补全插入，也不会显示在补全列表中。 在这里，<var class="var">paths</var>
可以是数组参数的名称、用括号括起来的（字面值的）路径列表或绝对路径名。
</p>
</dd>
<dt><code class="t">-F</code> <var class="var">ignored-files</var></dt>
<dd><p>行为与 <code class="t">compadd</code> 内置程序的相应选项相同。 它可以直接控制哪些文件名应被忽略。 如果没有该选项，则使用
<code class="t">ignored-patterns</code> 样式。
</p>
</dd>
</dl>

<p><code class="t">_path_files</code> 和 <code class="t">_files</code> 还接受以下传递给 <code class="t">compadd</code> 的选项：&lsquo;<code class="t">-J</code>&rsquo;, &lsquo;<code class="t">-V</code>&rsquo;,
&lsquo;<code class="t">-1</code>&rsquo;, &lsquo;<code class="t">-2</code>&rsquo;, &lsquo;<code class="t">-n</code>&rsquo;, &lsquo;<code class="t">-X</code>&rsquo;, &lsquo;<code class="t">-M</code>&rsquo;, &lsquo;<code class="t">-P</code>&rsquo;, &lsquo;<code class="t">-S</code>&rsquo;,
&lsquo;<code class="t">-q</code>&rsquo;, &lsquo;<code class="t">-r</code>&rsquo; 和 &lsquo;<code class="t">-R</code>&rsquo;。
</p>
<p>最后，<code class="t">_path_files</code> 函数使用了上述
<code class="t">expand</code>、<code class="t">ambiguous</code>、<code class="t">special-dirs</code>、<code class="t">list-ffixes</code> 和 <code class="t">file-sort</code>
样式。
</p>
<a class="index-entry-id" id="index-_005fpick_005fvariant"></a>

</dd>
<dt><code class="t">_pick_variant </code>[ <code class="t">-b</code> <var class="var">builtin-label</var> ] [ <code class="t">-c</code> <var class="var">command</var> ] [ <code class="t">-r</code> <var class="var">name</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><var class="var">label</var><code class="t">=</code><var class="var">pattern</var> ... <var class="var">label</var> [ <var class="var">arg</var> ... ]</dt>
<dd><p>该函数用于解决单个命令名称需要不止一种处理方式的情况，原因可能是该命令名称有多个变体，或者是两个不同命令之间存在名称冲突。
</p>
<p>要运行的命令取自 <code class="t">words</code> 数组的第一个元素，除非被选项 <code class="t">-c</code> 改写。 命令运行后，其输出将与一系列模式进行比较。
要传递给命令的参数可以在所有其他参数之后指定。 要依次尝试的模式由参数 <var class="var">label</var><code class="t">=</code><var class="var">pattern</var> 提供；如果
&lsquo;<var class="var">command</var> <var class="var">arg</var> ...&rsquo; 的输出包含 <var class="var">pattern</var>，那么 <var class="var">label</var>
将被选为命令变量的标签。 如果没有模式匹配，则选择最后的命令标签并返回状态 1。
</p>
<p>如果给出 &lsquo;<code class="t">-b</code> <var class="var">builtin-label</var>&rsquo; 则会测试该命令是否作为 shell
内置命令（可能是自动加载的）提供；如果是，则会选择 <var class="var">builtin-label</var> 作为变量的标签。
</p>
<p>如果给出 &lsquo;<code class="t">-r</code> <var class="var">name</var>&rsquo; ，则选中的 <var class="var">label</var> 将存储在名为 <var class="var">name</var> 的参数中。
</p>
<p>结果也会缓存在 <code class="t">_cmd_variant</code> 关联数组中，该数组以运行命令的名称为索引。
</p>
</dd>
<dt><a id="index-_005fregex_005farguments"></a><span><code class="t">_regex_arguments</code> <var class="var">name</var> <var class="var">spec</var> ...<a class="copiable-link" href="#index-_005fregex_005farguments"> &para;</a></span></dt>
<dd><p>该函数生成一个补全函数 <var class="var">name</var>，该函数与 <var class="var">spec</var>s（如下所述的一组正则表达式）的规范相匹配。 运行
<code class="t">_regex_arguments</code> 后，应将函数 <var class="var">name</var> 作为普通补全函数调用。 要匹配的模式由 <code class="t">words</code>
数组中直到当前光标位置的内容和空字符组成；不使用引号。
</p>
<p>参数以备选方案集的形式分组，中间用 &lsquo;<code class="t">|</code>&rsquo; 隔开，一个接一个地测试，直到有一个匹配为止。
每个备选方案由一个或多个规范组成，从左到右依次测试，每个匹配的模式都会从被测试的命令行中依次剥离，直到该组全部成功或有一个失败为止；在后一种情况下，将测试下一个备选方案。
通过使用括号，这种结构可以重复到任意深度；匹配从内向外进行。
</p>
<p>如果没有测试成功，但剩余的命令行字符串不包含空字符（意味着剩余的单词就是要生成补全的单词），则会应用一个特殊程序。
补全目标仅限于剩余的单词，并执行相应模式的任何 <var class="var">action</var>s 。 在这种情况下，不会从命令行字符串中剥离任何内容。
<var class="var">action</var>s 的计算顺序可以由 <code class="t">tag-order</code> 样式决定；<code class="t">_alternative</code>支持的各种格式都可以在
<var class="var">action</var> 中使用。 <var class="var">descr</var> 用于设置数组参数 <code class="t">expl</code>。
</p>
<p>规范参数有以下几种形式，其中 &lsquo;<code class="t">(</code>&rsquo;, &lsquo;<code class="t">)</code>&rsquo;, &lsquo;<code class="t">#</code>&rsquo; 和 &lsquo;<code class="t">|</code>&rsquo; 等元字符应加引号。
</p>
<dl class="table">
<dt><code class="t">/</code><var class="var">pattern</var><code class="t">/</code> [<code class="t">%</code><var class="var">lookahead</var><code class="t">%</code>] [<code class="t">-</code><var class="var">guard</var>] [<code class="t">:</code><var class="var">tag</var><code class="t">:</code><var class="var">descr</var><code class="t">:</code><var class="var">action</var>]</dt>
<dd><p>这是一个单一的原始组件。 该函数测试组合模式 &lsquo;<code class="t">(#b)((#B)</code><var class="var">pattern</var><code class="t">)</code><var class="var">lookahead</var><code class="t">*</code>&rsquo;
是否与命令行字符串匹配。 如果匹配，将计算 &lsquo;<var class="var">guard</var>&rsquo; ，并检查其返回状态，以确定测试是否成功。 <var class="var">pattern</var> 字符串
&lsquo;<code class="t">[]</code>&rsquo; 保证永远不会匹配。 在检查下一个模式之前，<var class="var">lookahead</var> 不会从命令行中删除。
</p>
<p>以 <code class="t">:</code> 开头的参数的使用方式与 <code class="t">_alternative</code> 的参数相同。
</p>
<p>组件的使用方法如下： 检测 <var class="var">pattern</var> ,以查看组件是否已存在于命令行中。 如果存在，则会检查下面的任何规范，以找到需要补全的内容。
如果找到了一个组件，但命令行中还没有这样的模式，则会使用包含 <var class="var">action</var> 的字符串来生成匹配项，并在此处插入。
</p>
</dd>
<dt><code class="t">/</code><var class="var">pattern</var><code class="t">/+</code> [<code class="t">%</code><var class="var">lookahead</var><code class="t">%</code>] [<code class="t">-</code><var class="var">guard</var>] [<code class="t">:</code><var class="var">tag</var><code class="t">:</code><var class="var">descr</var><code class="t">:</code><var class="var">action</var>]</dt>
<dd><p>这与 &lsquo;<code class="t">/</code><var class="var">pattern</var><code class="t">/</code> ...&rsquo; 类似，但命令行字符串的左侧部分（即已被前面的模式匹配的部分）也被视为补全目标的一部分。
</p>
</dd>
<dt><code class="t">/</code><var class="var">pattern</var><code class="t">/-</code> [<code class="t">%</code><var class="var">lookahead</var><code class="t">%</code>] [<code class="t">-</code><var class="var">guard</var>] [<code class="t">:</code><var class="var">tag</var><code class="t">:</code><var class="var">descr</var><code class="t">:</code><var class="var">action</var>]</dt>
<dd><p>这类似于 &lsquo;<code class="t">/</code><var class="var">pattern</var><code class="t">/</code> ...&rsquo; ，但是当前和先前匹配模式的 <var class="var">action</var>s 会被忽略，即使接下来的
&lsquo;<var class="var">pattern</var>&rsquo; 匹配空字符串。
</p>
</dd>
<dt><code class="t">(</code> <var class="var">spec</var> <code class="t">)</code></dt>
<dd><p>括号可用于对 <var class="var">spec</var>s 进行分组；请注意，每个括号都是 <code class="t">_regex_arguments</code> 的一个参数。
</p>
</dd>
<dt><var class="var">spec</var> <code class="t">#</code></dt>
<dd><p>这允许 <var class="var">spec</var> 有任意次数的重复。
</p>
</dd>
<dt><var class="var">spec</var> <var class="var">spec</var></dt>
<dd><p>如上所述，两个 <var class="var">spec</var> 将相继匹配。
</p>
</dd>
<dt><var class="var">spec</var> <code class="t">|</code> <var class="var">spec</var></dt>
<dd><p>两个 <var class="var">spec</var>s 中的任何一个都可以匹配。
</p>
</dd>
</dl>

<p>函数 <code class="t">_regex_words</code> 可用作辅助函数，为一组备选词语生成匹配结果，这些词语可能带有自己的参数作为命令行参数。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">_regex_arguments _tst /$'[^\0]#\0'/ \ 
    /$'[^\0]#\0'/ :'compadd aaa'
</pre></div>

<p>这会生成一个函数 <code class="t">_tst</code>，该函数的唯一参数是 <code class="t">aaa</code>。 为简洁起见，省略了动作的 <var class="var">tag</var> 和
<var class="var">description</var>（这样做可行，但不建议在正常使用中这样做）。 第一个组件匹配任意的命令字；第二个组件匹配任何参数。
由于参数也是任意的，因此后面的任何组件都不取决于 <code class="t">aaa</code> 是否存在。
</p>
<div class="example">
<pre class="example-preformatted">_regex_arguments _tst /$'[^\0]#\0'/ \ 
    /$'aaa\0'/ :'compadd aaa'
</pre></div>

<p>这是一种更典型的用法；它与此相似，但只有在 <code class="t">aaa</code> 作为第一个参数出现时，才会匹配下面的任何模式。
</p>
<div class="example">
<pre class="example-preformatted">_regex_arguments _tst /$'[^\0]#\0'/ \( \ 
    /$'aaa\0'/ :'compadd aaa' \ 
    /$'bbb\0'/ :'compadd bbb' \) \#
</pre></div>

<p>在本例中，可以补全不确定数量的命令参数。 奇数参数补全为 <code class="t">aaa</code>，偶数参数补全为 <code class="t">bbb</code>。 除非当前参数之前的 <code class="t">aaa</code> 和
<code class="t">bbb</code> 参数集匹配正确，否则补全失败。
</p>
<div class="example">
<pre class="example-preformatted">_regex_arguments _tst /$'[^\0]#\0'/ \ 
    \( /$'aaa\0'/ :'compadd aaa' \| \ 
    /$'bbb\0'/ :'compadd bbb' \) \#
</pre></div>

<p>这一点类似，但 <code class="t">aaa</code> 或 <code class="t">bbb</code> 可以为任意参数补全。 在这种情况下，可以使用 <code class="t">_regex_words</code>
为参数生成合适的表达式。
</p>

</dd>
<dt><a id="index-_005fregex_005fwords-_005b-_002dt-term-_005d"></a><span><code class="t">_regex_words</code> <var class="var">tag</var> <var class="var">description</var> <var class="var">spec</var> ...<a class="copiable-link" href="#index-_005fregex_005fwords-_005b-_002dt-term-_005d"> &para;</a></span></dt>
<dd><p>该函数可用于为 <code class="t">_regex_arguments</code> 命令生成参数，这些参数可插入到任何需要规则集的地方。 <var class="var">tag</var> 和
<var class="var">description</var> 给出了与当前上下文相关的标准标记和描述。 每个 <var class="var">spec</var>
包含两个或三个参数，参数之间用冒号隔开：注意，这里没有前导冒号。
</p>
<p>每个 <var class="var">spec</var> 都给出了此时可能补全的词的集中的一个，和参数一起。 因此，它大致等同于在普通（非 regex）补全中使用的
<code class="t">_arguments</code> 函数。
</p>
<p><var class="var">spec</var> 中第一个冒号之前的部分是要补全的单词。 其中可能包含一个 <code class="t">*</code>；整个单词, 在 <code class="t">*</code> 前后的内容，都会被补全，但只有
<code class="t">*</code> 之前的内容才需要进行上下文匹配，因此在缩写形式之后还可以补全其他参数。
</p>
<p><var class="var">spec</var> 的第二部分是对正在补全的单词的描述。
</p>
<p><var class="var">spec</var> 的第三部分是可选的，它描述了被补全词语后面的词语如何补全。 为了避免引号问题，将对其进行计算。
这意味着它通常包含对一个数组的引用，该数组包含先前生成的正则表达式参数。
</p>
<p>选项 <code class="t">-t</code> <var class="var">term</var> 指定了单词的结束符，而不是通常的空格。这将作为一个可自动删除的后缀来处理，就像 <code class="t">_values</code> 的选项
<code class="t">-s</code> <var class="var">sep</var> 一样。
</p>
<p><code class="t">_regex_words</code> 的处理结果会被放入数组 <code class="t">reply</code>，该数组应为调用函数的本地数组。
如果词组和参数的集可能重复匹配，则应在当前生成的数组中添加 <code class="t">#</code>。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">local -a reply
_regex_words mydb-commands 'mydb commands' \ 
  'add:add an entry to mydb:$mydb_add_cmds' \ 
  'show:show entries in mydb'
_regex_arguments _mydb &quot;$reply[@]&quot;
_mydb &quot;$@&quot;
</pre></div>

<p>这里显示的是命令 <code class="t">mydb</code> 的补全函数，该命令需要两个命令参数：<code class="t">add</code> 和 <code class="t">show</code>。 <code class="t">show</code> 不需要参数，而
<code class="t">add</code> 的参数已经在数组 <code class="t">mydb_add_cmds</code> 中准备好了，很可能是之前调用 <code class="t">_regex_words</code> 时准备的。
</p>
</dd>
<dt><a id="index-_005frequested"></a><span><code class="t">_requested</code> [ <code class="t">-x</code> ] [ <code class="t">-12VJ</code> ] <var class="var">tag</var> [ <var class="var">name</var> <var class="var">descr</var> [ <var class="var">command</var> [ <var class="var">arg</var> ... ] ]<a class="copiable-link" href="#index-_005frequested"> &para;</a></span></dt>
<dd><p>调用此函数是为了判断用户是否请求了 <code class="t">_tags</code>（见下文）中已经注册的标记，并因此需要对其进行补全。 如果该标记被请求，则返回状态 0，否则返回非
0。 该函数通常作为不同标记循环的一部分使用，如下所示：
</p>
<div class="example">
<pre class="example-preformatted">_tags foo bar baz
while _tags; do
  if _requested foo; then
    ... # perform completion for foo
  fi
  ... # test the tags bar and baz in the same way
  ... # exit loop if matches were generated
done
</pre></div>

<p>请注意，在 <code class="t">_tags</code> 循环结束之前，不会对是否生成匹配进行测试。 这样用户就可以设置 <code class="t">tag-order</code> 样式，指定同时补全一组标记。
</p>
<p>如果给出 <var class="var">name</var> 和 <var class="var">descr</var>，<code class="t">_requested</code> 就会调用 <code class="t">_description</code>
函数，其中包含这些参数和传给 <code class="t">_requested</code> 的选项。
</p>
<p>如果给出 <var class="var">command</var>，将立即调用带有相同参数的 <code class="t">_all_labels</code> 函数。
在简单的情况下，这样就可以一次性完成标记测试和匹配。 例如:
</p>
<div class="example">
<pre class="example-preformatted">local expl ret=1
_tags foo bar baz
while _tags; do
  _requested foo expl 'description' \ 
      compadd foobar foobaz &amp;&amp; ret=0
  ...
  (( ret )) || break
done
</pre></div>

<p>如果 <var class="var">command</var> 不是 <code class="t">comppadd</code>，则必须准备处理相同的选项。
</p>
</dd>
<dt><a id="index-_005fretrieve_005fcache"></a><span><code class="t">_retrieve_cache</code> <var class="var">cache_identifier</var><a class="copiable-link" href="#index-_005fretrieve_005fcache"> &para;</a></span></dt>
<dd><p>此函数从 <var class="var">cache_identifier</var> 指定的文件中获取补全信息，该文件存储在 <code class="t">cache-path</code> 样式指定的目录中，默认为
<code class="t">~/.zcompcache</code>。 如果检索成功，返回状态为零。 只有设置了 <code class="t">use-cache</code>
样式，才会尝试检索，因此调用此函数时无需担心用户是否希望使用缓存层。
</p>
<p>更多详情，请参阅下面的 <code class="t">_store_cache</code>。
</p>
</dd>
<dt><a id="index-_005fsep_005fparts"></a><span><code class="t">_sep_parts</code><a class="copiable-link" href="#index-_005fsep_005fparts"> &para;</a></span></dt>
<dd><p>该函数的参数是交替传递的数组和分隔符。 数组指定由分隔符分隔的字符串部分的补全。 数组可以是数组参数的名称，也可以是括号中的加引号单词的列表。
例如，使用数组 &lsquo;<code class="t">hosts=(ftp news)</code>&rsquo; 调用 &lsquo;<code class="t">_sep_parts '(foo bar)' @ hosts</code>&rsquo;
将把字符串 &lsquo;<code class="t">f</code>&rsquo; 补全为 &lsquo;<code class="t">foo</code>&rsquo; ，把字符串 &lsquo;<code class="t">b@n</code>&rsquo; 补全为 &lsquo;<code class="t">bar@news</code>&rsquo;。
</p>
<p>该函数接受 <code class="t">compadd</code>选项 &lsquo;<code class="t">-V</code>&rsquo;, &lsquo;<code class="t">-J</code>&rsquo;, &lsquo;<code class="t">-1</code>&rsquo;, &lsquo;<code class="t">-2</code>&rsquo;, &lsquo;<code class="t">-n</code>&rsquo;,
&lsquo;<code class="t">-X</code>&rsquo;, &lsquo;<code class="t">-M</code>&rsquo;, &lsquo;<code class="t">-P</code>&rsquo;, &lsquo;<code class="t">-S</code>&rsquo;, &lsquo;<code class="t">-r</code>&rsquo;, &lsquo;<code class="t">-R</code>&rsquo; 和 &lsquo;<code class="t">-q</code>&rsquo;
，并将它们传递给用于添加匹配的 <code class="t">compadd</code> 内置命令。
</p>
</dd>
<dt><a id="index-_005fsequence"></a><span><code class="t">_sequence</code> [ <code class="t">-s</code> <var class="var">sep</var> ] [ <code class="t">-n</code> <var class="var">max</var> ] [ <code class="t">-d</code> ] <var class="var">function</var> [ <code class="t">-</code> ] ...<a class="copiable-link" href="#index-_005fsequence"> &para;</a></span></dt>
<dd><p>该函数是其他函数的包装器，用于补全分隔列表中的项目。同一个函数用于补全列表中的每个项目。分隔符用 <code class="t">-s</code> 选项指定。如果省略 <code class="t">-s</code>，将使用
&lsquo;<code class="t">,</code>&rsquo;。除非指定 <code class="t">-d</code>，否则不会匹配重复值。如果列表中有固定或最多的条目数，可以使用 <code class="t">-n</code> 选项来指定。
</p>
<p>常用的 <code class="t">compadd</code> 选项会传递给函数。<code class="t">compadd</code> 也可以直接与 <code class="t">_sequence</code> 搭配使用，不过
<code class="t">_values</code> 在这种情况下可能更合适。
</p>
</dd>
<dt><a id="index-_005fsetup"></a><span><code class="t">_setup</code> <var class="var">tag</var> [ <var class="var">group</var> ]<a class="copiable-link" href="#index-_005fsetup"> &para;</a></span></dt>
<dd><p>此函数为第一个参数 <var class="var">tag</var> 适当设置补全系统使用的特殊参数。 它使用
<code class="t">list-colors</code>、<code class="t">list-packed</code>、<code class="t">list-rows-first</code>、<code class="t">last-prompt</code>、<code class="t">accept-exact</code>、<code class="t">menu</code>
和 <code class="t">force-list</code> 样式。
</p>
<p>可选的 <var class="var">group</var> 提供匹配结果所在的组名。 如果没有给出，则使用 <var class="var">tag</var> 作为组名。
</p>
<p>该函数由 <code class="t">_description</code> 自动调用，因此通常不会明确调用。
</p>
</dd>
<dt><a id="index-_005fstore_005fcache"></a><span><code class="t">_store_cache</code> <var class="var">cache_identifier</var> <var class="var">param</var> ...<a class="copiable-link" href="#index-_005fstore_005fcache"> &para;</a></span></dt>
<dd><p>该函数与 <code class="t">_retrieve_cache</code> 和 <code class="t">_cache_invalid</code> 一起实现了一个缓存层，可用于任何补全函数。
通过代价高昂的操作获得的数据存储在参数中；然后，该函数会将这些参数的值转储到一个文件中。 然后，即使在 shell 的不同实例中，也可以通过
<code class="t">_retrieve_cache</code> 从文件中快速检索数据。
</p>
<p><var class="var">cache_identifier</var> 指定了要转储数据的文件。 文件存储在 <code class="t">cache-path</code> 样式指定的目录中，默认为
<code class="t">~/.zcompcache</code>。 其余 <var class="var">param</var>s 参数是要转储到文件中的参数。
</p>
<p>如果存储成功，返回状态为零。 只有设置了 <code class="t">use-cache</code> 样式，函数才会尝试存储，因此可以调用该函数，而不必担心用户是否希望使用缓存层。
</p>
<p>当补全函数已经有了作为参数的补全数据时，它可能会避免调用 <code class="t">_retrieve_cache</code>。 不过，在这种情况下，它应该调用
<code class="t">_cache_invalid</code> 来检查参数和缓存中的数据是否仍然有效。
</p>
<p>有关缓存层用法的简单示例，请参见 _perl_modules completion 函数。
</p>
</dd>
<dt><a id="index-_005ftags"></a><span><code class="t">_tags</code> [ [ <code class="t">-C</code> <var class="var">name</var> ] <var class="var">tag</var> ... ]<a class="copiable-link" href="#index-_005ftags"> &para;</a></span></dt>
<dd><p>如果调用时带有参数，这些参数将被视为当前上下文中有效的补全标记名称。 这些标记将存储在内部，并使用 <code class="t">tag-order</code> 样式进行排序。
</p>
<p>接下来，<code class="t">_tags</code> 会在不带参数的情况下被同一个补全函数反复调用。 这将依次选择用户请求的第一、第二等标记的集。
如果至少有一个标记被请求，则返回状态为 0，否则为非 0。 要测试是否要尝试某个标记，应调用 <code class="t">_requested</code> 函数（见上文）。
</p>
<p>如果给出 &lsquo;<code class="t">-C</code> <var class="var">name</var>&rsquo; , 则 <var class="var">name</var> 会在调用 <code class="t">_tags</code> 时暂时保存在 <code class="t">curcontext</code>
参数中上下文的 <var class="var">argument</var> 字段（第五字段）中；退出时会恢复该字段。 这样，<code class="t">_tags</code>
就可以使用更具体的上下文，而无需更改和重置 <code class="t">curcontext</code> 参数（这有相同效果）。
</p>
</dd>
<dt><a id="index-_005ftilde_005ffiles"></a><span><code class="t">_tilde_files</code><a class="copiable-link" href="#index-_005ftilde_005ffiles"> &para;</a></span></dt>
<dd><p>与 <code class="t">_files</code>类似，但会根据文件名扩展规则解决前导 tildes 问题，因此即使命令行上的文件名以 &lsquo;<code class="t">~</code>&rsquo; 开头，建议的补全也不会以
&lsquo;<code class="t">~</code>&rsquo; 开头。
</p>
</dd>
<dt><a id="index-_005fvalues"></a><span><code class="t">_values</code> [ <code class="t">-O</code> <var class="var">name</var> ] [ <code class="t">-s</code> <var class="var">sep</var> ] [ <code class="t">-S</code> <var class="var">sep</var> ] [ <code class="t">-wC</code> ] <var class="var">desc</var> <var class="var">spec</var> ...<a class="copiable-link" href="#index-_005fvalues"> &para;</a></span></dt>
<dd><p>用于补全任意关键字（值）及其参数，或此类组合的列表。
</p>
<p>如果第一个参数是选项 &lsquo;<code class="t">-O</code> <var class="var">name</var>&rsquo;，其使用方式将与 <code class="t">_arguments</code> 函数相同。
换句话说，在执行操作时，<var class="var">name</var> 数组中的元素将传递给 <code class="t">compadd</code>。
</p>
<p>如果第一个参数（或 &lsquo;<code class="t">-O</code> <var class="var">name</var>&rsquo; 后的第一个参数）是 &lsquo;<code class="t">-s</code>&rsquo;，则下一个参数将作为分隔多个值的字符。
该字符会以自动可删除的方式（见下文）自动添加到每个值之后；与使用 <code class="t">_arguments</code> 的补全方式不同，所有通过 &lsquo;<code class="t">_values
-s</code>&rsquo; 补全的值在命令行中都显示为同一个单词。 如果不使用该选项，每个单词将只补全一个值。
</p>
<p>通常情况下，<code class="t">_values</code> 只使用当前单词来确定哪些值已经存在于命令行中，因此不需要再次补全。 如果给出 <code class="t">-w</code>
选项，其他参数也会被检查。
</p>
<p>第一个非选项参数 <var class="var">desc</var> 用作为一个字符串，在列出值之前作为描述打印。
</p>
<p>所有其他参数描述可能的值及其参数的格式与 <code class="t">_arguments</code> 函数描述选项的格式相同（见上文）。
唯一不同的是，开头不需要负号或正号，值只能有一个参数，并且不支持以等号开头的操作形式。
</p>
<p>通过选项 <code class="t">-S</code>（类似于
<code class="t">-s</code>，后面跟着用作下一个参数分隔符的字符），可以设置字符,将值与其参数分隔开。默认情况下，等号将被用作值和参数之间的分隔符。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">_values -s , 'description' \ 
        '*foo[bar]' \ 
        '(two)*one[number]:first count:' \ 
        'two[another number]::second count:(1 2 3)'
</pre></div>

<p>这描述了三种可能的值： &lsquo;<code class="t">foo</code>&rsquo;, &lsquo;<code class="t">one</code>&rsquo; 和 &lsquo;<code class="t">two</code>&rsquo;。 第一个值被描述为
&lsquo;<code class="t">bar</code>&rsquo;，不需要参数，可能出现多次。 第二个描述为&lsquo;<code class="t">number</code>&rsquo;，可能出现不止一次，需要一个强制参数，描述为&lsquo;<code class="t">first
count</code>&rsquo;；没有指定操作，因此不会补全。 开头的 &lsquo;<code class="t">(two)</code>&rsquo; 表示，如果该行出现了值&lsquo;<code class="t">one</code>&rsquo; ，那么值 &lsquo;<code class="t">two</code>&rsquo;
将不再被视为可能的补全。 最后，最后一个值（&lsquo;<code class="t">two</code>&rsquo;）被描述为 &lsquo;<code class="t">another number</code>&rsquo; ，并接受一个被描述为
&lsquo;<code class="t">second count</code>&rsquo; 的可选参数，其补全（将出现在 &lsquo;<code class="t">=</code>&rsquo; 之后）为 &lsquo;<code class="t">1</code>&rsquo;, &lsquo;<code class="t">2</code>&rsquo; 和 &lsquo;<code class="t">3</code>&rsquo;。
<code class="t">_values</code> 函数将补全由逗号分隔的这些值组成的列表。
</p>
<p>与 <code class="t">_arguments</code>一样，该函数在执行 <var class="var">action</var> 时也会在当前上下文的参数元素（第五个）中临时添加另一个上下文名称组件。
这里这个名称只是补全参数的值的名称。
</p>
<p><code class="t">verbose</code> 样式用于决定是否打印值的说明（但不打印参数的说明）。
</p>
<p>关联数组 <code class="t">val_args</code> 用于报告值及其参数；其工作方式与 <code class="t">_arguments</code> 使用的 <code class="t">opt_args</code> 关联数组类似。
因此，调用 <code class="t">_values</code> 的函数应声明本地参数 <code class="t">state</code>、<code class="t">state_descr</code>、<code class="t">line</code>、<code class="t">context</code>
和 <code class="t">val_args</code>：
</p>
<div class="example">
<pre class="example-preformatted">local context state state_descr line
typeset -A val_args
</pre></div>

<p>当使用形式为 &lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo; 的操作时。 使用此函数时，<code class="t">context</code> 参数将被设置为要补全的值的名称。 请注意，对于
<code class="t">_values</code>，<code class="t">state</code> 和 <code class="t">state_descr</code> 是标量而不是数组。 只会返回一个匹配的状态。
</p>
<p>还需注意的是，<code class="t">_values</code> 通常会在值之间添加分隔符，作为自动删除的后缀（类似于目录后的 &lsquo;<code class="t">/</code>&rsquo;）。 但是，
&lsquo;<code class="t">-&gt;</code><var class="var">string</var>&rsquo; 操作不可能这样做，因为参数的匹配是通过调用函数生成的。 要获得通常的行为，调用函数可以通过直接或间接传递选项
&lsquo;<code class="t">-qS</code> <var class="var">x</var>&rsquo; 给 <code class="t">compadd</code>，以添加分隔符 <var class="var">x</var> 作为后缀。
</p>
<p>选项 <code class="t">-C</code> 的处理方式与 <code class="t">_arguments</code> 相同。 在这种情况下，应将参数 <code class="t">curcontext</code> 本地化，而不是
<code class="t">context</code>（如上所述）。
</p>
</dd>
<dt><a id="index-_005fwanted"></a><span><code class="t">_wanted</code> [ <code class="t">-x</code> ] [ <code class="t">-C</code> <var class="var">name</var> ]  [ <code class="t">-12VJ</code> ] <var class="var">tag</var> <var class="var">name</var> <var class="var">descr</var> <var class="var">command</var> [ <var class="var">arg</var> ...]<a class="copiable-link" href="#index-_005fwanted"> &para;</a></span></dt>
<dd><p>在许多情况下，补全只能生成一个特定的匹配集，通常对应于一个标记。 但是，仍有必要确定用户是否需要这种类型的匹配。 在这种情况下，该函数就非常有用。
</p>
<p><code class="t">_wanted</code> 的参数与 <code class="t">_requested</code> 的参数相同，即传递给 <code class="t">_description</code> 的参数。
不过，在这种情况下，<var class="var">command</var> 并非可选参数；所有的标记处理，包括标记和标记标签上的循环以及匹配结果的生成，都由 <code class="t">_wanted</code>
自动完成。
</p>
<p>因此，只提供一个标记，并立即添加与给定描述相对应的匹配项：
</p>
<div class="example">
<pre class="example-preformatted">local expl
_wanted tag expl 'description' \ 
    compadd -- <var class="var">match1</var> <var class="var">match2</var>...
</pre></div>

<p>另请参阅 <a class="ref" href="#g_t_52a8_6001_547d_540d_76ee_5f55">动态命名目录</a> 示例函数中 <code class="t">_wanted</code> 的使用。
</p>
<p>需要注意的是，与 <code class="t">_requested</code> 一样，<var class="var">command</var> 必须能够接受向 <code class="t">compadd</code> 传递的选项。
</p>
<p>与 <code class="t">_tags</code> 一样，该函数支持 <code class="t">-C</code> 选项，以便为参数上下文字段赋予不同的名称。 <code class="t">-x</code> 选项的含义与
<code class="t">_description</code> 相同。
</p>
</dd>
<dt><a id="index-_005fwidgets"></a><span><code class="t">_widgets</code> [ <code class="t">-g</code> <var class="var">pattern</var> ]<a class="copiable-link" href="#index-_005fwidgets"> &para;</a></span></dt>
<dd><p>此函数补全 zle 小部件的名称（参见 <a class="ref" href="#Zle-_5c0f_90e8_4ef6">Zle 小部件</a>）。 如果存在 <var class="var">pattern</var>，则将与 <code class="t">$widgets</code>
特殊参数的值进行匹配，该特殊参数在 <a class="ref" href="#zsh_002fzleparameter-_6a21_5757">zsh/zleparameter 模块</a> 中进行了记录。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_7cfb_7edf_53d8_91cf">

<h3 class="section" id="Bu-Quan-Xi-Tong-Bian-Liang-"><span>20.7 补全系统变量<a class="copiable-link" href="#Bu-Quan-Xi-Tong-Bian-Liang-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Bian-Liang-"></a>

<p>有一些标准变量，由 <code class="t">_main_complete</code> 函数初始化，然后在其他函数中使用。
</p>
<p>标准变量是：
</p>
<dl class="table">
<dt><code class="t">_comp_caller_options</code></dt>
<dd><p>补全系统使用 <code class="t">setopt</code>
来设置一系列选项。这样，在编写函数时就无需考虑是否与所有可能的用户选项组合兼容。不过，有时补全需要知道用户的选项偏好。这些选项保存在
<code class="t">_comp_caller_options</code> 关联数组中。选项名称以小写字母拼写，不含下划线，并映射到字符串 &lsquo;<code class="t">on</code>&rsquo; 和
&lsquo;<code class="t">off</code>&rsquo; 中的一个或多个。
</p>
</dd>
<dt><code class="t">_comp_priv_prefix</code></dt>
<dd><p><code class="t">_sudo</code> 等补全函数可将 <code class="t">_comp_priv_prefix</code> 数组设置为命令前缀，然后 <code class="t">_call_program</code>
在调用程序时可使用该命令前缀来匹配权限，从而生成匹配结果。
</p>
</dd>
</dl>

<a class="index-entry-id" id="index-compprefuncs_002c-use-of"></a>
<a class="index-entry-id" id="index-comppostfuncs_002c-use-of"></a>
<p><code class="t">_main_complete</code> 函数还提供了另外两个功能。 数组 <code class="t">compprefuncs</code> 和 <code class="t">comppostfuncs</code>
可以包含在尝试补全之前或之后要立即调用的函数名称。 除非函数明确重新插入数组，否则只会被调用一次。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_8865_5168_76ee_5f55">

<h3 class="section" id="Bu-Quan-Mu-Lu-"><span>20.8 补全目录<a class="copiable-link" href="#Bu-Quan-Mu-Lu-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Bu-Quan-Xi-Tong-_002c-Mu-Lu-Jie-Gou-"></a>

<p>在源代码发布版中，这些文件包含在 <code class="t">Completion</code> 目录的各个子目录中。 这些文件可能安装在同一结构中，也可能安装在同一个函数目录中。
以下是原始目录结构中文件的说明。 如果要修改已安装的文件，需要将其复制到 <code class="t">fpath</code> 中比标准目录更靠前的目录。
</p>
<dl class="table">
<dt><code class="t">Base</code></dt>
<dd><p>核心函数和特殊补全小部件会自动绑定到按键上。 您肯定会用到其中的大部分，但可能不需要对它们进行修改。 其中许多已在上文记录。
</p>
</dd>
<dt><code class="t">Zsh</code></dt>
<dd><p>用于补全 shell 内置命令参数的函数，以及用于此的实用函数。 <code class="t">Unix</code> 目录中的函数也会使用其中的一些函数。
</p>
</dd>
<dt><code class="t">Unix</code></dt>
<dd><p>用于补全外部命令和命令集参数的函数。 这些函数可能需要针对系统进行修改，不过在许多情况下，它们会尝试判断命令的版本。 例如，<code class="t">mount</code>
命令的补全会尝试确定该命令所运行的系统，而许多其他实用程序的补全则会尝试确定该命令是否使用了 GNU 版本，从而确定是否支持
<code class="t">-</code><code class="t">-help</code> 选项。
</p>
</dd>
<dt><code class="t">X</code>, <code class="t">AIX</code>, <code class="t">BSD</code>, ...</dt>
<dd><p>补全和实用函数，用于仅在某些系统上可用的命令。 这些目录并不是按层次排列的，因此，例如 <code class="t">Linux</code> 和 <code class="t">Debian</code> 目录以及
<code class="t">X</code> 目录都可能对你的系统有用。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_7528-compctl-_8865_5168">

<h2 class="chapter" id="Yong-compctl-Bu-Quan-"><span>21 用 compctl 补全<a class="copiable-link" href="#Yong-compctl-Bu-Quan-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Ke-Bian-Cheng--2"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Kong-Zhi--2"></a>

<div class="section-level-extent" id="Bu-Quan-De-Lei-Xing-">
<h3 class="section"><span>21.1 补全的类型<a class="copiable-link" href="#Bu-Quan-De-Lei-Xing-"> &para;</a></span></h3>
<p>此版本的 zsh 有两种方法来补全命令行上的单词。 shell 的新用户可能更倾向于使用基于 shell
函数的更新、更强大的系统；<a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a>将对此进行介绍，而支持该系统的基本 shell 机制将在 <a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>中进行介绍。
本章将介绍较旧的 <code class="t">compctl</code> 命令。
</p>
</div>
<div class="section-level-extent" id="Shuo-Ming--4">
<h3 class="section"><span>21.2 说明<a class="copiable-link" href="#Shuo-Ming--4"> &para;</a></span></h3>
<a class="index-entry-id" id="index-compctl"></a>

<dl class="table">
<dt><code class="t">compctl</code> [ <code class="t">-CDT</code> ] <var class="var">options</var> [ <var class="var">command</var> ... ]</dt>
<dt><code class="t">compctl </code>[ <code class="t">-CDT</code> ] <var class="var">options</var> [ <code class="t">-x</code> <var class="var">pattern</var> <var class="var">options</var> <code class="t">-</code> ... <code class="t">-</code><code class="t">-</code> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">+</code> <var class="var">options</var> [ <code class="t">-x</code> ... <code class="t">-</code><code class="t">-</code> ] ... [<code class="t">+</code>] ] [ <var class="var">command</var> ... ]</dt>
<dt><code class="t">compctl</code> <code class="t">-M</code> <var class="var">match-specs</var> ...</dt>
<dt><code class="t">compctl</code> <code class="t">-L</code> [ <code class="t">-CDTM</code> ] [ <var class="var">command</var> ... ]</dt>
<dt><code class="t">compctl</code> <code class="t">+</code> <var class="var">command</var> ...</dt>
</dl>
<br>

<p>根据提供的 <var class="var">options</var> 集来控制编辑器的补全行为。 各种编辑命令，特别是通常与 tab 绑定的
<code class="t">expand-or-complete-word</code>，会尝试补全用户键入的单词，而其他命令，特别是在 EMACS 编辑模式下通常与 ^D 绑定的
<code class="t">delete-char-or-list</code>，则会列出各种可能性；<code class="t">compctl</code> 控制这些可能性是什么。
例如，它们可以是文件名（最常见的情况，因此也是默认情况）、shell 变量或用户指定列表中的单词。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_547d_4ee4_6807_5fd7">

<h3 class="section" id="Ming-Ling-Biao-Zhi-"><span>21.3 命令标志<a class="copiable-link" href="#Ming-Ling-Biao-Zhi-"> &para;</a></span></h3>
<p>命令参数的补全可以因命令而异，也可以使用默认值。补全命令字本身时的行为也可以单独指定。
这些与下列标志和参数相对应，所有这些标志和参数（<code class="t">-L</code>除外）都可以与随后在 <a class="ref" href="#g_t_9009_9879_6807_5fd7">选项标志</a> 中描述的 <var class="var">options</var>
的任意组合结合使用：
</p>
<dl class="table">
<dt><var class="var">command</var> ...</dt>
<dd><p>控制已命名命令的补全，这些命令必须列在命令行的最后。 如果对路径名包含斜线的命令尝试补全，但未找到补全定义，则使用最后一个路径名组件重试搜索。如果命令以
<code class="t">=</code> 开头，则以命令的路径名尝试补全。
</p>
<p>任何 <var class="var">command</var> 字符串都可以是通常用于生成文件名的模式。这些命令应加引号，以防止被立即扩展；  例如，命令字符串 <code class="t">'foo*'</code>
用于补全以 <code class="t">foo</code> 开头的命令。 在尝试补全时，所有模式的补全都会按其定义的相反顺序进行，直到有一个匹配为止。
默认情况下，补全将按正常方式进行，即 shell 将尝试为命令行上的特定命令生成更多匹配项；可以通过在模式补全的标志中包含 <code class="t">-tn</code>
来覆盖该操作。
</p>
<p>请注意，除非设置了 <code class="t">COMPLETE_ALIASES</code> 选项，否则别名会在确定命令名之前展开。 命令不得与 <code class="t">-C</code>、<code class="t">-D</code> 或
<code class="t">-T</code> 标志结合使用。
</p>
</dd>
<dt><code class="t">-C</code></dt>
<dd><p>在命令字本身正在补全时控制补全。 如果没有发出 <code class="t">compctl -C</code> 命令，则会补全任何可执行命令的名称（无论是路径中的还是 shell
特有的，如别名或函数）。
</p>
</dd>
<dt><code class="t">-D</code></dt>
<dd><p>控制未指定特殊行为的命令参数的默认补全行为。 如果没有发出 <code class="t">compctl -D</code> 命令，文件名将被补全。
</p>
</dd>
<dt><code class="t">-T</code></dt>
<dd><p>提供补全标志，在进行其他处理之前使用，甚至在处理为特定命令定义的 <code class="t">compctl</code>s 之前使用。 当与扩展补全（<code class="t">-x</code> 标志，见下文
<a class="ref" href="#g_t_6269_5c55_8865_5168">扩展补全</a>）结合使用时，这一点尤其有用。 使用该标志，你可以定义适用于所有命令的默认行为，或者改变所有命令的标准行为。
例如，如果访问用户数据库的速度太慢和/或数据库中包含的用户太多（因此 &lsquo;<code class="t">~</code>&rsquo; 后的补全速度太慢，无法使用），可以使用
</p>
<div class="example">
<pre class="example-preformatted">compctl -T -x 's[~] C[0,[^/]#]' -k friends -S/ -tn
</pre></div>

<p>以在 &lsquo;<code class="t">~</code>&rsquo; 之后补全数组 <code class="t">friends</code> 中的字符串。 <code class="t">C[</code><var class="var">...</var><code class="t">]</code> 参数是必要的，这样,
<code class="t">~</code>-补全，这种形式就不会在目录名完成后再尝试。
</p>
</dd>
<dt><code class="t">-L</code></dt>
<dd><p>以适合放入启动脚本的方式列出现有的补全行为；现有行为不会改变。 可以指定上述形式的任意组合,或指定 <code class="t">-M</code> 标志（必须在 <code class="t">-L</code>
标志之后），否则将列出所有已定义的补全。 其他任何标志都将被忽略。
</p>
</dd>
<dt><em class="emph">没有参数</em></dt>
<dd><p>如果没有给出参数，<code class="t">compctl</code> 会以缩写形式列出所有已定义的补全；如果给出 <var class="var">options</var>
的列表，则会列出所有设置了这些标志集的补全（不包括扩展补全）。
</p>
</dd>
</dl>

<p>如果只使用 <code class="t">+</code> 标志，且紧接着使用 <var class="var">command</var> 列表，则列表中所有命令的补全行为都将重置为默认。 换句话说，补全随后将使用
<code class="t">-D</code> 标志指定的选项。
</p>
<p>以 <code class="t">-M</code> 为第一个也是唯一选项的形式定义了全局匹配规范（参见 <a class="ref" href="#g_t_8865_5168_5339_914d_63a7_5236">补全匹配控制</a>）。所给出的匹配规范将用于每次补全尝试（仅在使用
<code class="t">compctl</code> 时，新补全系统不使用），并按照定义的顺序进行尝试，直到产生至少一个匹配。例如
</p>
<div class="example">
<pre class="example-preformatted">compctl -M '' 'm:{a-zA-Z}={A-Za-z}'
</pre></div>

<p>这将先尝试不包含任何全局匹配规范（空字符串）的补全，如果没有匹配结果，将尝试不区分大小写的补全。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_9009_9879_6807_5fd7">

<h3 class="section" id="Xuan-Xiang-Biao-Zhi-"><span>21.4 选项标志<a class="copiable-link" href="#Xuan-Xiang-Biao-Zhi-"> &para;</a></span></h3>
<dl class="table">
<dt>[ <code class="t">-fcFBdeaRGovNAIOPZEnbjrzu/12</code> ]</dt>
<dt>[ <code class="t">-k</code> <var class="var">array</var> ] [ <code class="t">-g</code> <var class="var">globstring</var> ] [ <code class="t">-s</code> <var class="var">subststring</var> ]</dt>
<dt>[ <code class="t">-K</code> <var class="var">function</var> ]</dt>
<dt>[ <code class="t">-Q</code> ] [ <code class="t">-P</code> <var class="var">prefix</var> ] [ <code class="t">-S</code> <var class="var">suffix</var> ]</dt>
<dt>[ <code class="t">-W</code> <var class="var">file-prefix</var> ] [ <code class="t">-H</code> <var class="var">num pattern</var> ]</dt>
<dt>[ <code class="t">-q</code> ] [ <code class="t">-X</code> <var class="var">explanation</var> ] [ <code class="t">-Y</code> <var class="var">explanation</var> ]</dt>
<dt>[ <code class="t">-y</code> <var class="var">func-or-var</var> ] [ <code class="t">-l</code> <var class="var">cmd</var> ] [ <code class="t">-h</code> <var class="var">cmd</var> ] [ <code class="t">-U</code> ]</dt>
<dt>[ <code class="t">-t</code> <var class="var">continue</var> ] [ <code class="t">-J</code> <var class="var">name</var> ] [ <code class="t">-V</code> <var class="var">name</var> ]</dt>
<dt>[ <code class="t">-M</code> <var class="var">match-spec</var> ]</dt>
</dl>
<br>

<p>其余的 <var class="var">options</var> 则指定在补全过程中要查找的命令参数类型。 可以指定这些标志的任意组合；结果是一个包含所有可能性的排序列表。
选项如下。
</p>
<hr>
<div class="subsection-level-extent" id="g_t_7b80_5355_6807_5fd7">

<h4 class="subsection" id="Jian-Dan-Biao-Zhi-"><span>21.4.1 简单标志<a class="copiable-link" href="#Jian-Dan-Biao-Zhi-"> &para;</a></span></h4>
<p>这将产生由 shell 本身编制的补全列表：
</p>
<dl class="table">
<dt><code class="t">-f</code></dt>
<dd><p>文件名和文件系统路径。
</p>
</dd>
<dt><code class="t">-/</code></dt>
<dd><p>只是文件系统路径。
</p>
</dd>
<dt><code class="t">-c</code></dt>
<dd><p>命令名称，包括别名、shell 函数、内置命令和保留字。
</p>
</dd>
<dt><code class="t">-F</code></dt>
<dd><p>函数名。
</p>
</dd>
<dt><code class="t">-B</code></dt>
<dd><p>内置命令名。
</p>
</dd>
<dt><code class="t">-m</code></dt>
<dd><p>外部命令名。
</p>
</dd>
<dt><code class="t">-w</code></dt>
<dd><p>保留字。
</p>
</dd>
<dt><code class="t">-a</code></dt>
<dd><p>别名。
</p>
</dd>
<dt><code class="t">-R</code></dt>
<dd><p>普通（非全局）别名。
</p>
</dd>
<dt><code class="t">-G</code></dt>
<dd><p>全局别名。
</p>
</dd>
<dt><code class="t">-d</code></dt>
<dd><p>可与 <code class="t">-F</code>、<code class="t">-B</code>、<code class="t">-w</code>、<code class="t">-a</code>、<code class="t">-R</code> 和 <code class="t">-G</code> 结合使用，以获取禁用的函数、内置命令、保留字或别名的名称。
</p>
</dd>
<dt><code class="t">-e</code></dt>
<dd><p>该选项（显示已启用的命令）默认有效，但可与 <code class="t">-d</code> 结合使用；<code class="t">-de</code> 与
<code class="t">-F</code>、<code class="t">-B</code>、<code class="t">-w</code>、<code class="t">-a</code>、<code class="t">-R</code> 和 <code class="t">-G</code>
结合使用时，将补全函数、内置程序、保留字或别名的名称，无论它们是否被禁用。
</p>
</dd>
<dt><code class="t">-o</code></dt>
<dd><p>shell 选项的名称（参见 <a class="ref" href="#g_t_9009_9879">选项</a>）。
</p>
</dd>
<dt><code class="t">-v</code></dt>
<dd><p>shell 中定义的任何变量的名称。
</p>
</dd>
<dt><code class="t">-N</code></dt>
<dd><p>标量（非数组）参数的名称。
</p>
</dd>
<dt><code class="t">-A</code></dt>
<dd><p>数组名。
</p>
</dd>
<dt><code class="t">-I</code></dt>
<dd><p>整型变量名。
</p>
</dd>
<dt><code class="t">-O</code></dt>
<dd><p>只读变量名。
</p>
</dd>
<dt><code class="t">-p</code></dt>
<dd><p>shell 使用的参数名称（包括特殊参数）。
</p>
</dd>
<dt><code class="t">-Z</code></dt>
<dd><p>shell 特殊参数名。
</p>
</dd>
<dt><code class="t">-E</code></dt>
<dd><p>环境变量名。
</p>
</dd>
<dt><code class="t">-n</code></dt>
<dd><p>命名的目录。
</p>
</dd>
<dt><code class="t">-b</code></dt>
<dd><p>键绑定名。
</p>
</dd>
<dt><code class="t">-j</code></dt>
<dd><p>作业名称：作业负责人(job leader&rsquo;s)命令行的第一个单词。 这对 <code class="t">kill</code> 内置程序很有用。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>运行中作业的名称。
</p>
</dd>
<dt><code class="t">-z</code></dt>
<dd><p>暂停作业的名称。
</p>
</dd>
<dt><code class="t">-u</code></dt>
<dd><p>用户名。
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="g_t_5e26_53c2_6570_7684_6807_5fd7">

<h4 class="subsection" id="Dai-Can-Shu-De-Biao-Zhi-"><span>21.4.2 带参数的标志<a class="copiable-link" href="#Dai-Can-Shu-De-Biao-Zhi-"> &para;</a></span></h4>
<p>这些参数由用户提供，用于确定如何组成补全列表：
</p>
<dl class="table">
<dt><code class="t">-k</code> <var class="var">array</var></dt>
<dd><p>取自 <code class="t">$</code><var class="var">array</var> 元素的名称（注意， &lsquo;<code class="t">$</code>&rsquo; 不会出现在命令行中）。 或者，参数 <var class="var">array</var>
本身可以是一个用空格或逗号分隔的值的集，放在括号中，其中的任何分隔符都可以用反斜杠转义；在这种情况下，参数应加引号。 例如，
</p>
<div class="example">
<pre class="example-preformatted">compctl -k &quot;(cputime filesize datasize stacksize
	       coredumpsize resident descriptors)&quot; limit
</pre></div>

</dd>
<dt><code class="t">-g</code> <var class="var">globstring</var></dt>
<dd><p><var class="var">globstring</var> 使用文件名 globbing 扩展；应加引号以防止立即扩展。生成的文件名将作为可能的补全。 对于目录，请使用
&lsquo;<code class="t">*(/)</code>&rsquo; 而不是 &lsquo;<code class="t">*/</code>&rsquo; 。 <code class="t">fignore</code> 特殊参数不适用于生成的文件。 可以使用空格分隔多个模式。(请注意，括号扩展
<em class="emph">不是</em> globbing 的一部分。 使用语法 &lsquo;<code class="t">(either|or)</code>&rsquo; 可以匹配其他模式）。
</p>
</dd>
<dt><code class="t">-s</code> <var class="var">subststring</var></dt>
<dd><p><var class="var">subststring</var> 会被分割成单词，然后使用所有 shell 扩展机制（参见 <a class="ref" href="#g_t_6269_5c55">扩展</a>）对这些单词进行扩展。
生成的单词将作为可能的补全。 <code class="t">fignore</code> 特殊参数不会应用于生成文件。 请注意，<code class="t">-g</code> 对文件名的处理速度更快。
</p>
</dd>
<dt><a id="index-reply_002c-use-of-2"></a><span><code class="t">-K</code> <var class="var">function</var><a class="copiable-link" href="#index-reply_002c-use-of-2"> &para;</a></span></dt>
<dd><p>调用给定函数获取补全。 除非函数名以下划线开头，否则函数会传入两个参数：要补全的单词的前缀和后缀，换句话说，就是光标位置之前的字符和光标位置之后的字符。
可以使用 <code class="t">read</code> 内置函数的 <code class="t">-c</code> 和 <code class="t">-l</code> 标志访问整个命令行。函数应将变量 <code class="t">reply</code>
设置为包含补全信息的数组（每个元素一个补全信息）；注意 <code class="t">reply</code> 不应设置为函数的局部变量。 在这样的函数中，可以使用 <code class="t">read</code>
内置函数的 <code class="t">-c</code> 和 <code class="t">-l</code> 标志访问的命令行。 例如，
</p>
<div class="example">
<pre class="example-preformatted">function whoson { reply=(`users`); }
compctl -K whoson talk
</pre></div>

<p>在 &lsquo;<code class="t">talk</code>&rsquo; 后只补全的登录用户。 请注意， &lsquo;<code class="t">whoson</code>&rsquo; 必须返回一个数组，因此 &lsquo;<code class="t">reply=`users`</code>&rsquo;
是不正确的。
</p>
</dd>
<dt><code class="t">-H</code> <var class="var">num pattern</var></dt>
<dd><p>可能的补全取自最后 <var class="var">num</var> 行历史。 只有与 <var class="var">pattern</var> 匹配的单词才会被选中。 如果 <var class="var">num</var>
为零或负数，则搜索整个历史记录；如果 <var class="var">pattern</var> 为空字符串，则搜索所有单词（如 &lsquo;<code class="t">*</code>&rsquo;）。 典型的用法是
</p>
<div class="example">
<pre class="example-preformatted">compctl -D -f + -H 0 ''
</pre></div>

<p>如果没有匹配的文件名，则强制补全功能在历史列表中查找单词。
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="g_t_63a7_5236_6807_5fd7">

<h4 class="subsection" id="Kong-Zhi-Biao-Zhi-"><span>21.4.3 控制标志<a class="copiable-link" href="#Kong-Zhi-Biao-Zhi-"> &para;</a></span></h4>
<p>这些选项并不直接指定要补全的名称的类型，而是对指定类型的选项进行操作：
</p>
<dl class="table">
<dt><code class="t">-Q</code></dt>
<dd><p>这将指示 shell 在可能的补全中不任何元字符加引号。 通常情况下，补全的结果会被插入命令行中，其中的元字符会被加引号，因此会被解释为普通字符。
这适合文件名和普通字符串。
但是，为了达到特殊效果，例如从补全数组（<code class="t">-k</code>）中插入反引号表达式，以便在执行完整行之前不对表达式进行求值，则必须使用该选项。
</p>
</dd>
<dt><code class="t">-P</code> <var class="var">prefix</var></dt>
<dd><p><var class="var">prefix</var> 插入到已补全的字符串之前；任何已键入的开头部分都将被补全，而整个 <var class="var">prefix</var> 将被忽略，以达到补全的目的。
例如，
</p>
<div class="example">
<pre class="example-preformatted">compctl -j -P &quot;%&quot; kill
</pre></div>

<p>会在删除命令后插入一个 &lsquo;%&rsquo;，然后补全作业名称。
</p>
</dd>
<dt><code class="t">-S</code> <var class="var">suffix</var></dt>
<dd><p>当找到补全时，<var class="var">suffix</var> 会插入到补全的字符串之后。 在菜单补全的情况下，后缀会立即插入，但仍可以通过重复按同一按键来循环浏览补全列表。
</p>
</dd>
<dt><code class="t">-W</code> <var class="var">file-prefix</var></dt>
<dd><p>使用目录 <var class="var">file-prefix</var>：对于命令、文件、目录和 globbing 补全（选项
<code class="t">-c</code>、<code class="t">-f</code>、<code class="t">-/</code>、<code class="t">-g</code>），会在补全前面隐式添加文件前缀。 例如,
</p>
<div class="example">
<pre class="example-preformatted">compctl -/ -W ~/Mail maildirs
</pre></div>

<p>补全目录 <code class="t">~/Mail</code> 下任意深度的任何子目录，尽管该前缀不会出现在命令行中。 <var class="var">file-prefix</var> 也可以是 <code class="t">-k</code>
标志所接受的形式，即数组名称或括号中的字面列表。在这种情况下，将搜索列表中的所有目录，以查找可能的补全。
</p>
</dd>
<dt><code class="t">-q</code></dt>
<dd><p>如果与 <code class="t">-S</code>
选项指定的后缀一起使用，则在下一个键入的字符为空白或未插入任何内容时，或在后缀仅由一个字符组成且下一个键入的字符为相同字符时，后缀将被移除；这与
<code class="t">AUTO_REMOVE_SLASH</code> 选项的规则相同。 该选项对列表分隔符（逗号、冒号等）最有用。
</p>
</dd>
<dt><code class="t">-l</code> <var class="var">cmd</var></dt>
<dd><p>该选项限制了被视为参数的命令行单词的范围。 如果与扩展补全模式 &lsquo;<code class="t">p[</code>...<code class="t">]</code>&rsquo;, &lsquo;<code class="t">r[</code>...<code class="t">]</code>&rsquo; 或
&lsquo;<code class="t">R[</code>...<code class="t">]</code>&rsquo;（见下文
<a class="ref" href="#g_t_6269_5c55_8865_5168">扩展补全</a>）之一结合使用，则范围将限制在括号中指定的参数范围内。补全操作会被执行，就好像这些东西已经作为参数传递给了使用该选项提供的
<var class="var">cmd</var> 命令一样。（系统会将这些内容视为 <var class="var">cmd</var> 命令的参数，并执行相应的补全操作。）如果 <var class="var">cmd</var>
字符串为空，则范围内的第一个单词将作为命令名称，并在范围内的第一个单词上执行命令名称补全。 例如
</p>
<div class="example">
<pre class="example-preformatted">compctl -x 'r[-exec,;]' -l '' -- find
</pre></div>

<p>补全 &lsquo;<code class="t">-exec</code>&rsquo; 和后面的 &lsquo;<code class="t">;</code>&rsquo; （如果没有该字符串，则是命令行的末尾）之间的参数，就好像它们是单独的命令行。
</p>
</dd>
<dt><code class="t">-h</code> <var class="var">cmd</var></dt>
<dd><p>通常，zsh 会将加引号的字符串作为一个整体补全。有了这个选项，可以分别对字符串的不同部分进行补全。它的作用与 <code class="t">-l</code>
选项类似，但补全代码只针对当前单词中用空格分隔的部分。这些部分将像给定的 <var class="var">cmd</var> 的参数一样补全。如果 <var class="var">cmd</var>
为空字符串，第一部分将作为命令名称补全，与 <code class="t">-l</code> 一样。
</p>
</dd>
<dt><code class="t">-U</code></dt>
<dd><p>使用整个可能的补全列表，无论它们是否与命令行上的单词实际匹配。 目前输入的单词将被删除。 这在使用函数（由 <code class="t">-K</code>
选项给出）时最有用，该函数可以检查传递给它的单词成分（或通过 <code class="t">read</code> 内置函数的 <code class="t">-c</code> 和 <code class="t">-l</code>
标志），并使用自己的标准来决定哪些匹配。 如果没有补全，则保留原词。 由于产生的可能补全很少有有趣的共同前缀和后缀，因此如果设置了
<code class="t">AUTO_MENU</code> 并使用了该标志，则会立即启动菜单补全。
</p>
</dd>
<dt><a id="index-reply_002c-use-of-3"></a><span><code class="t">-y</code> <var class="var">func-or-var</var><a class="copiable-link" href="#index-reply_002c-use-of-3"> &para;</a></span></dt>
<dd><p>只要请求一个列表，就会显示 <var class="var">func-or-var</var> 提供的列表，而不是补全列表；实际要插入的补全不受影响。
可以通过两种方式提供该列表。首先，如果 <var class="var">func-or-var</var> 以 <code class="t">$</code>
开头，则定义了一个变量；如果以左括号开头，则定义了一个字面数组，其中包含列表。 变量可能是通过调用使用 <code class="t">-K</code> 选项函数设置的。
否则，它将包含一个函数的名称，该函数将被执行以创建列表。 函数将作为参数传递,列出所有匹配补全，包括前缀和后缀的完整扩展，并应将数组 <code class="t">reply</code>
设置为结果。 在这两种情况下，只有在创建了完整的匹配列表后，才会检索显示列表。
</p>
<p>请注意，返回的列表即使在长度上也不必与原始的匹配集一致，可以以标量而不是数组的形式传递。
在这种情况下，不会在输出结果的执行特殊字符格式化处理；特别是，换行符会按字面意思打印，如果换行符出现在列中，换行符将被抑制。
</p>
</dd>
<dt><code class="t">-X</code> <var class="var">explanation</var></dt>
<dd><p>在当前选项集上尝试补全时,打印 <var class="var">explanation</var>。该字符串中的 &lsquo;<code class="t">%n</code>&rsquo; 将被该解释字符串的匹配次数取代。
只有在尝试补全但没有唯一匹配时，或列出补全时，才会出现解释。解释字符串将与指定组的匹配一起列在一起，这个组使用 <code class="t">-X</code> 选项（使用 <code class="t">-J</code>
或 <code class="t">-V</code> 选项）指定。如果在多个 <code class="t">-X</code> 选项中使用了相同的解释字符串，则该字符串只出现一次（针对每一组）， &lsquo;<code class="t">%n</code>&rsquo;
显示的匹配数是每一次使用的所有匹配数的总和。在任何情况下，只有在解释字符串至少有一个匹配项时，才会显示解释字符串。
</p>
<p>序列 <code class="t">%B</code>, <code class="t">%b</code>, <code class="t">%S</code>, <code class="t">%s</code>, <code class="t">%U</code> 和 <code class="t">%u</code> 指定输出属性（粗体、突出和下划线），<code class="t">%F</code>,
<code class="t">%f</code>, <code class="t">%K</code>, <code class="t">%k</code> 指定前景色和背景色， <code class="t">%{</code><var class="var">...</var><code class="t">%}</code>
可用来包含字面转义序列，如提示符中的转义序列。
</p>
</dd>
<dt><code class="t">-Y</code> <var class="var">explanation</var></dt>
<dd><p>与 <code class="t">-X</code> 相同，但 <var class="var">explanation</var> 会首先按照双引号中字符串的常规规则进行扩展。 扩展将在调用 <code class="t">-K</code> 或
<code class="t">-y</code> 选项的函数后进行，从而允许它们设置变量。
</p>
</dd>
<dt><code class="t">-t</code> <var class="var">continue</var></dt>
<dd><p><var class="var">continue</var>-字符串包含一个字符，用于指定下一步应使用哪一补全标志集。 它非常有用：
</p>
<p>(i) 使用 <code class="t">-T</code>，或尝试模式补全列表时，<code class="t">compctl</code> 通常会在找到匹配后继续进行普通处理；可以使用 &lsquo;<code class="t">-tn</code>&rsquo;
来抑制这种情况。
</p>
<p>(ii) 对于用 <code class="t">+</code> 分隔的备选方案列表，<code class="t">compctl</code> 通常会在其中一个备选方案产生匹配时停止。 可以在 <code class="t">+</code>
之前向备选方案标志中添加 &lsquo;<code class="t">-t+</code>&rsquo; ，强制它考虑下一组补全。
</p>
<p>(iii) 在扩展补全列表（见下文）中，当 <code class="t">compctl</code> 通常会持续尝试直到一组条件成功，则只使用紧随其后的标志。 如果使用
&lsquo;<code class="t">-t-</code>&rsquo;，<code class="t">compctl</code> 将在下一个 &lsquo;<code class="t">-</code>&rsquo; 之后继续尝试扩展补全；如果使用 &lsquo;<code class="t">-tx</code>&rsquo;
，它将尝试使用默认标志补全，换句话说，就是使用 &lsquo;<code class="t">-x</code>&rsquo; 之前的标志补全。
</p>
</dd>
<dt><code class="t">-J</code> <var class="var">name</var></dt>
<dd><p>这给出了应将匹配结果归入的组的名称。组将单独列出并排序；同样，菜单补全将按照组的定义顺序提供组中的匹配结果。如果没有明确给出组名，匹配结果将存储在名为
<code class="t">default</code> 的组中。第一次遇到组名时，就会创建一个具有该名称的组。之后，所有具有相同组名的匹配结果都会存储在该组中。
</p>
<p>这对非排他性的替代性补全很有用。 例如，在
</p>
<div class="example">
<pre class="example-preformatted">compctl -f -J files -t+ + -v -J variables foo
</pre></div>

<p>文件和变量都是可能的补全，因为 <code class="t">-t+</code> 会强制同时考虑 <code class="t">+</code> 前后的两个备选方案集。 不过，由于有 <code class="t">-J</code>
选项，所有文件都会列在所有变量之前。
</p>
</dd>
<dt><code class="t">-V</code> <var class="var">name</var></dt>
<dd><p>与 <code class="t">-J</code> 类似，但组内的匹配结果不会在列表或菜单补全中排序。这些未排序的组与已排序的组处于不同的名称空间，因此定义为 <code class="t">-J files</code>
和 <code class="t">-V files</code> 的组是不同的。
</p>
</dd>
<dt><code class="t">-1</code></dt>
<dd><p>如果与 <code class="t">-V</code> 选项一起使用，则只删除组中连续的重复内容。请注意，有此标志和无此标志的组处于不同的名称空间。
</p>
</dd>
<dt><code class="t">-2</code></dt>
<dd><p>如果与 <code class="t">-J</code> 或 <code class="t">-V</code> 选项一起使用，则会保留所有重复。同样，有此标志和无此标志的组处于不同的名称空间。
</p>
</dd>
<dt><code class="t">-M</code> <var class="var">match-spec</var></dt>
<dd><p>这定义了额外的匹配控制规范，只应在为该标志所在的标志列表测试词语时使用。<var class="var">match-spec</var> 字符串的格式在 <a class="ref" href="#g_t_8865_5168_5339_914d_63a7_5236">补全匹配控制</a>
中描述。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_5907_9009_8865_5168">

<h3 class="section" id="Bei-Xuan-Bu-Quan-"><span>21.5 备选补全<a class="copiable-link" href="#Bei-Xuan-Bu-Quan-"> &para;</a></span></h3>
<dl class="table">
<dt><code class="t">compctl</code> [ <code class="t">-CDT</code> ] <var class="var">options</var> <code class="t">+</code> <var class="var">options</var> [ <code class="t">+</code> ... ] [ <code class="t">+</code> ] <var class="var">command</var> ...</dt>
</dl>
<br>

<p>带 &lsquo;<code class="t">+</code>&rsquo; 的形式指定了其他选项。补全将使用第一个 &lsquo;<code class="t">+</code>&rsquo; 之前的选项。如果没有匹配结果，则使用 &lsquo;<code class="t">+</code>&rsquo;
之后的标志进行补全，依此类推。如果在最后一个 &lsquo;<code class="t">+</code>&rsquo; 之后没有标志，且到此为止仍未找到匹配项，则尝试默认补全。 如果标志列表中包含 <code class="t">-t</code>
与 <code class="t">+</code> 字符，即使当前列表产生了匹配，也会使用下一个标志列表。
</p>
<hr>
</div>
<div class="section-level-extent" id="g_t_6269_5c55_8865_5168">

<p>还可以使用其他选项，将补全限制在命令行的某些部分；这被称为 &lsquo;扩展补全&rsquo;。
</p>

<h3 class="section" id="Kuo-Zhan-Bu-Quan-"><span>21.6 扩展补全<a class="copiable-link" href="#Kuo-Zhan-Bu-Quan-"> &para;</a></span></h3>

<dl class="table">
<dt><code class="t">compctl </code>[ <code class="t">-CDT</code> ] <var class="var">options</var> <code class="t">-x</code> <var class="var">pattern</var> <var class="var">options</var> <code class="t">-</code> ... <code class="t">-</code><code class="t">-</code></dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <var class="var">command</var> ... ]</dt>
<dt><code class="t">compctl </code>[ <code class="t">-CDT</code> ] <var class="var">options</var> [ <code class="t">-x</code> <var class="var">pattern</var> <var class="var">options</var> <code class="t">-</code> ... <code class="t">-</code><code class="t">-</code> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">+</code> <var class="var">options</var> [ <code class="t">-x</code> ... <code class="t">-</code><code class="t">-</code> ] ... [<code class="t">+</code>] ] [ <var class="var">command</var> ... ]</dt>
</dl>
<br>

<p>带有 &lsquo;<code class="t">-x</code>&rsquo; 的形式指定了所给命令的扩展补全；如图所示，它可以与使用 &lsquo;<code class="t">+</code>&rsquo; 的可替代补全相结合。 每个 <var class="var">pattern</var>
都会被依次检查；当发现匹配时，相应的 <var class="var">options</var> （如上文 <a class="ref" href="#g_t_9009_9879_6807_5fd7">选项标志</a> 所述）将用于生成可能的补全。 如果没有
<var class="var">pattern</var> 匹配，则使用 <code class="t">-x</code> 之前给出的 <var class="var">options</var>。
</p>
<p>请注意，每个模式应作为一个参数提供，并应加上引号，以防止 shell 扩展元字符。
</p>
<p>一个 <var class="var">pattern</var> 是由用逗号分隔的子模式组成的；如果这些子模式中至少有一个匹配（它们是 &quot;或&quot;
关系的），那么它就匹配。这些子模式又由其他子模式组成，这些子模式用空格分隔，如果所有子模式都匹配（它们是 &quot;和&quot; 关系），这些子模式也会匹配。
子模式的一个元素的形式为
&lsquo;<var class="var">c</var><code class="t">[</code>...<code class="t">][</code>...<code class="t">]</code>&rsquo;，其中的括号对可根据需要多次重复，如果任何一组括号匹配（&quot;或&quot;）则匹配。
下面的例子更清楚地说明了这一点。
</p>
<p>这些元素可以是以下任何一种:
</p>
<dl class="table">
<dt><code class="t">s[</code><var class="var">string</var><code class="t">]</code>...</dt>
<dd><p>如果命令行中的当前单词以括号中给出的字符串之一开头，则匹配该字符串。 <var class="var">string</var> 不会被删除，也不是补全的一部分。
</p>
</dd>
<dt><code class="t">S[</code><var class="var">string</var><code class="t">]</code>...</dt>
<dd><p>与 <code class="t">s[</code><var class="var">string</var><code class="t">]</code> 类似，只不过 <var class="var">string</var> 是补全的一部分。
</p>
</dd>
<dt><code class="t">p[</code><var class="var">from</var><code class="t">,</code><var class="var">to</var><code class="t">]</code>...</dt>
<dd><p>如果当前单词的编号介于 <var class="var">from</var> 和 <var class="var">to</var> 之间，则匹配。逗号和 <var class="var">to</var> 均为可选项；<var class="var">to</var> 的默认值与
<var class="var">from</var> 相同。 数字可以是负数： <code class="t">-</code><var class="var">n</var> 指的是该行的最后第 <var class="var">n</var> 个字。
</p>
</dd>
<dt><code class="t">c[</code><var class="var">offset</var><code class="t">,</code><var class="var">string</var><code class="t">]</code>...</dt>
<dd><p>如果 <var class="var">string</var> 与从当前字词位置偏移 <var class="var">offset</var> 的字词匹配，则匹配。 通常 <var class="var">offset</var> 为负值。
</p>
</dd>
<dt><code class="t">C[</code><var class="var">offset</var><code class="t">,</code><var class="var">pattern</var><code class="t">]</code>...</dt>
<dd><p>与 <code class="t">c</code> 类似，但使用模式匹配。
</p>
</dd>
<dt><code class="t">w[</code><var class="var">index</var><code class="t">,</code><var class="var">string</var><code class="t">]</code>...</dt>
<dd><p>如果位置 <var class="var">index</var> 中的单词等于相应的 <var class="var">string</var>，则匹配。 请注意，单词计数是在任何别名扩展之后进行的。
</p>
</dd>
<dt><code class="t">W[</code><var class="var">index</var><code class="t">,</code><var class="var">pattern</var><code class="t">]</code>...</dt>
<dd><p>与 <code class="t">w</code> 类似，但使用模式匹配。
</p>
</dd>
<dt><code class="t">n[</code><var class="var">index</var><code class="t">,</code><var class="var">string</var><code class="t">]</code>...</dt>
<dd><p>如果当前单词包含 <var class="var">string</var> ，则匹配。 所有东西，直到并包括第 <var class="var">index</var>
次该字符串的出现，都不会被视为补全的一部分，但其余部分会被视为补全的一部分。 <var class="var">index</var>
可以是负数，以便从结尾开始计数：在大多数情况下，<var class="var">index</var> 将是 1 或-1。 例如,
</p>
<div class="example">
<pre class="example-preformatted">compctl -s '`users`' -x 'n[1,@]' -k hosts -- talk
</pre></div>

<p>通常会补全用户名，但如果在名称后插入 <code class="t">@</code> ，则会补全 <var class="var">hosts</var> 数组（假定包含主机名，但必须自己创建数组）中的名称。
其他命令（如 <code class="t">rcp</code>）的处理方法与此类似。
</p>
</dd>
<dt><code class="t">N[</code><var class="var">index</var><code class="t">,</code><var class="var">string</var><code class="t">]</code>...</dt>
<dd><p>与 <code class="t">n</code> 类似，但字符串将被视为一个字符类。 在 <var class="var">string</var> 中出现的任何字符，直到（包括）第 <var class="var">index</var>
次出现的字符，都不会被视为补全的一部分。
</p>
</dd>
<dt><code class="t">m[</code><var class="var">min</var><code class="t">,</code><var class="var">max</var><code class="t">]</code>...</dt>
<dd><p>如果总字数在 <var class="var">min</var> 和 <var class="var">max</var> 之间（包括 <var class="var">min</var> 和 <var class="var">max</var> 在内），则匹配。
</p>
</dd>
<dt><code class="t">r[</code><var class="var">str1</var><code class="t">,</code><var class="var">str2</var><code class="t">]</code>...</dt>
<dd><p>如果光标位于前缀为 <var class="var">str1</var> 的单词之后，则匹配该单词。 如果命令行中在 <var class="var">str1</var> 匹配的单词之后还有前缀为
<var class="var">str2</var> 的单词，则只有当光标位于该单词之前时才会匹配。如果省略逗号和 <var class="var">str2</var>，则只有当光标位于前缀为 <var class="var">str1</var>
的单词之后时才会匹配。
</p>
</dd>
<dt><code class="t">R[</code><var class="var">str1</var><code class="t">,</code><var class="var">str2</var><code class="t">]</code>...</dt>
<dd><p>与 <code class="t">r</code> 类似，但使用模式匹配。
</p>
</dd>
<dt><code class="t">q[</code><var class="var">str</var><code class="t">]</code>...</dt>
<dd><p>当前补全的单词在单引号中且 <var class="var">str</var> 以字母  &lsquo;s&rsquo;开头，则匹配，或者在双引号中补全且 <var class="var">str</var> 以字母 &lsquo;d&rsquo;
开头，或者在反引号中补全且 <var class="var">str</var> 以字母 &lsquo;b&rsquo; 开头。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_4e3e_4f8b">

<h3 class="section" id="Ju-Li"><span>21.7 举例<a class="copiable-link" href="#Ju-Li"> &para;</a></span></h3>

<div class="example">
<pre class="example-preformatted">compctl -u -x 's[+] c[-1,-f],s[-f+]' \ 
  -g '~/Mail/*(:t)' - 's[-f],c[-1,-f]' -f -- mail
</pre></div>

<p>对这句话的解释如下:
</p>
<p>如果当前命令是 <code class="t">mail</code>，那么
</p>
<blockquote class="quotation">

<p>如果 ((当前单词以 <code class="t">+</code> 开头，且前一个单词为 <code class="t">-f</code>）或（当前单词以 <code class="t">-f+</code> 开头))，则补全 <code class="t">~/Mail</code>
目录中文件的非目录部分（ &lsquo;<code class="t">:t</code>&rsquo;  glob 修饰符）；否则
</p>
<p>如果当前单词以 <code class="t">-f</code> 开头或前一个单词是 <code class="t">-f</code>，则补全任何文件；否则
</p>
<p>补全用户名。
</p>
</blockquote>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Zsh-_6a21_5757">

<h2 class="chapter" id="Zsh-Mo-Kuai-"><span>22 Zsh 模块<a class="copiable-link" href="#Zsh-Mo-Kuai-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-modules"></a>

<div class="section-level-extent" id="Shuo-Ming--5">
<h3 class="section"><span>22.1 说明<a class="copiable-link" href="#Shuo-Ming--5"> &para;</a></span></h3>
<p>zsh 的某些可选部分以模块的形式存在，与 shell 的核心分开。 这些模块可以在构建时链接到 shell 中，或者在 shell
运行时动态链接（如果安装支持此功能）。 使用 <code class="t">zmodload</code> 命令可在运行时链接模块，参见 <a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a>。
</p>
<p>与 zsh 发行版捆绑在一起的模块有:
</p>
<dl class="table">
<dt><code class="t">zsh/attr</code></dt>
<dd><p>用于操作扩展属性 (xattr) 的内置程序。
</p>
</dd>
<dt><code class="t">zsh/cap</code></dt>
<dd><p>用于操作 POSIX.1e (POSIX.6) 能力（权限）集的内置程序。
</p>
</dd>
<dt><code class="t">zsh/clone</code></dt>
<dd><p>一个内置程序，可以将一个正在运行的 shell 克隆到另一个终端上。
</p>
</dd>
<dt><code class="t">zsh/compctl</code></dt>
<dd><p>用于控制补全的 <code class="t">compctl</code> 内置命令。
</p>
</dd>
<dt><code class="t">zsh/complete</code></dt>
<dd><p>基本补全代码。
</p>
</dd>
<dt><code class="t">zsh/complist</code></dt>
<dd><p>补全列表扩展。
</p>
</dd>
<dt><code class="t">zsh/computil</code></dt>
<dd><p>该模块包含基于 shell 函数的补全系统所需的实用内置程序。
</p>
</dd>
<dt><code class="t">zsh/curses</code></dt>
<dd><p>curses 窗口命令
</p>
</dd>
<dt><code class="t">zsh/datetime</code></dt>
<dd><p>一些日期/时间命令和参数
</p>
</dd>
<dt><code class="t">zsh/db/gdbm</code></dt>
<dd><p>用于管理与 GDBM 数据库相关联的关联数组参数的内置程序。
</p>
</dd>
<dt><code class="t">zsh/deltochar</code></dt>
<dd><p>重复 EMACS 的 <code class="t">zap-to-char</code> 的 ZLE 函数。
</p>
</dd>
<dt><code class="t">zsh/example</code></dt>
<dd><p>如何编写模块的示例。
</p>
</dd>
<dt><code class="t">zsh/files</code></dt>
<dd><p>一些内置的基本文件操作命令。
</p>
</dd>
<dt><code class="t">zsh/langinfo</code></dt>
<dd><p>本地化信息接口。
</p>
</dd>
<dt><code class="t">zsh/mapfile</code></dt>
<dd><p>通过一个特殊的关联数组访问外部文件。
</p>
</dd>
<dt><code class="t">zsh/mathfunc</code></dt>
<dd><p>用于数学计算的标准科学函数。
</p>
</dd>
<dt><code class="t">zsh/nearcolor</code></dt>
<dd><p>将颜色映射到可用调色板中最接近的颜色。
</p>
</dd>
<dt><code class="t">zsh/newuser</code></dt>
<dd><p>安排为新用户安装文件。
</p>
</dd>
<dt><code class="t">zsh/parameter</code></dt>
<dd><p>通过特殊关联数组访问内部哈希表。
</p>
</dd>
<dt><code class="t">zsh/pcre</code></dt>
<dd><p>PCRE 库的接口。
</p>
</dd>
<dt><code class="t">zsh/param/private</code></dt>
<dd><p>用于在函数上下文中管理私有范围参数的内置函数。
</p>
</dd>
<dt><code class="t">zsh/regex</code></dt>
<dd><p>POSIX regex 库的接口。
</p>
</dd>
<dt><code class="t">zsh/sched</code></dt>
<dd><p>在 shell 中提供定时执行功能的内置程序。
</p>
</dd>
<dt><code class="t">zsh/net/socket</code></dt>
<dd><p>操纵 Unix 域套接字
</p>
</dd>
<dt><code class="t">zsh/stat</code></dt>
<dd><p><code class="t">stat</code> 系统调用的内置命令接口。
</p>
</dd>
<dt><code class="t">zsh/system</code></dt>
<dd><p>连接各种底层系统功能的内置接口。
</p>
</dd>
<dt><code class="t">zsh/net/tcp</code></dt>
<dd><p>操作 TCP 套接字
</p>
</dd>
<dt><code class="t">zsh/termcap</code></dt>
<dd><p>termcap 数据库的接口。
</p>
</dd>
<dt><code class="t">zsh/terminfo</code></dt>
<dd><p>terminfo 数据库的接口。
</p>
</dd>
<dt><code class="t">zsh/watch</code></dt>
<dd><p>Reporting of login and logout events.
</p>
</dd>
<dt><code class="t">zsh/zftp</code></dt>
<dd><p>内置 FTP 客户端。
</p>
</dd>
<dt><code class="t">zsh/zle</code></dt>
<dd><p>Zsh 行编辑器，包含 <code class="t">bindkey</code> 和 <code class="t">vared</code> 内置命令。
</p>
</dd>
<dt><code class="t">zsh/zleparameter</code></dt>
<dd><p>通过参数访问 Zsh 行编辑器的内部。
</p>
</dd>
<dt><code class="t">zsh/zprof</code></dt>
<dd><p>一个允许对 shell 函数进行性能分析的模块。
</p>
</dd>
<dt><code class="t">zsh/zpty</code></dt>
<dd><p>一个内置命令，用于在伪终端中启动一个命令。
</p>
</dd>
<dt><code class="t">zsh/zselect</code></dt>
<dd><p>当文件描述符准备就绪时，阻塞并返回。
</p>
</dd>
<dt><code class="t">zsh/zutil</code></dt>
<dd><p>一些实用内置程序，例如支持通过样式进行配置的内置程序。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fattr-_6a21_5757">

<h3 class="section" id="zsh_002fattr-Mo-Kuai-"><span>22.2 zsh/attr 模块<a class="copiable-link" href="#zsh_002fattr-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/attr</code> 模块用于操作扩展属性。 通过 <code class="t">-h</code> 选项，所有命令都将在符号链接上执行，而不是在目标上执行。 该模块中的内置模块包括:
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Kuo-Zhan-Shu-Xing-_002c-xattr_002c-Cong-WenJian-ZhongHuo-Qu-"></a>
<a id="index-zgetattr"></a><span><code class="t">zgetattr</code> [ <code class="t">-h</code> ] <var class="var">filename</var> <var class="var">attribute</var> [ <var class="var">parameter</var> ]<a class="copiable-link" href="#index-zgetattr"> &para;</a></span></dt>
<dd><p>从指定的 <var class="var">filename</var> 获取扩展属性 <var class="var">attribute</var>。如果给出了可选参数
<var class="var">parameter</var>，则属性将设置在该参数上，而不是打印到 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Kuo-Zhan-Shu-Xing-_002c-xattr_002c-Zai-WenJian-Shang-De-She-Zhi-"></a>
<a id="index-zsetattr"></a><span><code class="t">zsetattr</code> [ <code class="t">-h</code> ] <var class="var">filename</var> <var class="var">attribute</var> <var class="var">value</var><a class="copiable-link" href="#index-zsetattr"> &para;</a></span></dt>
<dd><p>将指定 <var class="var">filename</var> 上的扩展属性 <var class="var">attribute</var> 设置为 <var class="var">value</var>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Kuo-Zhan-Shu-Xing-_002c-xattr_002c-Yi-Chu-_002c-Shan-Chu-"></a>
<a id="index-zdelattr"></a><span><code class="t">zdelattr</code> [ <code class="t">-h</code> ] <var class="var">filename</var> <var class="var">attribute</var><a class="copiable-link" href="#index-zdelattr"> &para;</a></span></dt>
<dd><p>从指定的 <var class="var">filename</var> 中移除扩展属性 <var class="var">attribute</var>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Kuo-Zhan-De-Shu-Xing-_002c-xattr_002c-Lie-Biao-"></a>
<a id="index-zlistattr"></a><span><code class="t">zlistattr</code> [ <code class="t">-h</code> ] <var class="var">filename</var> [ <var class="var">parameter</var> ]<a class="copiable-link" href="#index-zlistattr"> &para;</a></span></dt>
<dd><p>列出当前在指定的 <var class="var">filename</var> 上设置的扩展属性。如果给出了可选参数
<var class="var">parameter</var>，属性列表将设置在该参数上，而不是打印到 stdout。
</p>
</dd>
</dl>

<p><code class="t">zgetattr</code> 和 <code class="t">zlistattr</code> 是动态分配内存的。 如果属性或属性列表在分配和调用以获取之间时增长，它们会返回 2。
如果出现其他错误，则返回 1。 这允许调用函数检查这种情况并重试。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fcap-_6a21_5757">

<h3 class="section" id="zsh_002fcap-Mo-Kuai-"><span>22.3 zsh/cap 模块<a class="copiable-link" href="#zsh_002fcap-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/cap</code> 模块用于操作 POSIX.1e (POSIX.6) 能力集。 如果操作系统不支持该接口，该模块定义的内置命令将不起任何作用。
该模块中的内置命令包括：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Neng-Li-_002c-She-Zhi-"></a>
<a id="index-cap"></a><span><code class="t">cap</code> [ <var class="var">capabilities</var> ]<a class="copiable-link" href="#index-cap"> &para;</a></span></dt>
<dd><p>将 shell 的进程能力集更改为指定的 <var class="var">capabilities</var>，否则显示 shell 的当前能力。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Gong-Neng-_002c-Cong-WenJian-ZhongHuo-Qu-"></a>
<a id="index-getcap"></a><span><code class="t">getcap</code> <var class="var">filename</var> ...<a class="copiable-link" href="#index-getcap"> &para;</a></span></dt>
<dd><p>这是 POSIX 标准实用程序的内置实现。 它会显示每个指定 <var class="var">filename</var> 上的能力集。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Gong-Neng-_002c-Zai-WenJian-Shang-She-Zhi-"></a>
<a id="index-setcap"></a><span><code class="t">setcap</code> <var class="var">capabilities</var> <var class="var">filename</var> ...<a class="copiable-link" href="#index-setcap"> &para;</a></span></dt>
<dd><p>这是 POSIX 标准实用程序的内置实现。 它将每个指定的 <var class="var">filename</var> 上的能力集设置为指定的 <var class="var">capabilities</var>。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fclone-_6a21_5757">

<h3 class="section" id="zsh_002fclone-Mo-Kuai-"><span>22.4 zsh/clone 模块<a class="copiable-link" href="#zsh_002fclone-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/clone</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-shell_002c-Ke-Long-"></a>
<a class="index-entry-id" id="index-Ke-Long-shell"></a>
<a class="index-entry-id" id="index-Zhong-Duan-"></a>
<a id="index-clone"></a><span><code class="t">clone</code> <var class="var">tty</var><a class="copiable-link" href="#index-clone"> &para;</a></span></dt>
<dd><p>创建当前 shell 的分叉实例，并连接到指定的 <var class="var">tty</var>。 在新 shell 中，<code class="t">PID</code>, <code class="t">PPID</code> 和 <code class="t">TTY</code>
特殊参数会相应更改。 在新 shell 中，<code class="t">$!</code> 设置为 0，而在原 shell 中，<code class="t">$!</code> 则设置为新 shell 的 PID。
</p>
<p>如果成功，内置函数在两个 shell 中的返回状态都为 0，如果出错，则返回状态为非 0。
</p>
<p><code class="t">clone</code> 的目标应该是一个未使用的终端，例如未使用的虚拟控制台或由下面创建的虚拟终端
</p>
<div class="example">
<pre class="example-preformatted">xterm -e sh -c 'trap : INT QUIT TSTP; tty;
        while :; do sleep 100000000; done'
</pre></div>

<p>关于这个长长的 xterm 命令行，有必要解释一下：在伪终端上进行克隆时，一些其他会话（&quot;会话&quot;指 unix 会话组或
SID）已经拥有了该终端。因此，克隆的 zsh 无法获取伪终端作为控制 tty。这意味着两件事：
</p>
<ul class="itemize mark-bullet">
<li>作业控制信号将进入 sh-started-by-xterm 进程组（这就是我们禁用 INT QUIT 和 TSTP 陷阱的原因，否则 while
循环可能会被暂停或删除）。
</li><li>克隆的 shell 将禁用作业控制功能，并且作业控制键（control-C、control-\ 和 control-Z）将不起作用。
</li></ul>

<p>这不适用于克隆到 <em class="emph">未使用的</em> vc。
</p>
<p>克隆到使用过的（和未准备好的）终端会导致两个进程同时从同一终端读取数据，输入字节会随机进入任一进程。
</p>
<p><code class="t">clone</code> 主要是作为 openvt 的 shell 内置替代品。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fcompctl-_6a21_5757">

<h3 class="section" id="zsh_002fcompctl-Mo-Kuai-"><span>22.5 zsh/compctl 模块<a class="copiable-link" href="#zsh_002fcompctl-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/compctl</code> 模块提供了两个内置命令。<code class="t">compctl</code> 是控制 ZLE 补全的旧式、已废弃的方法。 请参阅 <a class="ref" href="#g_t_7528-compctl-_8865_5168">用 compctl 补全</a>。 另一条内置命令 <code class="t">compcall</code> 可用于用户自定义的补全小部件，参见 <a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fcomplete-_6a21_5757">

<h3 class="section" id="zsh_002fcomplete-Mo-Kuai-"><span>22.6 zsh/complete 模块<a class="copiable-link" href="#zsh_002fcomplete-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/complete</code> 模块提供了多个内置命令，这些命令可用于用户自定义的补全小部件，参见 <a class="ref" href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a>。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fcomplist-_6a21_5757">

<h3 class="section" id="zsh_002fcomplist-Mo-Kuai-"><span>22.7 zsh/complist 模块<a class="copiable-link" href="#zsh_002fcomplist-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Bu-Quan-_002c-Lie-Biao--1"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Cai-Se-Lie-Biao-"></a>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Gun-Dong-Lie-Biao-"></a>
<p><code class="t">zsh/complist</code> 模块为补全列表提供了三种扩展功能：在此类列表中高亮显示匹配项的功能、滚动浏览长列表的功能以及不同风格的菜单补全功能。
</p>

<div class="subsection-level-extent" id="Cai-Se-Bu-Quan-Lie-Biao-">
<h4 class="subsection"><span>22.7.1 彩色补全列表<a class="copiable-link" href="#Cai-Se-Bu-Quan-Lie-Biao-"> &para;</a></span></h4>
<p>只要设置了 <code class="t">ZLS_COLORS</code> 或 <code class="t">ZLS_COLOURS</code> 之一，并且 <code class="t">zsh/complist</code> 模块已加载或链接到
shell 中，补全列表就会进行彩显。 但需要注意的是，如果 <code class="t">complist</code> 没有被链接到 shell
中，则不会被自动加载：在使用动态加载的系统中，需要使用 &lsquo;<code class="t">zmodload zsh/complist</code>&rsquo; 。
</p>
<a class="index-entry-id" id="index-ZLS_005fCOLORS"></a>
<a class="index-entry-id" id="index-ZLS_005fCOLOURS"></a>
<p>参数 <code class="t">ZLS_COLORS</code> 和 <code class="t">ZLS_COLOURS</code> 描述了如何高亮匹配。
要打开高亮效果，只需输入空值即可，在这种情况下，将使用下面给出的所有默认值。 这些参数值的格式与 GNU 版本的 <code class="t">ls</code>
命令相同：一个以冒号分隔的列表，其形式为 &lsquo;<var class="var">name</var><code class="t">=</code><var class="var">value</var>&rsquo;。 <var class="var">name</var>
可以是以下字符串之一，其中大部分字符串指定了 <var class="var">value</var> 将被使用的文件类型。 这些字符串及其默认值是:
</p>
<dl class="table">
<dt><code class="t">no 0</code></dt>
<dd><p>用于普通文本（即显示匹配文件以外的内容时）
</p>
</dd>
<dt><code class="t">fi 0</code></dt>
<dd><p>用于常规文件
</p>
</dd>
<dt><code class="t">di 32</code></dt>
<dd><p>用于目录
</p>
</dd>
<dt><code class="t">ln 36</code></dt>
<dd><p>用于符号链接。 如果具有特殊值 <code class="t">target</code>，则符号链接将被解引用，并使用目标文件来确定显示格式。
</p>
</dd>
<dt><code class="t">pi 31</code></dt>
<dd><p>用于命名管道 (FIFOs)
</p>
</dd>
<dt><code class="t">so 33</code></dt>
<dd><p>用于套接字
</p>
</dd>
<dt><code class="t">bd 44;37</code></dt>
<dd><p>用于块设备
</p>
</dd>
<dt><code class="t">cd 44;37</code></dt>
<dd><p>用于字符设备
</p>
</dd>
<dt><code class="t">or</code> <var class="var">none</var></dt>
<dd><p>用于指向不存在文件的符号链接（默认值为 <code class="t">ln</code> 中定义的值）
</p>
</dd>
<dt><code class="t">mi</code> <var class="var">none</var></dt>
<dd><p>用于不存在的文件（默认值为 <code class="t">fi</code> 定义的值）；该代码目前未被使用
</p>
</dd>
<dt><code class="t">su 37;41</code></dt>
<dd><p>用于设置了 setuid 位的文件
</p>
</dd>
<dt><code class="t">sg 30;43</code></dt>
<dd><p>为设置了 setgid 位的文件
</p>
</dd>
<dt><code class="t">tw 30;42</code></dt>
<dd><p>用于设置了粘着位的可供所有用户写入的目录
</p>
</dd>
<dt><code class="t">ow 34;43</code></dt>
<dd><p>用于没有设置粘着位的可供所有用户写入的目录
</p>
</dd>
<dt><code class="t">sa</code> <var class="var">none</var></dt>
<dd><p>用于带有相关后缀别名的文件；这只在特定后缀后进行测试，如下所述
</p>
</dd>
<dt><code class="t">st 37;44</code></dt>
<dd><p>用于已设置粘着位但不是全局可写的目录
</p>
</dd>
<dt><code class="t">ex 35</code></dt>
<dd><p>用于可执行文件
</p>
</dd>
<dt><code class="t">lc \e[</code></dt>
<dd><p>用于左侧代码（见下文）
</p>
</dd>
<dt><code class="t">rc m</code></dt>
<dd><p>用于右侧代码
</p>
</dd>
<dt><code class="t">tc 0</code></dt>
<dd><p>用于在设置 <code class="t">LIST_TYPES</code> 选项时在文件名后打印的表示文件类型的字符
</p>
</dd>
<dt><code class="t">sp 0</code></dt>
<dd><p>用于匹配后打印的空格，以对齐下一列
</p>
</dd>
<dt><code class="t">ec</code> <var class="var">none</var></dt>
<dd><p>用于结束代码
</p>
</dd>
</dl>

<p>除这些字符串外，<var class="var">name</var> 也可以是星号 (&lsquo;<code class="t">*</code>&rsquo;)，后跟任何字符串。为此类字符串给出的 <var class="var">value</var>
将用于名称以该字符串结尾的所有文件。 <var class="var">name</var> 也可以是等号 (&lsquo;<code class="t">=</code>&rsquo;)，后面跟一个模式；在计算模式时，将启用
<code class="t">EXTENDED_GLOB</code> 选项。 为该模式提供的 <var class="var">value</var> 将用于所有显示字符串与该模式匹配的匹配项（不只是文件名）。
带前导等号的形式的定义优先于为文件类型定义的值，而文件类型定义的值又优先于带前导星号的形式（文件扩展名）。
</p>
<p>前导等于形式还允许对显示字符串的不同部分进行不同着色。 为此，模式必须使用 &lsquo;<code class="t">(#b)</code>&rsquo; globbing
标志和围绕字符串颜色不同的部分的括号对。 在这种情况下，<var class="var">value</var> 可以包含多个颜色代码，并用等号分隔。
第一个代码将用于所有未指定明确代码的部分，后面的代码将用于与括号中子模式匹配的部分。 例如， &lsquo;<code class="t">=(#b)(?)*(?)=0=3=7</code>&rsquo;
将用于所有匹配(至少两个字符长度的)，第一个字符使用 &lsquo;<code class="t">3</code>&rsquo; 代码，最后一个字符使用 &lsquo;<code class="t">7</code>&rsquo; 代码，其余字符使用 &lsquo;<code class="t">0</code>&rsquo; 代码。
</p>
<p><var class="var">name</var> 的三种形式前面都可以加上用括号括起来的模式。 如果给出了该模式，<var class="var">value</var>
将仅用于名称与括号中给出的模式匹配的组中的匹配。 例如，&lsquo;<code class="t">(g*)m*=43</code>&rsquo; 将使用颜色代码 &lsquo;<code class="t">43</code>&rsquo; 高亮显示名称以 &lsquo;<code class="t">g</code>&rsquo;
开头的组中所有以 &lsquo;<code class="t">m</code>&rsquo; 开头的匹配项。 如果使用 &lsquo;<code class="t">lc</code>&rsquo;,&lsquo;<code class="t">rc</code>&rsquo;,和 &lsquo;<code class="t">ec</code>&rsquo; 代码，组模式将被忽略。
</p>
<p>还需注意的是，所有模式都会按其在参数值中出现的顺序进行尝试，直到第一个匹配的模式被使用为止。
模式可以与补全、描述（可能追加空格作为填充）或由补全和描述组成的行匹配。 为保持着色的一致性，可能需要使用多个模式或带有反向引用的模式。
</p>
<p>在打印匹配结果时，代码会打印 <code class="t">lc</code> 的值、文件类型的值或带有 &lsquo;<code class="t">*</code>&rsquo; 的最后一个匹配规范、<code class="t">rc</code>
的值、要显示的匹配结果本身的字符串，然后是 <code class="t">ec</code> 的值（如果已定义）或 <code class="t">lc</code>、<code class="t">no</code> 和 <code class="t">rc</code> 的值（如果未定义
<code class="t">ec</code>）。
</p>
<p>默认值符合 ISO 6429（ANSI）标准，可用于 vt100 兼容终端（如 <code class="t">xterm</code>s）。 在单色终端上，默认值不会产生明显影响。
贡献中的 <code class="t">colors</code> 函数可用于获取包含 ANSI 终端代码的关联数组（参见 <a class="ref" href="#g_t_5176_5b83_51fd_6570">其它函数</a>）。 例如，加载 <code class="t">colors</code>
后，可以使用 &lsquo;<code class="t">$color[red]</code>&rsquo; 为前景色获取红色的代码，使用 &lsquo;<code class="t">$color[bg-green]</code>&rsquo; 为背景色获取绿色的代码。
</p>
<p>如果使用的是由 compinit 调用的补全系统，则不应直接设置这些参数，因为系统会自行控制它们。 相反，应使用 <code class="t">list-colors</code>
样式（参见 <a class="ref" href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a>）。
</p>

</div>
<div class="subsection-level-extent" id="Zai-Bu-Quan-Lie-Biao-ZhongGun-Dong-">
<h4 class="subsection"><span>22.7.2 在补全列表中滚动<a class="copiable-link" href="#Zai-Bu-Quan-Lie-Biao-ZhongGun-Dong-"> &para;</a></span></h4>
<p>要启用滚动浏览补全列表，必须设置 <code class="t">LISTPROMPT</code> 参数。 其值将用作提示符；如果是空字符串，则使用默认提示符。 该值可包含
&lsquo;<code class="t">%x</code>&rsquo; 形式的转义字符。 它支持转义符 &lsquo;<code class="t">%B</code>&rsquo;, &lsquo;<code class="t">%b</code>&rsquo;, &lsquo;<code class="t">%S</code>&rsquo;, &lsquo;<code class="t">%s</code>&rsquo;, &lsquo;<code class="t">%U</code>&rsquo;,
&lsquo;<code class="t">%u</code>&rsquo;, &lsquo;<code class="t">%F</code>&rsquo;, &lsquo;<code class="t">%f</code>&rsquo;, &lsquo;<code class="t">%K</code>&rsquo;, &lsquo;<code class="t">%k</code>&rsquo; 和 &lsquo;<code class="t">%{</code><var class="var">...</var><code class="t">%}</code>&rsquo;
也用于 shell 提示符以及三对附加序列： &lsquo;<code class="t">%l</code>&rsquo; 或 &lsquo;<code class="t">%L</code>&rsquo; 会被最后显示的行数和总行数替换，形式为
&lsquo;<var class="var">number</var><code class="t">/</code><var class="var">total</var>&rsquo;；&lsquo;<code class="t">%m</code>&rsquo; 或 &lsquo;<code class="t">%M</code>&rsquo; 会被最后显示的匹配行数和总匹配行数替换；
&lsquo;<code class="t">%p</code>&rsquo; 或 &lsquo;<code class="t">%P</code>&rsquo; 分别替换为 &lsquo;<code class="t">Top</code>&rsquo;、&lsquo;<code class="t">Bottom</code>&rsquo; 或显示的第一行的位置（占总行数的百分比）。
在上述每种情况下，大写字母形式将被替换为固定宽度的字符串，并在右侧填充空格，而小写字母形式则不填充空格。
</p>
<p>如果设置了参数 <code class="t">LISTPROMPT</code>，补全代码将不会询问是否显示列表。
相反，它会立即开始显示列表，在显示第一屏后停止，在底部显示提示符，在临时切换到 <code class="t">listscroll</code> 键映射后等待按键。 在滚动列表时，zle
的某些函数具有特殊意义：
</p>
<dl class="table">
<dt><code class="t">send-break</code></dt>
<dd><p>停止列表，丢弃已按下的键
</p>
</dd>
<dt><code class="t">accept-line</code>, <code class="t">down-history</code>, <code class="t">down-line-or-history</code></dt>
<dt><code class="t">down-line-or-search</code>, <code class="t">vi-down-line-or-history</code></dt>
<dd><p>向前滚动一行
</p>
</dd>
<dt><code class="t">complete-word</code>, <code class="t">menu-complete</code>, <code class="t">expand-or-complete</code></dt>
<dt><code class="t">expand-or-complete-prefix</code>, <code class="t">menu-complete-or-expand</code></dt>
<dd><p>向前滚动一屏
</p>
</dd>
<dt><code class="t">accept-search</code></dt>
<dd><p>停止列表，但不采取其他行动
</p>
</dd>
</dl>

<p>其他每个字符都会停止列表，并立即像往常一样处理按键。 任何未在 <code class="t">listscroll</code> 键盘映射中绑定或绑定到 <code class="t">undefined-key</code>
的按键都会在当前选定的键盘映射中查找。
</p>
<p>至于 <code class="t">ZLS_COLORS</code> 和 <code class="t">ZLS_COLOURS</code> 参数，在使用基于 shell 函数的补全系统时，不应直接设置
<code class="t">LISTPROMPT</code>。 相反，应使用 <code class="t">list-prompt</code> 样式。
</p>

</div>
<div class="subsection-level-extent" id="Cai-Dan-Xuan-Ze-">
<h4 class="subsection"><span>22.7.3 菜单选择<a class="copiable-link" href="#Cai-Dan-Xuan-Ze-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Bu-Quan-_002c-Yong-Guang-Biao-Xuan-Ze-"></a>
<a class="index-entry-id" id="index-MENUSELECT"></a>
<a class="index-entry-id" id="index-menu_002dselect"></a>
<p><code class="t">zsh/complist</code> 模块还提供了另一种从列表中选择匹配项的方式，称为菜单选择，如果 shell
设置为在显示补全列表后返回最后（近）一个提示符（参见 <a class="ref" href="#g_t_9009_9879">选项</a> 中的 <code class="t">ALWAYS_LAST_PROMPT</code> 选项），则可以使用这种方式。
</p>
<p>本模块定义的小部件 <code class="t">menu-select</code> 可直接调用菜单选择。 这是一个标准的 ZLE 小部件，可以按照 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>中描述的常规方式与按键绑定。
</p>
<p>或者，也可以将参数 <code class="t">MENUSELECT</code> 设置为一个整数，它给出了在菜单选择自动开启之前必须存在的最小匹配数。
第二种方法要求菜单补全必须启动，可以直接从 <code class="t">menu-complete</code> 等小部件启动，也可以由于设置了 <code class="t">MENU_COMPLETE</code> 或
<code class="t">AUTO_MENU</code> 选项之一而启动。 如果设置了 <code class="t">MENUSELECT</code>，但其值为 0、1 或空，则菜单选择将始终在模糊菜单补全期间启动。
</p>
<p>在使用基于 shell 函数的补全系统时，不应使用 <code class="t">MENUSELECT</code> 参数（如上文所述的 <code class="t">ZLS_COLORS</code> 和
<code class="t">ZLS_COLOURS</code> 参数）。 相反，应该与 <code class="t">select=</code><var class="var">...</var> 关键字一起使用 <code class="t">menu</code> 样式。
</p>
<p>菜单选择开始后，将列出匹配结果。如果屏幕上的匹配项较多，则只显示第一屏。 可以从列表中选择要插入命令行的匹配项。 在列表中，将使用
<code class="t">ZLS_COLORS</code> 或 <code class="t">ZLS_COLOURS</code> 参数中的 <code class="t">ma</code> 值突出显示一个匹配项。 默认值为 &lsquo;<code class="t">7</code>&rsquo;
，这将强制在兼容 vt100 的终端上使用突出显示模式突出显示选定的匹配。 如果既未设置 <code class="t">ZLS_COLORS</code> 也未设置
<code class="t">ZLS_COLOURS</code>，则会使用与提示符中的 &lsquo;<code class="t">%S</code>&rsquo; 转义相同的终端控制序列。
</p>
<p>如果屏幕上的匹配项较多，且参数 <code class="t">MENUPROMPT</code> 已设置，则其值将显示在匹配项下方。 它支持与 <code class="t">LISTPROMPT</code>
相同的转义序列，但显示的匹配项或行的编号将是放置标记的匹配项或行的编号。 如果其值为空字符串，将使用默认提示符。
</p>
<p><code class="t">MENUSCROLL</code> 参数可用于指定列表的滚动方式。 如果未设置该参数，将逐行滚动；如果设置为&lsquo;<code class="t">0</code>&rsquo;（零），列表将滚动屏幕行数的一半。
如果参数值为正数，则滚动的行数为正数；如果参数值为负数，则滚动的行数为屏幕行数减去这个值（绝对值）后的行数。
</p>
<p>至于 <code class="t">ZLS_COLORS</code>、<code class="t">ZLS_COLOURS</code> 和 <code class="t">LISTPROMPT</code> 参数，在使用基于 shell
函数的补全系统时，不应直接设置 <code class="t">MENUPROMPT</code> 或 <code class="t">MENUSCROLL</code>。 相反，应使用 <code class="t">select-prompt</code> 和
<code class="t">select-scroll</code> 样式。
</p>
<p>补全代码有时会决定不在列表中显示所有匹配项。 这些隐藏的匹配项要么是添加匹配项的补全函数明确要求不在列表中显示的匹配项（使用 <code class="t">compadd</code>
内置命令的 <code class="t">-n</code> 选项），要么是与列表中已存在的字符串重复的匹配项（因为它们仅在前缀或后缀等未显示的内容上存在差异）。
不过，在用于菜单选择的列表中，即使是这些匹配也会显示出来，因此可以选择它们。 为了突出显示这类匹配，<code class="t">ZLS_COLORS</code> 和
<code class="t">ZLS_COLOURS</code> 参数中的 <code class="t">hi</code> 和 <code class="t">du</code> 功能分别支持第一类和第二类隐藏匹配。
</p>
<p>通过使用 zle 移动函数移动标记来选择匹配项。 当屏幕上不能同时显示所有匹配时，列表会在越过顶线或底线时上下滚动。 下列 zle
函数在菜单选择时具有特殊意义。 请注意，以下函数在菜单选择映射中始终执行相同的任务，不能被用户定义的小部件取代，也不能扩展函数集：
</p>
<dl class="table">
<dt><code class="t">accept-line</code>, <code class="t">accept-search</code></dt>
<dd><p>接受当前匹配并离开菜单选择（但不接受命令行）
</p>
</dd>
<dt><code class="t">send-break</code></dt>
<dd><p>退出菜单选择并恢复之前命令行的内容
</p>
</dd>
<dt><code class="t">redisplay</code>, <code class="t">clear-screen</code></dt>
<dd><p>在不离开菜单选择的情况下执行其正常函数
</p>
</dd>
<dt><code class="t">accept-and-hold</code>, <code class="t">accept-and-menu-complete</code></dt>
<dd><p>接受当前插入的匹配项，并继续选择，允许选择下一个匹配项插入该行
</p>
</dd>
<dt><code class="t">accept-and-infer-next-history</code></dt>
<dd><p>接受当前的匹配结果，然后再次尝试用菜单选择来补全；在文件的情况下，这允许选择一个目录并立即尝试补全其中的文件；如果没有匹配结果，则会显示一条信息，可以使用
<code class="t">undo</code> 返回上一级的补全，其他所有按键都会离开菜单选择（包括菜单选择期间其他特殊的 zle 功能）。
</p>
</dd>
<dt><code class="t">undo</code></dt>
<dd><p>删除在菜单选择过程中由前面三个函数之一插入的匹配项。
</p>
</dd>
<dt><code class="t">down-history</code>, <code class="t">down-line-or-history</code></dt>
<dt><code class="t">vi-down-line-or-history</code>,  <code class="t">down-line-or-search</code></dt>
<dd><p>将标记向下移动一行
</p>
</dd>
<dt><code class="t">up-history</code>, <code class="t">up-line-or-history</code></dt>
<dt><code class="t">vi-up-line-or-history</code>, <code class="t">up-line-or-search</code></dt>
<dd><p>将标记向上移动一行
</p>
</dd>
<dt><code class="t">forward-char</code>, <code class="t">vi-forward-char</code></dt>
<dd><p>将标记向右移动一列
</p>
</dd>
<dt><code class="t">backward-char</code>, <code class="t">vi-backward-char</code></dt>
<dd><p>将标记向左移动一列
</p>
</dd>
<dt><code class="t">forward-word</code>, <code class="t">vi-forward-word</code></dt>
<dt><code class="t">vi-forward-word-end</code>, <code class="t">emacs-forward-word</code></dt>
<dd><p>将标记向下移动一屏
</p>
</dd>
<dt><code class="t">backward-word</code>, <code class="t">vi-backward-word</code>, <code class="t">emacs-backward-word</code></dt>
<dd><p>将标记向上移动一屏
</p>
</dd>
<dt><code class="t">vi-forward-blank-word</code>, <code class="t">vi-forward-blank-word-end</code></dt>
<dd><p>将标记移至下一组匹配的第一行
</p>
</dd>
<dt><code class="t">vi-backward-blank-word</code></dt>
<dd><p>将标记移至前一组匹配的最后一行
</p>
</dd>
<dt><code class="t">beginning-of-history</code></dt>
<dd><p>将标记移至第一行
</p>
</dd>
<dt><code class="t">end-of-history</code></dt>
<dd><p>将标记移至最后一行
</p>
</dd>
<dt><code class="t">beginning-of-buffer-or-history</code>, <code class="t">beginning-of-line</code></dt>
<dt><code class="t">beginning-of-line-hist</code>, <code class="t">vi-beginning-of-line</code></dt>
<dd><p>将标记移到最左边一列
</p>
</dd>
<dt><code class="t">end-of-buffer-or-history</code>, <code class="t">end-of-line</code></dt>
<dt><code class="t">end-of-line-hist</code>, <code class="t">vi-end-of-line</code></dt>
<dd><p>将标记移到最右边一列
</p>
</dd>
<dt><code class="t">complete-word</code>, <code class="t">menu-complete</code>, <code class="t">expand-or-complete</code></dt>
<dt><code class="t">expand-or-complete-prefix</code>, <code class="t">menu-expand-or-complete</code></dt>
<dd><p>将标记移动到下一个匹配
</p>
</dd>
<dt><code class="t">reverse-menu-complete</code></dt>
<dd><p>将标记移至上一个匹配
</p>
</dd>
<dt><code class="t">vi-insert</code></dt>
<dd><p>这将在正常模式和交互模式之间切换；在交互模式下，与 <code class="t">self-insert</code> 和 <code class="t">self-insert-unmeta</code>
绑定的按键会像正常编辑模式一样插入命令行，但不会离开菜单选择；每个字符补全后都会再次尝试，列表会更改为只包含新的匹配字符；补全部件会将最长的无歧义字符串插入命令行，而
<code class="t">undo</code> 和 <code class="t">backward-delete-char</code> 则会返回到上一组匹配字符串
</p>
</dd>
<dt><code class="t">history-incremental-search-forward</code></dt>
<dt><code class="t">history-incremental-search-backward</code></dt>
<dd><p>这会开始在显示的补全列表中进行增量搜索；在这种模式下，<code class="t">accept-line</code> 只会离开增量搜索，回到正常的菜单选择模式
</p>
</dd>
</dl>

<p>所有移动函数都会在边缘回绕；任何其他未列出的 zle 函数都会离开菜单选择并执行该函数。 通过使用前面带有&lsquo;<code class="t">.</code>&rsquo;
的小部件形式，可以使上述列表中的小部件具有相同的功能。 例如，小部件 &lsquo;<code class="t">.accept-line</code>&rsquo; 具有离开菜单选择并接受整个命令行的效果。
</p>
<p>在选择过程中，widget 会使用键映射 <code class="t">menuselect</code>。 任何未在此键映射中定义或绑定到 <code class="t">undefined-key</code>
的按键都会在当前选择的键映射中查找。 这样做是为了确保在选择过程中使用的最重要按键（即光标键、回车键和 TAB 键）具有合理的默认值。 不过，可以使用
<code class="t">bindkey</code> 内置命令直接修改 <code class="t">menuselect</code> 键映射中的按键（参见 <a class="ref" href="#zsh_002fzle-_6a21_5757">zsh/zle 模块</a>）。例如，要使返回键离开菜单选择而不接受当前选择的匹配，可以调用
</p>
<div class="example">
<pre class="example-preformatted">bindkey -M menuselect '^M' send-break
</pre></div>

<p>加载 <code class="t">zsh/complist</code> 模块后。
</p><hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002fcomputil-_6a21_5757">

<h3 class="section" id="zsh_002fcomputil-Mo-Kuai-"><span>22.8 zsh/computil 模块<a class="copiable-link" href="#zsh_002fcomputil-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Bu-Quan-_002c-Shi-Yong-Gong-Ju-"></a>
<p><code class="t">zsh/computil</code> 模块为基于 shell 函数的补全系统（参见 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a> ）中的某些补全函数添加了几条内置命令。 除了
<code class="t">compquote</code> 之外，这些内置命令都非常专业，因此在编写自己的补全函数时并不十分有趣。 总之，这些内置命令包括
</p>
<dl class="table">
<dt><a id="index-comparguments"></a><span><code class="t">comparguments</code><a class="copiable-link" href="#index-comparguments"> &para;</a></span></dt>
<dd><p><code class="t">_arguments</code> 函数使用它来进行参数和命令行解析。 与 <code class="t">compdescribe</code> 一样，它也有一个选项 <code class="t">-i</code>
来完成解析并初始化一些内部状态，还有各种选项来访问状态信息，以决定应补全哪些内容。
</p>
</dd>
<dt><a id="index-compdescribe"></a><span><code class="t">compdescribe</code><a class="copiable-link" href="#index-compdescribe"> &para;</a></span></dt>
<dd><p><code class="t">_describe</code> 函数使用它来构建匹配的显示，并获取要添加为匹配项的字符串及其选项。 第一次调用时，应将 <code class="t">-i</code> 或 <code class="t">-I</code>
选项之一作为第一个参数提供。
在第一种情况下，将生成不带说明的显示字符串；在第二种情况下，必须将用于分隔匹配字符串和说明的字符串作为第二个参数，然后显示说明（如果有的话）。
所有其他参数与 <code class="t">_describe</code> 本身的定义参数相同。
</p>
<p>使用 <code class="t">-i</code> 或 <code class="t">-I</code> 选项调用 <code class="t">compdescribe</code> 后，可以使用 <code class="t">-g</code> 选项和四个参数的名称作为参数反复调用。
这将逐步处理不同的匹配集，并在第一个标量中存储 <code class="t">compstate[list]</code> 的值，在第二个数组中存储 <code class="t">compadd</code>
的选项，在第三个数组中存储匹配结果，在第四个数组中存储要在补全列表中显示的字符串。 然后可以直接将这些数组交给
<code class="t">compadd</code>，以便将匹配结果注册到补全代码中。
</p>
</dd>
<dt><a id="index-compfiles"></a><span><code class="t">compfiles</code><a class="copiable-link" href="#index-compfiles"> &para;</a></span></dt>
<dd><p>用于 <code class="t">_path_files</code> 函数,以优化复杂递归文件名的生成（globbing）。 它会做三件事。 使用 <code class="t">-p</code> 和 <code class="t">-P</code>
选项，它会构建要使用的 glob 模式，包括已经处理过的路径，并尝试根据行中的前缀和后缀以及当前使用的匹配规范优化模式。 <code class="t">-i</code> 选项会对
<code class="t">ignore-parents</code> 样式进行目录测试，而 <code class="t">-r</code>
选项则会测试某些匹配项的组件是否等于行中的字符串，如果为真，则会移除所有其他匹配项。
</p>
</dd>
<dt><a id="index-compgroups"></a><span><code class="t">compgroups</code><a class="copiable-link" href="#index-compgroups"> &para;</a></span></dt>
<dd><p>由 <code class="t">_tags</code> 函数使用，用于实现 <code class="t">group-order</code> 样式的内部。
它只接收作为补全分组名称的参数，并为其创建分组（所有六种类型：排序和不排序，均不去除重复、去除全部重复和去除连续重复）。
</p>
</dd>
<dt><a id="index-compquote"></a><span><code class="t">compquote</code> [ <code class="t">-p</code> ] <var class="var">names</var> ...<a class="copiable-link" href="#index-compquote"> &para;</a></span></dt>
<dd><p>编写补全函数时可能会有一些原因，必须使用 <code class="t">-Q</code> 选项将匹配结果添加到 <code class="t">compadd</code> 并自行执行引用（加引号）。 与其解释
<code class="t">compstate</code> 特殊关联数组的 <code class="t">all_quotes</code> 键的第一个字符，并使用 <code class="t">q</code> 标志进行参数扩展，不如使用这条内置命令。
参数是标量或数组参数的名称，这些参数的值根据需要为最内层的加引号。 如果给定了 <code class="t">-p</code>
选项，会加上引号，就像参数值前有一些前缀，因此前导等号不会加引号。
</p>
<p>如果出现错误，返回状态为非零，否则为零。
</p>
</dd>
<dt><a class="index-entry-id" id="index-comptry"></a>
<a id="index-comptags"></a><span><code class="t">comptags</code><a class="copiable-link" href="#index-comptags"> &para;</a></span></dt>
<dt><code class="t">comptry</code></dt>
<dd><p>它们实现了标记机制的内部功能。
</p>
</dd>
<dt><a id="index-compvalues"></a><span><code class="t">compvalues</code><a class="copiable-link" href="#index-compvalues"> &para;</a></span></dt>
<dd><p>与 <code class="t">comparguments</code> 类似，但用于 <code class="t">_values</code> 函数。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fcurses-_6a21_5757">

<h3 class="section" id="zsh_002fcurses-Mo-Kuai-"><span>22.9 zsh/curses 模块<a class="copiable-link" href="#zsh_002fcurses-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/curses</code> 模块提供了一条内置命令和各种参数。
</p>

<div class="subsection-level-extent" id="Nei-Zhi-Cheng-Xu-">
<h4 class="subsection"><span>22.9.1 内置程序<a class="copiable-link" href="#Nei-Zhi-Cheng-Xu-"> &para;</a></span></h4>

<dl class="table">
<dt><a class="index-entry-id" id="index-Chuang-Kou-_002c-curses"></a>
<a id="index-zcurses"></a><span><code class="t">zcurses</code> <code class="t">init</code><a class="copiable-link" href="#index-zcurses"> &para;</a></span></dt>
<dt><code class="t">zcurses</code> <code class="t">end</code></dt>
<dt><code class="t">zcurses</code> <code class="t">addwin</code> <var class="var">targetwin</var> <var class="var">nlines</var> <var class="var">ncols</var> <var class="var">begin_y</var> <var class="var">begin_x</var> [ <var class="var">parentwin</var> ]</dt>
<dt><code class="t">zcurses</code> <code class="t">delwin</code> <var class="var">targetwin</var></dt>
<dt><code class="t">zcurses</code> <code class="t">refresh</code> [ <var class="var">targetwin</var> ... ]</dt>
<dt><code class="t">zcurses</code> <code class="t">touch</code> <var class="var">targetwin</var> ...</dt>
<dt><code class="t">zcurses</code> <code class="t">move</code> <var class="var">targetwin</var> <var class="var">new_y</var> <var class="var">new_x</var></dt>
<dt><code class="t">zcurses</code> <code class="t">clear</code> <var class="var">targetwin</var> [ <code class="t">redraw</code> | <code class="t">eol</code> | <code class="t">bot</code> ]</dt>
<dt><code class="t">zcurses</code> <code class="t">position</code> <var class="var">targetwin</var> <var class="var">array</var></dt>
<dt><code class="t">zcurses</code> <code class="t">char</code> <var class="var">targetwin</var> <var class="var">character</var></dt>
<dt><code class="t">zcurses</code> <code class="t">string</code> <var class="var">targetwin</var> <var class="var">string</var></dt>
<dt><code class="t">zcurses</code> <code class="t">border</code> <var class="var">targetwin</var> <var class="var">border</var></dt>
<dt><code class="t">zcurses</code> <code class="t">attr</code> <var class="var">targetwin</var> [ [<code class="t">+</code>|<code class="t">-</code>]<var class="var">attribute</var> | <var class="var">fg_col</var><code class="t">/</code><var class="var">bg_col</var> ] [...]</dt>
<dt><code class="t">zcurses</code> <code class="t">bg</code> <var class="var">targetwin</var> [ [<code class="t">+</code>|<code class="t">-</code>]<var class="var">attribute</var> | <var class="var">fg_col</var><code class="t">/</code><var class="var">bg_col</var> | <code class="t">@</code><var class="var">char</var> ] [...]</dt>
<dt><code class="t">zcurses</code> <code class="t">scroll</code> <var class="var">targetwin</var> [ <code class="t">on</code> | <code class="t">off</code> | [<code class="t">+</code>|<code class="t">-</code>]<var class="var">lines</var> ]</dt>
<dt><code class="t">zcurses</code> <code class="t">input</code> <var class="var">targetwin</var> [ <var class="var">param</var> [ <var class="var">kparam</var> [ <var class="var">mparam</var> ] ] ]</dt>
<dt><code class="t">zcurses</code> <code class="t">mouse</code> [ <code class="t">delay</code> <var class="var">num</var> | [<code class="t">+</code>|<code class="t">-</code>]<code class="t">motion</code> ]</dt>
<dt><code class="t">zcurses</code> <code class="t">timeout</code> <var class="var">targetwin</var> <var class="var">intval</var></dt>
<dt><code class="t">zcurses</code> <code class="t">querychar</code> <var class="var">targetwin</var> [ <var class="var">param</var> ]</dt>
<dt><code class="t">zcurses</code> <code class="t">resize</code> <var class="var">height</var> <var class="var">width</var> [ <code class="t">endwin</code> | <code class="t">nosave</code> | <code class="t">endwin_nosave</code> ]</dt>
<dd><p>操作 curses 窗口。 所有使用该命令的操作都应在括号中加上 &lsquo;<code class="t">zcurses init</code>&rsquo; ，以初始化 curses 的使用，以及
&lsquo;<code class="t">zcurses end</code>&rsquo; ，以结束 curses 的使用；省略 &lsquo;<code class="t">zcurses end</code>&rsquo; 可能会导致终端处于不需要的状态。
</p>
<p>子命令 <code class="t">addwin</code> 将创建一个具有 <var class="var">nlines</var> 行和 <var class="var">ncols</var> 列的窗口。 窗口的左上角将位于屏幕的
<var class="var">begin_y</var> 行和 <var class="var">begin_x</var> 列。 <var class="var">targetwin</var> 是一个字符串，指向当前未分配的窗口名称。
需要特别注意的是，curses 约定垂直数值显示在水平数值之前。
</p>
<p>如果 <code class="t">addwin</code> 的最终参数是一个现有窗口，那么新窗口将作为 <var class="var">parentwin</var> 的子窗口创建。
这与普通新建窗口的不同之处在于，窗口内容的内存与父窗口的内存共享。 子窗口必须先于父窗口删除。
请注意，子窗口的坐标是相对于屏幕而非父窗口的，这一点与其他窗口相同。
</p>
<p>使用子命令 <code class="t">delwin</code> 删除用 <code class="t">addwin</code> 创建的窗口。 请注意，<code class="t">end</code> <em class="emph">不会</em> 隐式删除窗口，而且
<code class="t">delwin</code> 不会擦除窗口的屏幕图像。
</p>
<p>与完整可见屏幕相对应的窗口称为 <code class="t">stdscr</code>；它始终存在于 &lsquo;<code class="t">zcurses init</code>&rsquo; 之后，且无法通过 <code class="t">delwin</code> 删除。
</p>
<p>子命令 <code class="t">refresh</code> 将刷新窗口 <var class="var">targetwin</var>；这对于在屏幕上显示任何待处理的更改（例如使用 <code class="t">char</code>
准备输出的字符）是必要的。 不带参数的 <code class="t">refresh</code> 会清空并重新绘制屏幕。 如果给定了多个窗口，屏幕会在最后更新一次。
</p>
<p>子命令 <code class="t">touch</code> 会将列出的 <var class="var">targetwin</var> 标记为已更改。 如果删除了位于另一个窗口（可能是
<code class="t">stdscr</code>）前面的窗口，则在 <code class="t">refresh</code> 操作窗口前必须执行此操作。
</p>
<p>子命令 <code class="t">move</code> 会将 <var class="var">targetwin</var> 中的光标位置移动到新坐标 <var class="var">new_y</var> 和 <var class="var">new_x</var> 上。
需要注意的是，子命令 <code class="t">string</code>（但不包括子命令 <code class="t">char</code>）会将光标位置移动到添加的字符上。
</p>
<p>子命令 <code class="t">clear</code> 会清除 <var class="var">targetwin</var> 中的内容。 可以指定三个选项中的一个（最多一个）。 如果使用选项
<code class="t">redraw</code>，则 <var class="var">targetwin</var> 的下一次 <code class="t">refresh</code> 将导致屏幕被清除并重新绘制。 如果使用选项
<code class="t">eol</code>，<var class="var">targetwin</var> 只清除到当前光标行的末尾。 如果使用选项 <code class="t">bot</code>，<var class="var">targetwin</var>
会被清除到窗口的末尾，即到光标右侧和下方的所有内容都会被清除。
</p>
<p>子命令 <code class="t">position</code> 会将与 <var class="var">targetwin</var> 相关的各种位置写入名为 <var class="var">array</var> 的数组中。 这些位置依次是:
</p><dl class="table">
<dt>-</dt>
<dd><p>光标相对于 <var class="var">targetwin</var> 左上角的 y 和 x 坐标
</p></dd>
<dt>-</dt>
<dd><p>屏幕上 <var class="var">targetwin</var> 左上角的 y 和 x 坐标
</p></dd>
<dt>-</dt>
<dd><p><var class="var">targetwin</var> 在 y 和 x 维度上的大小。
</p></dd>
</dl>

<p>字符和字符串的输出分别由 <code class="t">char</code> 和 <code class="t">string</code> 实现。
</p>
<p>要在 <var class="var">targetwin</var> 窗口周围绘制边框，请使用 <code class="t">border</code>。
请注意，边框随后不会被特殊处理：换句话说，边框只是在窗口边缘输出的一组字符。 因此，它可以被覆盖，也可以从窗口滚动出去，等等。
</p>
<p>子命令 <code class="t">attr</code> 将为任何连续输出的字符设置 <var class="var">targetwin</var> 的属性或前景/背景颜色对。 行中给出的每个
<var class="var">attribute</var> 都可以用 <code class="t">+</code> 作为前缀来设置或用 <code class="t">-</code> 作前缀来取消设置；如果没有前缀，则默认为 <code class="t">+</code>。
支持的属性有 <code class="t">blink</code>、<code class="t">bold</code>、<code class="t">dim</code>、<code class="t">reverse</code>、<code class="t">standout</code> 和 <code class="t">underline</code>。
</p>
<p>每个 <var class="var">fg_col</var><code class="t">/</code><var class="var">bg_col</var> 属性（可理解为 &lsquo;<var class="var">fg_col</var> on
<var class="var">bg_col</var>&rsquo;）都设置了字符输出的前景色和背景色。 有时也可以使用颜色 <code class="t">default</code>（特别是当库为 ncurses
时），指定终端启动时的前景色或背景色。 颜色对 <code class="t">default/default</code> 始终可用。要使用多于 8 种指定颜色（红色、绿色等），请构建
<var class="var">fg_col</var><code class="t">/</code><var class="var">bg_col</var> 对，其中 <var class="var">fg_col</var> 和 <var class="var">bg_col</var> 均为十进制整数，例如
<code class="t">128/200</code>。 如果终端支持 256 种颜色，则最大颜色值为 254。
</p>
<p><code class="t">bg</code> 会覆盖窗口中所有字符的颜色和其他属性。 它通常用于设置初始背景，但在调用时会覆盖任何字符的属性。 除了 <code class="t">attr</code>
允许的参数外，参数 <code class="t">@</code><var class="var">char</var> 还可以指定要在窗口空白区域显示的字符。
由于curses的限制，这个字符不能是多字节字符（建议只使用ASCII字符）。
由于指定的属性集会覆盖现有的背景，因此在参数中关闭属性并无用处，但不会导致错误。
</p>
<p>子命令 <code class="t">scroll</code> 可以与 <code class="t">on</code> 或 <code class="t">off</code> 一起使用，当光标因输入或输出而移动到窗口下方时，可以启用或禁用窗口滚动。
它还可以与一个正整数或负整数一起使用，在不改变当前光标位置的情况下向上或向下滚动指定行数的窗口（因此，光标相对于窗口的移动方向看起来是相反的）。
在第二种情况下，如果滚动是 <code class="t">off</code>，则会暂时转为 <code class="t">on</code>，以允许窗口滚动。
</p>
<p>子命令 <code class="t">input</code> 从窗口读取一个字符，但不回传。 如果提供了 <var class="var">param</var>，则字符会被赋值给参数
<var class="var">param</var>，否则会赋值给参数 <code class="t">REPLY</code>。
</p>
<p>如果同时提供 <var class="var">param</var> 和 <var class="var">kparam</var>，按键将以 &lsquo;keypad&rsquo; 模式读取。
在这种模式下，特殊按键（如功能键和方向键）会返回参数 <var class="var">kparam</var> 中的按键名称。 按键名称是 <code class="t">curses.h</code> 或
<code class="t">ncurses.h</code> 中定义的宏，去掉了前缀 &lsquo;<code class="t">KEY_</code>&rsquo; ；另请参阅下面参数 <code class="t">zcurses_keycodes</code> 的描述。
其他键值会像之前一样在 <var class="var">param</var> 中设置一个值。 成功返回时，只有 <var class="var">param</var> 或 <var class="var">kparam</var>
中的一个包含非空字符串，另一个将被设置为空字符串。
</p>
<p>如果同时提供 <var class="var">mparam</var>，<code class="t">input</code> 将尝试处理鼠标输入。 只有在使用 ncurses 库时才能使用；可以通过不带参数检查
&lsquo;<code class="t">zcurses mouse</code>&rsquo; 的退出状态来检测鼠标处理。
如果鼠标按键被点击（或双击或三击，或按下或释放时有可配置的延迟），<var class="var">kparam</var> 将被设置为字符串
<code class="t">MOUSE</code>，<var class="var">mparam</var> 将被设置为由以下元素组成的数组：
</p><dl class="table">
<dt>-</dt>
<dd><p>用于区分不同输入设备的标识符；这种标识符很少有用。
</p></dd>
<dt>-</dt>
<dd><p>鼠标点击时相对于全屏的 x、y 和 z 坐标，这三个元素按顺序排列（即 y 坐标不同寻常地位于 x 坐标之后）。 z
坐标只适用于少数特殊的输入设备，否则将设为零。
</p></dd>
<dt>-</dt>
<dd><p>作为单独项目发生的任何事件；通常只有一个。 一个事件包括 <code class="t">PRESSED</code>, <code class="t">RELEASED</code>, <code class="t">CLICKED</code>,
<code class="t">DOUBLE_CLICKED</code> 或 <code class="t">TRIPLE_CLICKED</code> ，紧接着（在同一元素中）是按钮的编号。
</p></dd>
<dt>-</dt>
<dd><p>如果按下了 shift 键，则字符串 <code class="t">SHIFT</code>。
</p></dd>
<dt>-</dt>
<dd><p>如果按下的是 control 键，则字符串 <code class="t">CTRL</code>。
</p></dd>
<dt>-</dt>
<dd><p>如果按下了 alt 键，则字符串 <code class="t">ALT</code>。
</p></dd>
</dl>

<p>并非所有鼠标事件都会传递到终端窗口；大多数终端模拟器都会自行处理某些鼠标事件。 请注意，ncurses
手册暗示，在有鼠标处理和没有鼠标处理的情况下使用输入时，都可能导致鼠标光标出现和消失。
</p>
<p>子命令 <code class="t">mouse</code> 可用于配置鼠标的使用。 没有窗口参数，鼠标选项是全局的。 如果可以处理鼠标，不带参数的&lsquo;<code class="t">zcurses mouse</code>&rsquo;
返回状态 0，否则返回状态 1。 否则，可能的参数（可以在同一命令行中组合）如下。  <code class="t">delay</code> <var class="var">num</var>
以毫秒为单位设置鼠标按下和松开之间的最大延迟时间，该延迟时间将被视为一次点击；值 0 将禁用点击解析，默认值为六分之一秒。
<code class="t">motion</code>后接一个可选的 &lsquo;<code class="t">+</code>&rsquo; （默认）或 <code class="t">-</code> ，用于打开或关闭除始终报告的点击、按下和释放之外的鼠标动作报告。
不过，目前似乎还没有实现对鼠标动作的报告。
</p>
<p>子命令 <code class="t">timeout</code> 指定了从 <var class="var">targetwin</var> 输入的超时值。 如果 <var class="var">intval</var> 为负值，
&lsquo;<code class="t">zcurses input</code>&rsquo; 将无限期等待输入字符；这是默认情况。 如果 <var class="var">intval</var> 为零，&lsquo;<code class="t">zcurses
input</code>&rsquo; 立即返回；如果有预输入数据，则返回该数据；否则不进行输入，并返回状态码1。 如果 <var class="var">intval</var>
为正值，&lsquo;<code class="t">zcurses input</code>&rsquo; 会等待 <var class="var">intval</var> 毫秒，如果等待时间结束时没有输入，则返回状态 1。
</p>
<p>子命令 <code class="t">querychar</code> 用于查询当前光标位置的字符。 如果提供了返回值，则将其存储在名为 <var class="var">param</var> 的数组中，否则将其存储在
<code class="t">reply</code> 数组中。 第一个值是字符（如果系统支持多字节字符，则可以是多字节字符）；第二个值是颜色对，采用通常的
<var class="var">fg_col</var><code class="t">/</code><var class="var">bg_col</var> 符号，如果不支持颜色，则为 <code class="t">0</code>。 除颜色外，任何适用于字符的属性（如子命令
<code class="t">attr</code> 所设置）都会作为附加元素出现。
</p>
<p>子命令 <code class="t">resize</code> 会将 <code class="t">stdscr</code> 和所有窗口的大小调整到给定尺寸（超出新尺寸的窗口会被缩小）。底层的 curses
扩展（<code class="t">resize_term 调用</code>）可能不可用。为了验证，可以在 <var class="var">height</var> 和 <var class="var">width</var>
中使用零。如果子命令的结果为 <code class="t">0</code>，则 resize_term 可用（否则为 <code class="t">2</code>）。测试表明，调整大小通常可以通过调用
<code class="t">zcurses end</code> 和 <code class="t">zcurses refresh</code> 来完成。提供 <code class="t">resize</code>
子命令是为了实现多功能性。在检查了多系统配置后，仍需要 <code class="t">zcurses end</code> 和 <code class="t">zcurses refresh</code>
,在调整大小后获得正确的终端状态。要通过 <code class="t">resize</code> 调用它们，请使用 <var class="var">endwin</var> 参数。 使用 <var class="var">nosave</var>
参数将导致 <code class="t">zcurses</code> 内部不保存新的终端状态。这也是为多功能性而提供的，一般情况下不需要。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Can-Shu--1">
<h4 class="subsection"><span>22.9.2 参数<a class="copiable-link" href="#Can-Shu--1"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-ZCURSES_005fCOLORS"></a><span><code class="t">ZCURSES_COLORS</code><a class="copiable-link" href="#index-ZCURSES_005fCOLORS"> &para;</a></span></dt>
<dd><p>只读整数。 终端支持的最大颜色数。 该值由 curses 库初始化，在首次运行 <code class="t">zcurses init</code> 之前不可用。
</p>
</dd>
<dt><a id="index-ZCURSES_005fCOLOR_005fPAIRS"></a><span><code class="t">ZCURSES_COLOR_PAIRS</code><a class="copiable-link" href="#index-ZCURSES_005fCOLOR_005fPAIRS"> &para;</a></span></dt>
<dd><p>只读整数。 &lsquo;<code class="t">zcurses attr</code>&rsquo; 命令中可定义的颜色对 <var class="var">fg_col</var><code class="t">/</code><var class="var">bg_col</var>
的最大数量；注意该限制适用于所有已使用过的颜色对，无论其当前是否处于活动状态。 该值由 curses 库初始化，在首次运行 <code class="t">zcurses
init</code> 之前不可用。
</p>
</dd>
<dt><a id="index-zcurses_005fattrs"></a><span><code class="t">zcurses_attrs</code><a class="copiable-link" href="#index-zcurses_005fattrs"> &para;</a></span></dt>
<dd><p>只读数组。 <code class="t">zsh/curses</code> 支持的属性；模块加载后立即可用。
</p>
</dd>
<dt><a id="index-zcurses_005fcolors"></a><span><code class="t">zcurses_colors</code><a class="copiable-link" href="#index-zcurses_005fcolors"> &para;</a></span></dt>
<dd><p>只读数组。 <code class="t">zsh/curses</code> 支持的颜色；模块加载后立即可用。
</p>
</dd>
<dt><a id="index-zcurses_005fkeycodes"></a><span><code class="t">zcurses_keycodes</code><a class="copiable-link" href="#index-zcurses_005fkeycodes"> &para;</a></span></dt>
<dd><p>只读数组。 在 &lsquo;<code class="t">zcurses input</code>&rsquo; 的第二个参数中,可能返回一系列值，这些值按照curses内部定义的顺序排列。
并非所有功能键都会列出，只有 <code class="t">F0</code>；curses 为 <code class="t">F0</code> 至 <code class="t">F63</code> 保留了空间。
</p>
</dd>
<dt><a id="index-zcurses_005fwindows"></a><span><code class="t">zcurses_windows</code><a class="copiable-link" href="#index-zcurses_005fwindows"> &para;</a></span></dt>
<dd><p>只读数组。 当前窗口列表，即所有使用&lsquo;<code class="t">zcurses addwin</code>&rsquo; 创建、未使用 &lsquo;<code class="t">zcurses delwin</code>&rsquo; 删除的窗口。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002fdatetime-_6a21_5757">

<h3 class="section" id="zsh_002fdatetime-Mo-Kuai-"><span>22.10 zsh/datetime 模块<a class="copiable-link" href="#zsh_002fdatetime-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/datetime</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Ri-Qi-Zi-Fu-Chuan-_002c-Da-Yin-"></a>
<a id="index-strftime"></a><span><code class="t">strftime</code> [ <code class="t">-s</code> <var class="var">scalar</var> | <code class="t">-n</code> ] <var class="var">format</var> [ <var class="var">epochtime</var> [ <var class="var">nanoseconds</var> ] ]<a class="copiable-link" href="#index-strftime"> &para;</a></span></dt>
<dt><code class="t">strftime</code> <code class="t">-r</code> [ <code class="t">-q</code> ] [ <code class="t">-s</code> <var class="var">scalar</var> | <code class="t">-n</code> ] <var class="var">format</var> <var class="var">timestring</var></dt>
<dd><p>以指定的 <var class="var">format</var> 格式输出日期。 如果没有 <var class="var">epochtime</var>，则使用当前的系统日期/时间；可以选择使用
<var class="var">epochtime</var> 指定从纪元开始的秒数，还可以使用 <var class="var">nanoseconds</var> 指定秒后的纳秒数（否则该数字被假定为 0）。
详情请参阅 strftime(3)。 还可以使用 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a> 中描述的 zsh 扩展。
</p>
<dl class="table">
<dt><code class="t">-n</code></dt>
<dd><p>抑制在格式化字符串后打印换行符。
</p>
</dd>
<dt><code class="t">-q</code></dt>
<dd><p>静音运行；禁止打印以下所有错误信息。 对于无效的 <var class="var">epochtime</var> 值，错误信息始终会被打印。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>通过选项 <code class="t">-r</code>（反向），使用 <var class="var">format</var> 解析输入字符串 <var class="var">timestring</var> 并输出自纪元起的秒数。 解析由系统函数
<code class="t">strptime</code> 实现；请参阅 strptime(3)。 这意味着无法使用 zsh 格式扩展，但反向查找时不需要这些扩展。
</p>
<p>在 <code class="t">strftime</code> 的大多数实现中，<var class="var">timestring</var> 中的任何时区都会被忽略，而使用 <code class="t">TZ</code>
环境变量声明的本地时区；其他参数如果不存在，则设置为 0。
</p>
<p>如果 <var class="var">timestring</var> 与 <var class="var">format</var> 不匹配，命令将返回状态 1 并打印错误信息。 如果
<var class="var">timestring</var> 与 <var class="var">format</var> 匹配，但未使用 <var class="var">timestring</var>
中的所有字符，则转换成功，但也会打印错误信息。
</p>
<p>如果系统函数 <code class="t">strptime</code> 或 <code class="t">mktime</code> 不可用，则返回状态 2 并打印错误信息。
</p>
</dd>
<dt><code class="t">-s</code> <var class="var">scalar</var></dt>
<dd><p>将日期字符串（或以秒为单位的纪元(epoch)时间，如果给定了 <code class="t">-r</code>）赋值给 <var class="var">scalar</var>，而不是打印出来。
</p>
</dd>
</dl>

<p>请注意，根据系统声明的整型时间类型，<code class="t">strftime</code> 可能会在纪元时间大于 2147483647（相当于 2038-01-19 03:14:07
+0000 ）时产生错误结果。
</p>
</dd>
</dl>

<p><code class="t">zsh/datetime</code> 模块提供了多个参数；所有参数都是只读参数：
</p>
<dl class="table">
<dt><a id="index-EPOCHREALTIME"></a><span><code class="t">EPOCHREALTIME</code><a class="copiable-link" href="#index-EPOCHREALTIME"> &para;</a></span></dt>
<dd><p>一个浮点数值，代表自纪元(epoch)开始的秒数。 如果 <code class="t">clock_gettime</code>
调用可用，则名义精度为纳秒，否则为微秒，但在实际应用中，双精度浮点范围和 shell 调度延迟可能会产生重大影响。
</p>
</dd>
<dt><a id="index-EPOCHSECONDS"></a><span><code class="t">EPOCHSECONDS</code><a class="copiable-link" href="#index-EPOCHSECONDS"> &para;</a></span></dt>
<dd><p>一个整数值，表示自 epoch 开始的秒数。
</p>
</dd>
<dt><a id="index-epochtime"></a><span><code class="t">epochtime</code><a class="copiable-link" href="#index-epochtime"> &para;</a></span></dt>
<dd><p>一个数组值，第一个元素包含自纪元(epoch)以来的秒数，第二个元素包含自纪元以来的剩余(remainder)时间（纳秒）。
为确保两个元素的一致性，在使用数值之前，应将数组复制或以其他方式引用为一个单一的替代值。 可以使用以下成语：
</p>
<div class="example">
<pre class="example-preformatted">for secs nsecs in $epochtime; do
  ...
done
</pre></div>


</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fdb_002fgdbm-_6a21_5757">

<h3 class="section" id="zsh_002fdb_002fgdbm-Mo-Kuai-"><span>22.11 zsh/db/gdbm 模块<a class="copiable-link" href="#zsh_002fdb_002fgdbm-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/db/gdbm</code> 模块用于创建与数据库文件接口的 &quot;绑定 &quot;关联数组。 如果 GDBM 接口不可用，本模块定义的内置程序将报错。
本模块也是用于创建其他数据库接口的原型，因此 <code class="t">ztie</code> 内置函数将来可能会移到更通用的模块。
</p>
<p>该模块中的内置程序包括:
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Shu-Ju-Ku-Bang-Ding-Shu-Zu-_002c-Chuang-Jian-"></a>
<a id="index-ztie"></a><span><code class="t">ztie -d db/gdbm -f</code> <var class="var">filename</var> [ <code class="t">-r</code> ] <var class="var">arrayname</var><a class="copiable-link" href="#index-ztie"> &para;</a></span></dt>
<dd><p>打开由 <var class="var">filename</var> 标识的 GDBM 数据库，如果成功，则创建与文件关联的关联数组 <var class="var">arrayname</var>。
要创建本地绑定数组，必须先声明参数，因此类似下面的命令将在函数作用域内执行：
</p>
<div class="example">
<pre class="example-preformatted">local -A sampledb
ztie -d db/gdbm -f sample.gdbm sampledb
</pre></div>

<p><code class="t">-r</code> 选项打开的数据库文件只能读取，并创建一个带有只读属性的参数。 如果不使用该选项，在用户没有写权限的文件上使用 &lsquo;<code class="t">ztie</code>&rsquo;
将导致错误。 如果数据库是可写的，则会同步打开，因此 <var class="var">arrayname</var> 中更改的字段会立即写入 <var class="var">filename</var>。
</p>
<p>打开文件后,对文件模式 <var class="var">filename</var> 的更改,不会改变 <var class="var">arrayname</var> 的状态，但是 &lsquo;<code class="t">typeset -r</code>
<var class="var">arrayname</var>&rsquo; 如预期一样工作。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Bang-Ding-Dao-Shu-Ju-Ku-De-Shu-Zu-_002c-Cui-Hui-"></a>
<a id="index-zuntie"></a><span><code class="t">zuntie</code> [ <code class="t">-u</code> ] <var class="var">arrayname</var> ...<a class="copiable-link" href="#index-zuntie"> &para;</a></span></dt>
<dd><p>关闭与每个 <var class="var">arrayname</var> 关联的 GDBM 数据库，然后取消设置参数。 <code class="t">-u</code> 选项会强制取消设置用 &lsquo;<code class="t">ztie -r</code>&rsquo;
设为只读的参数。
</p>
<p>如果参数被显式取消设置(unset)或其本地作用域（函数）结束，则会自动发生。 请注意，只读参数不能显式取消设置，因此取消设置使用 &lsquo;<code class="t">ztie
-r</code>&rsquo; 创建的全局参数的唯一方法是使用 &lsquo;<code class="t">zuntie -u</code>&rsquo;。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Shu-Ju-Ku-WenJian-Lu-Jing-_002c-Du-Qu-"></a>
<a id="index-zgdbmpath"></a><span><code class="t">zgdbmpath</code> <var class="var">parametername</var><a class="copiable-link" href="#index-zgdbmpath"> &para;</a></span></dt>
<dd><p>将分配给 <var class="var">parametername</var> 的数据库文件路径放入 <code class="t">REPLY</code> 标量。
</p>
</dd>
<dt><a class="index-entry-id" id="index-Shu-Ju-Ku-Bang-Ding-De-Shu-Zu-_002c-Mei-Ju-"></a>
<a id="index-zgdbm_005ftied"></a><span><code class="t">zgdbm_tied</code><a class="copiable-link" href="#index-zgdbm_005ftied"> &para;</a></span></dt>
<dd><p>包含所有绑定参数名称的数组。
</p>
</dd>
</dl>

<p>与 GDBM 绑定的关联数组的字段既不会被缓存，也不会以其他方式存储在内存中，而是在每次引用时从数据库中读取或写入。
因此，例如，同一数据库文件的第二个写入者可能会更改只读数组中的值。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fdeltochar-_6a21_5757">

<h3 class="section" id="zsh_002fdeltochar-Mo-Kuai-"><span>22.12 zsh/deltochar 模块<a class="copiable-link" href="#zsh_002fdeltochar-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/deltochar</code> 模块提供了两个 ZLE 函数：
</p>
<dl class="table">
<dt><a id="index-delete_002dto_002dchar"></a><span><code class="t">delete-to-char</code><a class="copiable-link" href="#index-delete_002dto_002dchar"> &para;</a></span></dt>
<dd><p>从键盘读取一个字符，然后从光标位置开始删除，直至并包括该字符的下一个（或,带有重复次数 <var class="var">n</var> 时，第 <var class="var">n</var> 个）实例。
负重复次数表示向后(backword)删除。
</p>
</dd>
<dt><a id="index-zap_002dto_002dchar"></a><span><code class="t">zap-to-char</code><a class="copiable-link" href="#index-zap_002dto_002dchar"> &para;</a></span></dt>
<dd><p>其行为与 <code class="t">delete-to-char</code>类似，只是不会删除最后出现的字符本身。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fexample-_6a21_5757">

<h3 class="section" id="zsh_002fexample-Mo-Kuai-"><span>22.13 zsh/example 模块<a class="copiable-link" href="#zsh_002fexample-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/example</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Mo-Kuai-_002c-example"></a>
<a class="index-entry-id" id="index-Mo-Kuai-_002c-Bian-Xie-"></a>
<a class="index-entry-id" id="index-Bian-Xie-Mo-Kuai-"></a>
<a id="index-example"></a><span><code class="t">example</code> [ <code class="t">-flags</code> ] [ <var class="var">args</var> ... ]<a class="copiable-link" href="#index-example"> &para;</a></span></dt>
<dd><p>显示调用时的标志和参数。
</p>
</dd>
</dl>

<p>该模块的目的是作为如何编写模块的范例。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002ffiles-_6a21_5757">

<h3 class="section" id="zsh_002ffiles-Mo-Kuai-"><span>22.14 zsh/files 模块<a class="copiable-link" href="#zsh_002ffiles-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-WenJian-_002c-Cao-Zuo-"></a>
<p><code class="t">zsh/files</code> 模块提供了一些用于文件操作的内置常用命令；这些命令在许多正常情况下可能并不需要，但在资源有限的紧急恢复情况下可能很有用。
这些命令并未实现相关标准委员会目前要求的所有功能。
</p>
<p>对于所有命令，以 <code class="t">zf_</code> 开头的变量也是可用的，并会自动加载。 使用 zmodload 的特性功能可以让你只加载你想要的名称。
请注意，使用以下命令可以只加载具有 zsh 特定名称的内置程序：
</p>
<div class="example">
<pre class="example-preformatted">zmodload -m -F zsh/files b:zf_\*
</pre></div>

<p>默认加载的命令有:
</p>
<dl class="table">
<dt><a id="index-chgrp"></a><span><code class="t">chgrp</code> [ <code class="t">-hRs</code> ] <var class="var">group</var> <var class="var">filename</var> ...<a class="copiable-link" href="#index-chgrp"> &para;</a></span></dt>
<dd><p>更改指定文件的组。 这等同于 <code class="t">chown</code>，其 <var class="var">user-spec</var> 参数为 &lsquo;<code class="t">:</code><var class="var">group</var>&rsquo;。
</p>
</dd>
<dt><a id="index-chmod"></a><span><code class="t">chmod</code> [ <code class="t">-Rs</code> ] <var class="var">mode</var> <var class="var">filename</var> ...<a class="copiable-link" href="#index-chmod"> &para;</a></span></dt>
<dd><p>更改指定文件的模式。
</p>
<p>指定的 <var class="var">mode</var> 必须是八进制。
</p>
<p><code class="t">-R</code> 选项会使 <code class="t">chmod</code> 向下递归到目录，在改变目录本身的模式后，再改变目录中所有文件的模式。
</p>
<p><code class="t">-s</code> 选项是 zsh 对 <code class="t">chmod</code> 功能的扩展。 它启用了偏执行为，旨在避免因 <code class="t">chmod</code> 被欺骗而影响其他文件的安全问题。
它会拒绝跟踪符号链接，因此（例如）如果 <code class="t">/tmp/foo</code> 恰好是 <code class="t">/etc</code> 的链接， &ldquo;<code class="t">chmod 600
/tmp/foo/passwd</code>&rdquo; 就不会意外 chmod <code class="t">/etc/passwd</code> 。
它还会检查离开目录后的位置，这样深目录树的递归 chmod 就不会因为目录向上移动而对 <code class="t">/usr</code> 进行递归 chmod。
</p>
</dd>
<dt><a id="index-chown"></a><span><code class="t">chown</code> [ <code class="t">-hRs</code> ] <var class="var">user-spec</var> <var class="var">filename</var> ...<a class="copiable-link" href="#index-chown"> &para;</a></span></dt>
<dd><p>更改指定文件的所有权和群组。
</p>
<p><var class="var">user-spec</var> 可以有四种形式：
</p>
<dl class="table">
<dt><var class="var">user</var></dt>
<dd><p>将所有者更改为 <var class="var">user</var>；不更改组
</p></dd>
<dt><var class="var">user</var><code class="t">::</code></dt>
<dd><p>将所有者更改为 <var class="var">user</var>；不更改组
</p></dd>
<dt><var class="var">user</var><code class="t">:</code></dt>
<dd><p>将所有者更改为 <var class="var">user</var>；将组更改为 <var class="var">user</var> 的主组
</p></dd>
<dt><var class="var">user</var><code class="t">:</code><var class="var">group</var></dt>
<dd><p>将所有者更改为 <var class="var">user</var>；将组更改为 <var class="var">group</var>
</p></dd>
<dt><code class="t">:</code><var class="var">group</var></dt>
<dd><p>不要更改所有者；将组更改为 <var class="var">group</var>
</p></dd>
</dl>

<p>在每种情况下， &lsquo;<code class="t">:</code>&rsquo; 都可能是 &lsquo;<code class="t">.</code>&rsquo;。 规则是，如果有一个  &lsquo;<code class="t">:</code>&rsquo; ，那么分隔符就是 &lsquo;<code class="t">:</code>&rsquo;，否则，如果有一个
&lsquo;<code class="t">.</code>&rsquo;，那么分隔符就是 &lsquo;<code class="t">.</code>&rsquo;，否则就没有分隔符。
</p>
<p>每个 <var class="var">user</var> 和 <var class="var">group</var> 都可以是用户名（或组名，视情况而定）或十进制用户 ID（组 ID）。
如果存在全数字用户名（或组名），则优先解释为名称。
</p>
<p>如果目标是符号链接，<code class="t">-h</code>选项会导致 <code class="t">chown</code> 设置链接的所有权，而不是目标。
</p>
<p><code class="t">-R</code> 选项会使 <code class="t">chown</code> 向下递归到目录中，在更改目录本身的所有权后，再更改目录中所有文件的所有权。
</p>
<p><code class="t">-s</code> 选项是 zsh 对 <code class="t">chown</code> 功能的扩展。 它启用了偏执行为，旨在避免因 <code class="t">chown</code> 被欺骗而影响其他文件的安全问题。
它会拒绝跟踪符号链接，因此（例如），如果 <code class="t">/tmp/foo</code> 恰好是 <code class="t">/etc</code> 的链接， &ldquo;<code class="t">chown
luser /tmp/foo/passwd</code>&rdquo; 就不会意外地 chown <code class="t">/etc/passwd</code>。
它还会检查离开目录后的位置，这样在对深目录树进行递归 chown 时，就不会因为目录被上移而对 <code class="t">/usr</code> 进行递归 chown。
</p>
</dd>
<dt><a id="index-Zai-Xia-Mian-"></a><span><code class="t">ln</code> [ <code class="t">-dfhins</code> ] <var class="var">filename</var> <var class="var">dest</var><a class="copiable-link" href="#index-Zai-Xia-Mian-"> &para;</a></span></dt>
<dt><code class="t">ln</code> [ <code class="t">-dfhins</code> ] <var class="var">filename</var> ... <var class="var">dir</var></dt>
<dd><p>创建硬链接（或使用 <code class="t">-s</code> 创建符号链接）。 第一种形式是创建指定 <var class="var">dest</var> 目标，作为指向指定 <var class="var">filename</var>
的链接。 在第二种形式中，每个 <var class="var">filename</var>s 将依次链接到指定 <var class="var">dir</var> 目录中具有相同最后路径名组件的路径名。
</p>
<p>通常情况下，<code class="t">ln</code> 不会尝试创建指向目录的硬链接。 可以使用 <code class="t">-d</code> 选项覆盖这一检查。 通常只有超级用户才能成功创建指向目录的硬链接。
这在任何情况下都不适用于符号链接。
</p>
<p>默认情况下，现有文件不能被链接替换。 <code class="t">-i</code> 选项会询问用户是否替换现有文件。 而 <code class="t">-f</code> 选项则会默默删除现有文件，无需询问。
<code class="t">-f</code> 优先。
</p>
<p><code class="t">-h</code> 和 <code class="t">-n</code> 选项完全相同，都是为了兼容性而存在；其中任何一个都表示，如果目标是一个符号链接，则不应解引用。 通常情况下，该选项与
<code class="t">-sf</code> 结合使用，这样一来，如果现有链接指向一个目录，则该链接将被移除，而不是被跟踪。
如果该选项与多个文件名一起使用，且目标是指向目录的符号链接，则结果会出错。
</p>
</dd>
<dt><a id="index-mkdir"></a><span><code class="t">mkdir</code> [ <code class="t">-p</code> ] [ <code class="t">-m</code> <var class="var">mode</var> ] <var class="var">dir</var> ...<a class="copiable-link" href="#index-mkdir"> &para;</a></span></dt>
<dd><p>创建目录。 使用 <code class="t">-p</code> 选项时，如果有必要，会首先创建不存在的父目录，如果目录已经存在，则不会有任何抱怨。 可以使用 <code class="t">-m</code>
选项为创建的目录指定一组文件权限（八进制），否则将使用经当前 <code class="t">umask</code> 修改的 777 模式（参见 umask(2) ）。
</p>
</dd>
<dt><a id="index-mv"></a><span><code class="t">mv</code> [ <code class="t">-fi</code> ] <var class="var">filename</var> <var class="var">dest</var><a class="copiable-link" href="#index-mv"> &para;</a></span></dt>
<dt><code class="t">mv</code> [ <code class="t">-fi</code> ] <var class="var">filename</var> ... <var class="var">dir</var></dt>
<dd><p>移动文件。 第一种形式是将指定的 <var class="var">filename</var> 移动到指定的 <var class="var">dest</var> 目的地。 第二种形式是依次将每个
<var class="var">filename</var>s 移动到指定 <var class="var">dir</var> 目录中具有相同最后路径名组件的路径名中。
</p>
<p>默认情况下，在替换任何用户无法写入的文件前都会询问用户，但可写入的文件会被静默删除。 <code class="t">-i</code> 选项会在替换任何现有文件时询问用户。 而
<code class="t">-f</code> 选项则会在不询问用户的情况下默默删除任何现有文件。 <code class="t">-f</code> 优先。
</p>
<p>请注意，此 <code class="t">mv</code> 不会跨设备移动文件。 历史版本的 <code class="t">mv</code>
在无法进行实际重命名时，会退回到复制和删除文件的方式；如果需要这种行为，请手动使用 <code class="t">cp</code> 和 <code class="t">rm</code>。 未来版本可能会对此进行修改。
</p>
</dd>
<dt><a id="index-rm"></a><span><code class="t">rm</code> [ <code class="t">-dfiRrs</code> ] <var class="var">filename</var> ...<a class="copiable-link" href="#index-rm"> &para;</a></span></dt>
<dd><p>删除指定的文件和目录。
</p>
<p>通常情况下，<code class="t">rm</code> 不会删除目录（使用 <code class="t">-R</code> 或 <code class="t">-r</code> 选项时除外）。 <code class="t">-d</code> 选项会让 <code class="t">rm</code> 尝试使用
<code class="t">unlink</code>（参见 unlink(2)）删除目录，这与删除文件的方法相同。 通常只有超级用户才能通过这种方法成功删除目录。 <code class="t">-d</code> 优先于
<code class="t">-R</code> 和 <code class="t">-r</code>。
</p>
<p>默认情况下，删除任何用户无法写入的文件前都会询问用户，但可写入的文件会被静默删除。 <code class="t">-i</code> 选项会在删除任何文件时询问用户。
<code class="t">-f</code>选项会导致静默删除文件，无需询问，并抑制所有错误提示。 <code class="t">-f</code> 优先。
</p>
<p><code class="t">-R</code> 和 <code class="t">-r</code> 选项会使 <code class="t">rm</code> 以递归方式进入目录，删除目录中的所有文件，然后再使用 <code class="t">rmdir</code> 系统调用删除目录（参见
rmdir(2)）。
</p>
<p><code class="t">-s</code> 选项是 zsh 对 <code class="t">rm</code> 功能的扩展。 它启用了偏执行为，旨在避免常见的安全问题，即 root 运行的 <code class="t">rm</code>
会被诱骗删除预期之外的文件。 它会拒绝跟踪符号链接，因此（例如）如果 <code class="t">/tmp/foo</code> 恰好是 <code class="t">/etc</code>
的链接，&ldquo;<code class="t">rm /tmp/foo/passwd</code>&rdquo; 就不会意外删除 <code class="t">/etc/passwd</code> 。
它还会检查离开目录后的位置，这样在递归删除深目录树时，就不会因为目录被上移而递归删除 <code class="t">/usr</code>。
</p>
</dd>
<dt><a id="index-rmdir"></a><span><code class="t">rmdir</code> <var class="var">dir</var> ...<a class="copiable-link" href="#index-rmdir"> &para;</a></span></dt>
<dd><p>删除指定的空目录。
</p>
</dd>
<dt><a id="index-sync"></a><span><code class="t">sync</code><a class="copiable-link" href="#index-sync"> &para;</a></span></dt>
<dd><p>调用同名系统调用（参见 sync(2)），将脏缓冲区刷新到磁盘。 它可能会在 I/O 实际完成之前返回。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002flanginfo-_6a21_5757">

<h3 class="section" id="zsh_002flanginfo-Mo-Kuai-"><span>22.15 zsh/langinfo 模块<a class="copiable-link" href="#zsh_002flanginfo-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/langinfo</code> 模块提供了一个参数：
</p>
<dl class="table">
<dt><a id="index-langinfo"></a><span><code class="t">langinfo</code><a class="copiable-link" href="#index-langinfo"> &para;</a></span></dt>
<dd><p>关联数组，用于将 langinfo 元素映射到其值。
</p>
<p>您的实现可能支持以下多个键(keys)：
</p>
<p><code class="t">CODESET</code>, <code class="t">D_T_FMT</code>, <code class="t">D_FMT</code>, <code class="t">T_FMT</code>, <code class="t">RADIXCHAR</code>, <code class="t">THOUSEP</code>,
<code class="t">YESEXPR</code>, <code class="t">NOEXPR</code>, <code class="t">CRNCYSTR</code>, <code class="t">ABDAY_{1..7}</code>, <code class="t">DAY_{1..7}</code>,
<code class="t">ABMON_{1..12}</code>, <code class="t">MON_{1..12}</code>, <code class="t">T_FMT_AMPM</code>, <code class="t">AM_STR</code>,
<code class="t">PM_STR</code>, <code class="t">ERA</code>, <code class="t">ERA_D_FMT</code>, <code class="t">ERA_D_T_FMT</code>, <code class="t">ERA_T_FMT</code>,
<code class="t">ALT_DIGITS</code>
</p>

</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fmapfile-_6a21_5757">

<h3 class="section" id="zsh_002fmapfile-Mo-Kuai-"><span>22.16 zsh/mapfile 模块<a class="copiable-link" href="#zsh_002fmapfile-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Can-Shu-_002c-WenJian-Fang-Wen-Tong-Guo-"></a>
<p><code class="t">zsh/mapfile</code> 模块提供了一个同名的特殊关联数组参数。
</p>
<dl class="table">
<dt><a id="index-mapfile"></a><span><code class="t">mapfile</code><a class="copiable-link" href="#index-mapfile"> &para;</a></span></dt>
<dd><p>这个关联数组的键是文件名，结果值是文件的内容。 该值的处理方式与来自参数的任何其他文本相同。
该值也可以被赋值，在这种情况下，相关文件将被写入（无论其是否原本存在）；或者一个元素可以被取消设置，这将删除相关文件。 例如，&lsquo;<code class="t">vared
'mapfile[myfile]'</code>&rsquo; 就会如预期般编辑文件 &lsquo;<code class="t">myfile</code>&rsquo;。
</p>
<p>当作为一个整体访问数组时，键是当前目录下的文件名，而值是空的（以节省大量内存开销）。 因此 <code class="t">${(k)mapfile}</code> 与 glob 操作符
<code class="t">*(D)</code> 的效果相同，因为以点开头的文件并不特殊。 在使用 <code class="t">rm ${(k)mapfile}</code>
这样的表达式时必须小心，因为它将删除当前目录下的所有文件，而无需进行通常的 &lsquo;<code class="t">rm *</code>&rsquo; 测试。
</p>
<p>参数 <code class="t">mapfile</code> 可以设置为只读；在这种情况下，不能写入或删除引用的文件。
</p>
<p>文件可以方便地以每行一个元素的形式读入数组，其形式为
&lsquo;<var class="var">array</var><code class="t">=(&quot;${(f@)mapfile[</code><var class="var">filename</var><code class="t">]}&quot;)</code>&rsquo;。 双引号和 &lsquo;<code class="t">@</code>&rsquo;
是防止删除空行所必需的。 需要注意的是，如果文件以换行结束，shell 会在最后一个换行处分隔，产生一个额外的空字段；可以使用
&lsquo;<var class="var">array</var><code class="t">=(&quot;${(f@)${mapfile[</code><var class="var">filename</var><code class="t">]%$'\n'}}&quot;)</code>&rsquo;
来抑制这种情况。
</p>
</dd>
</dl>


<div class="subsection-level-extent" id="Ju-Xian-Xing-">
<h4 class="subsection"><span>22.16.1 局限性<a class="copiable-link" href="#Ju-Xian-Xing-"> &para;</a></span></h4>

<p>虽然读写文件的效率很高，zsh 的内部内存管理也可能很随意，但 <code class="t">mapfile</code> 通常比任何涉及循环的操作都要高效。
需要特别注意的是，文件的全部内容在被访问时（由于标准参数替换操作，可能会被多次访问）都会实际存在于内存中。
这尤其意味着处理足够长的文件（大于机器的交换空间或超出指针类型的范围）将是不正确的。
</p>
<p>对于不存在、不可读或不可写的文件，不会打印或标志错误，因为参数机制在 shell 执行层次结构中的位置太低，不方便这样做。
</p>
<p>遗憾的是，加载模块的机制还不允许用户指定 shell 参数名称来赋予特殊行为的。
</p><hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002fmathfunc-_6a21_5757">

<h3 class="section" id="zsh_002fmathfunc-Mo-Kuai-"><span>22.17 zsh/mathfunc 模块<a class="copiable-link" href="#zsh_002fmathfunc-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Han-Shu-_002c-Shu-Xue"></a>
<a class="index-entry-id" id="index-Shu-XueHan-Shu-"></a>
<p><code class="t">zsh/mathfunc</code> 模块为数学公式求值提供了标准数学函数。 其语法与 C 和 FORTRAN 的常规语法一致，例如,
</p>
<div class="example">
<pre class="example-preformatted">(( f = sin(0.3) ))
</pre></div>

<p>将 0.3 的正弦值赋值给参数 f。
</p>
<p>大多数函数使用浮点参数并返回浮点数值。 不过，任何必要的整数类型转换都将由 shell 自动执行。 除了带有第二个参数的 <code class="t">atan</code>，以及
<code class="t">abs</code>、<code class="t">int</code> 和 <code class="t">float</code> 函数外，所有函数的行为都与相应 C 语言函数手册中的说明相同，但任何超出函数范围的参数都会被
shell 检测到并报错。
</p>
<p>以下函数只接受一个浮点参数： <code class="t">acos</code>, <code class="t">acosh</code>, <code class="t">asin</code>, <code class="t">asinh</code>, <code class="t">atan</code>,
<code class="t">atanh</code>, <code class="t">cbrt</code>, <code class="t">ceil</code>, <code class="t">cos</code>, <code class="t">cosh</code>, <code class="t">erf</code>, <code class="t">erfc</code>,
<code class="t">exp</code>, <code class="t">expm1</code>, <code class="t">fabs</code>, <code class="t">floor</code>, <code class="t">gamma</code>, <code class="t">j0</code>, <code class="t">j1</code>,
<code class="t">lgamma</code>, <code class="t">log</code>, <code class="t">log10</code>, <code class="t">log1p</code>, <code class="t">log2</code>, <code class="t">logb</code>, <code class="t">sin</code>,
<code class="t">sinh</code>, <code class="t">sqrt</code>, <code class="t">tan</code>, <code class="t">tanh</code>, <code class="t">y0</code>, <code class="t">y1</code>。 <code class="t">atan</code>
函数可以接受可选的第二个参数，在这种情况下，它的行为类似于 C 语言函数 <code class="t">atan2</code>。 <code class="t">ilogb</code>
函数接收一个浮点参数，但返回一个整数。
</p>
<p>函数 <code class="t">signgam</code> 不带参数，返回一个整数，即 gamma(3) 中描述的同名 C 变量。 请注意，该函数只有在调用 <code class="t">gamma</code> 或
<code class="t">lgamma</code> 之后才有用。 还要注意， &lsquo;<code class="t">signgam()</code>&rsquo; 和 &lsquo;<code class="t">signgam</code>&rsquo; 是不同的表达式。
</p>
<p>函数 <code class="t">min</code>、<code class="t">max</code> 和 <code class="t">sum</code> 不是在本模块中定义的，而是在 <a class="ref" href="#g_t_6570_5b66_51fd_6570">数学函数</a> 中描述的 <code class="t">zmathfunc</code>
可自动加载函数中定义的。
</p>
<p>以下函数使用两个浮点参数： <code class="t">copysign</code>、<code class="t">fmod</code>、<code class="t">hypot</code>、<code class="t">nextafter</code>。
</p>
<p>以下函数的第一个参数为整数，第二个参数为浮点数： <code class="t">jn</code>、<code class="t">yn</code>。
</p>
<p>以下函数的第一个参数为浮点数，第二个参数为整数： <code class="t">ldexp</code>, <code class="t">scalb</code>.
</p>
<p>函数 <code class="t">abs</code> 并不转换其单一参数的类型，而是返回浮点数或整数的绝对值。 函数 <code class="t">float</code> 和 <code class="t">int</code>
分别将参数转换为浮点数或整数（通过截断）。
</p>
<p>请注意，C的 <code class="t">pow</code> 函数在普通数学运算中可作为 &lsquo;<code class="t">**</code>&rsquo; 运算符使用，此处不再提供。
</p>
<p>如果系统的数学库中有 <code class="t">erand48(3)</code>，则函数 <code class="t">rand48</code> 可用。 它返回一个介于 0 和 1
之间的伪随机浮点数。它接受一个字符串作为可选参数。
</p>
<p>如果不存在该参数，随机数种子将通过三次调用 <code class="t">rand(3)</code> 函数来初始化 &mdash; 这将产生与 <code class="t">$RANDOM</code> 接下来三个值相同的随机数。
</p>
<p>如果存在该参数，它将给出一个标量参数的名称，当前随机数种子将存储在该参数中。 第一次调用时，该值必须至少包含 12
个十六进制数字（字符串的其余部分将被忽略），否则种子将以与调用 <code class="t">rand48</code> (不带参数)时相同的方式初始化。 随后调用
<code class="t">rand48</code>(<var class="var">param</var>)时，参数 <var class="var">param</var> 中的种子将保持为一个包含十二位十六进制数字的字符串，不含基数符号。
不同参数的随机数序列是完全独立的，也独立于不带参数的 <code class="t">rand48</code> 调用所使用的随机数序列。
</p>
<p>例如，考虑
</p>
<div class="example">
<pre class="example-preformatted">print $(( rand48(seed) ))
print $(( rand48() ))
print $(( rand48(seed) ))
</pre></div>

<p>假设 <code class="t">$seed</code> 不存在，第一次调用将初始化它。 在第二次调用中，将初始化默认种子；但请注意，由于 <code class="t">rand()</code>
的属性，两次初始化使用的种子之间存在关联，因此为了更安全地使用，应自己生成 12 字节的种子。 第三次调用将返回第一次调用中使用的随机数序列，不受中间
<code class="t">rand48()</code> 的影响。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fnearcolor-_6a21_5757">

<h3 class="section" id="zsh_002fnearcolor-Mo-Kuai-"><span>22.18 zsh/nearcolor 模块<a class="copiable-link" href="#zsh_002fnearcolor-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/nearcolor</code> 模块会用终端模拟器广泛使用的 88 或 256 色调色板中最接近的颜色替换以十六进制三连字符指定的颜色。
默认情况下，使用十六进制三连字符指定颜色时，会生成 24 位真彩色转义码。 但并非所有终端都支持这些代码。
本模块的目的是让用户能更方便地定义颜色偏好，并能在各种终端模拟器中使用。
</p>
<p>除默认颜色外，ANSI 终端转义代码标准还规定了八种颜色。亮色属性将其增加到 16
种。这些基本颜色由于得到广泛支持，在终端应用程序中得到普遍使用。扩展的 88 色和 256 色调色板也很常见，虽然前 16
种颜色在不同终端和配置之间存在一定差异，但它们提供了一套基本一致且可预测的颜色。
</p>
<p>要使用 <code class="t">zsh/nearcolor</code>
模块，只需加载该模块即可。此后，每当使用十六进制三元组指定颜色时，都会将其与每个可用颜色进行比较，并选择最接近的颜色。由于无法预测，前 16
种颜色在此过程中永远不会匹配。
</p>
<p>在终端模拟器中无法可靠地检测对真彩色的支持。因此，建议有选择性地加载 <code class="t">zsh/nearcolor</code> 模块。例如，下面的代码会检查
<code class="t">COLORTERM</code> 环境变量：
</p>
<div class="example">
<pre class="example-preformatted">[[ $COLORTERM = *(24bit|truecolor)* ]] || zmodload zsh/nearcolor
</pre></div>

<p>请注意，有些终端接受真彩色转义码，但内部会将其映射到更有限的调色板上，其方式与 <code class="t">zsh/nearcolor</code> 模块类似。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fnewuser-_6a21_5757">

<h3 class="section" id="zsh_002fnewuser-Mo-Kuai-"><span>22.19 zsh/newuser 模块<a class="copiable-link" href="#zsh_002fnewuser-Mo-Kuai-"> &para;</a></span></h3>

<p>如果 <code class="t">zsh/newuser</code> 模块可用、<code class="t">RCS</code> 选项已设置、<code class="t">PRIVILEGED</code> 选项未设置（默认情况下三者均为
true），则会在启动时加载该模块。 如果全局 <code class="t">zshenv</code> 文件（通常为
<code class="t">/etc/zshenv</code>）中有命令，则在执行完这些命令后立即启动。 如果模块不可用，shell
会静默忽略；如果不需要该模块，管理员可以安全地将其从 <code class="t">$MODULE_PATH</code> 中删除。
</p>
<p>加载时，模块会测试 <code class="t">.zshenv</code>、<code class="t">.zprofile</code>、<code class="t">.zshrc</code> 或 <code class="t">.zlogin</code> 中的启动文件是否存在于环境变量
<code class="t">ZDOTDIR</code> 指定的目录中，如果未设置环境变量 <code class="t">ZDOTDIR</code> 则测试用户的主目录。 如果 shell 处于仿真模式（即以其他
shell 而非 zsh 的身份调用），则不会执行测试，模块会停止处理。
</p>
<p>如果没有找到任何启动文件，模块会首先在全站目录（通常是 <code class="t">site-functions</code> 目录的父目录）中查找 <code class="t">newuser</code>
文件，如果没有找到，模块会在特定版本目录（通常是包含特定版本函数的 <code class="t">functions</code> 目录的父目录）中查找。 (在构建 zsh
时，可以分别使用 <code class="t">configure</code> 的 <code class="t">--enable-site-scriptdir=</code><var class="var">dir</var> 和
<code class="t">--enable-scriptdir=</code><var class="var">dir</var> 标志来配置这些目录； 默认值为<var class="var">prefix</var><code class="t">/share/zsh</code> 和
<var class="var">prefix</var><code class="t">/share/zsh/$ZSH_VERSION</code> ，其中默认 <var class="var">prefix</var> 为 <code class="t">/usr/local</code>。
)
</p>
<p>如果找到 <code class="t">newuser</code> 文件，则会以与启动文件相同的方式引入该文件。 该文件预计将包含为用户安装启动文件的代码，但任何有效的 shell
代码都将被执行。
</p>
<p>随后 <code class="t">zsh/newuser</code> 模块将无条件卸载。
</p>
<p>请注意，通过在 <code class="t">/etc/zshenv</code> 中添加代码，可以实现与 <code class="t">zsh/newuser</code> 模块完全相同的效果。 该模块的存在仅仅是为了让
shell 在不需要软件包维护者和系统管理员干预的情况下安排新用户。
</p>
<p>与模块一起提供的脚本会调用 shell 函数 <code class="t">zsh-newuser-install</code>。 即使 <code class="t">zsh/newuser</code>
模块被禁用，用户也可以直接调用该函数。 但请注意，如果模块未安装，函数也不会安装。 该函数在 <a class="ref" href="#g_t_7528_6237_914d_7f6e_51fd_6570">用户配置函数</a> 中有详细说明。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fparameter-_6a21_5757">

<h3 class="section" id="zsh_002fparameter-Mo-Kuai-"><span>22.20 zsh/parameter 模块<a class="copiable-link" href="#zsh_002fparameter-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Can-Shu-_002c-Te-Shu--1"></a>
<p><code class="t">zsh/parameter</code> 模块通过定义一些特殊参数来访问 shell 使用的某些内部哈希表。
</p>
<dl class="table">
<dt><a id="index-Xuan-Xiang--1"></a><span><code class="t">选项</code><a class="copiable-link" href="#index-Xuan-Xiang--1"> &para;</a></span></dt>
<dd><p>这个关联数组的键是可使用 <code class="t">setopt</code> 和 <code class="t">unsetopt</code> 内置函数设置和取消设置的选项名称。如果选项当前已设置，则每个键的值都是
<code class="t">on</code> 字符串；如果选项未设置，则每个键的值都是 <code class="t">off</code> 字符串。
将键值设置为其中一个字符串，就相当于设置或取消设置该选项。取消设置数组中的某个键，就相当于将其设置为 <code class="t">off</code> 值。
</p>
</dd>
<dt><a id="index-commands"></a><span><code class="t">commands</code><a class="copiable-link" href="#index-commands"> &para;</a></span></dt>
<dd><p>该数组用于访问命令哈希表。键是外部命令的名称，值是调用该命令时将执行的文件的路径名。在此数组中设置键，将在此表中定义一个新条目，方法与 <code class="t">hash</code>
内置函数相同。取消设置键，如 &lsquo;<code class="t">unset &quot;commands[foo]&quot;</code>&rsquo;，则从命令哈希表中删除给定键的条目。
</p>
</dd>
<dt><a id="index-Han-Shu--2"></a><span><code class="t">函数</code><a class="copiable-link" href="#index-Han-Shu--2"> &para;</a></span></dt>
<dd><p>这个关联数组将已启用函数的名称映射到其定义。在其中设置一个键，就等于定义了一个名称由键给出、主体由值给出的函数。取消键值设置则会删除键值所指定函数的定义。
</p>
</dd>
<dt><a id="index-dis_005ffunctions"></a><span><code class="t">dis_functions</code><a class="copiable-link" href="#index-dis_005ffunctions"> &para;</a></span></dt>
<dd><p>与 <code class="t">functions</code> 类似，但用于禁用函数。
</p>
</dd>
<dt><a id="index-functions_005fsource"></a><span><code class="t">functions_source</code><a class="copiable-link" href="#index-functions_005fsource"> &para;</a></span></dt>
<dd><p>这个只读关联数组将已启用函数的名称映射到包含函数源代码的文件名。
</p>
<p>对于已加载的自动加载函数，或用绝对路径已标记为自动加载的函数，或已使用 &lsquo;<code class="t">functions -r</code>&rsquo;
解析其路径的函数，这是找到的自动加载的文件，解析为绝对路径。
</p>
<p>对于在脚本或源文件正文中定义的函数，这是文件的名称。 在这种情况下，这是该文件最初使用的确切路径，也可以是相对路径。
</p>
<p>对于任何其他函数，包括在交互式提示符下定义的函数或路径尚未解析的自动加载函数，该值为空字符串。
不过，只要函数存在，哈希元素就会被报告为已定义：该哈希的键s与 <code class="t">$functions</code> 的键s相同。
</p>
</dd>
<dt><a id="index-dis_005ffunctions_005fsource"></a><span><code class="t">dis_functions_source</code><a class="copiable-link" href="#index-dis_005ffunctions_005fsource"> &para;</a></span></dt>
<dd><p>与 <code class="t">functions_source</code> 类似，但用于禁用的函数。
</p>
</dd>
<dt><a id="index-builtins"></a><span><code class="t">builtins</code><a class="copiable-link" href="#index-builtins"> &para;</a></span></dt>
<dd><p>这个关联数组提供了当前已启用的内置命令的信息。键是内置命令的名称，值是 &lsquo;<code class="t">undefined</code>&rsquo;（如果调用，将自动从模块加载的内置命令）或
&lsquo;<code class="t">defined</code>&rsquo; （已经加载的内置命令）。
</p>
</dd>
<dt><a id="index-dis_005fbuiltins"></a><span><code class="t">dis_builtins</code><a class="copiable-link" href="#index-dis_005fbuiltins"> &para;</a></span></dt>
<dd><p>与 <code class="t">builtins</code> 类似，但用于禁用的内置命令。
</p>
</dd>
<dt><a id="index-reswords"></a><span><code class="t">reswords</code><a class="copiable-link" href="#index-reswords"> &para;</a></span></dt>
<dd><p>该数组包含已启用的保留字。
</p>
</dd>
<dt><a id="index-dis_005freswords"></a><span><code class="t">dis_reswords</code><a class="copiable-link" href="#index-dis_005freswords"> &para;</a></span></dt>
<dd><p>与 <code class="t">reswords</code> 类似，但用于禁用的保留字。
</p>
</dd>
<dt><a id="index-patchars"></a><span><code class="t">patchars</code><a class="copiable-link" href="#index-patchars"> &para;</a></span></dt>
<dd><p>该数组包含启用的模式字符。
</p>
</dd>
<dt><a id="index-dis_005fpatchars"></a><span><code class="t">dis_patchars</code><a class="copiable-link" href="#index-dis_005fpatchars"> &para;</a></span></dt>
<dd><p>与 <code class="t">patchars</code> 类似，但用于禁用的模式字符。
</p>
</dd>
<dt><a id="index-aliases"></a><span><code class="t">aliases</code><a class="copiable-link" href="#index-aliases"> &para;</a></span></dt>
<dd><p>这将当前启用的常规别名的名称映射到其扩展。
</p>
</dd>
<dt><a id="index-dis_005faliases"></a><span><code class="t">dis_aliases</code><a class="copiable-link" href="#index-dis_005faliases"> &para;</a></span></dt>
<dd><p>与 <code class="t">aliases</code> 类似，但禁用了常规别名。
</p>
</dd>
<dt><a id="index-galiases"></a><span><code class="t">galiases</code><a class="copiable-link" href="#index-galiases"> &para;</a></span></dt>
<dd><p>类似 <code class="t">aliases</code>，但用于全局别名。
</p>
</dd>
<dt><a id="index-dis_005fgaliases"></a><span><code class="t">dis_galiases</code><a class="copiable-link" href="#index-dis_005fgaliases"> &para;</a></span></dt>
<dd><p>与 <code class="t">galiases</code> 类似，但禁用了全局别名。
</p>
</dd>
<dt><a id="index-saliases"></a><span><code class="t">saliases</code><a class="copiable-link" href="#index-saliases"> &para;</a></span></dt>
<dd><p>与 <code class="t">raliases</code> 类似，但用于后缀别名。
</p>
</dd>
<dt><a id="index-dis_005fsaliases"></a><span><code class="t">dis_saliases</code><a class="copiable-link" href="#index-dis_005fsaliases"> &para;</a></span></dt>
<dd><p>与 <code class="t">saliases</code> 类似，只是禁用了后缀别名。
</p>
</dd>
<dt><a id="index-Can-Shu--1"></a><span><code class="t">参数</code><a class="copiable-link" href="#index-Can-Shu--1"> &para;</a></span></dt>
<dd><p>这个关联数组的键是当前定义的参数名称。值是描述参数类型的字符串，格式与 <code class="t">t</code> 参数标志相同，参见 <a class="ref" href="#g_t_53c2_6570_6269_5c55">参数扩展</a> 。
无法设置或取消设置数组中的键。
</p>
</dd>
<dt><a id="index-modules-1"></a><span><code class="t">modules</code><a class="copiable-link" href="#index-modules-1"> &para;</a></span></dt>
<dd><p>提供模块信息的关联数组。键是已加载、已注册为自动加载或已有别名的模块名称。值表示被命名模块所处的状态，是字符串&lsquo;<code class="t">loaded</code>&rsquo;,
&lsquo;<code class="t">autoloaded</code>&rsquo; 或 &lsquo;<code class="t">alias:</code><var class="var">name</var>&rsquo; 之一，其中 <var class="var">name</var> 是模块的别名。
</p>
<p>无法设置或取消设置该数组中的键。
</p>
</dd>
<dt><a id="index-dirstack"></a><span><code class="t">dirstack</code><a class="copiable-link" href="#index-dirstack"> &para;</a></span></dt>
<dd><p>一个包含目录栈元素的普通数组。请注意，<code class="t">dirs</code> 内置命令的输出还包括一个目录，即当前工作目录。
</p>
</dd>
<dt><a id="index-history-2"></a><span><code class="t">history</code><a class="copiable-link" href="#index-history-2"> &para;</a></span></dt>
<dd><p>该关联数组将历史事件编号映射到完整的历史行。
虽然它是以关联数组的形式呈现，但所有值的数组（<code class="t">${history[@]}</code>）保证按照从最近的历史事件到最古老的历史事件的顺序返回，即按照历史事件编号递减的方式返回。
</p>
</dd>
<dt><a id="index-historywords"></a><span><code class="t">historywords</code><a class="copiable-link" href="#index-historywords"> &para;</a></span></dt>
<dd><p>一个特殊数组，包含存储在历史记录中的单词。 这些词也是按从最近到最久远的顺序排列的。
</p>
</dd>
<dt><a id="index-jobdirs"></a><span><code class="t">jobdirs</code><a class="copiable-link" href="#index-jobdirs"> &para;</a></span></dt>
<dd><p>这个关联数组将作业编号映射到作业启动的目录（可能不是作业的当前目录）。
</p>
<p>关联数组的键通常是有效的作业编号，这些是,例如 <code class="t">${(k)jobdirs}</code> 输出的值。
在查找值时，可以使用非数字作业引用；例如，<code class="t">${jobdirs[%+]}</code> 指的是当前作业。
</p>
<p>有关如何在子 shell 中提供作业信息，请参阅 <code class="t">jobs</code> 内置函数。
</p>
</dd>
<dt><a id="index-jobtexts"></a><span><code class="t">jobtexts</code><a class="copiable-link" href="#index-jobtexts"> &para;</a></span></dt>
<dd><p>这个关联数组将作业编号映射到用于启动作业的命令行文本。
</p>
<p>对关联数组键的处理与上文 <code class="t">jobdirs</code> 的描述相同。
</p>
<p>有关如何在子 shell 中提供作业信息，请参阅 <code class="t">jobs</code> 内置函数。
</p>
</dd>
<dt><a id="index-jobstates"></a><span><code class="t">jobstates</code><a class="copiable-link" href="#index-jobstates"> &para;</a></span></dt>
<dd><p>这个关联数组提供了当前已知作业的状态信息。键是作业编号，值是格式为
&lsquo;<var class="var">job-state</var><code class="t">:</code><var class="var">mark</var><code class="t">:</code><var class="var">pid</var><code class="t">=</code><var class="var">state</var>...&rsquo;
的字符串。<var class="var">job-state</var>给出了整个作业当前所处的状态，即 &lsquo;<code class="t">running</code>&rsquo;, &lsquo;<code class="t">suspended</code>&rsquo; 或
&lsquo;<code class="t">done</code>&rsquo;。<var class="var">mark</var> 中的 &lsquo;<code class="t">+</code>&rsquo; 表示当前作业，&lsquo;<code class="t">-</code>&rsquo;
表示上一个作业，否则为空。随后，作业中的每个进程都会有一个 &lsquo;<code class="t">:</code><var class="var">pid</var><code class="t">=</code><var class="var">state</var>&rsquo;。<var class="var">pid</var>s
当然是进程 ID，而 <var class="var">state</var> 则描述该进程的状态。
</p>
<p>对关联数组键的处理与上文 <code class="t">jobdirs</code> 的描述相同。
</p>
<p>有关如何在子 shell 中提供作业信息，请参阅 <code class="t">jobs</code> 内置函数。
</p>
</dd>
<dt><a id="index-nameddirs"></a><span><code class="t">nameddirs</code><a class="copiable-link" href="#index-nameddirs"> &para;</a></span></dt>
<dd><p>这个关联数组将命名目录的名称映射到它们所代表的路径名。
</p>
</dd>
<dt><a id="index-userdirs"></a><span><code class="t">userdirs</code><a class="copiable-link" href="#index-userdirs"> &para;</a></span></dt>
<dd><p>这个关联数组将用户名映射到其主目录的路径名。
</p>
</dd>
<dt><a id="index-usergroups"></a><span><code class="t">usergroups</code><a class="copiable-link" href="#index-usergroups"> &para;</a></span></dt>
<dd><p>该关联数组将当前用户所属的系统组名称映射到相应的组标识符。 其内容与 <code class="t">id</code> 命令输出的组相同。
</p>
</dd>
<dt><a id="index-funcfiletrace"></a><span><code class="t">funcfiletrace</code><a class="copiable-link" href="#index-funcfiletrace"> &para;</a></span></dt>
<dd><p>该数组包含当前函数、引入的文件或（如果设置了 <code class="t">EVAL_LINENO</code>）<code class="t">eval</code> 命令被调用时的绝对行号和相应文件名。 该数组的长度与
<code class="t">funcsourcetrace</code> 和 <code class="t">functrace</code> 相同，但与 <code class="t">funcsourcetrace</code>
不同的是，行号和文件是调用点，而不是定义点；与 <code class="t">functrace</code>
不同的是，所有值都是文件中的绝对行号，而不是相对于函数（如果有）起始位置的行号。
</p>
</dd>
<dt><a id="index-funcsourcetrace"></a><span><code class="t">funcsourcetrace</code><a class="copiable-link" href="#index-funcsourcetrace"> &para;</a></span></dt>
<dd><p>该数组包含定义当前执行的函数、引入的文件和（如果设置了 <code class="t">EVAL_LINENO</code>）<code class="t">eval</code> 命令的文件名和行号。 行号指
&lsquo;<code class="t">function</code> <var class="var">name</var>&rsquo; 或&lsquo;<var class="var">name</var> <code class="t">()</code>&rsquo; 的起始行。 在自动加载函数的情况下，行号报告为零。
每个元素的格式为  <var class="var">filename</var><code class="t">:</code><var class="var">lineno</var>。
</p>
<p>对于从原生 zsh 格式文件中自动加载的函数（文件中只有函数的主体），或者通过 <code class="t">source</code> 或 &lsquo;<code class="t">.</code>&rsquo;
内置函数执行的文件，跟踪信息将显示为  <var class="var">filename</var><code class="t">:</code><var class="var">0</var>，因为整个文件都是定义文件。
在加载函数时，源文件名会解析为绝对路径，否则就解析为其路径。
</p>
<p>大多数用户会对 <code class="t">funcfiletrace</code> 数组中的信息感兴趣。
</p>
</dd>
<dt><a id="index-funcstack"></a><span><code class="t">funcstack</code><a class="copiable-link" href="#index-funcstack"> &para;</a></span></dt>
<dd><p>该数组包含当前正在执行的函数、引入的文件和（如果设置了 <code class="t">EVAL_LINENO</code>） <code class="t">eval</code>
命令的名称。第一个元素是使用参数的函数的名称。
</p>
<p>标准 shell 数组 <code class="t">zsh_eval_context</code> 可用来确定在每个深度中执行的 shell
结构类型：但要注意的是，该数组的顺序正好相反，最新的项目在最后，而且更加详细，例如包含了 <code class="t">toplevel</code> 的条目，即交互式或脚本中执行的主要
shell 代码，而 <code class="t">$funcstack</code> 中并不包含这些代码。
</p>
</dd>
<dt><a id="index-functrace"></a><span><code class="t">functrace</code><a class="copiable-link" href="#index-functrace"> &para;</a></span></dt>
<dd><p>该数组包含与当前正在执行的函数相对应的调用者的名称和行号。 每个元素的格式为 <var class="var">name</var><code class="t">:</code><var class="var">lineno</var>。
对于引入的文件，也会显示调用者；调用者是执行 <code class="t">source</code> 或 &lsquo;<code class="t">.</code>&rsquo; 命令的位置。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fpcre-_6a21_5757">

<h3 class="section" id="zsh_002fpcre-Mo-Kuai-"><span>22.21 zsh/pcre 模块<a class="copiable-link" href="#zsh_002fpcre-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Zheng-Ze-Biao-Da-Shi-_002c-perl-Jian-Rong-De-"></a>
<p><code class="t">zsh/pcre</code> 模块提供了一些内置命令：
</p>
<dl class="table">
<dt><a id="index-pcre_005fcompile"></a><span><code class="t">pcre_compile</code> [ <code class="t">-aimxs</code> ] <var class="var">PCRE</var><a class="copiable-link" href="#index-pcre_005fcompile"> &para;</a></span></dt>
<dd><p>编译与 perl 兼容的正则表达式。
</p>
<p>选项 <code class="t">-a</code> 将强制锚定模式。 选项 <code class="t">-i</code> 将编译不区分大小写的模式。 选项 <code class="t">-m</code> 将编译多行模式，即 <code class="t">^</code> 和 <code class="t">$</code>
将匹配模式内的换行符。 选项 <code class="t">-x</code> 将编译扩展模式，其中空白和 <code class="t">#</code> 注释将被忽略。 选项 <code class="t">-s</code>
使点元字符匹配所有字符，包括表示换行的字符。
</p>
</dd>
<dt><a id="index-pcre_005fstudy"></a><span><code class="t">pcre_study</code><a class="copiable-link" href="#index-pcre_005fstudy"> &para;</a></span></dt>
<dd><p>研究先前编译的 PCRE，这可能会加快匹配速度。
</p>
</dd>
<dt><a id="index-pcre_005fmatch"></a><span><code class="t">pcre_match</code> [ <code class="t">-v</code> <var class="var">var</var> ] [ <code class="t">-a</code> <var class="var">arr</var> ] [ <code class="t">-n</code> <var class="var">offset</var> ] [ <code class="t">-b</code> ] <var class="var">string</var><a class="copiable-link" href="#index-pcre_005fmatch"> &para;</a></span></dt>
<dd><p>如果 <code class="t">string</code> 与之前编译的 PCRE 匹配，则成功返回。
</p>
<p>匹配成功后，如果表达式捕获了括号内的子字符串，<code class="t">pcre_match</code> 将数组 <code class="t">match</code> 设置为这些子字符串，除非给出 <code class="t">-a</code>
选项，这样的情况下，将设置数组 <var class="var">arr</var>。 同样，变量 <code class="t">MATCH</code> 将被设置为字符串的整个匹配部分，除非给出 <code class="t">-v</code>
选项，在这种情况下，变量 <var class="var">var</var> 将被设置。 如果没有成功匹配，则不会更改变量。 <code class="t">-n</code> 选项从 <var class="var">string</var> 中的
<var class="var">offset</var> 字节位置开始搜索匹配。 如果给出 <code class="t">-b</code> 选项，变量 <code class="t">ZPCRE_OP</code> 将被设置为偏移对(offset
pair)字符串，代表 <var class="var">string</var> 中整个匹配部分的字节偏移位置。 例如，设置为 &quot;32 45&quot; 的 <code class="t">ZPCRE_OP</code>
表示匹配部分从字节偏移位置 32 开始，到字节偏移位置 44 结束。 在这里，字节偏移位置 45 是直接位于匹配部分之后的位置。 请注意，在涉及
UTF-8 字符时，字节位置并不一定与字符位置相同。 因此，字节偏移位置只能用于 <var class="var">string</var> 的后续搜索，将偏移位置作为 <code class="t">-n</code>
选项的参数。 这主要用于实现 &quot;查找所有非重叠匹配 &quot; 功能。
</p>
<p>&quot;查找所有非重叠匹配项 &quot; 的一个简单示例：
</p>
<div class="example">
<pre class="example-preformatted">string=&quot;The following zip codes: 78884 90210 99513&quot;
pcre_compile -m &quot;\d{5}&quot;
accum=()
pcre_match -b -- $string
while [[ $? -eq 0 ]] do
    b=($=ZPCRE_OP)
    accum+=$MATCH
    pcre_match -b -n $b[2] -- $string
done
print -l $accum
</pre></div>

</dd>
</dl>

<p><code class="t">zsh/pcre</code> 模块提供了以下测试条件：
</p>
<dl class="table">
<dt><a id="index-pcre_002dmatch"></a><span><var class="var">expr</var> <code class="t">-pcre-match</code> <var class="var">pcre</var><a class="copiable-link" href="#index-pcre_002dmatch"> &para;</a></span></dt>
<dd><p>将字符串与 perl 兼容的正则表达式匹配。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">[[ &quot;$text&quot; -pcre-match ^d+$ ]] &amp;&amp;
print text variable contains only &quot;d's&quot;.
</pre></div>

<a class="index-entry-id" id="index-REMATCH_005fPCRE-1"></a>
<a class="index-entry-id" id="index-NO_005fCASE_005fMATCH-1"></a>
<p>如果设置了 <code class="t">REMATCH_PCRE</code> 选项，则 <code class="t">=~</code> 操作符等同于 <code class="t">-pcre-match</code>，并且可以使用
<code class="t">NO_CASE_MATCH</code> 选项。 请注意，<code class="t">NO_CASE_MATCH</code> 并不适用于 <code class="t">pcre_match</code> 内置函数，请使用
<code class="t">pcre_compile</code> 的 <code class="t">-i</code> 开关。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fparam_002fprivate-_6a21_5757">

<h3 class="section" id="zsh_002fparam_002fprivate-Mo-Kuai-"><span>22.22 zsh/param/private 模块<a class="copiable-link" href="#zsh_002fparam_002fprivate-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/param/private</code> 模块用于创建参数，其作用域仅限于当前函数体，而<em class="emph">不是</em>当前函数调用的其他函数。
</p>
<p>该模块提供一个自动加载的内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Si-You-Can-Shu-_002c-Chuang-Jian-"></a>
<a id="index-private"></a><span><code class="t">private</code> [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">AHUahlmrtux</code> ] [ {<code class="t">+</code>|<code class="t">-</code>}<code class="t">EFLRZi</code> [ <var class="var">n</var> ] ] [ <var class="var">name</var>[<code class="t">=</code><var class="var">value</var>] ... ]<a class="copiable-link" href="#index-private"> &para;</a></span></dt>
<dd><p>除了 &lsquo;<code class="t">-</code><code class="t">T</code>&rsquo; 选项，<code class="t">private</code> 内置命令接受与 <code class="t">local</code>（<a class="ref" href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a>）相同的选项和参数。
绑定的参数不能被私有化。
</p>
<p>目前， &lsquo;<code class="t">-</code><code class="t">p</code>&rsquo; 选项是无效的，因为私有参数的状态无法可靠地重新加载。 这也适用于使用 &lsquo;<code class="t">typeset -p</code>&rsquo; 打印私有参数。
</p>
<p>如果在顶层（函数作用域之外）使用，<code class="t">private</code> 将以与 <code class="t">declare</code> 或 <code class="t">typeset</code> 相同的方式创建一个普通参数。
如果设置了 <code class="t">WARN_CREATE_GLOBAL</code>（<a class="ref" href="#g_t_9009_9879">选项</a>），系统将对此发出警告。 在函数作用域内使用
<code class="t">private</code>，会创建一个与 <code class="t">local</code> 声明的参数类似的本地参数，但具有以下特殊属性。
</p>
<p>暴露或操作 shell 内部状态的特殊参数，例如 <code class="t">ARGC</code>, <code class="t">argv</code>, <code class="t">COLUMNS</code>, <code class="t">LINES</code>,
<code class="t">UID</code>, <code class="t">EUID</code>, <code class="t">IFS</code>, <code class="t">PROMPT</code>, <code class="t">RANDOM</code>, <code class="t">SECONDS</code>等，除非使用了
&lsquo;<code class="t">-</code><code class="t">h</code>&rsquo; 选项来隐藏参数的特殊含义，否则不能将其设置为私有。 这种情况将来可能会改变。
</p>
</dd>
</dl>

<p>与其他 <code class="t">typeset</code> 类似，<code class="t">private</code> 既是内置程序，也是保留字，因此可以使用括号内的词列表
<var class="var">name</var><code class="t">=(</code><var class="var">value</var>...<code class="t">)</code> 语法为数组赋值。 但是，在 <code class="t">zsh/param/private</code>
加载之前，保留字 &lsquo;<code class="t">private</code>&rsquo; 是不可用的，因此必须注意使用 <code class="t">private</code> 的函数定义的执行和解析顺序。
为了弥补这一不足，本模块还为内置的 &lsquo;<code class="t">local</code>&rsquo; 添加了 &lsquo;<code class="t">-P</code>&rsquo; 选项，用于声明私有参数。
</p>
<p>例如，如果在定义 &lsquo;<code class="t">bad_declaration</code>&rsquo; 时 <code class="t">zsh/param/private</code> 尚未加载，则此构造将失败：
</p><div class="example">
<pre class="example-preformatted">bad_declaration() {
  zmodload zsh/param/private
  private array=( one two three )
}
</pre></div>

<p>这种结构之所以有效，是因为 <code class="t">local</code> 已经是一个关键字，而且在执行语句之前模块已经加载：
</p><div class="example">
<pre class="example-preformatted">good_declaration() {
  zmodload zsh/param/private
  local -P array=( one two three )
}
</pre></div>

<p>以下内容可在脚本中使用，但在使用 <code class="t">autoload</code> 时可能会有问题：
</p><div class="example">
<pre class="example-preformatted">zmodload zsh/param/private
iffy_declaration() {
  private array=( one two three )
}
</pre></div>

<p><code class="t">private</code> 内置函数始终可用于标量赋值和不带赋值的声明。
</p>
<p>用 <code class="t">private</code> 声明的参数具有以下属性：
</p>
<ul class="itemize mark-bullet">
<li>在声明该参数的函数体中，该参数的行为与本地参数相同，但如上所述的绑定参数或特殊参数除外。
</li><li>声明为私有的参数的类型不能在声明该参数的作用域中更改，即使该参数未被设置。 因此，数组不能赋值给私有标量等。
</li><li>在声明函数调用的任何其他函数中，私有参数 <em class="emph">不会</em> 隐藏同名的其他参数，例如，同名的全局参数是可见的，可以被赋值或取消赋值。
这也包括对匿名函数的调用，不过这种情况将来可能会改变。 不过，如果之前未声明私有名称，则不得在本地作用域之外创建私有名称。
</li><li>导出的私有参数会保留在内部作用域的环境中，但对于这些作用域中的当前 shell 而言，则显示为未设置。 一般来说，应避免导出私有参数。
</li></ul>

<p>请注意，这不同于由 C
语言派生的编译语言所定义的静态作用域，在那里，对同一函数的新调用会创建一个新的作用域，也就是说，参数仍然与调用栈相关联，而不是与函数定义相关联。 它与
ksh 的 &lsquo;<code class="t">typeset -S</code>&rsquo; 不同，因为定义函数所用的语法与参数作用域是否受到尊重没有关系。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fregex-_6a21_5757">

<h3 class="section" id="zsh_002fregex-Mo-Kuai-"><span>22.23 zsh/regex 模块<a class="copiable-link" href="#zsh_002fregex-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Zheng-Ze-Biao-Da-Shi"></a>
<a class="index-entry-id" id="index-regex"></a>
<p><code class="t">zsh/regex</code> 模块提供了以下测试条件：
</p>
<dl class="table">
<dt><a id="index-regex_002dmatch"></a><span><var class="var">expr</var> <code class="t">-regex-match</code> <var class="var">regex</var><a class="copiable-link" href="#index-regex_002dmatch"> &para;</a></span></dt>
<dd><p>根据 POSIX 扩展正则表达式匹配字符串。 匹配成功后，字符串的匹配部分通常会放入 <code class="t">MATCH</code> 变量。 如果正则表达式中有捕获括号，那么
<code class="t">match</code> 数组变量中将包含捕获。 如果匹配不成功，则不会更改变量。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">[[ alphabetical -regex-match ^a([^a]+)a([^a]+)a ]] &amp;&amp;
print -l $MATCH X $match
</pre></div>

<p>如果未设置 <code class="t">REMATCH_PCRE</code> 选项，那么 <code class="t">=~</code> 操作符将根据需要自动加载此模块，并调用 <code class="t">-regex-match</code>
操作符。
</p>
<p>如果设置了 <code class="t">BASH_REMATCH</code>，那么数组 <code class="t">BASH_REMATCH</code> 将被设置，而不是 <code class="t">MATCH</code> 和 <code class="t">match</code>。
</p>
<p>请注意，<code class="t">zsh/regex</code> 模块的逻辑依赖于主机系统。如果给出的 <var class="var">regex</var> 使用了非标准语法，相同的 <var class="var">expr</var> 和
<var class="var">regex</var> 对可能会在不同平台上产生不同的结果。
</p>
<p>例如，POSIX 扩展正则表达式标准中没有定义匹配单词边界的语法。GNU <code class="t">libc</code> 和 BSD <code class="t">libc</code>
都提供了此类语法作为扩展（分别为 <code class="t">\b</code> 和 <code class="t">[[:&lt;:]]</code>/<code class="t">[[:&gt;:]]</code> ），但这两种实现都不支持这些语法。
</p>
<p>有关本地支持的语法，请参阅系统上的 regcomp(3) 和 re_format(7) 手册。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fsched-_6a21_5757">

<h3 class="section" id="zsh_002fsched-Mo-Kuai-"><span>22.24 zsh/sched 模块<a class="copiable-link" href="#zsh_002fsched-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/sched</code> 模块提供一条内置命令和一个参数。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Ding-Shi-Zhi-Xing-_0028timed-execution_0029"></a>
<a class="index-entry-id" id="index-Zhi-Xing-_002c-Ding-Shi-"></a>
<a id="index-sched"></a><span><code class="t">sched</code> [<code class="t">-o</code>] [<code class="t">+</code>]<var class="var">hh</var><code class="t">:</code><var class="var">mm</var>[<code class="t">:</code><var class="var">ss</var>] <var class="var">command</var> ...<a class="copiable-link" href="#index-sched"> &para;</a></span></dt>
<dt><code class="t">sched</code> [<code class="t">-o</code>] [<code class="t">+</code>]<var class="var">seconds</var> <var class="var">command</var> ...</dt>
<dt><code class="t">sched</code> [ <code class="t">-</code><var class="var">item</var> ]</dt>
<dd><p>在计划执行的命令列表中加入一个条目。 时间可以指定为绝对时间或相对时间，也可以指定为用冒号分隔的小时、分钟和秒（可选），或仅指定为秒。 绝对秒数表示自
epoch（1970/01/01 00:00）以来的时间；与 <code class="t">zsh/datetime</code> 模块中的功能结合使用非常有用，参见
<a class="ref" href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a>。
</p>
<p>在没有参数的情况下，打印计划命令列表。 如果计划命令设置了 <code class="t">-o</code> 标志，则会在命令开始时显示。
</p>
<p>使用参数 &lsquo;<code class="t">-</code><var class="var">item</var>&rsquo;，从列表中删除给定条目。
列表的编号是连续的，条目按时间顺序排列，因此在添加或删除条目时，编号可能会发生变化。
</p>
<p>命令要么在提示符前立即执行，要么在 shell 的行编辑器等待输入时执行。 在后一种情况下，最好能产生不影响正在编辑的行的输出。 提供 <code class="t">-o</code>
选项会使 shell 在事件发生前清除命令行，并在事件发生后重新绘制命令行。
该选项适用于任何向终端产生可见输出的计划事件；例如，不需要用于更新终端模拟器标题栏的输出。
</p>
<p>要在事件执行时更改编辑器缓冲区，可使用不带参数的 &lsquo;<code class="t">zle</code>&rsquo; 命令测试编辑器是否激活，如果激活，则使用 &lsquo;<code class="t">zle
</code><var class="var">widget</var>&rsquo; 通过指定的 <var class="var">widget</var> 访问编辑器。
</p>
<p>当 shell 以模拟其他 shell 的模式启动时，<code class="t">sched</code> 内置函数默认不可用。 可以通过命令 &lsquo;<code class="t">zmodload -F
zsh/sched b:sched</code>&rsquo; 来使它可用。
</p>
</dd>
</dl>

<dl class="table">
<dt><a id="index-zsh_005fscheduled_005fevents"></a><span><code class="t">zsh_scheduled_events</code><a class="copiable-link" href="#index-zsh_005fscheduled_005fevents"> &para;</a></span></dt>
<dd><p>一个只读数组，对应 <code class="t">sched</code> 内置程序所调度的事件。 数组的索引与不带参数运行 <code class="t">sched</code> 时显示的数字相对应（前提是未设置
<code class="t">KSH_ARRAYS</code> 选项）。 数组的值包括以秒为单位的从 epoch 开始的计划时间（请参阅 <a class="ref" href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a>
以了解使用该数字的方法），之后是冒号，之后是任何选项（选项可以为空，但必须在选项前加上 &lsquo;<code class="t">-</code>&rsquo; ），之后是冒号，之后是要执行的命令。
</p>
<p>应使用 <code class="t">sched</code> 内置函数来操作事件。 请注意，这将对数组内容产生直接影响，因此索引可能会失效。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fnet_002fsocket-_6a21_5757">

<h3 class="section" id="zsh_002fnet_002fsocket-Mo-Kuai-"><span>22.25 zsh/net/socket 模块<a class="copiable-link" href="#zsh_002fnet_002fsocket-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/net/socket</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-Tao-Jie-Zi-"></a>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002c-Unix-Yu-"></a>
<a id="index-zsocket"></a><span><code class="t">zsocket</code> [ <code class="t">-altv</code> ] [ <code class="t">-d</code> <var class="var">fd</var> ] [ <var class="var">args</var> ]<a class="copiable-link" href="#index-zsocket"> &para;</a></span></dt>
<dd><p><code class="t">zsocket</code> 是作为内置命令实现的，可以充分利用 shell 命令行编辑、文件 I/O 和作业控制机制。
</p>
</dd>
</dl>


<div class="subsection-level-extent" id="Chu-Zhan-Lian-Jie-">
<h4 class="subsection"><span>22.25.1 出站连接<a class="copiable-link" href="#Chu-Zhan-Lian-Jie-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002cUnix-Yu-Chu-Zhan-"></a>

<dl class="table">
<dt><code class="t">zsocket</code> [ <code class="t">-v</code> ] [ <code class="t">-d</code> <var class="var">fd</var> ] <var class="var">filename</var></dt>
<dd><p>为 <var class="var">filename</var> 打开一个新的 Unix 域连接。 shell 参数 <code class="t">REPLY</code> 将被设置为与该连接相关联的文件描述符。
目前只支持流连接。
</p>
<p>如果指定了 <code class="t">-d</code>，其参数将作为连接的目标文件描述符。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
<p>例如，当不再需要文件描述符时，可以使用正常的 shell 语法关闭文件描述符：
</p>
<div class="example">
<pre class="example-preformatted">exec {REPLY}&gt;&amp;-
</pre></div>

</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Ru-Zhan-Lian-Jie-">
<h4 class="subsection"><span>22.25.2 入站连接<a class="copiable-link" href="#Ru-Zhan-Lian-Jie-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002c-Unix-Yu-Ru-Zhan-"></a>

<dl class="table">
<dt><code class="t">zsocket</code> <code class="t">-l</code> [ <code class="t">-v</code> ] [ <code class="t">-d</code> <var class="var">fd</var> ] <var class="var">filename</var></dt>
<dd><p><code class="t">zsocket -l</code> 将打开一个监听 <var class="var">filename</var> 的套接字。 shell 参数 <code class="t">REPLY</code>
将被设置为与该监听器关联的文件描述符。 该文件描述符在子 shell 和分叉的外部可执行文件中保持打开状态。
</p>
<p>如果指定了 <code class="t">-d</code>，其参数将作为连接的目标文件描述符。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
</dd>
<dt><code class="t">zsocket</code> <code class="t">-a</code> [ <code class="t">-tv</code> ] [ <code class="t">-d</code> <var class="var">targetfd</var> ] <var class="var">listenfd</var></dt>
<dd><p><code class="t">zsocket -a</code> 将接受与 <var class="var">listenfd</var> 关联的套接字的入站连接。 shell 参数 <code class="t">REPLY</code>
将被设置为与入站连接相关的文件描述符。 该文件描述符将在子 shell 和分叉的外部可执行文件中保持打开状态。
</p>
<p>如果指定了 <code class="t">-d</code>，其参数将作为连接的目标文件描述符。
</p>
<p>如果指定了 <code class="t">-t</code>，<code class="t">zsocket</code> 将在没有新的连入连接时返回。 否则将等待连接。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
</dd>
</dl>
<hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002fstat-_6a21_5757">

<h3 class="section" id="zsh_002fstat-Mo-Kuai-"><span>22.26 zsh/stat 模块<a class="copiable-link" href="#zsh_002fstat-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/stat</code> 模块以两种可能的名称提供一条内置命令：
</p>
<dl class="table">
<dd><a class="index-entry-id" id="index-zstat"></a>
<a class="index-entry-id" id="index-stat"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Lie-Biao-"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Ce-Shi-"></a>

</dd>
<dt><code class="t">zstat </code>[ <code class="t">-gnNolLtTrs</code> ] [ <code class="t">-f</code> <var class="var">fd</var> ] [ <code class="t">-H</code> <var class="var">hash</var> ] [ <code class="t">-A</code> <var class="var">array</var> ] [ <code class="t">-F</code> <var class="var">fmt</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">+</code><var class="var">element</var> ] [ <var class="var">file</var> ... ]</dt>
<dt><code class="t">stat</code> <var class="var">...</var></dt>
<dd><p>该命令是 <code class="t">stat</code> 系统调用（参见 stat(2)）的前端。 同一命令有两个名称；由于 <code class="t">stat</code> 经常被外部命令使用，建议只使用
<code class="t">zstat</code> 形式的命令。 这可以通过使用 &lsquo;<code class="t">zmodload -F zsh/stat b:zstat</code>&rsquo; 命令加载模块来实现。
</p>
<p>如果 <code class="t">stat</code> 调用失败，将打印相应的系统错误信息并返回状态 1。 <code class="t">struct stat</code> 的字段提供了作为命令参数提供的文件信息。
除了 <code class="t">stat</code> 调用提供的信息外，还提供了一个额外的元素 &lsquo;<code class="t">link</code>&rsquo; 。 这些元素是:
</p>
<dl class="table">
<dt><code class="t">device</code></dt>
<dd><p>文件所在设备的编号。
</p>
</dd>
<dt><code class="t">inode</code></dt>
<dd><p>该设备上文件的唯一编号（&lsquo;<em class="emph">inode</em>&rsquo; 编号）。
</p>
</dd>
<dt><code class="t">mode</code></dt>
<dd><p>文件的模式，即文件的类型和访问权限。 使用 <code class="t">-s</code> 选项后，将以字符串形式返回，与 <code class="t">ls -l</code> 命令显示的第一列相对应。
</p>
</dd>
<dt><code class="t">nlink</code></dt>
<dd><p>文件的硬链接数量。
</p>
</dd>
<dt><code class="t">uid</code></dt>
<dd><p>文件所有者的用户 ID。 如果使用 <code class="t">-s</code> 选项，则显示为用户名。
</p>
</dd>
<dt><code class="t">gid</code></dt>
<dd><p>文件的组 ID。 如果使用 <code class="t">-s</code> 选项，则显示为组名。
</p>
</dd>
<dt><code class="t">rdev</code></dt>
<dd><p>原始设备编号。 这只对特殊设备有用。
</p>
</dd>
<dt><code class="t">size</code></dt>
<dd><p>文件的大小（字节）。
</p>
</dd>
<dt><code class="t">atime</code></dt>
<dt><code class="t">mtime</code></dt>
<dt><code class="t">ctime</code></dt>
<dd><p>文件的最后访问时间、修改时间和 inode 更改时间，分别为格林尼治标准时间 1970 年 1 月 1 日午夜后的秒数。 使用 <code class="t">-s</code>
选项时，这些时间将以当地时区的字符串形式打印；使用 <code class="t">-F</code> 选项可更改格式；使用 <code class="t">-g</code> 选项时，时间以格林尼治标准时间。
</p>
</dd>
<dt><code class="t">blksize</code></dt>
<dd><p>文件所在设备上一个分配块的字节数。
</p>
</dd>
<dt><code class="t">block</code></dt>
<dd><p>文件使用的磁盘块数。
</p>
</dd>
<dt><code class="t">link</code></dt>
<dd><p>如果文件是链接文件，且 <code class="t">-L</code> 选项有效，这将包含链接文件的名称，否则为空。 请注意，如果选择了该元素 (&ldquo;<code class="t">zstat
+link</code>&rdquo;) ，则会自动使用 <code class="t">-L</code> 选项。
</p>
</dd>
</dl>

<p>在选项列表中，可以通过在元素名称前加上 &lsquo;<code class="t">+</code>&rsquo; 来选择特定元素；只允许选择一个元素。 该元素可以缩短为任意一组唯一的前导字符。
否则，将显示所有文件的所有元素。
</p>
<p>选项:
</p>
<dl class="table">
<dt><code class="t">-A</code> <var class="var">array</var></dt>
<dd><p>与其将结果显示在标准输出上，不如将其分配到 <var class="var">array</var> 中，每个数组元素按顺序为每个文件分配一个 <code class="t">struct stat</code> 元素。
在这种情况下，除非分别给出 <code class="t">-t</code> 或 <code class="t">-n</code> 选项，否则元素名称和文件名称都不会出现在 <var class="var">array</var> 中。 如果给定了
<code class="t">-t</code>，元素名将作为前缀出现在相应的数组元素中；如果给定了 <code class="t">-n</code>，文件名将作为单独的数组元素出现在所有其他元素之前。
其他格式化选项也会得到遵守。
</p>
</dd>
<dt><code class="t">-H</code> <var class="var">hash</var></dt>
<dd><p>与 <code class="t">-A</code> 类似，但会将值赋给 <var class="var">hash</var>。 键是上面列出的元素。 如果提供 <code class="t">-n</code> 选项，文件名将包含在哈希中，键值为
<code class="t">name</code>。
</p>
</dd>
<dt><code class="t">-f</code> <var class="var">fd</var></dt>
<dd><p>使用文件描述符 <var class="var">fd</var> 上的文件，而不是命名文件；在这种情况下，不允许使用文件名列表。
</p>
</dd>
<dt><code class="t">-F</code> <var class="var">fmt</var></dt>
<dd><p>提供用于格式化时间元素的 <code class="t">strftime</code>（参见 strftime(3)）字符串。 格式字符串支持 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a> 中描述的所有 zsh
扩展。 特别是 <code class="t">-F %s.%N</code>，如果系统支持，可用于显示纳秒精度的时间戳。 <code class="t">-s</code> 选项是隐含的。
</p>
</dd>
<dt><code class="t">-g</code></dt>
<dd><p>显示 GMT 时区的时间元素。 <code class="t">-s</code> 选项是隐含的。
</p>
</dd>
<dt><code class="t">-l</code></dt>
<dd><p>列出类型元素的名称（视情况输出到标准输出或数组）并立即返回；忽略参数和 <code class="t">-A</code> 以外的选项。
</p>
</dd>
<dt><code class="t">-L</code></dt>
<dd><p>执行 <code class="t">lstat</code>（见 lstat(2)）而不是 <code class="t">stat</code> 系统调用。
在这种情况下，如果文件是链接，返回的是链接本身的信息，而不是目标文件的信息。 要使 <code class="t">link</code> 元素发挥作用，就必须使用该选项。
需要注意的是，这与 ls(1) 等完全相反。
</p>
</dd>
<dt><code class="t">-n</code></dt>
<dd><p>始终显示文件名。 通常只有在输出到标准输出且列表中有多过一个文件时才会显示这些文件名。
</p>
</dd>
<dt><code class="t">-N</code></dt>
<dd><p>从不显示文件名。
</p>
</dd>
<dt><code class="t">-o</code></dt>
<dd><p>如果打印的是原始文件模式，则以八进制显示，因为八进制比默认的十进制更适合人类使用。 在这种情况下，将打印一个前导零。
请注意，这并不影响显示原始文件模式还是格式化文件模式（由 <code class="t">-r</code> 和 <code class="t">-s</code> 选项控制），也不影响是否显示任何模式。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>打印原始数据（默认格式）和字符串数据（<code class="t">-s</code> 格式）；字符串数据显示在原始数据后的括号内。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>将 <code class="t">mode</code>、<code class="t">uid</code>、<code class="t">gid</code> 和三个时间元素打印为字符串而非数字。 每种情况下的格式都与 <code class="t">ls -l</code> 相同。
</p>
</dd>
<dt><code class="t">-t</code></dt>
<dd><p>始终显示 <code class="t">struct stat</code> 元素的类型名称。 通常只有在输出到标准输出且未选择单个元素时才会显示。
</p>
</dd>
<dt><code class="t">-T</code></dt>
<dd><p>从不显示 <code class="t">struct stat</code> 元素的类型名称。
</p>
</dd>
</dl>

</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fsystem-_6a21_5757">

<h3 class="section" id="zsh_002fsystem-Mo-Kuai-"><span>22.27 zsh/system 模块<a class="copiable-link" href="#zsh_002fsystem-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/system</code> 模块提供各种内置命令和参数。
</p>

<div class="subsection-level-extent" id="Nei-Zhi-Ming-Ling-">
<h4 class="subsection"><span>22.27.1 内置命令<a class="copiable-link" href="#Nei-Zhi-Ming-Ling-"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-syserror"></a><span><code class="t">syserror</code> [ <code class="t">-e</code> <var class="var">errvar</var> ] [ <code class="t">-p</code> <var class="var">prefix</var> ] [ <var class="var">errno</var> | <var class="var">errname</var> ]<a class="copiable-link" href="#index-syserror"> &para;</a></span></dt>
<dd><p>该命令将打印出与 <var class="var">errno</var> 相关的错误信息、系统错误编号，并在标准错误后面加换行符。
</p>
<p>可以使用名称 <var class="var">errname</var> 代替错误编号，例如 <code class="t">ENOENT</code>。 名称集与数组 <code class="t">errnos</code> 的内容相同，见下文。
</p>
<p>如果给出 <var class="var">prefix</var> 字符串，则会将其打印在错误信息的前面，中间不留空格。
</p>
<p>如果提供了 <var class="var">errvar</var>，则整个信息（不带换行符）都会分配给参数名 <var class="var">errvar</var>，不会输出任何内容。
</p>
<p>返回状态为 0 表示信息已成功打印（但如果错误编号超出系统范围，则可能没有用处），返回状态为 1 表示参数出错，返回状态为 2
表示无法识别错误名称（不会打印任何信息）。
</p>
<a class="index-entry-id" id="index-sysopen"></a>

</dd>
<dt><code class="t">sysopen</code> [ <code class="t">-arw</code> ] [ <code class="t">-m</code> <var class="var">permissions</var> ] [ <code class="t">-o</code> <var class="var">options</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="t">-u</code> <var class="var">fd</var> <var class="var">file</var></dt>
<dd><p>该命令用于打开文件。<code class="t">-r</code>、<code class="t">-w</code> 和 <code class="t">-a</code> 标志分别表示文件是否应被打开用于读取、写入和追加。<code class="t">-m</code>
选项允许以八进制形式在创建文件时使用的指定的初始权限。 文件描述符用 <code class="t">-u</code> 指定。既可以指定一个范围在 0 到 9
之间的明确文件描述符，也可以指定一个变量名来分配文件描述符编号。
</p>
<p><code class="t">-o</code> 选项允许以逗号分隔的列表形式指定各种系统特定选项。以下是可能的选项列表。请注意，根据系统的不同，有些选项可能不可用。
</p><dl class="table">
<dt><code class="t">cloexec</code></dt>
<dd><p>在执行其他程序时标记文件已关闭（否则文件描述符在子 shell 和分叉的外部可执行文件中仍处于打开状态）
</p>
</dd>
<dt><code class="t">create</code></dt>
<dt><code class="t">creat</code></dt>
<dd><p>如果不存在，则创建文件
</p>
</dd>
<dt><code class="t">excl</code></dt>
<dd><p>创建文件, 如果文件已存在则出错
</p>
</dd>
<dt><code class="t">noatime</code></dt>
<dd><p>抑制文件的 atime 更新
</p>
</dd>
<dt><code class="t">nofollow</code></dt>
<dd><p>如果 <var class="var">file</var> 是符号链接则失败
</p>
</dd>
<dt><code class="t">nonblock</code></dt>
<dd><p>文件以非阻塞模式打开
</p>
</dd>
<dt><code class="t">sync</code></dt>
<dd><p>要求写入时等待数据已被实际写入
</p>
</dd>
<dt><code class="t">truncate</code></dt>
<dt><code class="t">trunc</code></dt>
<dd><p>将文件截断为 0 大小
</p>
</dd>
</dl>

<p>要关闭文件，请使用以下方法之一：
</p>
<div class="example">
<pre class="example-preformatted"><code class="t">exec {</code><var class="var">fd</var><code class="t">}&lt;&amp;-</code>
<code class="t">exec {</code><var class="var">fd</var><code class="t">}&gt;&amp;-</code>
</pre></div>

<a class="index-entry-id" id="index-sysread"></a>

</dd>
<dt><code class="t">sysread </code>[ <code class="t">-c</code> <var class="var">countvar</var> ] [ <code class="t">-i</code> <var class="var">infd</var> ] [ <code class="t">-o</code> <var class="var">outfd</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-s</code> <var class="var">bufsize</var> ] [ <code class="t">-t</code> <var class="var">timeout</var> ] [ <var class="var">param</var> ]</dt>
<dd><p>从文件描述符 <var class="var">infd</var> 执行单次系统读取，如果未指定，则为零。 读取结果存储在 <var class="var">param</var> 中，如果未给出，则存储在
<code class="t">REPLY</code> 中。 如果给定了 <var class="var">countvar</var>，读取的字节数将分配给 <var class="var">countvar</var> 命名的参数。
</p>
<p>读取的最大字节数为 <var class="var">bufsize</var>，如果没有给出，则为 8192，但只要成功读取任何字节数，命令就会返回。
</p>
<p>如果给出 <var class="var">timeout</var>，则指定了以秒为单位的超时时间，在轮询文件描述符时，超时时间可以为零。 如果可用，则由 <code class="t">poll</code>
系统调用处理，否则由 <code class="t">select</code> 系统调用处理。
</p>
<p>如果给定了 <var class="var">outfd</var>，则会尝试将刚刚读取的所有字节写入文件描述符 <var class="var">outfd</var>。 如果由于 <code class="t">EINTR</code>
以外的系统错误或中断期间的 zsh 内部错误而失败，读取但未写入的字节会存储在 <var class="var">param</var>
指定的参数（如果提供了该参数，这时不使用默认值）中，读取但未写入的字节数会存储在 <var class="var">countvar</var> 指定的参数（如果提供了该参数）中。
如果成功，<var class="var">countvar</var> 会像往常一样包含传输的全部字节数，而 <var class="var">param</var> 则不会被设置。
</p>
<p>错误 <code class="t">EINTR</code> (中断的系统调用）是内部处理的，因此 shell 中断对调用者是透明的。 任何其他错误都会导致返回。
</p>
<p>可能的返回状态有
</p><dl class="table">
<dt>0</dt>
<dd><p>成功读取至少一个字节的数据，并酌情写入。
</p>
</dd>
<dt>1</dt>
<dd><p>命令参数有误。 这是唯一会将信息打印到标准错误中的错误。
</p>
</dd>
<dt>2</dt>
<dd><p>读取或轮询输入文件描述符超时时出现错误。 参数 <code class="t">ERRNO</code> 提供了错误信息。
</p>
</dd>
<dt>3</dt>
<dd><p>已成功读取数据，但向 <var class="var">outfd</var> 中写入数据时出现错误。 参数 <code class="t">ERRNO</code> 提供了错误信息。
</p>
</dd>
<dt>4</dt>
<dd><p>尝试读取超时。 注意这不会设置 <code class="t">ERRNO</code>，因为这不是系统错误。
</p>
</dd>
<dt>5</dt>
<dd><p>未发生系统错误，但读取的字节数为零。 这通常表示文件已结束。 参数根据常规规则设置；不会尝试向 <var class="var">outfd</var> 写入任何内容。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">sysseek</code> [ <code class="t">-u</code> <var class="var">fd</var> ] [ <code class="t">-w</code> <code class="t">start</code>|<code class="t">end</code>|<code class="t">current</code> ] <var class="var">offset</var></dt>
<dd><p>未来读写的当前文件位置将调整为指定的字节偏移量。<var class="var">offset</var> 将以数学表达式的形式求值。<code class="t">-u</code>
选项允许指定文件描述符。默认情况下，偏移量是相对于文件的起点，但通过 <code class="t">-w</code> 选项，可以指定偏移量应相对于当前位置或文件的终点。
</p>
</dd>
<dt><code class="t">syswrite</code> [ <code class="t">-c</code> <var class="var">countvar</var> ] [ <code class="t">-o</code> <var class="var">outfd</var> ] <var class="var">data</var></dt>
<dd><p>数据（字节的单个字符串）将通过 <code class="t">write</code> 系统调用写入文件描述符 <var class="var">outfd</var>，如果没有给出，则是 1。
如果第一个写入操作没有写入所有数据，可以使用多个写入操作。
</p>
<p>如果给出 <var class="var">countvar</var>，写入的字节数将存储在 <var class="var">countvar</var> 命名参数中；如果发生错误，这可能不是 <var class="var">data</var>
的全长。
</p>
<p><code class="t">EINTR</code> 错误（系统调用中断）会通过重试进行内部处理。(系统调用中断）会通过重试进行内部处理，否则错误会导致命令返回。
例如，如果文件描述符设置为非阻塞输出，错误 <code class="t">EAGAIN</code>（在某些系统中为 <code class="t">EWOULDBLOCK</code>）可能导致命令提前返回。
</p>
<p>返回状态可能是 0 以表示成功，1 表示命令参数出错，或 2 表示写入错误；最后一种情况不打印错误信息，但参数 <code class="t">ERRNO</code> 将反映发生的错误。
</p>
</dd>
<dt><code class="t">zsystem flock</code> [ <code class="t">-t</code> <var class="var">timeout</var> ] [ <code class="t">-i</code> <var class="var">interval</var> ] [ <code class="t">-f</code> <var class="var">var</var> ] [<code class="t">-er</code>] <var class="var">file</var></dt>
<dt><code class="t">zsystem flock -u</code> <var class="var">fd_expr</var></dt>
<dd><p>内置的 <code class="t">zsystem</code> 的子命令 <code class="t">flock</code> 会对给定文件的全部内容执行咨询式文件锁定（advisory file
locking）（通过 fcntl(2) 系统调用）。 这种形式的锁定要求访问文件的进程相互配合；其最明显的用途是在 shell
本身的两个实例之间使用。
</p>
<p>在第一种形式中，名为 <var class="var">file</var> 的文件必须已经存在，通过为该文件打开文件描述符并为文件描述符加锁来锁定该文件。 当创建锁的 shell
进程退出时，锁就会终止；因此，在子 shell 中创建文件锁通常很方便，因为子 shell 退出时，锁会自动释放。 需要注意的是，使用
<code class="t">print</code> 内置程序和 <code class="t">-u</code> 选项的副作用是释放锁，就像重定向到持有锁的 shell 中的文件一样。 要解决这个问题，可以使用子
shell，例如&lsquo;<code class="t">(print message) &gt;&gt; </code><var class="var">file</var>&rsquo;。 如果锁定成功，则返回状态 0，否则返回状态 1。
</p>
<p>在第二种形式中，算术表达式 <var class="var">fd_expr</var> 给出的文件描述符被关闭，释放了锁。 在锁定过程中，可以使用 &lsquo;<code class="t">-f</code> <var class="var">var</var>&rsquo;
形式查询文件描述符；锁定成功后，shell 变量 <var class="var">var</var> 将被设置为锁定时使用的文件描述符。 如果以其他方式关闭文件描述符，例如使用
&lsquo;<code class="t">exec {</code><var class="var">var</var><code class="t">}&gt;&amp;-</code>&rsquo; ，锁将被释放；不过，这里描述的形式会执行安全检查，确保文件描述符用于文件锁定。
</p>
<p>默认情况下，shell 会无限期等待锁定成功。 选项 <code class="t">-t</code> <var class="var">timeout</var>  以秒为单位指定锁定的超时时间；允许使用小数秒。
在此期间，如果使用 <code class="t">-i</code> <var class="var">interval</var> 选项，shell 将每隔 <var class="var">interval</var>
秒尝试锁定文件一次，否则每秒锁定一次。 (如果需要，这个 <var class="var">interval</var> 会在最后一次尝试前缩短，这样 shell 就只能等待
<var class="var">timeout</var> 而不是更长的时间）。 如果尝试超时，将返回状态 2。
</p>
<p>(注意 <var class="var">timeout</var> 限制为 2^30-1 秒（约 34 年），<var class="var">interval</var> 限制为 0.999 * LONG_MAX
微秒（在 32 位系统上仅约 35 分钟）)。
</p>
<p>如果给定了选项 <code class="t">-e</code>，当 shell 使用 <code class="t">exec</code> 启动新进程时，锁的文件描述符将被保留；否则，它将在此时关闭并释放锁。
</p>
<p>如果给出选项 <code class="t">-r</code>，锁只用于读取，否则用于读写。 文件描述符也会相应打开。
</p>
</dd>
<dt><code class="t">zsystem supports</code> <var class="var">subcommand</var></dt>
<dd><p>内置 <code class="t">zsystem</code> 的子命令 <code class="t">supports</code> 会测试给定的子命令是否受支持。 如果支持，则返回状态 0，否则返回状态
1。这将静默操作，除非出现语法错误（即参数个数错误），这时将返回状态 255。 状态 1 表示以下两种情况之一： <var class="var">subcommand</var>
已知但当前操作系统不支持，或者 <var class="var">subcommand</var> 未知（可能是因为这是一个尚未实现该命令的旧版 shell）。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shu-XueHan-Shu-">
<h4 class="subsection"><span>22.27.2 数学函数<a class="copiable-link" href="#Shu-XueHan-Shu-"> &para;</a></span></h4>

<dl class="table">
<dt><code class="t">systell(<var class="var">fd</var>)</code></dt>
<dd><p>systell 数学函数返回作为参数传递的文件描述符的当前文件位置。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Can-Shu--2">
<h4 class="subsection"><span>22.27.3 参数<a class="copiable-link" href="#Can-Shu--2"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-errnos"></a><span><code class="t">errnos</code><a class="copiable-link" href="#index-errnos"> &para;</a></span></dt>
<dd><p>系统中定义的错误名称的只读数组。 这些通常是通过包含系统头文件 <code class="t">errno.h</code> 在 C 语言中定义的宏。 每个名称的索引（假设选项
<code class="t">KSH_ARRAYS</code> 未设置）与错误编号相对应。 在最后一个已知错误之前没有名称的错误编号 <var class="var">num</var> 将在数组中命名为
<code class="t">E</code><var class="var">num</var>。
</p>
<p>请注意，错误的别名不会被处理，只会使用规范名称。
</p>
</dd>
<dt><a id="index-sysparams"></a><span><code class="t">sysparams</code><a class="copiable-link" href="#index-sysparams"> &para;</a></span></dt>
<dd><p>一个只读关联数组。 键是
</p>
<dl class="table">
<dt><a id="index-pid_002c-sysparams"></a><span><code class="t">pid</code><a class="copiable-link" href="#index-pid_002c-sysparams"> &para;</a></span></dt>
<dd><p>返回当前进程的进程 ID，即使在子 shell 中也是如此。 相比之下，<code class="t">$$</code> 返回的是主 shell 进程的进程 ID。
</p>
</dd>
<dt><a id="index-ppid_002c-sysparams"></a><span><code class="t">ppid</code><a class="copiable-link" href="#index-ppid_002c-sysparams"> &para;</a></span></dt>
<dd><p>返回当前进程的父进程 ID，即使在子 shell 中也是如此。 比较 <code class="t">$PPID</code>，它返回的是主 shell 进程初始父进程的进程 ID。
</p>
</dd>
<dt><code class="t">procsubstpid</code></dt>
<dd><p>返回进程替换时最后启动的进程的进程 ID，即  <code class="t">&lt;(</code><var class="var">...</var><code class="t">)</code>  和 <code class="t">&gt;(</code><var class="var">...</var><code class="t">)</code> 扩展。
</p>
</dd>
</dl>

</dd>
</dl>
<hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002fnet_002ftcp-_6a21_5757">

<h3 class="section" id="zsh_002fnet_002ftcp-Mo-Kuai-"><span>22.28 zsh/net/tcp 模块<a class="copiable-link" href="#zsh_002fnet_002ftcp-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/net/tcp</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-TCP"></a>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002c-TCP"></a>
<a id="index-ztcp"></a><span><code class="t">ztcp</code> [ <code class="t">-acflLtv</code> ] [ <code class="t">-d</code> <var class="var">fd</var> ] [ <var class="var">args</var> ]<a class="copiable-link" href="#index-ztcp"> &para;</a></span></dt>
<dd><p><code class="t">ztcp</code> 是作为内置命令实现的，可以充分利用 shell 命令行编辑、文件 I/O 和作业控制机制。
</p>
<p>如果 <code class="t">ztcp</code> 不带任何选项，它将输出会话表的内容。
</p>
<p>如果运行时只使用 <code class="t">-L</code> 选项，则会以适合自动解析的格式输出会话表内容。 如果与打开或关闭会话的命令一起使用，则忽略该选项。
输出由一系列行组成，每个会话一行，每行包含以下内容，以空格分隔：
</p>
<dl class="table">
<dt>文件描述符</dt>
<dd><p>连接使用的文件描述符。 对于正常的入站（<code class="t">I</code>）和出站（<code class="t">O</code>）连接，可以通过常用的 shell 机制读写该文件描述符。 不过，只能使用
&lsquo;<code class="t">ztcp -c</code>&rsquo; 关闭。
</p>
</dd>
<dt>连接类型</dt>
<dd><p>一个字母，说明会话是如何创建的：
</p>
<dl class="table">
<dt><code class="t">Z</code></dt>
<dd><p>使用 <code class="t">zftp</code> 命令创建的会话。
</p>
</dd>
<dt><code class="t">L</code></dt>
<dd><p>使用 &lsquo;<code class="t">ztcp -l</code>&rsquo; 打开的侦听连接。
</p>
</dd>
<dt><code class="t">I</code></dt>
<dd><p>使用 &lsquo;<code class="t">ztcp -a</code>&rsquo; 接受的入站连接。
</p>
</dd>
<dt><code class="t">O</code></dt>
<dd><p>使用  &lsquo;<code class="t">ztcp</code> <var class="var">host</var> <var class="var">...</var>&rsquo; 创建的出站连接。
</p>
</dd>
</dl>


</dd>
<dt>本地主机</dt>
<dd><p>由于本地主机地址无关紧要，因此通常将其设置为全为零的 IP 地址。
</p>
</dd>
<dt>本地端口</dt>
<dd><p>除非连接用于侦听，否则可能为零。
</p>
</dd>
<dt>远程主机</dt>
<dd><p>如果有的话，这是对等体的完全合格域名，否则就是 IP 地址。 对于用于监听的会话，IP 地址全为零。
</p>
</dd>
<dt>远程端口</dt>
<dd><p>这对于一个用于监听的连接来说是零。
</p>
</dd>
</dl>

</dd>
</dl>


<div class="subsection-level-extent" id="Chu-Zhan-Lian-Jie--1">
<h4 class="subsection"><span>22.28.1 出站连接<a class="copiable-link" href="#Chu-Zhan-Lian-Jie--1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002c-Chuan-Chu-TCP"></a>

<dl class="table">
<dt>套接字、传入 TCP</dt>
<dd><p>打开与 <var class="var">host</var> 的新 TCP 连接。 如果省略了 <var class="var">port</var>，则默认端口为 23。 该连接将被添加到会话表中，shell 参数
<code class="t">REPLY</code> 将被设置为与该连接关联的文件描述符。
</p>
<p>如果指定了 <code class="t">-d</code>，其参数将作为连接的目标文件描述符。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Ru-Zhan-Lian-Jie--1">
<h4 class="subsection"><span>22.28.2 入站连接<a class="copiable-link" href="#Ru-Zhan-Lian-Jie--1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002c-Chuan-Ru-TCP"></a>

<dl class="table">
<dt><code class="t">ztcp</code> <code class="t">-l</code> [ <code class="t">-v</code> ] [ <code class="t">-d</code> <var class="var">fd</var> ] <var class="var">port</var></dt>
<dd><p><code class="t">ztcp -l</code> 将在 TCP <var class="var">port</var> 上打开一个监听套接字。 该套接字将被添加到会话表中，shell 参数 <code class="t">REPLY</code>
将被设置为与该监听器相关的文件描述符。
</p>
<p>如果指定了 <code class="t">-d</code>，其参数将作为连接的目标文件描述符。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
</dd>
<dt><code class="t">ztcp</code> <code class="t">-a</code> [ <code class="t">-tv</code> ] [ <code class="t">-d</code> <var class="var">targetfd</var> ] <var class="var">listenfd</var></dt>
<dd><p><code class="t">ztcp -a</code> 将接受与 <var class="var">listenfd</var> 关联端口的传入连接。 连接将被添加到会话表，shell 参数 <code class="t">REPLY</code>
将被设置为与入站连接相关的文件描述符。
</p>
<p>如果指定了 <code class="t">-d</code>，其参数将作为连接的目标文件描述符。
</p>
<p>如果指定了 <code class="t">-t</code>，<code class="t">ztcp</code> 将在没有入站连接的情况下返回。 否则将等待连接。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Guan-Bi-Lian-Jie-">
<h4 class="subsection"><span>22.28.3 关闭连接<a class="copiable-link" href="#Guan-Bi-Lian-Jie-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Tao-Jie-Zi-_002c-Guan-Bi-TCP"></a>

<dl class="table">
<dt><code class="t">ztcp</code> <code class="t">-cf</code> [ <code class="t">-v</code> ] [ <var class="var">fd</var> ]</dt>
<dt><code class="t">ztcp</code> <code class="t">-c</code> [ <code class="t">-v</code> ] [ <var class="var">fd</var> ]</dt>
<dd><p><code class="t">ztcp -c</code> 将关闭与 <var class="var">fd</var> 关联的套接字。 该套接字将从会话表中删除。 如果未指定 <var class="var">fd</var>，<code class="t">ztcp</code>
将关闭会话表中的所有内容。
</p>
<p>通常情况下，zftp（参见 <a class="ref" href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a>）注册的套接字不能以这种方式关闭。 要强制关闭此类套接字，请使用 <code class="t">-f</code>。
</p>
<p>为了获得更详细的输出，请使用 <code class="t">-v</code>。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Ju-Li-1">
<h4 class="subsection"><span>22.28.4 举例<a class="copiable-link" href="#Ju-Li-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-TCP_002c-LiZi-"></a>
<p>下面介绍如何在两个 zsh 实例之间创建 TCP 连接。 我们需要选择一个未指定的端口；这里我们使用随机选择的 5123。
</p>
<p>在 <code class="t">host1</code> 上,
</p><div class="example">
<pre class="example-preformatted">zmodload zsh/net/tcp
ztcp -l 5123
listenfd=$REPLY
ztcp -a $listenfd
fd=$REPLY
</pre></div>
<p>倒数第二个命令会阻塞，直到有连接进入。
</p>
<p>现在从 <code class="t">host2</code>（当然可能是同一台机器）创建一个连接：
</p><div class="example">
<pre class="example-preformatted">zmodload zsh/net/tcp
ztcp host1 5123
fd=$REPLY
</pre></div>

<p>现在，在每台主机上，<code class="t">$fd</code> 都包含一个文件描述符，用于与另一台主机对话。 例如，在 <code class="t">host1</code> 上：
</p><div class="example">
<pre class="example-preformatted">print This is a message &gt;&amp;$fd
</pre></div>
<p>在 <code class="t">host2</code> 上:
</p><div class="example">
<pre class="example-preformatted">read -r line &lt;&amp;$fd; print -r - $line
</pre></div>
<p>prints &lsquo;<code class="t">This is a message</code>&rsquo;.
</p>
<p>在 <code class="t">host1</code> 上进行整理：
</p><div class="example">
<pre class="example-preformatted">ztcp -c $listenfd
ztcp -c $fd
</pre></div>
<p>在 <code class="t">host2</code> 上
</p><div class="example">
<pre class="example-preformatted">ztcp -c $fd
</pre></div>
<hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002ftermcap-_6a21_5757">

<h3 class="section" id="zsh_002ftermcap-Mo-Kuai-"><span>22.29 zsh/termcap 模块<a class="copiable-link" href="#zsh_002ftermcap-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/termcap</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-termcap-Zhi-_002c-Da-Yin-"></a>
<a id="index-echotc"></a><span><code class="t">echotc</code> <var class="var">cap</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-echotc"> &para;</a></span></dt>
<dd><p>输出与能力 <var class="var">cap</var> 相对应的 termcap 值，参数可选。
</p>
</dd>
</dl>

<p><code class="t">zsh/termcap</code> 模块提供了一个参数：
</p>
<dl class="table">
<dt><a id="index-termcap"></a><span><code class="t">termcap</code><a class="copiable-link" href="#index-termcap"> &para;</a></span></dt>
<dd><p>关联数组，用于将 termcap 能力代码映射到其值。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fterminfo-_6a21_5757">

<h3 class="section" id="zsh_002fterminfo-Mo-Kuai-"><span>22.30 zsh/terminfo 模块<a class="copiable-link" href="#zsh_002fterminfo-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/terminfo</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-terminfo-Zhi-_002c-Da-Yin-"></a>
<a id="index-echoti"></a><span><code class="t">echoti</code> <var class="var">cap</var> [ <var class="var">arg</var> ]<a class="copiable-link" href="#index-echoti"> &para;</a></span></dt>
<dd><p>输出与能力 <var class="var">cap</var> 相对应的 terminfo 值，如果适用，则使用 <var class="var">arg</var> 进行实例化。
</p>
</dd>
</dl>

<p><code class="t">zsh/terminfo</code> 模块提供一个参数：
</p>
<dl class="table">
<dt><a id="index-terminfo"></a><span><code class="t">terminfo</code><a class="copiable-link" href="#index-terminfo"> &para;</a></span></dt>
<dd><p>关联数组，用于将 terminfo 能力名称映射到其值。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fwatch-_6a21_5757">

<h3 class="section" id="zsh_002fwatch-Mo-Kuai-"><span>22.31 zsh/watch 模块<a class="copiable-link" href="#zsh_002fwatch-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/watch</code> 模块可用于报告特定用户何时登录或退出。可通过以下参数进行控制。
</p>
<dl class="table">
<dt><a id="index-LOGCHECK"></a><span><code class="t">LOGCHECK</code><a class="copiable-link" href="#index-LOGCHECK"> &para;</a></span></dt>
<dd><p>使用 <code class="t">watch</code> 参数检查登录/注销活动的间隔时间（以秒为单位）。
</p>
</dd>
<dt><a class="index-entry-id" id="index-WATCH"></a>
<a id="index-watch"></a><span><code class="t">watch</code> &lt;S&gt; &lt;Z&gt; (<code class="t">WATCH</code> &lt;S&gt;)<a class="copiable-link" href="#index-watch"> &para;</a></span></dt>
<dd><p>要报告的登录/注销事件数组（以冒号分隔的列表）。
</p>
<p>如果包含单词 &lsquo;<code class="t">all</code>&rsquo;，则报告所有登录/注销事件。 如果包含单词 &lsquo;<code class="t">notme</code>&rsquo;，与 &lsquo;<code class="t">notme</code>&rsquo; 相同，但报告除
<code class="t">$USERNAME</code> 以外的所有事件。
</p>
<p>该列表中的条目可以由用户名、 &lsquo;<code class="t">@</code>&rsquo; 、远程主机名、&lsquo;<code class="t">%</code>&rsquo;、线路（tty）组成。 其中任何一个都可以是一个模式（在赋值给
<code class="t">watch</code> 时请务必加引号，以免立即生成文件）；<code class="t">EXTENDED_GLOB</code> 选项的设置将受到尊重。
一个条目中可能包含上述任何或所有组件；如果登录/注销事件与所有组件都匹配，则会被报告。
</p>
<p>例如，如果设置了 <code class="t">EXTENDED_GLOB</code> 选项，就会出现以下情况：
</p>
<div class="example">
<pre class="example-preformatted">watch=('^(pws|barts)')
</pre></div>

<p>会导致报告与 <code class="t">pws</code> 或 <code class="t">barts</code> 以外的任何用户相关的活动。
</p>
</dd>
<dt><a id="index-WATCHFMT"></a><span><code class="t">WATCHFMT</code><a class="copiable-link" href="#index-WATCHFMT"> &para;</a></span></dt>
<dd><p>如果设置了 <code class="t">watch</code> 参数，登录/注销报告的格式。 默认格式为 &lsquo;<code class="t">%n has %a %l from %m</code>&rsquo;。 可识别以下转义序列：
</p>
<dl class="table">
<dt><code class="t">%n</code></dt>
<dd><p>登录/退出的用户名。
</p>
</dd>
<dt><code class="t">%a</code></dt>
<dd><p>观察到的操作，即 &quot;登录 &quot;或 &quot;注销&quot;。
</p>
</dd>
<dt><code class="t">%l</code></dt>
<dd><p>用户登录的线路（tty）。
</p>
</dd>
<dt><code class="t">%M</code></dt>
<dd><p>远程主机的完整主机名。
</p>
</dd>
<dt><code class="t">%m</code></dt>
<dd><p>主机名，直至第一个 &lsquo;<code class="t">.</code>&rsquo;。 如果只有 IP 地址或 utmp 字段包含 X-windows 显示器的名称，则打印整个名称。
</p>
<p><em class="emph">注意:</em> &lsquo;<code class="t">%m</code>&rsquo; 和 &lsquo;<code class="t">%M</code>&rsquo; 转义符只有在您的计算机的 utmp 中存在主机名字段时才起作用。
否则，它们将被视为普通字符串。
</p>
</dd>
<dt><code class="t">%F{</code><var class="var">color</var><code class="t">}</code> (<code class="t">%f</code>)</dt>
<dd><p>开始（停止）使用不同的前景色。
</p>
</dd>
<dt><code class="t">%K{</code><var class="var">color</var><code class="t">}</code> (<code class="t">%k</code>)</dt>
<dd><p>开始（停止）使用不同的背景颜色。
</p>
</dd>
<dt><code class="t">%S</code> (<code class="t">%s</code>)</dt>
<dd><p>启动（停止）突出模式。
</p>
</dd>
<dt><code class="t">%U</code> (<code class="t">%u</code>)</dt>
<dd><p>启动（停止）下划线模式。
</p>
</dd>
<dt><code class="t">%B</code> (<code class="t">%b</code>)</dt>
<dd><p>启动（停止）粗体模式。
</p>
</dd>
<dt><code class="t">%t</code></dt>
<dt><code class="t">%@</code></dt>
<dd><p>时间，12 小时制，上午/下午格式。
</p>
</dd>
<dt><code class="t">%T</code></dt>
<dd><p>时间，24 小时制。
</p>
</dd>
<dt><code class="t">%w</code></dt>
<dd><p>日期，格式为 &lsquo;<var class="var">day</var><code class="t">-</code><var class="var">dd</var>&rsquo; 。
</p>
</dd>
<dt><code class="t">%W</code></dt>
<dd><p>日期，格式为 &lsquo;<var class="var">mm</var><code class="t">/</code><var class="var">dd</var><code class="t">/</code><var class="var">yy</var>&rsquo; 。
</p>
</dd>
<dt><code class="t">%D</code></dt>
<dd><p>日期，格式为 &lsquo;<var class="var">yy</var><code class="t">-</code><var class="var">mm</var><code class="t">-</code><var class="var">dd</var>&rsquo;。
</p>
</dd>
<dt><code class="t">%D{</code><var class="var">string</var><code class="t">}</code></dt>
<dd><p>使用 <code class="t">strftime</code> 函数，以<a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a> 中描述的 zsh 扩展，将日期格式化为 <var class="var">string</var>。
</p>
</dd>
<dt><code class="t">%(</code><var class="var">x</var><code class="t">:</code><var class="var">true-text</var><code class="t">:</code><var class="var">false-text</var><code class="t">)</code></dt>
<dd><p>指定一个三元表达式。<var class="var">x</var> 后面的字符是任意的；同样的字符用于分隔 &quot;true &quot; 结果和 &quot;false &quot;结果。
分隔符和右括号都可以用反斜线转义。 三元表达式可以嵌套。
</p>
<p>测试字符 <var class="var">x</var> 可以是 &lsquo;<code class="t">l</code>&rsquo;, &lsquo;<code class="t">n</code>&rsquo;, &lsquo;<code class="t">m</code>&rsquo; 或 &lsquo;<code class="t">M</code>&rsquo;
中的任意一个，如果相应的转义序列会返回一个非空值，则表示结果为 &lsquo;true&rsquo; ；也可以是&lsquo;<code class="t">a</code>&rsquo;，如果被监视用户已登录，则表示结果为 &lsquo;true&rsquo;
；如果已注销，则表示结果为 &lsquo;false&rsquo; 。 其他字符的结果既不是 true 也不是 false；在这种情况下，整个表达式将被省略。
</p>
<p>如果结果为 &lsquo;true&rsquo;，则 <var class="var">true-text</var> 将根据上述规则进行格式化并打印，<var class="var">false-text</var> 将被跳过。 如果结果为
&lsquo;false&rsquo;，则跳过 <var class="var">true-text</var>，格式化并打印 <var class="var">false-text</var>。
任一分支或两个分支都可以为空，但无论如何，两个分隔符都必须存在。
</p>
</dd>
</dl>

</dd>
</dl>

<p>此外，<code class="t">zsh/watch</code> 模块还提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-watch_002c-use-of"></a>
<a class="index-entry-id" id="index-Guan-Cha-Yong-Hu-"></a>
<a class="index-entry-id" id="index-Yong-Hu-_002c-Guan-Cha-"></a>
<a id="index-log"></a><span><code class="t">log</code><a class="copiable-link" href="#index-log"> &para;</a></span></dt>
<dd><p>列出受 <code class="t">watch</code> 参数当前设置影响的所有当前登录用户。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fzftp-_6a21_5757">

<h3 class="section" id="zsh_002fzftp-Mo-Kuai-"><span>22.32 zsh/zftp 模块<a class="copiable-link" href="#zsh_002fzftp-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/zftp</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-FTP"></a>
<a class="index-entry-id" id="index-WenJian-_002c-Chuan-Shu-"></a>
<a id="index-zftp"></a><span><code class="t">zftp</code> <var class="var">subcommand</var> [ <var class="var">args</var> ]<a class="copiable-link" href="#index-zftp"> &para;</a></span></dt>
<dd><p><code class="t">zsh/zftp</code> 模块是 FTP（文件传输协议）的客户端。 它以内置命令方式实现，可充分利用 shell
命令行编辑、文件输入/输出和作业控制机制。 通常情况下，用户会通过 shell 函数访问该模块，而 shell 函数提供了更强大的接口；<code class="t">zsh</code>
发行版中提供了一套函数，<a class="ref" href="#Zftp-_51fd_6570_7cfb_7edf">Zftp 函数系统</a>中对其进行了描述。 不过，<code class="t">zftp</code> 命令本身完全可用。
</p>
<p>所有命令都由命令名 <code class="t">zftp</code> 和子命令名组成。 下面列出了这些子命令。 每个子命令的返回状态都应反映远程操作的成功或失败。
有关如何打印服务器响应的更多信息，请参阅变量 <code class="t">ZFTP_VERBOSE</code> 的说明。
</p>
</dd>
</dl>


<div class="subsection-level-extent" id="Zi-Ming-Ling-">
<h4 class="subsection"><span>22.32.1 子命令<a class="copiable-link" href="#Zi-Ming-Ling-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp_002c-Zi-Ming-Ling-"></a>

<dl class="table">
<dt><a id="index-FTP_002c-Kai-Shi-YiGeHui-Hua-"></a><span><code class="t">open</code> <var class="var">host</var>[<code class="t">:</code><var class="var">port</var>] [ <var class="var">user</var> [ <var class="var">password</var> [ <var class="var">account</var> ] ] ]<a class="copiable-link" href="#index-FTP_002c-Kai-Shi-YiGeHui-Hua-"> &para;</a></span></dt>
<dd><p>打开连接到 <var class="var">host</var> 的新 FTP 会话，<var class="var">host</var> 可以是 TCP/IP 连接主机的名称，也可以是标准点号形式的 IP 号。
如果参数格式为 <var class="var">host</var><code class="t">:</code><var class="var">port</var>，则将打开连接到 TCP 端口 <var class="var">port</var> 而不是标准 FTP 端口 21。
该端口可以是 TCP 服务的名称或数字：更多信息请参阅下文对 <code class="t">ZFTP_PORT</code> 的描述。
</p>
<p>如果使用冒号格式的 IPv6 地址，<var class="var">host</var> 应该用带引号的方括号括起来，以区别于 <var class="var">port</var>，例如
<code class="t">'[fe80::203:baff:fe02:8b56]'</code>。 为了保持一致性，所有形式的 <var class="var">host</var> 都允许使用这种方式。
</p>
<p>其余参数将传递给 <code class="t">login</code> 子命令。 请注意，如果没有提供 <var class="var">host</var> 以外的参数，<code class="t">open</code> 将 <em class="emph">不会</em>
自动调用 <code class="t">login</code>。 如果没有提供任何参数，<code class="t">open</code> 将使用 <code class="t">params</code> 子命令设置的参数。
</p>
<p>成功打开后，shell 变量 <code class="t">ZFTP_HOST</code>、<code class="t">ZFTP_PORT</code>、<code class="t">ZFTP_IP</code> 和 <code class="t">ZFTP_SYSTEM</code>
将可用；请参阅下面的 &lsquo;变量&rsquo;。
</p>
</dd>
<dt><code class="t">login</code> [ <var class="var">name</var> [ <var class="var">password</var> [ <var class="var">account</var> ] ] ]</dt>
<dt><code class="t">user</code> [ <var class="var">name</var> [ <var class="var">password</var> [ <var class="var">account</var> ] ] ]</dt>
<dd><p>使用参数 <var class="var">password</var> 和 <var class="var">account</var> 登录用户 <var class="var">name</var>。
任何参数都可以省略，如果需要，将从标准输入中读取（<var class="var">name</var> 始终需要）。 如果标准输入是终端，则会在标准错误中为每个参数打印出提示符，而
<var class="var">password</var> 不会被回显。 如果未使用任何参数，系统将打印一条警告信息。
</p>
<p>登录成功后，shell 变量 <code class="t">ZFTP_USER</code>、<code class="t">ZFTP_ACCOUNT</code> 和 <code class="t">ZFTP_PWD</code> 可用；请参阅下面的 &lsquo;变量&rsquo;。
</p>
<p>当用户已经登录时，可以再次发出该命令，服务器将首先为新用户重新初始化。
</p>
</dd>
<dt><code class="t">params</code> [ <var class="var">host</var> [ <var class="var">user</var> [ <var class="var">password</var> [ <var class="var">account</var> ] ] ] ]</dt>
<dt><code class="t">params</code> <code class="t">-</code></dt>
<dd><p>存储给定参数，以备以后执行不带参数的 <code class="t">open</code> 命令时使用。 只有命令行中给出的参数才会被记住。
如果没有给定参数，将打印当前设置的参数，但密码将以一行星号显示；如果没有设置参数，返回状态为 1，否则为 0。
</p>
<p>任何参数都可以指定为 &lsquo;<code class="t">?</code>&rsquo;，可能需要加引号以防止 shell 扩展。 在这种情况下，将像使用 <code class="t">login</code> 子命令一样从 stdin
读取相应的参数，包括对 <var class="var">password</var> 的特殊处理。 如果 &lsquo;<code class="t">?</code>&rsquo;
后面跟了一个字符串，该字符串将被用作读取参数的提示符，而不是默认信息（任何必要的标点符号和空白都应包含在提示符末尾）。 参数的第一个字母（仅）可以用
&lsquo;<code class="t">\</code>&rsquo; 加引号；因此参数 <code class="t">&quot;\\$word&quot;</code> 将保证来自 shell 参数 <code class="t">$word</code> 的字符串将按字面意思处理，无论其是否以
&lsquo;<code class="t">?</code>&rsquo; 开头。
</p>
<p>如果只给出一个 &lsquo;<code class="t">-</code>&rsquo;，现有参数（如果有）将被删除。 在这种情况下，调用不带参数的 <code class="t">open</code> 将导致错误。
</p>
<p>在 <code class="t">close</code> 之后，参数列表不会被删除，但如果 <code class="t">zsh/zftp</code> 模块被卸载，它将被删除。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">zftp params ftp.elsewhere.xx juser '?Password for juser: '
</pre></div>

<p>将存储主机 <code class="t">ftp.elsewhere.xx</code> 和用户 <code class="t">juser</code>，然后用给定的提示符提示用户输入相应的密码。
</p>
</dd>
<dt><code class="t">test</code></dt>
<dd><p>测试连接；如果服务器报告已关闭连接（可能是由于超时），则返回状态 2；如果没有打开连接，则返回状态 1；否则返回状态 0。 除了
<code class="t">$ZFTP_VERBOSE</code> 机制打印的信息或连接关闭时的错误信息外，<code class="t">test</code> 子命令是静默(silent)的。 该测试没有网络开销。
</p>
<p>只有使用 <code class="t">select(2)</code> 或 <code class="t">poll(2)</code> 系统调用的系统才支持该测试，否则将打印 &lsquo;<code class="t">not supported on
this system</code>&rsquo; 信息。
</p>
<p>当连接打开时，<code class="t">test</code> 子命令将在当前会话的任何其他子命令开始时自动调用。
</p>
</dd>
<dt><code class="t">cd</code> <var class="var">directory</var></dt>
<dd><p>将远程目录更改为 <var class="var">directory</var>。 同时更改 shell 变量 <code class="t">ZFTP_PWD</code>。
</p>
</dd>
<dt><code class="t">cdup</code></dt>
<dd><p>将远程目录更改为目录树中高一级的目录。 请注意，<code class="t">cd ..</code>在非 UNIX 系统上也能正常工作。
</p>
</dd>
<dt><code class="t">dir</code> [ <var class="var">arg</var> ... ]</dt>
<dd><p>提供远程目录的（详细）列表。 <var class="var">arg</var>s 直接传递给服务器。该命令的行为取决于实现情况，但 UNIX 服务器通常会将 <var class="var">arg</var>s
解释为 <code class="t">ls</code> 命令的参数，如果没有参数，则返回 &lsquo;<code class="t">ls -l</code>&rsquo; 的结果。目录会以标准输出的方式列出。
</p>
</dd>
<dt><code class="t">ls</code> [ <var class="var">arg</var> ... ]</dt>
<dd><p>提供远程目录的（简短）列表。 在没有 <var class="var">arg</var> 的情况下，会生成该目录下文件的原始列表，每行一个。 否则会受服务器实现的影响，表现与
<code class="t">dir</code> 类似。
</p>
</dd>
<dt><code class="t">type</code> [ <var class="var">type</var> ]</dt>
<dd><p>将传输类型更改为 <var class="var">type</var>，如果没有 <var class="var">type</var> 则打印当前类型。 允许的值有： &lsquo;<code class="t">A</code>&rsquo; (ASCII), &lsquo;<code class="t">I</code>&rsquo;
（图像，即二进制）或 &lsquo;<code class="t">B</code>&rsquo;（&lsquo;<code class="t">I</code>&rsquo; 的同义词）。
</p>
<p>FTP 的默认传输方式是 ASCII。 不过，如果 <code class="t">zftp</code> 发现远程主机是使用 8 位字节的 UNIX 机器，它将在 <code class="t">open</code>
时自动切换为使用二进制传输文件。 这一点随后可以被覆盖。
</p>
<p>传输类型只会在建立数据连接时传递给远程主机；该命令不涉及网络开销。
</p>
</dd>
<dt><code class="t">ascii</code></dt>
<dd><p>与 <code class="t">type A</code> 相同。
</p>
</dd>
<dt><code class="t">binary</code></dt>
<dd><p>与 <code class="t">type I</code> 相同。
</p>
</dd>
<dt><code class="t">mode</code> [ <code class="t">S</code> | <code class="t">B</code> ]</dt>
<dd><p>将模式类型设置为流（<code class="t">S</code>）或块（<code class="t">B</code>）。 流模式是默认模式；块模式不被广泛支持。
</p>
</dd>
<dt><code class="t">remote</code> <var class="var">file</var> ...</dt>
<dt><code class="t">local</code> [ <var class="var">file</var> ... ]</dt>
<dd><p>打印远程或本地文件的大小和最后修改时间。 如果列表中有多个项目，则首先打印文件名。 第一个数字是文件大小，第二个数字是文件的最后修改时间，格式为
<code class="t">CCYYMMDDhhmmSS</code>，由格林尼治标准时间内的年、月、日、时、分、秒组成。 请注意，这种格式（包括长度）是有保证的，因此时间字符串可以通过
<code class="t">[[</code> 内置命令的 <code class="t">&lt;</code> 和 <code class="t">&gt;</code> 操作符直接进行比较，即使它们太长而无法用整数表示。
</p>
<p>并非所有服务器都支持检索此信息的命令。 在这种情况下，<code class="t">remote</code> 命令将不打印任何内容，并返回状态 2，而未找到文件则返回状态 1。
</p>
<p><code class="t">local</code> 命令（但不包括 <code class="t">remote</code>）可以不带参数，在这种情况下，信息来自于检查文件描述符 0。 这与 <code class="t">put</code>
命令看到的文件相同，没有进一步的重定向。
</p>
</dd>
<dt><code class="t">get</code> <var class="var">file</var> ...</dt>
<dd><p>从服务器读取所有 <var class="var">file</var>s，将它们连接起来并发送到标准输出。
</p>
</dd>
<dt><code class="t">put</code> <var class="var">file</var> ...</dt>
<dd><p>对于每个 <var class="var">file</var>，从标准输入中读取一个文件，并以给定的名称将其发送到远程主机。
</p>
</dd>
<dt><code class="t">append</code> <var class="var">file</var> ...</dt>
<dd><p>与 <code class="t">put</code>相同，但如果远程 <var class="var">file</var> 已经存在，数据将被附加到其中，而不是覆盖。
</p>
</dd>
<dt><code class="t">getat</code> <var class="var">file</var> <var class="var">point</var></dt>
<dt><code class="t">putat</code> <var class="var">file</var> <var class="var">point</var></dt>
<dt><code class="t">appendat</code> <var class="var">file</var> <var class="var">point</var></dt>
<dd><p><code class="t">get</code>、<code class="t">put</code> 和 <code class="t">append</code> 的版本，将在远程 <var class="var">file</var> 中给定的 <var class="var">point</var> 处开始传输。
这对附加到不完整的本地文件非常有用。 但请注意，服务器并不普遍支持这种功能（而且也不完全符合标准规定的行为）。
</p>
</dd>
<dt><code class="t">delete</code> <var class="var">file</var> ...</dt>
<dd><p>删除服务器上的文件列表。
</p>
</dd>
<dt><code class="t">mkdir</code> <var class="var">directory</var></dt>
<dd><p>在服务器上创建一个新目录 <var class="var">directory</var>。
</p>
</dd>
<dt><code class="t">rmdir</code> <var class="var">directory</var></dt>
<dd><p>删除服务器上的 <var class="var">directory</var> 目录。
</p>
</dd>
<dt><code class="t">rename</code> <var class="var">old-name</var> <var class="var">new-name</var></dt>
<dd><p>将服务器上的文件 <var class="var">old-name</var> 重命名为 <var class="var">new-name</var>。
</p>
</dd>
<dt><code class="t">site</code> <var class="var">arg</var> ...</dt>
<dd><p>向服务器发送特定于主机的命令。只有在服务器指示使用时，您才可能需要它。
</p>
</dd>
<dt><code class="t">quote</code> <var class="var">arg</var> ...</dt>
<dd><p>向服务器发送原始 FTP 命令序列。 在此之前，您应该熟悉 RFC959 中定义的 FTP 命令集。 有用的命令可能包括 <code class="t">STAT</code> 和
<code class="t">HELP</code>。 请注意下面为变量 <code class="t">ZFTP_VERBOSE</code> 所描述的返回信息的机制，特别是所有来自控制连接的信息都会被发送到标准错误中。
</p>
</dd>
<dt><code class="t">close</code></dt>
<dt><code class="t">quit</code></dt>
<dd><p>关闭当前数据连接。 这将取消设置 shell 参数 <code class="t">ZFTP_HOST</code>, <code class="t">ZFTP_PORT</code>, <code class="t">ZFTP_IP</code>,
<code class="t">ZFTP_SYSTEM</code>, <code class="t">ZFTP_USER</code>, <code class="t">ZFTP_ACCOUNT</code>, <code class="t">ZFTP_PWD</code>,
<code class="t">ZFTP_TYPE</code> 和 <code class="t">ZFTP_MODE</code>.
</p>
</dd>
<dt><code class="t">session</code> [ <var class="var">sessname</var> ]</dt>
<dd><p>允许同时使用多个 FTP 会话。 会话名称是任意字符串；默认会话名称为 &lsquo;<code class="t">default</code>&rsquo;。
如果调用该命令时不带参数，则会列出所有当前会话；如果带参数，则会切换到名为 <var class="var">sessname</var> 的现有会话，或创建一个与该名称相同的新会话。
</p>
<p>每个会话都会记住连接的状态、特定于连接的 shell 参数集（与 <code class="t">close</code> 说明中提到的连接关闭时取消设置的参数集相同），以及使用
<code class="t">params</code> 子命令指定的任何用户参数。 如果切换到之前的会话，则会恢复这些值；如果切换到新会话，则会以与 <code class="t">zftp</code>
刚加载时相同的方式初始化这些值。 当前会话的名称由参数 <code class="t">ZFTP_SESSION</code> 提供。
</p>
</dd>
<dt><code class="t">rmsession</code> [ <var class="var">sessname</var> ]</dt>
<dd><p>删除会话；如果没有给出名称，则删除当前会话。 如果当前会话被删除，最早存在的会话将成为新的当前会话，否则当前会话不会改变。
如果被删除的会话是唯一的会话，则会创建一个名为 &lsquo;<code class="t">default</code>&rsquo; 的新会话，并成为当前会话；请注意，即使被删除的会话也名为
&lsquo;<code class="t">default</code>&rsquo;，这也是一个新会话。建议在使用 <code class="t">zftp</code> 的后台命令仍处于活动状态时不要删除会话。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Can-Shu--3">
<h4 class="subsection"><span>22.32.2 参数<a class="copiable-link" href="#Can-Shu--3"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp_002c-Can-Shu-"></a>
<p><code class="t">zftp</code> 使用以下 shell 参数。 目前它们都不是特殊参数。
</p>
<dl class="table">
<dt><a id="index-ZFTP_005fTMOUT"></a><span><code class="t">ZFTP_TMOUT</code><a class="copiable-link" href="#index-ZFTP_005fTMOUT"> &para;</a></span></dt>
<dd><p>整数。 返回错误前等待网络操作完成的时间（以秒为单位）。 如果模块加载时未设置，则默认值为 60。 如果值为 0，则关闭超时。
如果控制连接时出现超时，将关闭该连接。 如果超时太频繁，请使用较大的值。
</p>
</dd>
<dt><a id="index-ZFTP_005fIP"></a><span><code class="t">ZFTP_IP</code><a class="copiable-link" href="#index-ZFTP_005fIP"> &para;</a></span></dt>
<dd><p>只读。 当前连接的 IP 地址，用点号表示。
</p>
</dd>
<dt><a id="index-ZFTP_005fHOST"></a><span><code class="t">ZFTP_HOST</code><a class="copiable-link" href="#index-ZFTP_005fHOST"> &para;</a></span></dt>
<dd><p>只读。 当前远程服务器的主机名。 如果主机是以 IP 地址打开的，<code class="t">ZFTP_HOST</code> 将包含 IP 地址；这样可以节省名称查询的开销，IP
地址在名称服务器不可用时最常用。
</p>
</dd>
<dt><a id="index-ZFTP_005fPORT"></a><span><code class="t">ZFTP_PORT</code><a class="copiable-link" href="#index-ZFTP_005fPORT"> &para;</a></span></dt>
<dd><p>只读。 连接已打开的远程 TCP 端口的编号（即使该端口最初被指定为已命名的服务）。 通常是标准 FTP 端口 21。
</p>
<p>如果您的系统不具备相应的转换功能，则会以网络字节顺序显示。 如果您的系统是 little-endian
格式，那么端口将由两个交换字节组成，标准端口将被报告为 5376。 在这种情况下，传给 <code class="t">zftp open</code> 的数字端口也需要使用这种格式。
</p>
</dd>
<dt><a id="index-ZFTP_005fSYSTEM"></a><span><code class="t">ZFTP_SYSTEM</code><a class="copiable-link" href="#index-ZFTP_005fSYSTEM"> &para;</a></span></dt>
<dd><p>只读。 服务器响应 FTP <code class="t">SYST</code> 请求时返回的系统类型字符串。 最有趣的情况是以 <code class="t">&quot;UNIX Type: L8&quot;</code>
开头的字符串，以确保与本地 UNIX 主机最大程度兼容。
</p>
</dd>
<dt><a id="index-ZFTP_005fTYPE"></a><span><code class="t">ZFTP_TYPE</code><a class="copiable-link" href="#index-ZFTP_005fTYPE"> &para;</a></span></dt>
<dd><p>只读。 用于数据传输的类型，可以是 &lsquo;<code class="t">A</code>&rsquo; 或 &lsquo;<code class="t">I</code>&rsquo; 。 使用 <code class="t">type</code> 子命令可以更改。
</p>
</dd>
<dt><a id="index-ZFTP_005fUSER"></a><span><code class="t">ZFTP_USER</code><a class="copiable-link" href="#index-ZFTP_005fUSER"> &para;</a></span></dt>
<dd><p>只读。 当前登录的用户名（如果有）。
</p>
</dd>
<dt><a id="index-ZFTP_005fACCOUNT"></a><span><code class="t">ZFTP_ACCOUNT</code><a class="copiable-link" href="#index-ZFTP_005fACCOUNT"> &para;</a></span></dt>
<dd><p>只读。 当前用户的账户名（如果有）。 大多数服务器不需要账户名。
</p>
</dd>
<dt><a id="index-ZFTP_005fPWD"></a><span><code class="t">ZFTP_PWD</code><a class="copiable-link" href="#index-ZFTP_005fPWD"> &para;</a></span></dt>
<dd><p>只读。 服务器上的当前目录。
</p>
</dd>
<dt><a id="index-ZFTP_005fCODE"></a><span><code class="t">ZFTP_CODE</code><a class="copiable-link" href="#index-ZFTP_005fCODE"> &para;</a></span></dt>
<dd><p>只读。 服务器最后一次 FTP 回复的三位数代码字符串。 连接关闭后仍可读取，当前会话发生变化时也不会更改。
</p>
</dd>
<dt><a id="index-ZFTP_005fREPLY"></a><span><code class="t">ZFTP_REPLY</code><a class="copiable-link" href="#index-ZFTP_005fREPLY"> &para;</a></span></dt>
<dd><p>只读。 服务器发送的最后一次回复的最后一行。 连接关闭后仍可读取，当前会话发生变化时也不会更改。
</p>
</dd>
<dt><a id="index-ZFTP_005fSESSION"></a><span><code class="t">ZFTP_SESSION</code><a class="copiable-link" href="#index-ZFTP_005fSESSION"> &para;</a></span></dt>
<dd><p>只读。 当前 FTP 会话的名称；请参阅 <code class="t">session</code> 子命令的说明。
</p>
</dd>
<dt><a id="index-ZFTP_005fPREFS"></a><span><code class="t">ZFTP_PREFS</code><a class="copiable-link" href="#index-ZFTP_005fPREFS"> &para;</a></span></dt>
<dd><p>用于更改 <code class="t">zftp</code> 行为的首选项字符串。每个首选项都是单个字符。 定义如下
</p>
<dl class="table">
<dt><code class="t">P</code></dt>
<dd><p>被动(Passive)：尝试让远程服务器启动数据传输。 这种模式的效率略高于发送端口模式(sendport)。 如果字符串中之后出现字母
<code class="t">S</code>，<code class="t">zftp</code> 将在被动模式不可用时使用发送端口模式。
</p>
</dd>
<dt><code class="t">S</code></dt>
<dd><p>Sendport: 通过 FTP <code class="t">PORT</code> 命令初始化传输。 如果该命令出现在字符串中的 <code class="t">P</code> 之前，则永远不会尝试被动模式。
</p>
</dd>
<dt><code class="t">D</code></dt>
<dd><p>只使用最基本的 FTP 命令。 这将阻止变量 <code class="t">ZFTP_SYSTEM</code> 和 <code class="t">ZFTP_PWD</code> 被设置，并意味着所有连接都默认为 ASCII
类型。 在传输过程中，如果服务器不发送 <code class="t">ZFTP_SIZE</code>（许多服务器都会发送），则可能会阻止设置 <code class="t">ZFTP_SIZE</code>。
</p>
</dd>
</dl>

<p>如果 <code class="t">ZFTP_PREFS</code> 在 <code class="t">zftp</code> 加载时未设置，则将默认设置为
&lsquo;<code class="t">PS</code>&rsquo;，即在可用时使用被动模式，否则退回到发送端口模式。
</p>
</dd>
<dt><a id="index-ZFTP_005fVERBOSE"></a><span><code class="t">ZFTP_VERBOSE</code><a class="copiable-link" href="#index-ZFTP_005fVERBOSE"> &para;</a></span></dt>
<dd><p>由 0 到 5（含 5）之间的数字组成的字符串，用于指定应打印哪些来自服务器的响应。所有响应都将转入标准错误。 如果字符串中出现 1 至 5
中的任何一个数字，则以该数字开头的回复代码的服务器原始回复将被打印到标准错误中。 根据 RFC959 的定义，三位回复代码的第一位对应于:
</p>
<dl class="table">
<dt>1.</dt>
<dd><p>肯定的初步答复。
</p>
</dd>
<dt>2.</dt>
<dd><p>肯定的补全回复。
</p>
</dd>
<dt>3.</dt>
<dd><p>肯定的中间回复。
</p>
</dd>
<dt>4.</dt>
<dd><p>瞬时否定补全回复。
</p>
</dd>
<dt>5.</dt>
<dd><p>永久性的否定补全回复。
</p>
</dd>
</dl>

<p>值得注意的是，由于不明原因，强制终止连接的回复 &lsquo;Service not available&rsquo; 被归类为 421，即 &lsquo;瞬时否定&rsquo;
(&lsquo;transient negative&rsquo;)，这是对 &lsquo;瞬时&rsquo; (&lsquo;transient&rsquo;)一词的有趣解释。
</p>
<p>代码 0 比较特殊：它表示从服务器读取的多行回复中，除最后一行外的所有内容都将以处理过的格式打印到标准错误中。
按照惯例，服务器使用这种机制发送信息供用户阅读。 适当的回复代码,如果与相同的回复相匹配，则优先使用。
</p>
<p>如果在加载 <code class="t">zftp</code> 时未设置 <code class="t">ZFTP_VERBOSE</code>，则会将其设置为默认值
<code class="t">450</code>，即打印给用户的信息和所有错误信息。空字符串有效，表示不打印任何信息。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Han-Shu--2">
<h4 class="subsection"><span>22.32.3 函数<a class="copiable-link" href="#Han-Shu--2"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp_002c-Han-Shu-"></a>

<dl class="table">
<dt><a id="index-zftp_005fchpwd_002c-Gui-Fan-"></a><span><code class="t">zftp_chpwd</code><a class="copiable-link" href="#index-zftp_005fchpwd_002c-Gui-Fan-"> &para;</a></span></dt>
<dd><p>如果用户设置了该函数，那么每次服务器上的目录发生变化时，包括用户登录或连接关闭时，都会调用该函数。 在最后一种情况下，<code class="t">$ZFTP_PWD</code>
将被取消设置，否则它将反映新的目录。
</p>
</dd>
<dt><a id="index-zftp_005fprogress_002c-Gui-Fan-"></a><span><code class="t">zftp_progress</code><a class="copiable-link" href="#index-zftp_005fprogress_002c-Gui-Fan-"> &para;</a></span></dt>
<dd><p>如果用户设置了该函数，那么在 <code class="t">get</code>、<code class="t">put</code> 或 <code class="t">append</code> 操作中，每次从主机接收到足够的数据时，都会调用该函数。 在
<code class="t">get</code> 操作中，数据会被发送到标准输出，因此该函数必须写入标准错误或直接写入终端，<em class="emph">而不是</em> 写入标准输出。
</p>
<p>在传输过程中调用它时，会设置以下附加 shell 参数：
</p>
<dl class="table">
<dt><a id="index-ZFTP_005fFILE"></a><span><code class="t">ZFTP_FILE</code><a class="copiable-link" href="#index-ZFTP_005fFILE"> &para;</a></span></dt>
<dd><p>正在传输的远程文件的名称。
</p>
</dd>
<dt><a id="index-ZFTP_005fTRANSFER"></a><span><code class="t">ZFTP_TRANSFER</code><a class="copiable-link" href="#index-ZFTP_005fTRANSFER"> &para;</a></span></dt>
<dd><p>一个 <code class="t">G</code> 表示 <code class="t">get</code> 操作，一个 <code class="t">P</code> 表示 <code class="t">put</code> 操作。
</p>
</dd>
<dt><a id="index-ZFTP_005fSIZE"></a><span><code class="t">ZFTP_SIZE</code><a class="copiable-link" href="#index-ZFTP_005fSIZE"> &para;</a></span></dt>
<dd><p>正在传输的完整文件的总大小：与 <code class="t">remote</code> 和 <code class="t">local</code> 子命令为特定文件提供的第一个值相同。
如果服务器无法为正在检索的远程文件提供该值，则不会设置该值。 如果输入来自管道，则该值可能不正确，而仅对应于一个满的管道缓冲区。
</p>
</dd>
<dt><a id="index-ZFTP_005fCOUNT"></a><span><code class="t">ZFTP_COUNT</code><a class="copiable-link" href="#index-ZFTP_005fCOUNT"> &para;</a></span></dt>
<dd><p>目前已传输的数据量；介于 0 和 <code class="t">$ZFTP_SIZE</code> 之间的数字(如果设置了 <code class="t">$ZFTP_SIZE</code>）。该数字始终可用。
</p>
</dd>
</dl>

<p>调用该函数时，首先会适当设置 <code class="t">ZFTP_TRANSFER</code>，并将 <code class="t">ZFTP_COUNT</code> 设置为零。
传输完成后，如果函数希望进行整理，则会再次调用 <code class="t">ZFTP_TRANSFER</code> 并将其设置为 <code class="t">GF</code> 或 <code class="t">PF</code>。
在其他情况下，该函数不会以 <code class="t">ZFTP_COUNT</code> 的相同值被调用两次。
</p>
<p>有时，进度表可能会造成干扰。 用户可自行决定是否应定义该函数，并在必要时使用 <code class="t">unfunction</code>。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Wen-Ti-">
<h4 class="subsection"><span>22.32.4 问题<a class="copiable-link" href="#Wen-Ti-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp_002c-Wen-Ti-"></a>

<p>不得在管道左侧打开连接，因为这发生在子 shell 中，文件信息不会在主 shell 中更新。 如果类型或模式发生变化，或者在子 shell
中关闭连接，信息会返回，但变量不会更新，直到下一次调用 <code class="t">zftp</code> 时才会更新。 子 shell
中的其他状态变化不会通过变量的变化反映出来（但在其他方面应该是无害的）。
</p>
<p>当 <code class="t">zftp</code> 命令在后台活动时删除会话，即使没有使用被删除的会话，也会产生意想不到的效果。 这是因为所有 shell
子进程都共享所有连接的状态信息，而删除会话会改变这些信息的排序。
</p>
<p>在某些操作系统上，fork()后控制连接无效，因此子 shell、管道左侧或后台中的操作无法正常进行。 这可能是操作系统的一个错误。
</p><hr>
</div>
</div>
<div class="section-level-extent" id="zsh_002fzle-_6a21_5757">

<h3 class="section" id="zsh_002fzle-Mo-Kuai-"><span>22.33 zsh/zle 模块<a class="copiable-link" href="#zsh_002fzle-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/zle</code> 模块包含 Zsh 行编辑器。 参见 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>。
</p><hr>
</div>
<div class="section-level-extent" id="zsh_002fzleparameter-_6a21_5757">

<h3 class="section" id="zsh_002fzleparameter-Mo-Kuai-"><span>22.34 zsh/zleparameter 模块<a class="copiable-link" href="#zsh_002fzleparameter-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Can-Shu-_002c-Te-Shu--2"></a>
<p><code class="t">zsh/zleparameter</code> 模块定义了两个特殊参数，可用于访问 Zsh 行编辑器的内部信息（参见 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>）。
</p>
<dl class="table">
<dt><a id="index-Jian-Ying-She--2"></a><span><code class="t">键映射</code><a class="copiable-link" href="#index-Jian-Ying-She--2"> &para;</a></span></dt>
<dd><p>该数组包含当前定义的键映射名称。
</p>
</dd>
<dt><a id="index-Xiao-Bu-Jian--1"></a><span><code class="t">小部件</code><a class="copiable-link" href="#index-Xiao-Bu-Jian--1"> &para;</a></span></dt>
<dd><p>这个关联数组包含每个小部件的一个条目。小部件的名称是键，值则给出了小部件的相关信息。对于内置小部件，它可以是字符串 &lsquo;<code class="t">builtin</code>&rsquo;
；对于用户自定义的小部件，它可以是形式为 &lsquo;<code class="t">user:</code><var class="var">name</var>&rsquo; 的字符串，其中 <var class="var">name</var> 是实现小部件的 shell
函数的名称；对于补全小部件，它可以是形式为 &lsquo;<code class="t">completion:</code><var class="var">type</var><code class="t">:</code><var class="var">name</var>&rsquo;
的字符串；如果小部件尚未完全定义，它可以是空值。 在倒数第二种情况下，<var class="var">type</var> 是补全小部件模仿的内置小部件的名称，<var class="var">name</var>
是实现补全小部件的 shell 函数的名称。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fzprof-_6a21_5757">

<h3 class="section" id="zsh_002fzprof-Mo-Kuai-"><span>22.35 zsh/zprof 模块<a class="copiable-link" href="#zsh_002fzprof-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Han-Shu-_002c-Xing-Neng-Fen-Xi-"></a>
<p>加载 <code class="t">zsh/zprof</code> 后，将对 shell 函数进行剖析。 可以使用本模块提供的 <code class="t">zprof</code> 内置命令获取剖析结果。
除卸载模块外，无法关闭剖析。
</p>
<dl class="table">
<dt><a id="index-zprof"></a><span><code class="t">zprof</code> [ <code class="t">-c</code> ]<a class="copiable-link" href="#index-zprof"> &para;</a></span></dt>
<dd><p>如果不使用 <code class="t">-c</code> 选项，<code class="t">zprof</code> 会将剖析结果列到标准输出中。 格式与 <code class="t">gprof</code> 等命令类似。
</p>
<p>顶部有一个摘要，列出了至少被调用一次的所有函数。 该摘要按每个函数所用时间的递减顺序排列。 各行依次包含函数的编号（在列表的其他部分中使用后缀
&lsquo;<code class="t">[</code><var class="var">num</var><code class="t">]</code>&rsquo; 形式），然后是函数的调用次数。
接下来的三列列出了该函数及其后代函数的耗时（以毫秒为单位）、该函数及其后代函数每次调用的平均耗时（以毫秒为单位）以及该函数及其后代函数使用的所有
shell 函数的耗时百分比。 下面三列提供了相同的信息，但只计算函数本身所用的时间。 最后一列显示函数名称。
</p>
<p>在摘要之后，列出了调用的每个函数的详细信息，并按每个函数及其子函数所用时间的递减顺序排列。
每个条目都包括调用所述函数的函数、函数本身以及从函数调用的函数的描述。 函数本身的描述格式与摘要中的格式相同（显示的信息也相同）。
其他行开头不显示函数的编号，并将其函数名称缩进，以便于从周围的行中区分出显示本节所述函数的行。
</p>
<p>这种情况下显示的信息与摘要中的信息几乎相同，但只涉及所显示的调用层次结构。
例如，对于调用函数，显示总运行时间的列仅列出从该特定调用函数调用描述的函数及其子函数时所花费的时间。
同样，对于被调用函数，该列列出了在被调用函数及其后代函数中总共花费的时间，仅针对从所描述的函数中调用它时的时间。
</p>
<p>在这种情况下，显示函数调用次数的列还会显示一条斜线，然后是被调用函数的总调用次数。
</p>
<p>只要 <code class="t">zsh/zprof</code> 模块已加载，就会进行剖析，多次调用 <code class="t">zprof</code> 内置命令将显示模块加载后的调用时间和次数。 使用 <code class="t">-c</code>
选项后，<code class="t">zprof</code> 内置命令将重置内部计数器，不再显示列表。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fzpty-_6a21_5757">

<h3 class="section" id="zsh_002fzpty-Mo-Kuai-"><span>22.36 zsh/zpty 模块<a class="copiable-link" href="#zsh_002fzpty-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/zpty</code> 模块提供了一个内置程序：
</p>
<dl class="table">
<dt><a id="index-zpty"></a><span><code class="t">zpty</code> [ <code class="t">-e</code> ] [ <code class="t">-b</code> ] <var class="var">name</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-zpty"> &para;</a></span></dt>
<dd><p><var class="var">name</var> 后面的参数会用空格连接起来，然后作为一条命令执行，就像传递给 <code class="t">eval</code> 内置函数一样。
命令将在新分配的伪终端下运行；这对于运行那些期望在交互式环境下运行的非交互式命令非常有用。 <var class="var">name</var> 并非命令的一部分，而是用于在以后调用
<code class="t">zpty</code> 时引用该命令。
</p>
<p>使用 <code class="t">-e</code> 选项时，伪终端会设置为使输入字符产生回显。
</p>
<p>如果使用 <code class="t">-b</code> 选项，伪终端的输入和输出都将是非阻塞的。
</p>
<p>shell 参数 <code class="t">REPLY</code> 被设置为分配给伪终端主控端的文件描述符。 这样就可以使用 ZLE 描述符处理程序监控终端（参见 <a class="ref" href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a>），或使用 <code class="t">sysread</code> 和 <code class="t">syswrite</code> 操作终端（参见 <a class="ref" href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a>）。
<em class="emph">警告</em>： 不建议使用 <code class="t">sysread</code> 和 <code class="t">syswrite</code>；除非您非常清楚自己在做什么，否则请使用 <code class="t">zpty -r</code>
和 <code class="t">zpty -w</code>。
</p>
</dd>
<dt><code class="t">zpty</code> <code class="t">-d</code> [ <var class="var">name</var> ... ]</dt>
<dd><p>第二种形式带有 <code class="t">-d</code> 选项，通过提供 <var class="var">name</var>s 的列表来删除之前启动的命令。 如果没有给出 <var class="var">name</var>，则删除所有命令。
删除命令会导致向相应进程发送 HUP 信号。
</p>
</dd>
<dt><code class="t">zpty</code> <code class="t">-w</code> [ <code class="t">-n</code> ] <var class="var">name</var> [ <var class="var">string</var> ... ]</dt>
<dd><p><code class="t">-w</code> 选项可用于将给定的 <var class="var">string</var> 作为输入发送到命令 <var class="var">name</var>。如果 <em class="emph">未</em> 给出 <code class="t">-n</code>
选项，则在末尾添加一个换行符。
</p>
<p>如果没有提供 <var class="var">string</var>，标准输入会被复制到伪终端；如果伪终端是非阻塞的，可能会在复制完整输入之前停止。 精确输入总是被复制：<code class="t">-n</code>
选项不适用。
</p>
<p>请注意，伪终端下的命令会将这些输入视为键入的输入，因此在发送特殊的 tty 驱动程序字符（如字擦除、行删除和文件结束）时要小心。
</p>
</dd>
<dt><code class="t">zpty</code> <code class="t">-r</code> [ <code class="t">-mt</code> ] <var class="var">name</var> [ <var class="var">param</var> [ <var class="var">pattern</var> ] ]</dt>
<dd><p><code class="t">-r</code> 选项可用于读取 <var class="var">name</var> 命令的输出。 如果只有 <var class="var">name</var> 参数，读取的输出将被复制到标准输出。
除非伪终端是非阻塞的，否则复制将持续到伪终端下的命令退出为止；如果是非阻塞的，则只复制立即可用的输出。 如果有任何输出被复制，返回状态为零。
</p>
<p>如果同时给出 <var class="var">param</var> 参数，则最多读取一行并存储在名为 <var class="var">param</var> 的参数中。
如果伪终端是非阻塞的，则可以读取少于一行的内容。 如果 <var class="var">param</var> 中至少存储了一个字符，则返回状态为零。
</p>
<p>如果同时给出 <var class="var">pattern</var>，即使在非阻塞情况下，也会读取输出，直到读取的整个字符串与 <var class="var">pattern</var> 匹配为止。
如果读取的字符串与模式匹配，或者命令已退出但仍能读取至少一个字符，则返回状态为零。 如果存在选项 <code class="t">-m</code>，只有当模式匹配时，返回状态才为零。
截至本文撰写时，这种方式最多可消耗 1 兆字节的输出；如果读取了整整 1 兆字节，但没有匹配到模式，则返回状态为非零。
</p>
<p>在所有情况下，如果没有读取到任何内容，返回状态均为非零，如果是因为命令已执行完毕，返回状态则为 <code class="t">2</code>。
</p>
<p>如果 <code class="t">-r</code> 选项与 <code class="t">-t</code> 选项结合使用，<code class="t">zpty</code> 会在尝试读取之前测试输出是否可用。 如果输出不可用，<code class="t">zpty</code>
会立即返回状态 <code class="t">1</code>。 与 <var class="var">pattern</var>
一起使用时，轮询失败时的行为与命令退出时类似：如果即使模式匹配失败，仍能读取至少一个字符，则返回值为 0。
</p>
</dd>
<dt><code class="t">zpty</code> <code class="t">-t</code> <var class="var">name</var></dt>
<dd><p>不带 <code class="t">-r</code> 选项的 <code class="t">-t</code> 选项可用于测试 <var class="var">name</var> 命令是否仍在运行。 如果命令正在运行，则返回零状态，否则返回非零值。
</p>
</dd>
<dt><code class="t">zpty</code> [ <code class="t">-L</code> ]</dt>
<dd><p>最后一种形式不带任何参数，用于列出当前定义的命令。 如果给定了 <code class="t">-L</code> 选项，则将以调用 <code class="t">zpty</code> 内置程序的形式完成。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fzselect-_6a21_5757">

<h3 class="section" id="zsh_002fzselect-Mo-Kuai-"><span>22.37 zsh/zselect 模块<a class="copiable-link" href="#zsh_002fzselect-Mo-Kuai-"> &para;</a></span></h3>

<p><code class="t">zsh/zselect</code> 模块提供了一条内置命令：
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-select_002c-Xi-Tong-Diao-Yong-"></a>
<a class="index-entry-id" id="index-WenJian-Miao-Shu-Fu-_002c-Deng-Dai-"></a>
<a id="index-zselect"></a><span><code class="t">zselect</code> [ <code class="t">-rwe</code> ] [ <code class="t">-t</code> <var class="var">timeout</var> ] [ <code class="t">-a</code> <var class="var">array</var> ] [ <code class="t">-A</code> <var class="var">assoc</var> ] [ <var class="var">fd</var> ... ]<a class="copiable-link" href="#index-zselect"> &para;</a></span></dt>
<dd><p><code class="t">zselect</code> 内置命令是 &lsquo;select&rsquo; 系统调用的前端，它会一直阻塞，直到文件描述符可以读写或出现错误，并可选择超时。 如果p
这在系统中不可用，该命令将打印错误信息并返回状态 2（正常错误返回状态 1）。 更多信息，请参阅系统中的 select(3) 文档。
请注意，该命令与同名的 shell 内置命令没有任何联系。
</p>
<p>参数和选项可以任意顺序混合。 非选项参数是文件描述符，必须是十进制整数。 默认情况下，文件描述符将接受读取测试，即 <code class="t">zselect</code>
将在可以从文件描述符读取数据时返回，或者更准确地说，在从文件描述符读取操作不会阻塞时返回。 在 <code class="t">-r</code>、<code class="t">-w</code> 和 <code class="t">-e</code>
之后，将对给定的文件描述符进行读、写或错误测试。 这些选项和任意文件描述符列表可以任意顺序给出。
</p>
<p>(在许多实现 select 系统调用的文档中，&lsquo;error condition&rsquo; 的存在并没有明确定义。 根据 POSIX
规范的最新版本，它实际上是一个 <em class="emph">exception</em> 条件，其中唯一的标准示例是通过套接字接收到的带外( out-of-band)数据。
因此，zsh 用户不太可能发现 <code class="t">-e</code> 选项有什么用）。
</p>
<p>选项 &lsquo;<code class="t">-t</code> <var class="var">timeout</var>&rsquo; 以百分之一秒为单位指定超时时间。 超时时间可以为零，在这种情况下，文件描述符将被轮询，而
<code class="t">zselect</code> 将立即返回。 可以用没有文件描述符和非零超时的 zselect 来 &lsquo;sleep&rsquo;
的更精细替代；但需要注意的是，超时时的返回状态总是 1。
</p>
<p>选项 &lsquo;<code class="t">-a</code> <var class="var">array</var>&rsquo; 表示应设置 <var class="var">array</var> 以指示已就绪的文件描述符。 如果未给出该选项，则将使用数组
<code class="t">reply</code>。 数组包含的字符串与 <code class="t">zselect</code> 的参数类似。 例如,
</p>
<div class="example">
<pre class="example-preformatted">zselect -t 0 -r 0 -w 1
</pre></div>

<p>可能会立即返回状态 0 和包含 &lsquo;<code class="t">-r 0 -w 1</code>&rsquo; 的 <code class="t">$reply</code>，以表明两个文件描述符都已准备好执行请求的操作。
</p>
<p>选项 &lsquo;<code class="t">-A</code> <var class="var">assoc</var>&rsquo; 表示应设置关联数组 <var class="var">assoc</var> 以指示已准备就绪的文件描述符。 该选项会覆盖 <code class="t">-a</code>
选项，也不会修改 <code class="t">reply</code>。 <code class="t">assoc</code> 的键是文件描述符，对应的值是任意字符 &lsquo;<code class="t">rwe</code>&rsquo; ，用于指示条件。
</p>
<p>如果某些文件描述符已准备好供读取，则命令返回状态 0。 如果操作超时，或超时时间为 0 但没有文件描述符准备就绪，或出现错误，则返回状态
1，数组不会被设置（也不会以任何方式修改）。 如果选择操作出错，将打印相应的错误信息。
</p>
</dd>
</dl>
<hr>
</div>
<div class="section-level-extent" id="zsh_002fzutil-_6a21_5757">

<h3 class="section" id="zsh_002fzutil-Mo-Kuai-"><span>22.38 zsh/zutil 模块<a class="copiable-link" href="#zsh_002fzutil-Mo-Kuai-"> &para;</a></span></h3>

<a class="index-entry-id" id="index-Nei-Zhi-Ming-Ling-_002c-Shi-Yong-Cheng-Xu-"></a>
<p><code class="t">zsh/zutil</code> 模块只增加一些内置命令:
</p>
<dl class="table">
<dt><a id="index-zstyle"></a><span><code class="t">zstyle</code> [ <code class="t">-L</code> [ <var class="var">metapattern</var> [ <var class="var">style</var> ] ] ]<a class="copiable-link" href="#index-zstyle"> &para;</a></span></dt>
<dt><code class="t">zstyle</code> [ <code class="t">-e</code> | <code class="t">-</code> | <code class="t">-</code><code class="t">-</code> ] <var class="var">pattern</var> <var class="var">style</var> <var class="var">string</var> ...</dt>
<dt><code class="t">zstyle -d</code> [ <var class="var">pattern</var> [ <var class="var">style</var> ... ] ]</dt>
<dt><code class="t">zstyle -g</code> <var class="var">name</var> [ <var class="var">pattern</var> [ <var class="var">style</var> ] ]</dt>
<dt><code class="t">zstyle -</code>{<code class="t">a</code>|<code class="t">b</code>|<code class="t">s</code>} <var class="var">context</var> <var class="var">style</var> <var class="var">name</var> [ <var class="var">sep</var> ]</dt>
<dt><code class="t">zstyle -</code>{<code class="t">T</code>|<code class="t">t</code>} <var class="var">context</var> <var class="var">style</var> [ <var class="var">string</var> ... ]</dt>
<dt><code class="t">zstyle -m</code> <var class="var">context</var> <var class="var">style</var> <var class="var">pattern</var></dt>
<dd><p>该内置命令用于定义和查找样式。 样式由名称和值组成，其中值由任意数量的字符串组成。 它们与模式一起存储，通过提供一个字符串（称为
&lsquo;<em class="emph">context</em>&rsquo;）与模式匹配进行查找。 将返回为最匹配的特定模式存储的定义。
</p>
<p>如果一个模式包含更多的成分（用冒号分隔的子串），或者如果成分的模式更具体，则该模式被认为比另一个模式更具体，其中简单字符串被认为比模式更具体，而复杂模式被认为比模式
&lsquo;<code class="t">*</code>&rsquo; 更具体。 模式中的 &lsquo;<code class="t">*</code>&rsquo; 将匹配上下文中的零个或多个字符；冒号在这方面不作特殊处理。
如果两个模式的特定性相同，则先定义的模式优先。
</p>
<p><em class="emph">举例</em>
<a class="index-entry-id" id="index-preferred_002dprecipitation_002c-ShiLiYang-Shi-"></a>
<a class="index-entry-id" id="index-Tian-Qi-_002c-ShiLiHan-Shu-"></a>
</p>
<p>例如，一个虚构的 &lsquo;<code class="t">weather</code>&rsquo; 插件可能会在其文档中说明，它会在
&lsquo;<code class="t">:weather:</code><var class="var">continent</var><code class="t">:</code><var class="var">day-of-the-week</var><code class="t">:</code><var class="var">phase-of-the-moon</var>&rsquo;
上下文中查找 <code class="t">preferred-precipitation</code> 样式。 据此，您可以在 <code class="t">zshrc</code> 中设置以下内容：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':weather:europe:*' preferred-precipitation rain
zstyle ':weather:*:Sunday:*' preferred-precipitation snow
</pre></div>

<p>然后，插件会在内部（under the hood)运行一条命令，例如
</p>
<div class="example">
<pre class="example-preformatted">zstyle -s &quot;:weather:${continent}:${day_of_week}:${moon_phase}&quot; preferred-precipitation REPLY
</pre></div>

<p>为了在标量变量 <code class="t">$REPLY</code> 中获取您的偏好。 在周日，<code class="t">$REPLY</code> 将被设置为 &lsquo;<code class="t">snow</code>&rsquo;；在欧洲，它将被设置为
&lsquo;<code class="t">rain</code>&rsquo;；在欧洲的周日，它将再次被设置为 &lsquo;<code class="t">snow</code>&rsquo; ，因为模式 &lsquo;<code class="t">:weather:europe:*</code>&rsquo; 和
&lsquo;<code class="t">:weather:*:Sunday:*</code>&rsquo; 都与 <code class="t">zstyle -s</code> 的 <var class="var">context</var>
参数相匹配，具有相同的特异性，而且后者更具特异性（因为它有更多以冒号分隔的成分）。
</p>
<p><em class="emph">用法</em>
</p>
<p>对模式进行操作的形式如下。
</p>
<dl class="table">
<dt><code class="t">zstyle</code> [ <code class="t">-L</code> [ <var class="var">metapattern</var> [ <var class="var">style</var> ] ] ]</dt>
<dd><p>不带参数，列出样式定义。 样式按字母顺序显示，模式按 <code class="t">zstyle</code> 将测试它们的顺序显示。
</p>
<p>如果给出 <code class="t">-L</code> 选项，则将以调用 <code class="t">zstyle</code> 的形式列出。 可选的第一个参数 <var class="var">metapattern</var>
是一个模式，将与定义样式时作为 <var class="var">pattern</var> 提供的字符串进行匹配。 注意：这意味着，例如，&lsquo;<code class="t">zstyle -L
&quot;:completion:*&quot;</code>&rsquo; 将匹配以&lsquo;<code class="t">:completion:</code>&rsquo; 开头的任何提供的模式，而不仅仅是
<code class="t">&quot;:completion:*&quot;</code>：使用 <code class="t">':completion:\*'</code> 来匹配。 可选的第二个参数将输出限制为特定的
<var class="var">style</var>（而不是模式）。 <code class="t">-L</code> 与其他选项不兼容。
</p>
</dd>
<dt><a id="index-reply_002c-use-of-4"></a><span><code class="t">zstyle</code> [ <code class="t">-</code> | <code class="t">-</code><code class="t">-</code> | <code class="t">-e</code> ] <var class="var">pattern</var> <var class="var">style</var> <var class="var">string</var> ...<a class="copiable-link" href="#index-reply_002c-use-of-4"> &para;</a></span></dt>
<dd><p>为 <var class="var">pattern</var> 定义给定的 <var class="var">style</var> 并将 <var class="var">string</var>s 作为值。 如果给定了 <code class="t">-e</code> 选项，则
<var class="var">string</var>s 将被连接（用空格分隔），生成的字符串将在查找样式时进行评估（与 <code class="t">eval</code> 内置命令的评估方式相同）。
在这种情况下，必须指定参数 &lsquo;<code class="t">reply</code>&rsquo; ，以设置求值后返回的字符串。 在求值之前，<code class="t">reply</code>
将被取消设置，如果求值后仍未设置，则样式将被视为未设置。
</p>
</dd>
<dt><code class="t">zstyle -d</code> [ <var class="var">pattern</var> [ <var class="var">style</var> ... ] ]</dt>
<dd><p>删除样式定义。在不带参数的情况下，所有定义都会被删除；在带 <var class="var">pattern</var> 的情况下，该样式的所有定义都会被删除；如果给定了任何
<var class="var">style</var>，则只删除 <var class="var">pattern</var> 的那些样式。
</p>
</dd>
<dt><code class="t">zstyle -g</code> <var class="var">name</var> [ <var class="var">pattern</var> [ <var class="var">style</var> ] ]</dt>
<dd><p>读取样式定义。<var class="var">name</var> 用作存储结果的数组名称。在没有其他参数的情况下，将返回所有已定义的样式。使用 <var class="var">pattern</var>
时，将返回为该模式定义的样式；同时使用 <var class="var">pattern</var> 和 <var class="var">style</var> 时，将返回该组合的值字符串。
</p>
</dd>
</dl>

<p>其他形式可用于查找或测试特定环境下的样式。
</p>
<dl class="table">
<dt><code class="t">zstyle -s</code> <var class="var">context</var> <var class="var">style</var> <var class="var">name</var> [ <var class="var">sep</var> ]</dt>
<dd><p>参数 <var class="var">name</var> 将被设置为以字符串形式解释的样式值。 如果样式值包含多个字符串，则在字符串之间用空格（或 <var class="var">sep</var>
字符串（如果已给出））连接起来。
</p>
<p>如果设置了样式，则返回 <code class="t">0</code>，否则返回 <code class="t">1</code>。
</p>
</dd>
<dt><code class="t">zstyle -b</code> <var class="var">context</var> <var class="var">style</var> <var class="var">name</var></dt>
<dd><p>如果参数值只有一个字符串，且该字符串等于&lsquo;<code class="t">yes</code>&rsquo;, &lsquo;<code class="t">true</code>&rsquo;, &lsquo;<code class="t">on</code>&rsquo; 或 &lsquo;<code class="t">1</code>&rsquo;
中的一个，则参数值将以布尔形式保存在 <var class="var">name</var> 中，即保存为字符串 &lsquo;<code class="t">yes</code>&rsquo; 。如果数值是其他字符串或有多个字符串，参数将被设置为
&lsquo;<code class="t">no</code>&rsquo;。
</p>
<p>如果 <var class="var">name</var> 设置为 &lsquo;<code class="t">yes</code>&rsquo;，则返回 <code class="t">0</code>，否则返回 <code class="t">1</code>。
</p>
</dd>
<dt><code class="t">zstyle -a</code> <var class="var">context</var> <var class="var">style</var> <var class="var">name</var></dt>
<dd><p>值以数组形式存储在 <var class="var">name</var> 中。如果 <var class="var">name</var> 被声明为关联数组，则第一个、第三个等字符串将用作键，其他字符串将用作值。
</p>
<p>如果设置了样式，则返回 <code class="t">0</code>，否则返回 <code class="t">1</code>。
</p>
</dd>
<dt><code class="t">zstyle -t</code> <var class="var">context</var> <var class="var">style</var> [ <var class="var">string</var> ... ]</dt>
<dt><code class="t">zstyle -T</code> <var class="var">context</var> <var class="var">style</var> [ <var class="var">string</var> ... ]</dt>
<dd><p>测试样式的值，即 <code class="t">-t</code> 选项只返回状态（设置 <code class="t">$?</code>）。 在不包含任何 <var class="var">string</var>
的情况下，如果样式为至少一个匹配模式定义，其值中只有一个字符串，且等于 &lsquo;<code class="t">true</code>&rsquo;, &lsquo;<code class="t">yes</code>&rsquo;, &lsquo;<code class="t">on</code>&rsquo; 或
&lsquo;<code class="t">1</code>&rsquo; 中的一个，则返回状态为零。如果给出任何 <var class="var">string</var>s，则只有当 <var class="var">string</var>s
中至少有一个字符串等于值中的至少一个字符串时，状态才为零。如果样式已定义但不匹配，则返回状态为 <code class="t">1</code>。如果未定义样式，则返回状态为 <code class="t">2</code>。
</p>
<p><code class="t">-T</code> 选项会像 <code class="t">-t</code> 一样测试样式的值，但如果没有为任何匹配模式定义样式，则返回状态 0（而不是 <code class="t">2</code>）。
</p>
</dd>
<dt><code class="t">zstyle -m</code> <var class="var">context</var> <var class="var">style</var> <var class="var">pattern</var></dt>
<dd><p>匹配一个值。如果 <var class="var">pattern</var> 至少匹配值中的一个字符串，则返回状态 0。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-zformat"></a><span><code class="t">zformat -f</code> <var class="var">param</var> <var class="var">format</var> <var class="var">spec</var> ...<a class="copiable-link" href="#index-zformat"> &para;</a></span></dt>
<dt><code class="t">zformat -F</code> <var class="var">param</var> <var class="var">format</var> <var class="var">spec</var> ...</dt>
<dt><code class="t">zformat -a</code> <var class="var">array</var> <var class="var">sep</var> <var class="var">spec</var> ...</dt>
<dd><p>该内置程序提供不同的格式化形式。第一种形式通过 <code class="t">-f</code> 选项选择。在这种情况下，<var class="var">format</var> 字符串将被修改，用 <var class="var">spec</var>
中的字符串替换以百分号开头的序列。 每个 <var class="var">spec</var> 都应采用 &lsquo;<var class="var">char</var><code class="t">:</code><var class="var">string</var>&rsquo; 的形式，这样
<var class="var">format</var> 中每次出现的 &lsquo;<code class="t">%</code><var class="var">char</var>&rsquo; 序列都会被 <var class="var">string</var> 所替换。 在 &lsquo;<code class="t">%</code>&rsquo; 和
&lsquo;<var class="var">char</var>&rsquo; 之间， &lsquo;<code class="t">%</code>&rsquo; 序列还可以包含可选的最小和最大字段宽度说明，其形式为
&lsquo;<code class="t">%</code><var class="var">min</var><code class="t">.</code><var class="var">max</var><code class="t">c</code>&rsquo;，即首先给出最小字段宽度，如果使用最大字段宽度，则必须在其前加一个点。 如果
<var class="var">string</var> 短于要求的宽度，指定最小字段宽度会使结果向右填充空格。 通过给出负的最小字段宽度，可以实现向左填充。
如果指定了最大字段宽度，<var class="var">string</var> 将在该字符数之后被截断。 处理完指定 <var class="var">spec</var> 的所有 &lsquo;<code class="t">%</code>&rsquo;
序列后，生成的字符串将存储在参数 <var class="var">param</var> 中。
</p>
<p><code class="t">%</code>转义也能理解提示符所用的三元表达式形式。 <code class="t">%</code> 后面是一个 &lsquo;<code class="t">(</code>&rsquo; ，然后是一个普通的格式规范字符，如上所述。 在
&lsquo;<code class="t">(</code>&rsquo; 之前或之后可能有一组数字；这些数字指定一个测试数，默认为零。 也允许使用负数。 格式指定符后是一个任意分隔符，之后是一段 &lsquo;true&rsquo;
文本、分隔符、一段 &lsquo;false&rsquo; 文本和一个闭括号。 因此，完整的表达式（不含数字）看起来就像
&lsquo;<code class="t">%(</code><var class="var">X</var><code class="t">.</code><var class="var">text1</var><code class="t">.</code><var class="var">text2</var><code class="t">)</code>&rsquo;，只不过 &lsquo;<code class="t">.</code>&rsquo; 字符是任意的。
<var class="var">char</var><code class="t">:</code><var class="var">string</var> 表达式中格式指定符的值将作为数学表达式进行运算，并与测试数进行比较。 如果两者相同，则输出
<var class="var">text1</var>，否则输出 <var class="var">text2</var>。 <var class="var">text2</var> 中的括号可以转义为 <code class="t">%)</code>。 <var class="var">text1</var> 或
<var class="var">text2</var> 都可能包含嵌套的 <code class="t">%</code> 转义。
</p>
<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">zformat -f REPLY &quot;The answer is '%3(c.yes.no)'.&quot; c:3
</pre></div>

<p>由于格式指定符 <code class="t">c</code> 的值为 3，与三元表达式的数字参数一致，因此会向 <code class="t">REPLY</code> 输出 &quot;The answer is &rsquo;yes&rsquo;.&quot;。
</p>
<p>使用 <code class="t">-F</code> 代替 <code class="t">-f</code>，三元表达式会根据格式指定符是否存在且非空来选择 &lsquo;true&rsquo; 或 &lsquo;false&rsquo; 文本。
测试数表示格式指定符中给定值的最小宽度。负数则相反，因此测试值是否超过最大宽度。
</p>
<p>使用 <code class="t">-a</code> 选项的形式可用于对齐字符串。 这里，<var class="var">spec</var>s 的形式是 &lsquo;<var class="var">left</var><code class="t">:</code><var class="var">right</var>&rsquo;，其中
&lsquo;<var class="var">left</var>&rsquo; 和 &lsquo;<var class="var">right</var>&rsquo; 是任意字符串。 修改这些字符串的方法是：用 <var class="var">sep</var> 字符串替换冒号，并在
<var class="var">left</var> 字符串右侧填充空格，这样，如果字符串打印在彼此下方，结果中的 <var class="var">sep</var> 字符串（以及后面的 <var class="var">right</var>
字符串）都会对齐。 所有不带冒号的字符串都保持不变，所有带空 <var class="var">right</var> 字符串的字符串都去掉了后面的冒号。
在这两种情况下，字符串的长度不会用来决定其他字符串的对齐方式。 <var class="var">left</var> 字符串中的冒号可以用反斜线转义。 结果字符串将存储在
<var class="var">array</var> 中。
</p>
</dd>
<dt><a id="index-zregexparse"></a><span><code class="t">zregexparse</code><a class="copiable-link" href="#index-zregexparse"> &para;</a></span></dt>
<dd><p>它实现了 <code class="t">_regex_arguments</code> 函数的一些内部功能。
</p>
</dd>
<dt><a id="index-zparseopts"></a><span><code class="t">zparseopts</code> [ <code class="t">-D</code> <code class="t">-E</code> <code class="t">-F</code> <code class="t">-K</code> <code class="t">-M</code> ] [ <code class="t">-a</code> <var class="var">array</var> ] [ <code class="t">-A</code> <var class="var">assoc</var> ] [ <code class="t">-</code> ] <var class="var">spec</var> ...<a class="copiable-link" href="#index-zparseopts"> &para;</a></span></dt>
<dd><p>该内置函数简化了位置参数（即 <code class="t">$*</code> 给出的参数集）中选项的解析。 每个 <var class="var">spec</var> 描述一个选项，其形式必须是
&lsquo;<var class="var">opt</var>[<code class="t">=</code><var class="var">array</var>]&rsquo;。 如果在位置参数中找到 <var class="var">opt</var> 所描述的选项，则会将其复制到 <code class="t">-a</code>
选项指定的 <var class="var">array</var> 中；如果给出了可选项 &lsquo;<code class="t">=</code><var class="var">array</var>&rsquo;
，则会将其复制到该数组中,这里数组应声明为普通数组，而绝不能声明为关联数组。 。
</p>
<p>需要注意的是，除非使用 <code class="t">-a</code> 或 <code class="t">-A</code> 选项之一，否则在给出任何 <var class="var">spec</var> 的同时不给出
&lsquo;<code class="t">=</code><var class="var">array</var>&rsquo; 是错误的。
</p>
<p>除非给出 <code class="t">-E</code> 选项，否则解析会在第一个没有被 <var class="var">spec</var>s 描述的字符串处停止。 即使使用 <code class="t">-E</code>，解析也总是在位置参数等于
&lsquo;<code class="t">-</code>&rsquo; 或 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 时停止。另请参阅 <code class="t">-F</code>。
</p>
<p><var class="var">opt</var> 说明必须是下列内容之一。 任何特殊字符都可以出现在选项名称中，但必须在前面加上反斜杠。
</p>
<dl class="table">
<dt><var class="var">name</var></dt>
<dt><var class="var">name</var><code class="t">+</code></dt>
<dd><p><var class="var">name</var>是不带前导 &lsquo;<code class="t">-</code>&rsquo; 的选项名称。 要指定 GNU 风格的长选项，<var class="var">name</var> 中必须包含两个前导 &lsquo;<code class="t">-</code>&rsquo;
中的一个；例如， &lsquo;<code class="t">-</code><code class="t">-file</code>&rsquo; 选项由 <var class="var">name</var> 中的 &lsquo;<code class="t">-file</code>&rsquo; 表示。
</p>
<p>如果在 <var class="var">name</var> 后面出现 &lsquo;<code class="t">+</code>&rsquo; ，则每次在位置参数中找到该选项时，都会将其追加到 <var class="var">array</var> 中；如果没有
&lsquo;<code class="t">+</code>&rsquo; ，则只保留选项的 <em class="emph">最后一欠</em> 出现。
</p>
<p>如果使用了其中一种形式，则该选项不带参数，因此，如果下一个位置参数也不是以 &lsquo;<code class="t">-</code>&rsquo; 开头，解析就会停止（除非使用了 <code class="t">-E</code> 选项）。
</p>
</dd>
<dt><var class="var">name</var><code class="t">:</code></dt>
<dt><var class="var">name</var><code class="t">:-</code></dt>
<dt><var class="var">name</var><code class="t">::</code></dt>
<dd><p>如果给出一个或两个冒号，则该选项包含一个参数；如果给出一个冒号，则该参数为必选参数，如果给出两个冒号，则该参数为可选参数。 参数会追加到选项本身之后的
<var class="var">array</var> 中。
</p>
<p>可选参数与选项名称放在同一个数组元素中（注意，这使得作为参数的空字符串无法区分）。 除非使用了 &lsquo;<code class="t">:-</code>&rsquo;
形式，否则必选参数会作为一个单独的元素加入，在这种情况下，参数会被放入同一个元素。
</p>
<p>在 <var class="var">name</var> 和第一个冒号之间可能会出现上文所述的 &lsquo;<code class="t">+</code>&rsquo; 。
</p>
</dd>
</dl>

<p>在任何情况下，选项参数都必须紧接着选项出现在同一位置参数中，或者出现在下一个参数中。即使是可选参数，也可以出现在下一个参数中，除非它以 &lsquo;<code class="t">-</code>&rsquo;
开头。 在 GNU 风格的参数解析器中，对 &lsquo;<code class="t">=</code>&rsquo; 没有特殊处理；给定 <var class="var">spec</var> &lsquo;<code class="t">-foo:</code>&rsquo;，位置参数
&lsquo;<code class="t">-</code><code class="t">-foo=bar</code>&rsquo; 会被解析为参数为&lsquo;<code class="t">=bar</code>&rsquo; 的 &lsquo;<code class="t">-</code><code class="t">-foo</code>&rsquo; 。
</p>
<p>当两个不带参数的选项名称重叠时，最长的选项胜出，因此对于 <var class="var">spec</var>s， &lsquo;<code class="t">-foo
-foobar</code>&rsquo;（例如）的解析是明确无误的。然而，由于上述对选项参数的处理，当至少有一个重叠的 <var class="var">spec</var>
包含一个参数时，可能会产生歧义，例如在  &lsquo;<code class="t">-foo: -foobar</code>&rsquo; 中。在这种情况下，最后一个匹配的 <var class="var">spec</var> 将胜出。
</p>
<p><code class="t">zparseopts</code> 的选项本身无法堆叠（stacked），因为例如，堆栈（选项组合) &lsquo;<code class="t">-DEK</code>&rsquo; 与 GNU 风格长选项
&lsquo;<code class="t">-</code><code class="t">-DEK</code>&rsquo; 的 <var class="var">spec</var> 无法区分。 <code class="t">zparseopts</code> 本身的选项有
</p>
<dl class="table">
<dt><code class="t">-a</code> <var class="var">array</var></dt>
<dd><p>如上所述，它命名了存储已识别选项的默认数组。
</p>
</dd>
<dt><code class="t">-A</code> <var class="var">assoc</var></dt>
<dd><p>如果给定了这个值，选项及其值也会被放入一个关联数组中，其中选项名称为键，参数（如果有）为值。
</p>
</dd>
<dt><code class="t">-D</code></dt>
<dd><p>如果给定了这个选项，所有找到的选项都会从调用 shell 或 shell 函数的位置参数中移除，直至但不包括 <var class="var">spec</var>s 未描述的参数。
如果第一个参数是 &lsquo;<code class="t">-</code>&rsquo; 或 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo;，也会被移除。 这与使用 <code class="t">shift</code> 内置函数类似。
</p>
</dd>
<dt><code class="t">-E</code></dt>
<dd><p>这将改变解析规则，使其 <em class="emph">不会</em> 终止于第一个未被 <var class="var">spec</var> 描述的字符串。 它可以用来测试或（如果与 <code class="t">-D</code>
一起使用）提取选项及其参数，而忽略位置参数中的所有其他选项和参数。 如上所述，解析仍会在第一个 <var class="var">spec</var> 未描述的 &lsquo;<code class="t">-</code>&rsquo; 或
&lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 处停止，但与 <code class="t">-D</code> 一起使用时不会删除。
</p>
</dd>
<dt><code class="t">-F</code></dt>
<dd><p>如果给定了该选项，<code class="t">zparseopts</code> 会在第一个 <var class="var">spec</var>s 未描述的类选项参数处立即停止，打印错误信息并返回状态 1。
不执行移除（<code class="t">-D</code>）和提取（<code class="t">-E</code>）操作，也不更新选项数组。 这将对给定的选项进行基本验证。
</p>
<p>需要注意的是，无论是否使用选项，如果在位置参数中出现一个不带必要参数的选项，解析过程都会中止，并如上所述返回错误信息。
</p>
</dd>
<dt><code class="t">-K</code></dt>
<dd><p>有了这个选项，当使用 <code class="t">-a</code> 选项和 &lsquo;<code class="t">=</code><var class="var">array</var>&rsquo; 形式的数组都没有使用 <var class="var">spec</var>s 时，这些数组将保持不变。
否则，在使用任何 <var class="var">spec</var>s 时，整个数组都会被替换。 使用 <code class="t">-A</code> 选项指定的关联数组的单个元素会被 <code class="t">-K</code> 保留。
这样就可以在调用 <code class="t">zparseopts</code> 之前为数组赋默认值。
</p>
</dd>
<dt><code class="t">-M</code></dt>
<dd><p>这就改变了赋值规则，实现了等价选项名称之间的映射。 如果任何 <var class="var">spec</var> 使用了 &lsquo;<code class="t">=</code><var class="var">array</var>&rsquo; 形式，则字符串
<var class="var">array</var> 会被解释为另一个 <var class="var">spec</var> 的名称，用于选择在何处存储值。 如果找不到其他 <var class="var">spec</var>，值将照常存储。
这只会改变值的存储方式，而不会改变 <code class="t">$*</code> 的解析方式，因此，如果 &lsquo;<var class="var">name</var><code class="t">+</code>&rsquo; 指定符的使用不一致，结果可能无法预测。
</p>
</dd>
</dl>

<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">set -- -a -bx -c y -cz baz -cend
zparseopts a=foo b:=bar c+:=bar
</pre></div>

<p>将产生以下效果
</p>
<div class="example">
<pre class="example-preformatted">foo=(-a)
bar=(-b x -c y -c z)
</pre></div>

<p>从 &lsquo;<code class="t">baz</code>&rsquo; 开始的参数将不会被使用。
</p>
<p>以 <code class="t">-E</code> 选项为例，请看
</p>
<div class="example">
<pre class="example-preformatted">set -- -a x -b y -c z arg1 arg2
zparseopts -E -D b:=bar
</pre></div>

<p>将产生以下效果
</p>
<div class="example">
<pre class="example-preformatted">bar=(-b y)
set -- -a x -c z arg1 arg2
</pre></div>

<p>即从位置参数中提取选项 <code class="t">-b</code> 及其参数，并将其放入数组 <code class="t">bar</code> 中。
</p>
<p><code class="t">-M</code> 选项可以这样使用：
</p>
<div class="example">
<pre class="example-preformatted">set -- -a -bx -c y -cz baz -cend
zparseopts -A bar -M a=foo b+: c:=b
</pre></div>

<p>要产生效果
</p>
<div class="example">
<pre class="example-preformatted">foo=(-a)
bar=(-a '' -b xyz)
</pre></div>

</dd>
</dl>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="g_t_65e5_5386_51fd_6570_7cfb_7edf">

<h2 class="chapter" id="Ri-Li-Han-Shu-Xi-Tong-"><span>23 日历函数系统<a class="copiable-link" href="#Ri-Li-Han-Shu-Xi-Tong-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Ri-Li-Han-Shu-Xi-Tong-"></a>
<a class="index-entry-id" id="index-zsh_002fdatetime_002cHan-Shu-Xi-Tong-Ji-Yu-"></a>

<div class="section-level-extent" id="Shuo-Ming--6">
<h3 class="section"><span>23.1 说明<a class="copiable-link" href="#Shuo-Ming--6"> &para;</a></span></h3>

<p>shell 提供了一系列函数来替代和增强传统的 Unix <code class="t">calendar</code>
程序，该程序会在即将发生或未来将发生的事件中向用户发出警告，这些事件的详细信息存储在文本文件中（通常是用户主目录中的 <code class="t">calendar</code>）。
这里提供的版本包含了一种在事件即将发生时提醒用户的机制。
</p>
<p>此外，还提供了可在 glob 限定符中使用的 <code class="t">age</code>, <code class="t">before</code> 和 <code class="t">after</code>
函数；它们允许根据文件的修改时间来选择文件。
</p>
<p><code class="t">calendar</code>文件的格式以及其中使用的日期和<code class="t">age</code>函数中使用的日期首先进行描述，然后描述可以调用以检查和修改<code class="t">calendar</code>文件的函数。
</p>
<p>此处的函数依赖于 <code class="t">zsh/datetime</code> 模块的可用性，该模块通常与 shell 一起安装。 库函数 <code class="t">strptime()</code>
必须可用；在大多数最新的操作系统中都存在。
</p>

<hr>
</div>
<div class="section-level-extent" id="g_t_65e5_5386_6587_4ef6_548c_65e5_671f_683c_5f0f">

<h3 class="section" id="WenJian-He-Ri-Qi-Ge-Shi-"><span>23.2 文件和日期格式<a class="copiable-link" href="#WenJian-He-Ri-Qi-Ge-Shi-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="Ri-Li-WenJian-Ge-Shi-">
<h4 class="subsection"><span>23.2.1 日历文件格式<a class="copiable-link" href="#Ri-Li-WenJian-Ge-Shi-"> &para;</a></span></h4>

<p>日历文件默认为 <code class="t">~/calendar</code>。 可通过 <code class="t">calendar-file</code> 样式进行配置，参见 <a class="ref" href="#g_t_65e5_5386_6837_5f0f">样式</a>。
日历文件的基本格式由一系列独立的行组成，没有缩进，每行包括日期和时间说明，以及事件描述。
</p>
<p>根据 Emacs 日历模式的语法，该格式支持多种增强功能。 缩进行表示续行，继续前一行对事件的描述（注意日期不能以这种方式续写）。
为兼容起见，开头的逗号 (<code class="t">&amp;</code>) 将被忽略。
</p>
<p>如果缩进行的第一个非空格字符是 <code class="t">#</code>，则该行不会与日历条目一起显示，但仍会被扫描以获取信息。 这可用于隐藏对日历系统有用但对用户无用的信息，例如
<code class="t">calendar_add</code> 使用的唯一标识符。
</p>
<p>没有说明的日期可能指不同时间的多个后续事件,这样的Emacs扩展是不支持的。
</p>
<p>除非更改了 <code class="t">done-file</code> 样式，否则任何已处理的事件都会被追加到与日历文件同名的文件中，并带有后缀 <code class="t">.done</code>，因此默认情况下是
<code class="t">~/calendar.done</code>。
</p>
<p>下面是一个例子。
</p>

</div>
<div class="subsection-level-extent" id="Ri-Qi-Ge-Shi-">
<h4 class="subsection"><span>23.2.2 日期格式<a class="copiable-link" href="#Ri-Qi-Ge-Shi-"> &para;</a></span></h4>

<p>日期和时间的格式设计灵活，不会产生歧义。 ( &lsquo;date&rsquo; 日期和  &lsquo;time&rsquo;
时间这两个词在下面的文档中都有使用；除非有特别说明，否则这意味着一个字符串可能同时包含日期和时间说明）。
请注意，没有本地化支持；月名和日名必须为英文，且分隔符是固定的。 匹配不区分大小写，只有名称的前三个字母才有意义，但作为特例，以 &quot;month&quot;
开头的形式不会匹配  &quot;Monday&quot;。 此外，不处理时区；所有时间均假定为本地时间。
</p>
<p>建议用户不要去探究系统的复杂性，而是找到一种自然的日期格式并坚持使用。 这将避免意想不到的效果。 应注意各种关键事实。
</p>
<ul class="itemize mark-bullet">
<li>特别要注意的是，当月份为数字时， <var class="var">month</var><code class="t">/</code><var class="var">day</var><code class="t">/</code><var class="var">year</var> 和
<var class="var">day</var><code class="t">/</code><var class="var">month</var><code class="t">/</code><var class="var">year</var> 之间的混淆；应尽可能避免使用这些格式。 有许多替代格式可供选择。
</li><li>为避免混淆，年份必须完整填写，且只匹配 1900 年至 2099 年（含 2099 年）的年份。
</li></ul>

<p>下面给出了一些明显的例子；如果用户在这里找到了自己喜欢的格式，并且不受风格变化的影响，可以跳过完整的描述。
由于日期和时间是分开匹配的（即使时间可能包含在日期中），只要分隔符（空格、冒号、逗号）明确，任何日期格式都可以与任何时间格式混合使用。
</p>
<div class="example">
<pre class="example-preformatted">2007/04/03 13:13
2007/04/03:13:13
2007/04/03 1:13 pm
3rd April 2007, 13:13
April 3rd 2007 1:13 p.m.
Apr 3, 2007 13:13
Tue Apr 03 13:13:00 2007
13:13 2007/apr/3
</pre></div>

<p>更详细的规则如下。
</p>
<p>时间在日期之前进行解析和提取。 它们必须使用冒号来分隔小时和分钟，如果有秒，则允许在秒前加点。 这就将时间格式限制为以下几种：
</p>
<ul class="itemize mark-bullet">
<li><var class="var">HH</var><code class="t">:</code><var class="var">MM</var>[<code class="t">:</code><var class="var">SS</var>[<code class="t">.</code><var class="var">FFFFF</var>]]
[<code class="t">am</code>|<code class="t">pm</code>|<code class="t">a.m.</code>|<code class="t">p.m.</code>]
</li><li><var class="var">HH</var><code class="t">:</code><var class="var">MM</var><code class="t">.</code><var class="var">SS</var>[<code class="t">.</code><var class="var">FFFFF</var>]
[<code class="t">am</code>|<code class="t">pm</code>|<code class="t">a.m.</code>|<code class="t">p.m.</code>]
</li></ul>

<p>在这里，方括号表示可选要素，可能还有替代要素。 零点几秒是可以识别的，但会被忽略。 对于绝对时间（<code class="t">calendar</code> 文件和
<code class="t">age</code>、<code class="t">before</code> 和 <code class="t">after</code> 函数要求的正常格式），日期是必须的，但一天中的时间不是；返回的时间是日期的起始时间。
允许一种变体：如果存在 <code class="t">a.m.</code> 或 <code class="t">p.m.</code> 或它们的变体之一，则允许使用不带分钟的小时，例如 <code class="t">3 p.m.</code>。
</p>
<p>不处理时区，但如果在时间规范后匹配到时区，则会将其移除，以便解析周围的日期。 只有在时区格式不太特殊的情况下，才会发生这种情况。
以下是可以理解的格式示例：
</p>
<div class="example">
<pre class="example-preformatted">+0100
GMT
GMT-7
CET+1CDT
</pre></div>

<p>时区名称中任何非数字部分都必须有三个大写字母。
</p>
<p>日期在 <var class="var">DD</var><code class="t">/</code><var class="var">MM</var><code class="t">/</code><var class="var">YYYY</var> 和
<var class="var">MM</var><code class="t">/</code><var class="var">DD</var><code class="t">/</code><var class="var">YYYY</var> 之间存在歧义。
建议在使用纯数字日期时避免使用这种形式，但应使用序数词，例如：<code class="t">3rd/04/2007</code> 可以消除歧义，因为序数词总是被解析为该月的日期。
年份必须是四位数（前两位必须是 <code class="t">19</code> 或 <code class="t">20</code>）；<code class="t">03/04/08</code> 不被识别。 其他数字可以有前导零，但不是必需的。
可处理下列情况：
</p>
<ul class="itemize mark-bullet">
<li><var class="var">YYYY</var><code class="t">/</code><var class="var">MM</var><code class="t">/</code><var class="var">DD</var>
</li><li><var class="var">YYYY</var><code class="t">-</code><var class="var">MM</var><code class="t">-</code><var class="var">DD</var>
</li><li><var class="var">YYYY</var><code class="t">/</code><var class="var">MNM</var><code class="t">/</code><var class="var">DD</var>
</li><li><var class="var">YYYY</var><code class="t">-</code><var class="var">MNM</var><code class="t">-</code><var class="var">DD</var>
</li><li><var class="var">DD</var>[<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>] <var class="var">MNM</var>[<code class="t">,</code>] [ <var class="var">YYYY</var> ]
</li><li><var class="var">MNM</var> <var class="var">DD</var>[<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>][<code class="t">,</code>] [ <var class="var">YYYY</var> ]
</li><li><var class="var">DD</var>[<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>]<code class="t">/</code><var class="var">MM</var>[<code class="t">,</code>] <var class="var">YYYY</var>
</li><li><var class="var">DD</var>[<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>]<code class="t">/</code><var class="var">MM</var><code class="t">/</code><var class="var">YYYY</var>
</li><li><var class="var">MM</var><code class="t">/</code><var class="var">DD</var>[<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>][<code class="t">,</code>] <var class="var">YYYY</var>
</li><li><var class="var">MM</var><code class="t">/</code><var class="var">DD</var>[<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>]<code class="t">/</code><var class="var">YYYY</var>
</li></ul>

<p>在这里，<var class="var">MNM</var> 至少是月份名称的前三个字母，并且匹配不区分大小写。 月名的其余部分可能会出现，但其内容无关紧要，因此 janissary,
febrile, martial, apricot, maybe, junta 等都可以轻松处理。
</p>
<p>如果年份显示为可选项，则假定为当年。 这种情况只有两种： <code class="t">Jun 20</code> 或 <code class="t">14 September</code>（除了某些英语中的
&quot;the&quot;，目前还不支持 &quot;the&quot;）。 当然，这样的日期将来会变得模棱两可，因此最好避免使用。
</p>
<p>时间可以带冒号跟在日期后面，例如 <code class="t">1965/07/12:09:45</code>；这是为了提供一种没有空格的格式。 逗号和空格是允许的，例如
<code class="t">1965/07/12, 09:45</code>。 目前不检查这些分隔符的顺序，因此 <code class="t">1965/07/12, : ,09:45</code>
等不合逻辑的格式也会被匹配。 为简单起见，上面的列表中不显示此类变化。
否则，只有当时间与日期之间只有空白，或者时间被嵌入日期中时，时间才会被识别为与日期相关联。
</p>
<p>通常不会扫描星期几，但如果星期几只出现在日期模式的起始位置，则会被忽略。 但是，在需要指定相对于今天的日期时，可以给出没有其他日期说明的星期几。
日期被假定为今天或过去一周内的日期。 同样， <code class="t">yesterday</code>, <code class="t">today</code> 和 <code class="t">tomorrow</code> 也会被处理。
所有匹配都不区分大小写。 因此，如果今天是星期一，那么  <code class="t">Sunday</code> 相当于 <code class="t">yesterday</code>，<code class="t">Monday</code> 相当于
<code class="t">today</code>，而 <code class="t">Tuesday</code> 则给出六天前的日期。 这种格式在日历文件中一般用处不大。 这种格式的日期可以与时间规范结合使用，例如
<code class="t">Tomorrow, 8 p.m.</code>。
</p>
<p>例如，标准日期格式：
</p>
<div class="example">
<pre class="example-preformatted">Fri Aug 18 17:00:48 BST 2006
</pre></div>

<p>处理方法是匹配 <var class="var">HH</var><code class="t">:</code><var class="var">MM</var><code class="t">:</code><var class="var">SS</var> 并将其与匹配的（但未使用的）时区一起删除。 这样就剩下以下内容：
</p>
<div class="example">
<pre class="example-preformatted">Fri Aug 18 2006
</pre></div>

<p><code class="t">Fri</code> 将被忽略，其余内容将根据标准规则进行匹配。
</p>

</div>
<div class="subsection-level-extent" id="Xiang-Guan-Shi-Jian-Ge-Shi-">
<h4 class="subsection"><span>23.2.3 相关时间格式<a class="copiable-link" href="#Xiang-Guan-Shi-Jian-Ge-Shi-"> &para;</a></span></h4>

<p>某些地方会处理相对时间。 这里不允许使用日期，而是允许使用各种支持的时段组合，以及可选的时间。 时间段必须按照从最重要到最不重要的顺序排列。
</p>
<p>在某些情况下，如果有一个锚定日期，就可以进行更精确的计算：月份或年份的偏移量会选择正确的日期，而不是四舍五入，也可以选择一个月中的某一天作为 &lsquo;(1st
Friday)&rsquo; 等，下文将详细介绍。
</p>
<p>锚点在以下情况下可用。 如果向函数 <code class="t">calendar</code>
传递了一个或两个时间，当结束时间是相对的（即使开始时间是隐含的），开始时间将作为结束时间的锚点。 在检查日历文件时，当通过 <code class="t">WARN</code>
关键字明确给出警告时间时，被检查的计划事件将锚定警告时间；同样，当通过 <code class="t">RPT</code> 关键字给出重复周期时，计划事件将锚定重复周期，因此 <code class="t">RPT
2 months, 3rd Thursday</code> 这样的规范可以得到正确处理。 最后，<code class="t">calendar_scandate</code> 的 <code class="t">-R</code>
参数直接为相对计算提供了锚点。
</p>
<p>所处理的时段，可能的缩写是:
</p>
<dl class="table">
<dt>年</dt>
<dd><p><code class="t">years</code>, <code class="t">yrs</code>, <code class="t">ys</code>, <code class="t">year</code>, <code class="t">yr</code>, <code class="t">y</code>, <code class="t">yearly</code>.  一年是 365.25
天，除非有锚。
</p>
</dd>
<dt>月</dt>
<dd><p><code class="t">months</code>, <code class="t">mons</code>, <code class="t">mnths</code>, <code class="t">mths</code>, <code class="t">month</code>, <code class="t">mon</code>, <code class="t">mnth</code>,
<code class="t">mth</code>, <code class="t">monthly</code>。 请注意，<code class="t">m</code>、<code class="t">ms</code>、<code class="t">mn</code>、<code class="t">mns</code> 是模棱两可的，<em class="emph">不</em>会被处理。
除非有锚点，否则 &quot;月 &quot;指的是 30 天，而不是日历月。
</p>
</dd>
<dt>星期</dt>
<dd><p><code class="t">weeks</code>, <code class="t">wks</code>, <code class="t">ws</code>, <code class="t">week</code>, <code class="t">wk</code>, <code class="t">w</code>, <code class="t">weekly</code>
</p>
</dd>
<dt>日</dt>
<dd><p><code class="t">days</code>, <code class="t">dys</code>, <code class="t">ds</code>, <code class="t">day</code>, <code class="t">dy</code>, <code class="t">d</code>, <code class="t">daily</code>
</p>
</dd>
<dt>时</dt>
<dd><p><code class="t">hours</code>, <code class="t">hrs</code>, <code class="t">hs</code>, <code class="t">hour</code>, <code class="t">hr</code>, <code class="t">h</code>, <code class="t">hourly</code>
</p>
</dd>
<dt>分</dt>
<dd><p><code class="t">minutes</code>, <code class="t">mins</code>, <code class="t">minute</code>, <code class="t">min</code>, but <em class="emph">not</em> <code class="t">m</code>, <code class="t">ms</code>,
<code class="t">mn</code> or <code class="t">mns</code>
</p>
</dd>
<dt>秒</dt>
<dd><p><code class="t">seconds</code>, <code class="t">secs</code>, <code class="t">ss</code>, <code class="t">second</code>, <code class="t">sec</code>, <code class="t">s</code>
</p>
</dd>
</dl>

<p>数字之间的空格是可选的，但项目之间需要空格，不过也可以使用逗号（带或不带空格）。
</p>
<p>从 <code class="t">yearly</code> 到 <code class="t">hourly</code> 的形式允许省略数字；数字被假定为 1。 例如，<code class="t">1 d</code> 和 <code class="t">daily</code> 是等价的。
需要注意的是，将这些形式与复数一起使用会造成混淆；<code class="t">2 yearly</code> 与 <code class="t">2 years</code> 一样， <em class="emph">不是</em>
每年两次，因此建议只使用不带数字的形式。
</p>
<p>当存在锚点时间时，还可以扩展成第 <var class="var">n</var> 个 <var class="var">some</var>day 的形式处理常规事件。
这种规范必须紧跟在任何年月规范之后，但在任何日期的时间之前，并且必须以 <var class="var">n</var>(<code class="t">th</code>|<code class="t">st</code>|<code class="t">rd</code>) <var class="var">day</var>
的形式出现，例如 <code class="t">1st Tuesday</code> 或 <code class="t">3rd Monday</code>。
与在其他地方一样，日的匹配不区分大小写，必须是英文，而且只有前三个字母是重要的，以 &lsquo;month&rsquo; 开头的形式不匹配
&lsquo;Monday&rsquo;。不会对生成的日期进行净化处理；  如果在一个月内出现过多的日期，则会将日期推到下一个月（但显然会保留正确的星期几）。
</p>
<p>这里是一些示例：
</p>
<div class="example">
<pre class="example-preformatted">30 years 3 months 4 days 3:42:41
14 days 5 hours
Monthly, 3rd Thursday
4d,10hr
</pre></div>


</div>
<div class="subsection-level-extent" id="Ju-Li-2">
<h4 class="subsection"><span>23.2.4 举例<a class="copiable-link" href="#Ju-Li-2"> &para;</a></span></h4>

<p>下面是一个日历文件示例。 如上文所建议，它使用了统一的日期格式。
</p>
<div class="example">
<pre class="example-preformatted">Feb 1, 2006 14:30 Pointless bureaucratic meeting
Mar 27, 2006 11:00 Mutual recrimination and finger pointing
  Bring water pistol and waterproofs
Mar 31, 2006 14:00 Very serious managerial pontification
  # UID 12C7878A9A50
Apr 10, 2006 13:30 Even more pointless blame assignment exercise WARN 30 mins
May 18, 2006 16:00 Regular moaning session RPT monthly, 3rd Thursday
</pre></div>

<p>第二个条目有一个续行。 第三个条目有一个续行，在显示条目时不会显示，但 <code class="t">calendar_add</code> 函数在更新事件时会使用该唯一标识符。
第四个条目会在事件发生前 30 分钟发出警告（以便您做好适当的准备）。 第五个条目会在一个月后的第三个星期四重复出现，即 2006 年 6 月 15
日的同一时间。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">

<h3 class="section" id="Yong-Hu-Han-Shu-"><span>23.3 用户函数<a class="copiable-link" href="#Yong-Hu-Han-Shu-"> &para;</a></span></h3>

<p>本节介绍用户可直接调用的函数。 第一部分介绍与用户日历相关的函数；第二部分介绍 glob 限定符中的使用。
</p>

<div class="subsection-level-extent" id="Ri-Li-Xi-Tong-Han-Shu-">
<h4 class="subsection"><span>23.3.1 日历系统函数<a class="copiable-link" href="#Ri-Li-Xi-Tong-Han-Shu-"> &para;</a></span></h4>

<dl class="table">
<dd><a class="index-entry-id" id="index-calendar"></a>

</dd>
<dt><code class="t">calendar </code>[ <code class="t">-abdDsv</code> ] [ <code class="t">-C</code> <var class="var">calfile</var> ] [ <code class="t">-n</code> <var class="var">num</var> ] [ <code class="t">-S</code> <var class="var">showprog</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ [ <var class="var">start</var> ] <var class="var">end</var> ]</dt>
<dt><code class="t">calendar -r</code> [ <code class="t">-abdDrsv</code> ] [ <code class="t">-C</code> <var class="var">calfile</var> ] [ <code class="t">-n</code> <var class="var">num</var> ] [ <code class="t">-S</code> <var class="var">showprog</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <var class="var">start</var> ]</dt>
<dd><p>显示日历中的事件。
</p>
<p>如果没有参数，则显示从今天开始到今天之后下一个工作日结束的事件。 换句话说，如果今天是周五、周六或周日，则显示到下周一结束，否则显示今天和明天。
</p>
<p>如果给定 <var class="var">end</var>，则显示从今天开始到给定时间和日期的事件，给定时间和日期的格式如上一节所述。
需要注意的是，如果是日期，则时间假定为日期开始时的午夜，因此实际上会显示给定日期之前的所有事件。
</p>
<p><var class="var">end</var> 可以以 <code class="t">+</code> 开始，在这种情况下，说明的其余部分是相对时间格式，如上一节所述，表示从开始时间算起的时间范围。
</p>
<p>如果同时给出 <var class="var">start</var>，则显示从该时间和日期开始的事件。 可以使用 <code class="t">now</code> 表示当前时间。
</p>
<p>要在事件到期时发出警报，请在 <code class="t">~/.zshrc</code> 文件中加入 <code class="t">calendar -s</code>。
</p>
<p>选项:
</p>
<dl class="table">
<dt><code class="t">-a</code></dt>
<dd><p>显示日历中的所有项目，与 <code class="t">start</code> 和 <code class="t">end</code> 无关。
</p>
</dd>
<dt><code class="t">-b</code></dt>
<dd><p>简介：不显示续行（即日期/时间行之后的缩进行），只显示第一行。
</p>
</dd>
<dt><code class="t">-B</code> <var class="var">lines</var></dt>
<dd><p>简介：最多显示日历条目的前 <var class="var">lines</var> 行。&lsquo;<code class="t">-B 1</code>&rsquo; 等同于 &lsquo;<code class="t">-b</code>&rsquo;。
</p>
</dd>
<dt><code class="t">-C</code> <var class="var">calfile</var></dt>
<dd><p>明确指定日历文件，而不是 <code class="t">calendar-file</code> 样式或默认的 <code class="t">~/calendar</code> 值。
</p>
</dd>
<dt><code class="t">-d</code></dt>
<dd><p>将日历文件中的事件移至 &quot;已完成 &quot;文件，如 <code class="t">done-file</code> 样式或默认值（即附加 <code class="t">.done</code> 的日历文件）所示。 该选项由
<code class="t">-s</code> 选项隐含。
</p>
</dd>
<dt><code class="t">-D</code></dt>
<dd><p>关闭 <code class="t">-d</code> 选项，即使同时存在 <code class="t">-s</code> 选项。
</p>
</dd>
<dt><code class="t">-n</code> <var class="var">num</var>, <code class="t">-</code><var class="var">num</var></dt>
<dd><p>无论 <code class="t">start</code> 和 <code class="t">end</code> 如何，至少显示 <var class="var">num</var> 个事件(如果日历文件中有)。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>显示日历中的所有剩余选项，忽略给定的 <var class="var">end</var> 时间。 <var class="var">start</var> 时间受到尊重；任何给定的参数都会被视为 <var class="var">start</var>
时间。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>使用 shell 的 <code class="t">sched</code> 命令调度定时事件，在事件到期时向用户发出警告。 请注意，<code class="t">sched</code> 命令只有在 shell
处于交互式提示符时才会运行；前台任务会阻止计划任务的运行，直到它结束。
</p>
<p>定时事件通常会运行 <code class="t">calendar_show</code> 程序来显示事件，如 <a class="ref" href="#g_t_65e5_5386_5b9e_7528_51fd_6570">实用函数</a> 所述。
</p>
<p>默认情况下，事件警告会在到期前五分钟显示。 警告时间可通过 <code class="t">warn-time</code> 样式配置，或者对单个日历条目，也可通过在条目的第一行中加入
<code class="t">WARN</code> <var class="var">reltime</var> 来配置。其中 <var class="var">reltime</var> 是常用的相对时间格式之一。
</p>
<p>重复事件可通过在第一行中加入 <code class="t">RPT</code> <var class="var">reldate</var> 来表示。 计划事件显示后，将在现有事件之后的 <var class="var">reldate</var>
时间重新进入日历文件。 请注意，这是目前重复计数的唯一用途，因此在前一个事件过去之前，无法查询日历中事件的重复发生时间表。
</p>
<p>如果使用 <code class="t">RPT</code>，还可以指定某些事件的特定重复发生是否重新安排或取消。使用 <code class="t">OCCURRENCE</code>
关键字完成此，后跟空格和事件在常规序列中的日期和时间，然后是空格，接着是重新安排的事件的日期和时间，或者精确字符串
<code class="t">CANCELLED</code>。在这种情况下，日期和时间必须完全符合 <code class="t">text/calendar</code> MIME 类型（RFC 2445）所使用的
&quot;带本地时间的日期&quot; 格式，即 <var class="var">&lt;YYYY&gt;&lt;MM&gt;&lt;DD&gt;</var><code class="t">T</code><var class="var">&lt;hh&gt;&lt;mm&gt;&lt;ss&gt;</var>（注意文字 <code class="t">T</code>
的存在）。第一个词（正常重复发生）可以是其他内容，而不是正确的日期/时间，以表示事件是正常序列之外的额外事件；保留格式外观的约定是
<code class="t">XXXXXXXXTXXXXXX</code>。
</p>
<p>此外，记录下一次定期重复事件也很有用（因为此时显示的日期可能是重新安排的事件，因此不能用于计算定期序列）。 这可以通过 <code class="t">RECURRENCE</code>
和格式相同的时间或日期来指定。 <code class="t">calendar_add</code> 在遇到不包含重复事件的重复事件时，会根据标题日期/时间添加这样的指示。
</p>
<p>如果 <code class="t">calendar_add</code> 被用于更新事件，则现有条目和新增事件中都应包含 <code class="t">UID</code> 关键字，以便识别重复出现的事件序列。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">Thu May 6, 2010 11:00 Informal chat RPT 1 week
  # RECURRENCE 20100506T110000
  # OCCURRENCE 20100513T110000 20100513T120000
  # OCCURRENCE 20100520T110000 CANCELLED
</pre></div>

<p>2010年5月13 日 11:00 的活动改期到一小时后。 一周后发生的事件被取消。 事件发生在以 <code class="t">#</code>
字符开头的续行中，因此通常不会作为事件的一部分显示。 和其他地方一样，时间不考虑时区。下一个事件发生后，头条(headline)日期/时间将是
&lsquo;<code class="t">Thu May 13, 2010 12:00</code>&rsquo; ，而 <code class="t">RECURRENCE</code> 日期/时间将是 &lsquo;<code class="t">20100513T110000</code>&rsquo;
（请注意，<code class="t">RECURRENCE</code> 记录的是下一个常规重复事件的时间，而取消和移动的事件不在其中，但它们会在头条日期/时间中显示）。
</p>
<p>运行 <code class="t">calendar -s</code> 来重新安排现有事件是安全的（例如，如果日历文件已更改），而且还可以在 shell
的多个实例中运行，因为日历文件在使用时是锁定的。
</p>
<p>默认情况下，过期事件会被移至 &quot;已完成 &quot;文件；请参阅 <code class="t">-d</code> 选项。 使用 <code class="t">-D</code> 可以避免这种情况。
</p>
</dd>
<dt><code class="t">-S</code> <var class="var">showprog</var></dt>
<dd><p>明确指定用于显示事件的程序，而不是 <code class="t">show-prog</code> 样式的值或默认的 <code class="t">calendar_show</code>。
</p>
</dd>
<dt><code class="t">-v</code></dt>
<dd><p>Verbose：显示更多处理阶段的信息。 这有助于确认函数已成功解析日历文件中的日期。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-calendar_005fadd"></a><span><code class="t">calendar_add</code> [ <code class="t">-BL</code> ] <var class="var">event</var> ...<a class="copiable-link" href="#index-calendar_005fadd"> &para;</a></span></dt>
<dd><p>在日历的适当位置添加一个事件。 如 <a class="ref" href="#g_t_65e5_5386_6587_4ef6_548c_65e5_671f_683c_5f0f">文件和日期格式</a>所述，事件可以包含多行。 使用此函数可确保日历文件按日期和时间顺序排序。
在修改文件时，它还会为锁定文件做出特殊安排。 旧版日历将保留在后缀为 <code class="t">.old</code> 的文件中。
</p>
<p>选项 <code class="t">-B</code> 表示备份日历文件的工作将由调用者负责，而不应由 <code class="t">calendar_add</code> 执行。 选项 <code class="t">-L</code> 表示
<code class="t">calendar_add</code> 无需锁定日历文件，因为它已经被锁定。 用户通常不需要这些选项。
</p>
<p>如果样式 <code class="t">reformat-date</code> 为 true，新条目中的日期和时间将被改写为标准日期格式：请参阅该样式和样式
<code class="t">date-format</code> 的说明。
</p>
<p>函数可使用与每个事件一起存储的唯一标识符，以确保正确处理对现有事件的更新。 条目应包含 <code class="t">UID</code>
字样，后面是空白，然后是一个完全由任意长度的十六进制数字组成的字样（所有数字都有意义，包括前导零）。 由于 UID
对用户没有直接用处，因此可以将其隐藏在以 <code class="t">#</code> 开头的缩进续行中,例如：
</p>
<div class="example">
<pre class="example-preformatted">Aug 31, 2007 09:30  Celebrate the end of the holidays
  # UID 045B78A0
</pre></div>

<p><code class="t">calendar</code> 函数不会显示第二行。
</p>
<p>可以指定 <code class="t">RPT</code> 关键字，然后用 <code class="t">CANCELLED</code> 代替相对时间。
这将导致任何匹配的事件或系列事件被取消（使用此方法取消事件时，原始事件不必被标记为重复发生）。 要匹配日历中的现有事件，必须有 <code class="t">UID</code>。
</p>
<p><code class="t">calendar_add</code> 将尝试管理重复事件的发生和重现，就像上文 <code class="t">calendar -s</code> 所描述的事件调度一样。
要重新安排或取消单个事件，<code class="t">calendar_add</code> 应调用包含正确 <code class="t">UID</code> 的条目，但 <em class="emph">不能</em> 包含 <code class="t">RPT</code>
关键字，因为这意味着该条目适用于一系列重复事件，因此会取代所有现有信息。 每个重新安排或取消的事件都必须在传给 <code class="t">calendar_add</code>
的条目中包含 <code class="t">OCCURRENCE</code> 关键字，并将其合并到日历文件中。 任何对该事件的现有引用都会被替换。
未引用有效事件的事件发生记录将作为一次性事件发生记录添加到同一日历条目中。
</p>
</dd>
<dt><a id="index-calendar_005fedit"></a><span><code class="t">calendar_edit</code><a class="copiable-link" href="#index-calendar_005fedit"> &para;</a></span></dt>
<dd><p>调用用户的编辑器编辑日历文件。 如果有参数，它们将作为要使用的编辑器（文件名会附加到命令中）；否则，编辑器由变量 <code class="t">VISUAL</code>
指定（如果已设置），否则由变量 <code class="t">EDITOR</code> 指定。
</p>
<p>如果日历调度程序正在运行，则会在编辑文件后调用 <code class="t">calendar -s</code> 来更新文件。
</p>
<p>在编辑过程中，该函数会锁定日历系统。 因此，在编辑日历文件时，如果同时可能发生日历事件，则应使用该函数。 请注意，这会导致另一个已启用日历功能的
shell 挂起等待锁定，因此必须尽快退出编辑器。
</p>
</dd>
<dt><a id="index-calendar_005fparse"></a><span><code class="t">calendar_parse</code> <var class="var">calendar-entry</var><a class="copiable-link" href="#index-calendar_005fparse"> &para;</a></span></dt>
<dd><p>这是一个内部函数，用于分析作为唯一参数传递的日历项的各个部分。 如果参数不能被解析为日历条目，函数将返回状态 1；如果传递的参数个数错误，函数将返回状态
2；它还会将参数 <code class="t">reply</code> 设置为空关联数组。 否则返回状态 0，并按如下方式设置关联数组 <code class="t">reply</code> 中的元素：
</p>
<dl class="table">
<dt><code class="t">time</code></dt>
<dd><p>与 <code class="t">$EPOCHSECONDS</code> 单位相同的数字时间字符串
</p></dd>
<dt><code class="t">schedtime</code></dt>
<dd><p>定期安排的时间。 如果这是一个重复发生的事件，且下一次事件发生的时间已重新安排，则该时间可能与实际事件时间 <code class="t">time</code> 不同。 那么
<code class="t">time</code> 给出的是实际时间，而 <code class="t">schedtime</code> 给出的是修改前的定期重现时间。
</p></dd>
<dt><code class="t">text1</code></dt>
<dd><p>该行的文本，不包括事件的日期和时间，但包括任何 <code class="t">WARN</code> 或 <code class="t">RPT</code> 关键字和值。
</p></dd>
<dt><code class="t">warntime</code></dt>
<dd><p>任何由 <code class="t">WARN</code> 关键字给出的警告时间，以与 <code class="t">$EPOCHSECONDS</code> 相同的单位表示，包含警告时间的数字字符串。
(注意，这是绝对时间，而不是向下传递的相对时间。 没有 <code class="t">WARN</code> 关键字和值匹配，则不设置。
</p></dd>
<dt><code class="t">warnstr</code></dt>
<dd><p>在 <code class="t">WARN</code> 关键字之后匹配的原始字符串，否则取消设置。
</p></dd>
<dt><code class="t">rpttime</code></dt>
<dd><p>任何由 <code class="t">RPT</code> 关键字给出的重复时间，是一个包含重复时间的数字字符串，单位与 <code class="t">$EPOCHSECONDS</code> 相同。
(注意这是绝对时间。）如果没有 <code class="t">RPT</code> 关键字和值匹配，则不设置。
</p></dd>
<dt><code class="t">schedrpttime</code></dt>
<dd><p>在修改前，重复事件的下一次定期发生时间。 这可能与 <code class="t">rpttime</code>不同，后者是事件的实际发生时间，可能已从正常时间重新安排。
</p></dd>
<dt><code class="t">rptstr</code></dt>
<dd><p>在 <code class="t">RPT</code> 关键字之后匹配的原始字符串，否则取消设置。
</p></dd>
<dt><code class="t">text2</code></dt>
<dd><p>去掉日期、关键字和值后的文本。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-calendar_005fshowdate"></a><span><code class="t">calendar_showdate</code> [ <code class="t">-r</code> ] [ <code class="t">-f</code> <var class="var">fmt</var> ] <var class="var">date-spec</var> ...<a class="copiable-link" href="#index-calendar_005fshowdate"> &para;</a></span></dt>
<dd><p>对给定的 <var class="var">date-spec</var> 进行解释并打印相应的日期和时间。 如果初始的 <var class="var">date-spec</var> 以 <code class="t">+</code> 或 <code class="t">-</code>
开头，则会被视为相对于当前时间；而第一个 <var class="var">date-spec</var> 之后的 <var class="var">date-spec</var>s
则被视为相对于迄今计算出的日期，在这种情况下，前导 <code class="t">+</code> 是可选的。 这样就可以将系统用作日期计算器。
例如，<code class="t">calendar_showdate '+1 month, 1st Friday'</code> 显示的是下个月第一个星期五的日期。
</p>
<p>如果使用选项 <code class="t">-r</code>，则不会打印任何内容，但会将日期和时间值（以秒为单位，自纪元epoch起）保存在参数 <code class="t">REPLY</code> 中。
</p>
<p>使用选项 <code class="t">-f</code> <var class="var">fmt</var> 将把指定的日期/时间转换格式传递给 <code class="t">strftime</code>；请参阅下文关于 <code class="t">date-format</code>
样式的说明。
</p>
<p>为了避免负相对日期规范的歧义，选项必须出现在不同的词中；换句话说，<code class="t">-r</code> 和 <code class="t">-f</code> 不应组合在同一个词中。
</p>
</dd>
<dt><a id="index-calendar_005fsort"></a><span><code class="t">calendar_sort</code><a class="copiable-link" href="#index-calendar_005fsort"> &para;</a></span></dt>
<dd><p>将日历文件按日期和时间顺序排序。 旧的日历会保留在后缀为 <code class="t">.old</code> 的文件中。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Glob-Xian-Ding-Fu--1">
<h4 class="subsection"><span>23.3.2 Glob 限定符<a class="copiable-link" href="#Glob-Xian-Ding-Fu--1"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-age"></a><span><code class="t">age</code><a class="copiable-link" href="#index-age"> &para;</a></span></dt>
<dd><p>函数 <code class="t">age</code> 可以自动加载，并与日历系统分开使用，不过它使用函数 <code class="t">calendar_scandate</code> 进行日期格式化。 它需要
<code class="t">zsh/stat</code> 内置命令，但只使用 <code class="t">zstat</code> 内置命令。
</p>
<p><code class="t">age</code> 用于选择具有指定修改时间的文件作为 glob 限定符。 日期格式与日历系统理解的格式相同，详见 <a class="ref" href="#g_t_65e5_5386_6587_4ef6_548c_65e5_671f_683c_5f0f">文件和日期格式</a>。
</p>
<p>函数可以接受一个或两个参数，这些参数可以直接作为命令或参数提供，也可以单独作为 shell 参数提供。
</p>
<div class="example">
<pre class="example-preformatted">print *(e:age 2006/10/04 2006/10/09:)
</pre></div>

<p>以上示例匹配了在这些日期范围的起始时间之后修改过的所有文件。 第二个参数也可以是由 <code class="t">+</code> 引入的相对时间：
</p>
<div class="example">
<pre class="example-preformatted">print *(e:age 2006/10/04 +5d:)
</pre></div>

<p>上面的例子与前面的例子是等价的。
</p>
<p>除了对星期几、<code class="t">today</code> 和 <code class="t">yesterday</code> 的特殊用法外，还可以指定不含日期的时间；这些时间适用于今天。
显然，这种使用在午夜前后会出现问题。
</p>
<div class="example">
<pre class="example-preformatted">print *(e-age 12:00 13:30-)
</pre></div>

<p>上例显示的是今天 12:00 至 13:00 之间修改的文件。
</p>
<div class="example">
<pre class="example-preformatted">print *(e:age 2006/10/04:)
</pre></div>

<p>上述示例匹配了在该日期修改的所有文件。 如果省略第二个参数，则会将其视为第一个参数之后的 24 小时（即使第一个参数包含时间）。
</p>
<div class="example">
<pre class="example-preformatted">print *(e-age 2006/10/04:10:15 2006/10/04:10:45-)
</pre></div>

<p>上面的示例提供了时间。 请注意，时间和日期说明中的空白必须加引号，以确保 <code class="t">age</code> 接收到正确的参数，因此使用了额外的冒号来分隔日期和时间。
</p>
<div class="example">
<pre class="example-preformatted">AGEREF=2006/10/04:10:15
AGEREF2=2006/10/04:10:45
print *(+age)
</pre></div>

<p>下面显示的是使用另一种参数传递方式之前的示例。 参数 <code class="t">AGEREF</code> 和 <code class="t">AGEREF2</code>
中的日期和时间在未设置前一直有效，但如果有任何参数作为显式参数传递给 age，则会被覆盖。 任何显式参数都会导致两个参数被忽略。
</p>
<p>通过在文件名前加冒号，可以使用文件的修改时间作为任一参数的日期和时间，而不用明确的日期和时间：
</p>
<div class="example">
<pre class="example-preformatted">print *(e-age :file1-)
</pre></div>

<p>匹配与 <code class="t">file1</code> 在同一天（从午夜开始的 24 小时）创建的所有文件。
</p>
<div class="example">
<pre class="example-preformatted">print *(e-age :file1 :file2-)
</pre></div>

<p>匹配所有不早于 <code class="t">file1</code>、不晚于 <code class="t">file2</code>修改的文件；此处的精度为最接近的秒。
</p>
</dd>
<dt><a class="index-entry-id" id="index-before"></a>
<a id="index-after"></a><span><code class="t">after</code><a class="copiable-link" href="#index-after"> &para;</a></span></dt>
<dt><code class="t">before</code></dt>
<dd><p>函数 <code class="t">after</code> 和 <code class="t">before</code> 是 <code class="t">age</code> 的简化版本，只接受一个参数。 对参数的解析与 <code class="t">age</code>
的参数类似；如果没有给出参数，则会查询变量 <code class="t">AGEREF</code>。 正如函数名称所示，如果文件的修改时间在指定的时间和日期之后或之前，就会匹配该文件。
如果只给出了时间，那么日期就是今天。
</p>
<p>因此，下面两个例子是等价的：
</p><div class="example">
<pre class="example-preformatted">print *(e-after 12:00-)
print *(e-after today:12:00-)
</pre></div>

</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_65e5_5386_6837_5f0f">

<h3 class="section" id="Yang-Shi-"><span>23.4 样式<a class="copiable-link" href="#Yang-Shi-"> &para;</a></span></h3>

<p><a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a> 中描述了使用 <code class="t">zstyle</code> 命令的 zsh 样式机制。 这与补全系统中使用的机制相同。
</p>
<p>下面的样式都是在 <code class="t">:datetime:</code><var class="var">function</var><code class="t">:</code> 的上下文中检查的，例如
<code class="t">:datetime:calendar:</code>。
</p>
<dl class="table">
<dt><a id="index-calendar_002dfile"></a><span><code class="t">calendar-file</code><a class="copiable-link" href="#index-calendar_002dfile"> &para;</a></span></dt>
<dd><p>主日历的位置。 默认为 <code class="t">~/calendar</code>。
</p>
</dd>
<dt><a id="index-date_002dformat"></a><span><code class="t">date-format</code><a class="copiable-link" href="#index-date_002dformat"> &para;</a></span></dt>
<dd><p>一个 <code class="t">strftime</code> 格式字符串（请参阅 strftime(3)），带有 zsh 扩展，提供各种数字，如果数字是个位数，则不带前导零或空格，如
<code class="t">%D{</code><var class="var">string</var><code class="t">}</code> 提示符格式在 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a> 中所述。
</p>
<p>用于在 <code class="t">calendar</code> 中输出日期，以支持 <code class="t">-v</code> 选项，并将循环事件添加回日历文件，以及在 <code class="t">calendar_showdate</code>
中作为最终输出格式。
</p>
<p>如果未设置样式，则默认使用类似 <code class="t">date</code> 命令输出的标准系统格式（也称为 &lsquo;ctime 格式&rsquo;）：&lsquo;<code class="t">%a %b %d %H:%M:%S
%Z %Y</code>&rsquo;。
</p>
</dd>
<dt><a id="index-done_002dfile"></a><span><code class="t">done-file</code><a class="copiable-link" href="#index-done_002dfile"> &para;</a></span></dt>
<dd><p>追加已完成事件的文件位置。 默认情况下，日历文件的位置加上后缀 <code class="t">.done</code>。 样式可以设置为空字符串，在这种情况下，将不会维护 &quot;已完成&quot;
文件。
</p>
</dd>
<dt><a id="index-reformat_002ddate"></a><span><code class="t">reformat-date</code><a class="copiable-link" href="#index-reformat_002ddate"> &para;</a></span></dt>
<dd><p>布尔值，由 <code class="t">calendar_add</code> 使用。 如果该值为 true，添加到日历中的新条目的日期和时间将按照 <code class="t">date-format</code>
样式或其默认值重新格式化。 只有事件本身的日期和时间会被重新格式化，其他附属日期和时间（如与重复和警告时间相关的日期和时间）将保持不变。
</p>
</dd>
<dt><a id="index-show_002dprog"></a><span><code class="t">show-prog</code><a class="copiable-link" href="#index-show_002dprog"> &para;</a></span></dt>
<dd><p>由 <code class="t">calendar</code> 运行的程序，用于显示事件。 它将收到所请求事件的开始时间和停止时间，单位为自纪元(epoch)起的秒数，然后是事件文本。
请注意，<code class="t">calendar -s</code> 使用与开始时间和停止时间相等的别一个时间来显示特定事件的警报。
</p>
<p>默认使用函数 <code class="t">calendar_show</code>。
</p>
</dd>
<dt><a id="index-warn_002dtime"></a><span><code class="t">warn-time</code><a class="copiable-link" href="#index-warn_002dtime"> &para;</a></span></dt>
<dd><p>如果事件的第一行不包含 <code class="t">EVENT</code> <var class="var">reltime</var> 文本，则在事件发生前显示警告的时间。默认值为 5 分钟。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_65e5_5386_5b9e_7528_51fd_6570">

<h3 class="section" id="Shi-Yong-Han-Shu--1"><span>23.5 实用函数<a class="copiable-link" href="#Shi-Yong-Han-Shu--1"> &para;</a></span></h3>

<dl class="table">
<dt><a id="index-calendar_005flockfiles"></a><span><code class="t">calendar_lockfiles</code><a class="copiable-link" href="#index-calendar_005flockfiles"> &para;</a></span></dt>
<dd><p>尝试锁定参数中给出的文件。 为防止出现网络文件锁定的问题，将以临时的方式尝试创建一个名为 <var class="var">file</var><code class="t">.lockfile</code>
的文件符号链接。 锁定过程中不使用其他系统级函数，也就是说，任何不使用该机制的实用程序都可以访问和修改文件。 尤其是，除非使用
<code class="t">calendar_edit</code>，否则不会阻止用户同时编辑日历文件。
</p>
<p>在放弃之前，会尝试三次锁定文件。 如果 <code class="t">zsh/zselect</code> 模块可用，尝试的时间会被抖动，这样调用函数的多个实例就不太可能同时重试。
</p>
<p>锁定的文件会追加到数组 <code class="t">lockfiles</code>，该数组应为调用者的本地数组。
</p>
<p>如果所有文件都成功锁定，则返回状态 0，否则返回状态 1。
</p>
<p>该函数可用作一般的文件锁定函数，但只有在使用该机制锁定文件时才有效。
</p>
</dd>
<dt><a id="index-calendar_005fread"></a><span><code class="t">calendar_read</code><a class="copiable-link" href="#index-calendar_005fread"> &para;</a></span></dt>
<dd><p>这是一个后端，用于其他各种函数解析日历文件，这是唯一的参数。 数组 <code class="t">calendar_entries</code>
将被设置为文件中的事件列表；除了删除行首的逗号外，不会进行任何剪枝。 每个条目可以包含多行。
</p>
</dd>
<dt><a id="index-calendar_005fscandate"></a><span><code class="t">calendar_scandate</code><a class="copiable-link" href="#index-calendar_005fscandate"> &para;</a></span></dt>
<dd><p>这是一个通用函数，用于解析可与日历系统分开使用的日期和时间。 参数是 <a class="ref" href="#g_t_65e5_5386_6587_4ef6_548c_65e5_671f_683c_5f0f">文件和日期格式</a>中描述的日期或时间规范。 参数 <code class="t">REPLY</code>
将被设置为自该日期或时间对应的纪元起的秒数。 默认情况下，日期和时间可以出现在给定参数的任意位置。
</p>
<p>如果成功解析日期和时间，则返回状态 0，否则返回状态 1。
</p>
<p>选项:
</p><dl class="table">
<dt><code class="t">-a</code></dt>
<dd><p>日期和时间锚定在参数的开头；如果前面有文本，则不会匹配。
</p>
</dd>
<dt><code class="t">-A</code></dt>
<dd><p>日期和时间被锚定到参数的开始和结束位置；如果参数中有任何其他文本，将不会被匹配。
</p>
</dd>
<dt><code class="t">-d</code></dt>
<dd><p>启用额外的调试输出。
</p>
</dd>
<dt><code class="t">-m</code></dt>
<dd><p>减 。当 同时给出 <code class="t">-R</code> <var class="var">anchor_time</var> 时，相对时间将从 <var class="var">anchor_time</var> 开始倒推计算。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>传递的参数将被解析为相对时间。
</p>
</dd>
<dt><code class="t">-R</code> <var class="var">anchor_time</var></dt>
<dd><p>传入的参数将被解析为相对时间。 时间是相对于 <var class="var">anchor_time</var>（以秒为单位的从纪元(epoch)开始的时间）的，返回值是将
<var class="var">anchor_time</var> 提前一个相对时间后的绝对时间。 这样就能正确考虑月的长度。 如果给定月份中没有最后一天，则返回最后一个月的最后一天。
例如，如果锚点时间为 2007 年 1 月 31 日，相对时间为 1 个月，则最终时间为 2007 年 2 月 28 日的同一天。
</p>
</dd>
<dt><code class="t">-s</code></dt>
<dd><p>除了设置 <code class="t">REPLY</code> 外，还可以将 <code class="t">REPLY2</code> 设置为日期和时间去除后参数的剩余部分。 如果使用了 <code class="t">-A</code> 选项，则此值为空。
</p>
</dd>
<dt><code class="t">-t</code></dt>
<dd><p>允许输入没有日期说明的时间。 日期假定为今天。 如果午夜的铁舌正在鸣响，则行为是未指定的。
</p>
</dd>
</dl>

</dd>
<dt><a id="index-calendar_005fshow"></a><span><code class="t">calendar_show</code><a class="copiable-link" href="#index-calendar_005fshow"> &para;</a></span></dt>
<dd><p>默认用于显示事件的函数。 它接受事件的开始时间和结束时间（均以纪元epoch秒为单位）以及事件描述。
</p>
<p>事件总是打印到标准输出中。 如果命令行编辑器处于活动状态（通常是这种情况），命令行将在输出后重新显示。
</p>
<p>如果设置了参数 <code class="t">DISPLAY</code>，且开始时间和结束时间相同（表明为计划事件），则函数会使用命令 <code class="t">xmessage</code>
显示包含事件详细信息的窗口。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_65e5_5386_95ee_9898">

<h3 class="section" id="Cuo-Wu--1"><span>23.6 错误<a class="copiable-link" href="#Cuo-Wu--1"> &para;</a></span></h3>

<p>由于该系统完全基于 shell 函数（<code class="t">zsh/datetime</code> 模块提供了少量支持），因此所使用的机制并不像专用日历工具那样强大。
因此，用户不应依赖 shell 来获取重要警报。
</p>
<p>没有 <code class="t">calendar_delete</code> 函数。
</p>
<p>日期和时间不支持本地化，也不支持使用时区。
</p>
<p>月和年的相对周期没有考虑到可变的天数。
</p>
<p><code class="t">calendar_show</code> 函数目前硬连接到使用 <code class="t">xmessage</code> 在 X 窗口系统显示器上显示警报。
这应该是可配置的，最好能与桌面更好地集成。
</p>
<p><code class="t">calendar_lockfiles</code> 会在等待锁定文件时挂起 shell。 如果从计划任务中调用，则应重新安排导致挂起的事件。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="TCP-_51fd_6570_7cfb_7edf">

<h2 class="chapter" id="TCP-Han-Shu-Xi-Tong-"><span>24 TCP 函数系统<a class="copiable-link" href="#TCP-Han-Shu-Xi-Tong-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-TCP-Han-Shu-Xi-Tong-"></a>
<a class="index-entry-id" id="index-ztcp_002c-Han-Shu-Xi-Tong-Ji-Yu-"></a>

<div class="section-level-extent" id="Shuo-Ming--7">
<h3 class="section"><span>24.1 说明<a class="copiable-link" href="#Shuo-Ming--7"> &para;</a></span></h3>

<p><code class="t">zsh/net/tcp</code> 模块用于在 shell 中通过 TCP/IP 提供网络 I/O；请参阅 <a class="ref" href="#Zsh-_6a21_5757">Zsh 模块</a> 中的描述。
本手册介绍了基于该模块的函数套件。 如果安装了该模块，函数通常也会同时安装，在这种情况下，它们会在默认函数搜索路径中自动加载。 除
<code class="t">zsh/net/tcp</code> 模块外，<code class="t">zsh/zselect</code> 模块还用于实现读取操作的超时。 有关故障排除技巧，请参考 <a class="ref" href="#Zftp-_51fd_6570_7cfb_7edf">Zftp 函数系统</a> 中描述的 <code class="t">zftp</code> 函数的相应建议。
</p>
<p>系统提供了与基本 I/O 操作打开、关闭、读取和发送相对应的函数（名为 <code class="t">tcp_open</code>
等），以及用于对作为输入读取的数据进行模式匹配分析的函数 <code class="t">tcp_expect</code>。 该系统可以轻松地同时从多个命名会话接收数据并向其发送数据。
此外，它还可以与 shell 的行编辑器连接，从而在终端自动显示输入数据。 其他可用设施包括日志记录、过滤和可配置的输出提示符。
</p>
<p>要使用可用的系统，只需 &lsquo;<code class="t">autoload -U tcp_open</code>&rsquo; 并运行 <code class="t">tcp_open</code> 即可启动会话。 <code class="t">tcp_open</code>
函数将自动加载其余函数。
</p>

<hr>
</div>
<div class="section-level-extent" id="TCP-_51fd_6570">

<h3 class="section" id="TCP-Yong-Hu-Han-Shu-"><span>24.2 TCP 用户函数<a class="copiable-link" href="#TCP-Yong-Hu-Han-Shu-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="Ji-Ben-I_002fO">
<h4 class="subsection"><span>24.2.1 基本 I/O<a class="copiable-link" href="#Ji-Ben-I_002fO"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-tcp_005fopen"></a><span><code class="t">tcp_open</code> [ <code class="t">-qz</code> ] <var class="var">host port</var> [ <var class="var">sess</var> ]<a class="copiable-link" href="#index-tcp_005fopen"> &para;</a></span></dt>
<dt><code class="t">tcp_open</code> [ <code class="t">-qz</code> ] [ <code class="t">-s</code> <var class="var">sess</var> | <code class="t">-l</code> <var class="var">sess</var>[<code class="t">,</code>...] ] ...</dt>
<dt><code class="t">tcp_open</code> [ <code class="t">-qz</code> ] [ <code class="t">-a</code> <var class="var">fd</var> | <code class="t">-f</code> <var class="var">fd</var> ] [ <var class="var">sess</var> ]</dt>
<dd><p>打开一个新会话。 最简单的第一种形式是在端口 <var class="var">port</var> 上打开与主机 <var class="var">host</var> 的 TCP 连接；数字和符号形式都可以理解。
</p>
<p>如果给出 <var class="var">sess</var>，它将成为会话的名称，可用于指代多个不同的 TCP 连接。 如果未给出
<var class="var">sess</var>，函数将生成一个数字名称值（注意这和与会话所连接的文件描述符 <em class="emph">不</em> 相同）。 建议会话名称不包含 &lsquo;funny&rsquo; 字符，
funny 字符没有明确定义，但肯定不包含字母数字或下划线，而且肯定包含空白。
</p>
<p>在第二种情况下，需要打开的一个或多个会话可以用名称表示。 在 <code class="t">-s</code> 后给出一个会话名称，在 <code class="t">-l</code>
后给出一个以逗号分隔的列表；这两个选项可根据需要重复多次。 如果无法打开任何会话，<code class="t">tcp_open</code> 就会终止。 主机和端口从
<code class="t">.ztcp_sessions</code> 文件中读取，该文件与用户的 zsh 初始化文件位于同一目录，即通常的主目录，但如果设置了
<code class="t">$ZDOTDIR</code>，也可以从 <code class="t">$ZDOTDIR</code> 中读取。
该文件由几行组成，每行按顺序给出一个会话名称以及相应的主机和端口（注意会话名称在前，而不是在后），中间用空格隔开。
</p>
<p>第三种形式允许被动和假 TCP 连接。 如果使用选项 <code class="t">-a</code>，其参数就是一个用于监听连接的文件描述符。
没有提供打开此类文件描述符的前端函数，但调用  &lsquo;<code class="t">ztcp -l</code> <var class="var">port</var>&rsquo; 将创建一个文件描述符，该文件描述符存储在参数
<code class="t">$REPLY</code> 中。 可以使用 &lsquo;<code class="t">ztcp -c</code> <var class="var">fd</var>&rsquo; 关闭监听端口。 调用 &lsquo;<code class="t">tcp_open -a</code>
<var class="var">fd</var>&rsquo; 将被阻塞，直到本地计算机上的 <var class="var">port</var> 建立了远程 TCP 连接。
此时，会话将以常规方式创建，与使用前两种形式之一创建的活动连接基本没有区别。
</p>
<p>如果使用选项 <code class="t">-f</code>，它的参数就是一个文件描述符，直接使用它就像是 TCP 会话一样。 TCP
函数系统的其他部分能否很好地处理这个问题，取决于这个文件描述符的实际内容。 普通文件可能无法使用；
FIFO（管道）效果会更好，但要注意的是，两个不同的会话试图同时从同一个 FIFO 中读取数据并不是一个好主意。
</p>
<p>如果选项 <code class="t">-q</code> 与三种形式中的任何一种同时给出，<code class="t">tcp_open</code> 将不会打印信息，但无论如何都会以适当的状态退出。
</p>
<p>如果正在使用行编辑器 (zle)，也就是通常的交互式 shell，<code class="t">tcp_open</code> 会在 zle
中安装一个处理程序，在检查键盘输入的同时检查是否有新数据。 这样做很方便，因为 shell 在等待时不会消耗 CPU 时间；测试由操作系统执行。 如果在
<code class="t">tcp_open</code> 的任何形式中添加 <code class="t">-z</code> 选项，则无法安装处理程序，因此必须明确读取数据。
但要注意的是，从函数中执行整套发送和读取命令并不是必须的，因为此时zle并不处于活动状态。 一般来说，只有在 shell 在命令提示符下输入或在
<code class="t">vared</code> 内置命令中时，处理程序才会激活。 如果 zle 未激活，该选项将不起作用；&lsquo;<code class="t">[[ -o zle]]</code>&rsquo; 将对此进行测试。
</p>
<p>第一个打开的会话将成为当前会话，后续调用 <code class="t">tcp_open</code> 不会改变它。 当前会话存储在参数 <code class="t">$TCP_SESS</code>
中；有关系统使用参数的更多详情，请参阅下文。
</p>
<p>如果定义了函数 <code class="t">tcp_on_open</code>，则会在会话打开时调用该函数。 请参阅下面的说明。
</p>
</dd>
<dt><a id="index-tcp_005fclose"></a><span><code class="t">tcp_close</code> [ <code class="t">-qn</code> ] [ <code class="t">-a</code> | <code class="t">-l</code> <var class="var">sess</var>[<code class="t">,</code>...] | <var class="var">sess</var> ... ]<a class="copiable-link" href="#index-tcp_005fclose"> &para;</a></span></dt>
<dd><p>关闭指定的会话，如果没有指定，则关闭当前会话，如果指定了 <code class="t">-a</code>，则关闭所有打开的会话。 为了与 <code class="t">tcp_open</code> 保持一致，<code class="t">-l</code>
和 <code class="t">-s</code> 选项都会被处理，不过后者是多余的。
</p>
<p>如果关闭的会话是当前会话，<code class="t">$TCP_SESS</code> 将被取消设置，即使还有其他会话仍处于打开状态，也不会留下当前会话。
</p>
<p>如果会话是通过 <code class="t">tcp_open -f</code> 打开的，那么只要文件描述符在命令行可直接访问的 0 至 9 范围内，就会被关闭。 如果给出 <code class="t">-n</code>
选项，在这种情况下将不会尝试关闭文件描述符。 <code class="t">-n</code> 选项不用于真正的 <code class="t">ztcp</code> 会话；文件描述符总是与会话一起关闭。
</p>
<p>如果给出选项 <code class="t">-q</code>，则不会打印任何信息。
</p>
<a class="index-entry-id" id="index-tcp_005fread"></a>

</dd>
<dt><code class="t">tcp_read </code>[ <code class="t">-bdq</code> ] [ <code class="t">-t</code> <var class="var">TO</var> ] [ <code class="t">-T</code> <var class="var">TO</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-a</code> | <code class="t">-u</code> <var class="var">fd</var>[<code class="t">,</code>...] | <code class="t">-l</code> <var class="var">sess</var>[<code class="t">,</code>...] | <code class="t">-s</code> <var class="var">sess</var> ... ]</dt>
<dd><p>对当前会话执行读操作，或对会话列表执行读操作（如果使用 <code class="t">-u</code>、<code class="t">-l</code> 或 <code class="t">-s</code>)，或所有打开的会话（如果使用 <code class="t">-a</code>
选项）。 任何 <code class="t">-u</code>、<code class="t">-l</code> 或 <code class="t">-s</code> 选项都可以重复或混合使用。 <code class="t">-u</code>
选项直接指定文件描述符（只有本系统管理的文件描述符才有用），其他两个选项指定会话，如上文 <code class="t">tcp_open</code> 所述。
</p>
<p>该函数会检查列出的所有会话是否有新数据。 除非给出 <code class="t">-b</code> 选项，否则不会阻塞等待新数据的过程。 除非 <code class="t">$TCP_SILENT</code>
包含一个非空字符串，否则将从任何可用会话中读取任何一行数据，并存储在参数 <code class="t">$TCP_LINE</code> 中，然后显示到标准输出中。
打印到标准输出时，字符串 <code class="t">$TCP_PROMPT</code> 将显示在行首；默认形式包括正在读取的会话名称。 有关这些参数的更多信息，请参阅下文。
在这种模式下，可以反复调用 <code class="t">tcp_read</code>，直到返回状态 2（表示已处理完来自所有指定会话的所有待处理输入）为止。
</p>
<p>如果使用选项 <code class="t">-b</code>（相当于无限超时），函数将阻塞，直到从指定会话中读取一行。 不过，只会返回一行。
</p>
<p>选项 <code class="t">-d</code> 表示应排空所有待处理的输入。 在这种情况下，<code class="t">tcp_read</code> 可以按照上述方式处理多行数据；只有最后一行数据会保存在
<code class="t">$TCP_LINE</code> 中，但整组数据集会保存在数组 <code class="t">$tcp_lines</code> 中。 每次调用 <code class="t">tcp_read</code>
开始时，都会清空该数组。
</p>
<p>选项 <code class="t">-t</code> 和 <code class="t">-T</code> 以秒为单位指定超时时间，为提高精确度，可以使用浮点数。 使用 <code class="t">-t</code>，超时将在每次读取行之前应用。 对于
<code class="t">-T</code>，超时适用于整个操作，如果有 <code class="t">-d</code> 选项，则可能包括多个读取操作；如果没有该选项，则 <code class="t">-t</code> 和 <code class="t">-T</code> 没有区别。
</p>
<p>该函数不打印信息，但如果给出选项 <code class="t">-q</code>，则不会为不存在的会话打印错误信息。
</p>
<p>返回状态为 2 表示超时或无数据可读。 任何其他非零返回状态都表示出现错误条件。
</p>
<p>请参阅 <code class="t">tcp_log</code>，了解如何控制 <code class="t">tcp_read</code> 发送数据的位置。
</p>
</dd>
<dt><a id="index-tcp_005fsend"></a><span><code class="t">tcp_send</code> [ <code class="t">-cnq</code> ] [ <code class="t">-s</code> <var class="var">sess</var> | <code class="t">-l</code> <var class="var">sess</var>[<code class="t">,</code>...] ] <var class="var">data</var> ...<a class="copiable-link" href="#index-tcp_005fsend"> &para;</a></span></dt>
<dt><code class="t">tcp_send</code> [ <code class="t">-cnq</code> ] <code class="t">-a</code> <var class="var">data</var> ...</dt>
<dd><p>依次向所有指定会话发送所提供的数据字符串。 其基本操作与向会话的文件描述符发送 &lsquo;<code class="t">print -r</code>&rsquo;
几乎没有什么区别，不过它试图防止因试图向已失效的会话写入数据而导致 <code class="t">SIGPIPE</code> 引起的 shell 死机。
</p>
<p>选项 <code class="t">-c</code> 会使 <code class="t">tcp_send</code> 的行为与 <code class="t">cat</code> 类似。
它会从标准输入读取行，直到输入结束，然后依次将它们发送到指定的会话，就像将 <var class="var">data</var> 作为 <code class="t">tcp_send</code> 命令的参数一样。
</p>
<p>选项 <code class="t">-n</code> 可防止 <code class="t">tcp_send</code> 在数据字符串末尾增加换行。
</p>
<p>其余选项的行为与 <code class="t">tcp_read</code> 相同。
</p>
<p>数据参数传递给 <code class="t">tcp_send</code> 后不会再进一步处理，而是直接传给 <code class="t">print -r</code>。
</p>
<p>如果参数 <code class="t">$TCP_OUTPUT</code> 是一个非空字符串，并且启用了日志记录功能，那么发送到每个会话的数据都将以 <code class="t">$TCP_OUTPUT</code>
的方式回传到日志文件，并酌情在前面加上 <code class="t">$TCP_PROMPT</code>。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Hui-Hua-Guan-Li-">
<h4 class="subsection"><span>24.2.2 会话管理<a class="copiable-link" href="#Hui-Hua-Guan-Li-"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-tcp_005falias"></a><span><code class="t">tcp_alias</code> [ <code class="t">-q</code> ] <var class="var">alias</var><code class="t">=</code><var class="var">sess</var> ...<a class="copiable-link" href="#index-tcp_005falias"> &para;</a></span></dt>
<dt><code class="t">tcp_alias</code> [ <code class="t">-q</code> ] [ <var class="var">alias</var> ... ]</dt>
<dt><code class="t">tcp_alias</code> <code class="t">-d</code> [ <code class="t">-q</code> ] <var class="var">alias</var> ...</dt>
<dd><p>该函数没有经过特别完善的测试。
</p>
<p>第一种形式是为会话名称创建别名；然后可以使用 <var class="var">alias</var> 来引用现有会话 <var class="var">sess</var>。 可以根据需要列出任意多个别名。
</p>
<p>第二种形式列出指定的别名，如果没有，则列出所有别名。
</p>
<p>第三种形式会删除列出的所有别名。 底层会话不受影响。
</p>
<p>选项 <code class="t">-q</code> 会抑制选择不一致的错误信息子集。
</p>
</dd>
<dt><a id="index-tcp_005flog"></a><span><code class="t">tcp_log</code> [ <code class="t">-asc</code> ] [ <code class="t">-n</code> | <code class="t">-N</code> ] [ <var class="var">logfile</var> ]<a class="copiable-link" href="#index-tcp_005flog"> &para;</a></span></dt>
<dd><p>通过参数 <var class="var">logfile</var>，将来所有来自 <code class="t">tcp_read</code> 的输入将被记录到指定文件中。 除非给出
<code class="t">-a</code>（追加），否则该文件将首先被截断或创建为空文件。 在没有参数的情况下，显示日志记录的当前状态。
</p>
<p>使用选项 <code class="t">-s</code>，可启用按会话记录日志功能。 来自 <code class="t">tcp_read</code> 的输入将输出到文件
<var class="var">logfile</var><code class="t">.</code><var class="var">sess</var>。 由于文件名会自动区分会话，因此文件内容是原始的（没有 <code class="t">$TCP_PROMPT</code>）。
选项 <code class="t">-a</code> 的应用同上。 按会话记录日志和在一个文件中记录所有数据并不相互排斥。
</p>
<p>选项 <code class="t">-c</code> 关闭所有日志记录，包括完整日志和每个会话的日志。
</p>
<p>选项 <code class="t">-n</code> 和 <code class="t">-N</code> 分别关闭或恢复 <code class="t">tcp_read</code> 读取的数据输出到标准输出；因此，&lsquo;<code class="t">tcp_log -cn</code>&rsquo; 关闭
<code class="t">tcp_read</code> 的所有输出。
</p>
<p>该函数纯粹是设置参数 <code class="t">$TCP_LOG</code>、<code class="t">$TCP_LOG_SESS</code>、<code class="t">$TCP_SILENT</code>
的便捷前端，下文将对这些参数进行说明。
</p>
</dd>
<dt><a id="index-tcp_005frename"></a><span><code class="t">tcp_rename</code> <var class="var">old</var> <var class="var">new</var><a class="copiable-link" href="#index-tcp_005frename"> &para;</a></span></dt>
<dd><p>将会话 <var class="var">old</var> 重命名为会话 <var class="var">new</var>。 旧名称将失效。
</p>
</dd>
<dt><a id="index-tcp_005fsess"></a><span><code class="t">tcp_sess</code> [ <var class="var">sess</var> [ <var class="var">command</var> [ <var class="var">arg</var> ... ] ] ]<a class="copiable-link" href="#index-tcp_005fsess"> &para;</a></span></dt>
<dd><p>在没有参数的情况下，列出所有打开的会话和相关文件描述符。 当前会话用星号标记。 在函数中使用时，直接访问参数
<code class="t">$tcp_by_name</code>、<code class="t">$tcp_by_fd</code> 和 <code class="t">$TCP_SESS</code> 可能更方便；请参阅下文。
</p>
<p>通过 <var class="var">sess</var> 参数，将当前会话设置为 <var class="var">sess</var>。 这等同于直接更改 <code class="t">$TCP_SESS</code>。
</p>
<p>使用额外的参数，在执行 &lsquo;<var class="var">command</var> <var class="var">arg</var> ...&rsquo; 时，会临时设置会话。 <var class="var">command</var>
会被重新计算，以便扩展别名等，但其余的 <var class="var">arg</var>s 会以 <code class="t">tcp_sess</code> 显示的形式传递。 当 <code class="t">tcp_sess</code>
退出时，将恢复原始会话。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Gao-Ji-I_002fO">
<h4 class="subsection"><span>24.2.3 高级 I/O<a class="copiable-link" href="#Gao-Ji-I_002fO"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-tcp_005fcommand"></a><span><code class="t">tcp_command</code> <var class="var">send-option</var> ... <var class="var">send-argument</var> ...<a class="copiable-link" href="#index-tcp_005fcommand"> &para;</a></span></dt>
<dd><p>这是 <code class="t">tcp_send</code> 的便捷前端。 所有参数传递给 <code class="t">tcp_send</code>，然后函数暂停等待数据。 当数据至少每
<code class="t">$TCP_TIMEOUT</code>（默认值 0.3）秒到达时，将根据当前设置处理并打印数据。 始终返回状态 0 。
</p>
<p>这通常只适用于交互式使用，以防止从连接返回的输出使显示变得支离破碎。 在程序或函数中，通常最好使用更明确的方法来处理读取数据。
</p>
<a class="index-entry-id" id="index-tcp_005fexpect"></a>

</dd>
<dt><code class="t">tcp_expect </code>[ <code class="t">-q</code> ] [ <code class="t">-p</code> <var class="var">var</var> | <code class="t">-P</code> <var class="var">var</var> ] [ <code class="t">-t</code> <var class="var">TO</var> | <code class="t">-T</code> <var class="var">TO</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-a</code> | <code class="t">-s</code> <var class="var">sess</var> | <code class="t">-l</code> <var class="var">sess</var>[<code class="t">,</code>...] ] <var class="var">pattern</var> ...</dt>
<dd><p>等待来自任何指定会话的与给定 <var class="var">pattern</var>s 匹配的输入。 在输入行与给定模式之一匹配之前，输入将被忽略；此时将返回状态
0，匹配的行将存储在 <code class="t">$TCP_LINE</code> 中，调用 <code class="t">tcp_expect</code> 时读取的所有行将存储在数组
<code class="t">$tcp_expect_lines</code> 中。
</p>
<p>会话的指定方式与 <code class="t">tcp_read</code> 相同：默认使用当前会话，否则使用 <code class="t">-a</code>、<code class="t">-s</code> 或 <code class="t">-l</code> 指定的会话。
</p>
<p>每个 <var class="var">pattern</var> 都是一个标准的 zsh 扩展 globbing 模式；注意需要加引号，以避免在生成文件名时被立即展开。
它必须匹配整行，因此要匹配子串，必须在开头和结尾都有一个 &lsquo;<code class="t">*</code>&rsquo; 。 匹配的行包括 <code class="t">tcp_read</code> 添加的
<code class="t">$TCP_PROMPT</code> 。 可以在模式中包含 globbing 标志 &lsquo;<code class="t">#b</code>&rsquo; 或 &lsquo;<code class="t">#m</code>&rsquo; ，以便在参数
<code class="t">$MATCH</code>、<code class="t">$match</code> 等中提供反向引用，具体说明请参见模式匹配的基础 zsh 文档。
</p>
<p>与 <code class="t">tcp_read</code> 不同，<code class="t">tcp_expect</code> 的默认行为是无限阻塞，直到找到所需的输入。 您可以使用 <code class="t">-t</code> 或 <code class="t">-T</code>
指定超时时间；它们的功能与 <code class="t">tcp_read</code> 相同，分别以整数或浮点数指定每次读取或整体超时时间（以秒为单位）。 与 <code class="t">tcp_read</code>
一样，如果超时，函数将返回状态 2。
</p>
<p>只要所给模式中有任何一个匹配，函数就会返回。 如果调用者需要知道哪些模式匹配，可以使用 <code class="t">-p</code> <var class="var">var</var> 选项;返回时，<code class="t">$var</code>
将使用普通的 zsh 索引设置为模式的编号，即第一个为 1，以此类推。 请注意 <var class="var">var</var> 前面没有 &lsquo;<code class="t">$</code>&rsquo; 。 为避免冲突，参数不能以
&lsquo;<code class="t">_expect</code>&rsquo; 开头。 如果出现超时，则使用索引-1，如果没有匹配，则使用索引 0。
</p>
<p>选项 <code class="t">-P</code> <var class="var">var</var> 的工作原理与
<code class="t">-p</code>类似，但正则参数必须以前缀开头，后跟冒号，而不是以数字索引开头：当参数匹配时，前缀会被用作 <var class="var">var</var> 的标记。 如果有超时，则使用
<code class="t">timeout</code> 标记，如果没有匹配，则使用空字符串。 需要注意的是，如果不需要区分不同的匹配，也可以使用以相同前缀开头的参数。
</p>
<p>选项 <code class="t">-q</code> 会直接传给 <code class="t">tcp_read</code>。
</p>
<p>由于所有输入都是通过 <code class="t">tcp_read</code> 完成的，因此所有关于读取行输出的常规规则都适用。 一个例外是，参数 <code class="t">$tcp_lines</code> 只反映
<code class="t">tcp_expect</code> 实际匹配的行；使用 <code class="t">$tcp_expect_lines</code> 可以获得函数调用期间读取的全部行。
</p>
</dd>
<dt><a id="index-tcp_005fproxy"></a><span><code class="t">tcp_proxy</code><a class="copiable-link" href="#index-tcp_005fproxy"> &para;</a></span></dt>
<dd><p>这是一个思想简单的函数，用于接受 TCP 连接并执行命令，同时将 I/O 重定向到该连接。
由于没有任何安全性可言，使用时应格外小心，因为这可能会让你的电脑向全世界敞开大门。 理想情况下，它只能在防火墙后使用。
</p>
<p>第一个参数是函数将监听的 TCP 端口。
</p>
<p>其余参数给出了要执行的命令及其参数，并将标准输入、标准输出和标准错误重定向到接受 TCP 会话的文件描述符。 如果没有给出命令，则会启动一个新的
zsh。 这样，网络上的每个人都可以直接访问你的账户，这在很多情况下是件坏事。
</p>
<p>该命令在后台运行，因此 <code class="t">tcp_proxy</code> 可以接受新的连接。 它会持续接受新连接，直至被中断。
</p>
</dd>
<dt><a id="index-tcp_005fspam"></a><span><code class="t">tcp_spam</code> [ <code class="t">-ertv</code> ] [ <code class="t">-a</code> | <code class="t">-s</code> <var class="var">sess</var> | <code class="t">-l</code> <var class="var">sess</var>[<code class="t">,</code>...] ] <var class="var">cmd</var> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-tcp_005fspam"> &para;</a></span></dt>
<dd><p>依次为每个会话执行 &lsquo;<var class="var">cmd</var> [ <var class="var">arg</var> ... ]&rsquo;。 请注意，这将执行命令和参数；除非给出
<code class="t">-t</code>（transmit）选项，否则不会将命令行作为数据发送。
</p>
<p>会话可以通过标准的 <code class="t">-a</code>、<code class="t">-s</code> 或 <code class="t">-l</code> 选项显式选择，也可以隐式选择。 如果没有给出这三个选项，则规则如下：首先，如果设置了
<code class="t">$tcp_spam_list</code> 数组，则将其作为会话列表，否则将选择所有会话。 其次，<code class="t">$tcp_no_spam_list</code>
数组中的任何会话都将从会话列表中删除。
</p>
<p>通常，通过 &lsquo;<code class="t">-a</code>&rsquo; 标志添加的会话或隐式选择所有会话时，会按字母顺序列出；通过 <code class="t">$tcp_spam_list</code>
数组或命令行给出的会话，会按给出的顺序列出。 如果使用 <code class="t">-r</code> 标志，则会颠倒列出,不管它是如何得到的。
</p>
<p><code class="t">-v</code> 标志指定在每次会话前输出 <code class="t">$TCP_PROMPT</code>。 在用户定义的 <code class="t">tcp_on_spam</code> 函数对 <code class="t">TCP_SESS</code>
进行任何修改后，都会输出该信息。 (显然，该函数能够生成自己的输出）。
</p>
<p>如果存在选项 <code class="t">-e</code>，则使用 <code class="t">eval</code> 执行以 &lsquo;<var class="var">cmd</var> [ <var class="var">arg</var> ... ]&rsquo;
形式给出的行，否则不做任何进一步处理直接执行。
</p>
</dd>
<dt><a id="index-tcp_005ftalk"></a><span><code class="t">tcp_talk</code><a class="copiable-link" href="#index-tcp_005ftalk"> &para;</a></span></dt>
<dd><p>这是一个相当简单的尝试，目的是将输入强制发送到默认的 <code class="t">TCP_SESS</code>。
</p>
<p>转义字符 <code class="t">$TCP_TALK_ESCAPE</code>（默认为 &lsquo;<code class="t">:</code>&rsquo;）用于允许访问正常的 shell 操作。
如果该字符串位于行首，或后面只有空白，行编辑器将返回正常操作。 否则，将跳过该字符串和后面的空白，并将该行的其余部分作为 shell
输入执行，而不改变行编辑器的运行模式。
</p>
<p>在使用命令历史记录方面，当前的实现方式存在一定缺陷。 因此，许多用户倾向于使用某种形式的替代方法，以方便地向当前会话发送数据。
一种简单的方法是将某些特殊字符（如 &lsquo;<code class="t">%</code>&rsquo;）别名为 &lsquo;<code class="t">tcp_command -</code><code class="t">-</code>&rsquo;。
</p>
</dd>
<dt><a id="index-tcp_005fwait"></a><span><code class="t">tcp_wait</code><a class="copiable-link" href="#index-tcp_005fwait"> &para;</a></span></dt>
<dd><p>唯一的参数是一个整数或浮点数，表示延迟的秒数。 在这段时间内，除了通过调用 <code class="t">tcp_read -a</code> 来等待所有 TCP 会话的输入外，shell
不会做任何事情。 这与安装了 zle 处理程序后在命令提示符下的交互行为类似。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="g_t_0060One_002dshot_0027-WenJian-Chuan-Shu-">
<h4 class="subsection"><span>24.2.4 &lsquo;One-shot&rsquo; 文件传输<a class="copiable-link" href="#g_t_0060One_002dshot_0027-WenJian-Chuan-Shu-"> &para;</a></span></h4>
<dl class="table">
<dt><code class="t">tcp_point</code> <var class="var">port</var></dt>
<dt><code class="t">tcp_shoot</code> <var class="var">host</var> <var class="var">port</var></dt>
<dd><p>这对函数提供了在 shell 内两个主机间传输文件的简单方法。 需要注意的是，目前使用 <code class="t">cat</code> 来进行大量数据传输。 <code class="t">tcp_point</code>
读取到达 <var class="var">port</var> 的任何数据，并将其发送到标准输出；<code class="t">tcp_shoot</code> 连接到 <var class="var">host</var> 上的 <var class="var">port</var>
并发送其标准输入。 可以使用任何未使用的 <var class="var">port</var>；选择端口的标准方法是随机想一个高于 1024 的四位数，直到有一个能用为止。
</p>
<p>在 <code class="t">springes</code> 上从主机 <code class="t">woodcock</code> 向主机 <code class="t">springes</code> 传输文件：
</p>
<div class="example">
<pre class="example-preformatted">tcp_point 8091 &gt;output_file
</pre></div>

<p>和 <code class="t">woodcock</code>：
</p>
<div class="example">
<pre class="example-preformatted">tcp_shoot springes 8091 &lt;input_file
</pre></div>

<p>由于这两个函数不需要 <code class="t">tcp_open</code> 先建立 TCP 连接，因此可能需要单独自动加载。
</p>
</dd>
</dl>


</div>
</div>
<div class="section-level-extent" id="TCP-Yong-Hu-Ding-Yi-Han-Shu-">
<h3 class="section"><span>24.3 TCP 用户定义函数<a class="copiable-link" href="#TCP-Yong-Hu-Ding-Yi-Han-Shu-"> &para;</a></span></h3>

<p>如果用户定义了某些函数，函数系统会在某些上下文中调用这些函数。 该功能依赖于 <code class="t">zsh/parameter</code> 模块，通常在交互式 shell
中可用，因为补全系统依赖于它。 这些函数都不需要定义；它们只是在必要时提供方便的钩子。
</p>
<p>通常情况下，这些参数会在请求的操作完成后被调用，这样各种参数就会反映新的状态。
</p>
<dl class="table">
<dt><a id="index-tcp_005fon_005falias"></a><span><code class="t">tcp_on_alias</code> <var class="var">alias</var> <var class="var">fd</var><a class="copiable-link" href="#index-tcp_005fon_005falias"> &para;</a></span></dt>
<dd><p>定义了别名后，调用该函数时将使用两个参数：别名的名称和相应会话的文件描述符。
</p>
</dd>
<dt><a id="index-tcp_005fon_005fawol"></a><span><code class="t">tcp_on_awol</code> <var class="var">sess</var> <var class="var">fd</var><a class="copiable-link" href="#index-tcp_005fon_005fawol"> &para;</a></span></dt>
<dd><p>如果函数 <code class="t">tcp_fd_handler</code>
正在处理来自行编辑器的输入，并检测到文件描述符不再可重复使用，默认情况下会将其从本方法处理的文件描述符列表中删除，并打印一条信息。 如果定义了函数
<code class="t">tcp_on_awol</code>，则会紧接着在这之前调用该函数。 它可能会返回状态
100，表示仍应执行正常的处理；任何其他返回状态都表示不应采取进一步的操作，<code class="t">tcp_fd_handler</code> 应立即以给定的状态返回。
通常情况下，<code class="t">tcp_on_awol</code> 的操作是关闭会话。
</p>
<p>如果需要在从函数打印输出之前使用 &lsquo;<code class="t">zle -I</code>&rsquo; 来使行编辑器显示无效，则变量 <code class="t">TCP_INVALIDATE_ZLE</code>
将是一个非空字符串。
</p>
<p>(&lsquo;AWOL&rsquo; 是军事术语，意为 &lsquo;未经请假而缺勤&rsquo; 或某种变体。 就作者所知，该词并无现成的技术含义）。
</p>
</dd>
<dt><a id="index-tcp_005fon_005fclose"></a><span><code class="t">tcp_on_close</code> <var class="var">sess</var> <var class="var">fd</var><a class="copiable-link" href="#index-tcp_005fon_005fclose"> &para;</a></span></dt>
<dd><p>调用该函数时，需要输入正在关闭的会话名称以及与该会话相对应的文件描述符。 调用该函数时，这两个都将失效。
</p>
</dd>
<dt><a id="index-tcp_005fon_005fopen"></a><span><code class="t">tcp_on_open</code> <var class="var">sess</var> <var class="var">fd</var><a class="copiable-link" href="#index-tcp_005fon_005fopen"> &para;</a></span></dt>
<dd><p>以会话名称和文件描述符为参数定义新会话后调用。 如果返回非零状态，则假定会话打开失败，并再次关闭会话；但 <code class="t">tcp_open</code>
会继续尝试打开命令行中指定的其他会话。
</p>
</dd>
<dt><a id="index-tcp_005fon_005frename"></a><span><code class="t">tcp_on_rename</code> <var class="var">oldsess</var> <var class="var">fd</var> <var class="var">newsess</var><a class="copiable-link" href="#index-tcp_005fon_005frename"> &para;</a></span></dt>
<dd><p>会话重命名后会调用该函数，参数包括旧会话名称、文件描述符和新会话名称。
</p>
</dd>
<dt><a id="index-tcp_005fon_005fspam"></a><span><code class="t">tcp_on_spam</code> <var class="var">sess</var> <var class="var">command ...</var><a class="copiable-link" href="#index-tcp_005fon_005fspam"> &para;</a></span></dt>
<dd><p>每个会话都会被调用一次,在 <code class="t">tcp_spam</code> 为会话执行命令之前。 参数包括会话名称和要执行的命令列表。 如果 <code class="t">tcp_spam</code>
在调用时使用了选项 <code class="t">-t</code>，则第一个命令将是 <code class="t">tcp_send</code>。
</p>
<p>该函数在 <code class="t">$TCP_SESS</code> 设置以反应要发送的会话后，但在使用该会话之前被调用。 因此，可以在此函数中更改 <code class="t">$TCP_SESS</code> 的值。
例如，<code class="t">tcp_spam</code> 的会话参数可以包含额外信息，并在 <code class="t">tcp_on_spam</code> 中进行剥离和处理。
</p>
<p>如果函数将参数 <code class="t">$REPLY</code> 设置为 &lsquo;<code class="t">done</code>&rsquo;，则不执行命令行；此外，对于 <code class="t">tcp_spam</code> 的 <code class="t">-v</code>
选项，也不打印提示符。
</p>
</dd>
<dt><a id="index-tcp_005fon_005funalias"></a><span><code class="t">tcp_on_unalias</code> <var class="var">alias</var> <var class="var">fd</var><a class="copiable-link" href="#index-tcp_005fon_005funalias"> &para;</a></span></dt>
<dd><p>在删除别名后，会使用别名的名称和相应会话的文件描述符调用该函数。
</p>
</dd>
</dl>


</div>
<div class="section-level-extent" id="TCP-Shi-Yong-Han-Shu-">
<h3 class="section"><span>24.4 TCP 实用函数<a class="copiable-link" href="#TCP-Shi-Yong-Han-Shu-"> &para;</a></span></h3>

<p>TCP 函数系统使用以下函数，但很少需要直接调用。
</p>
<dl class="table">
<dt><a id="index-tcp_005ffd_005fhandler"></a><span><code class="t">tcp_fd_handler</code><a class="copiable-link" href="#index-tcp_005ffd_005fhandler"> &para;</a></span></dt>
<dd><p>这是 <code class="t">tcp_open</code> 安装的函数，用于处理来自行编辑器的输入（如果需要）。 其格式与 <a class="ref" href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a> 中的内置命令
&lsquo;<code class="t">zle -F</code>&rsquo; 相同。
</p>
<p>当处于激活状态时，函数会将参数 <code class="t">TCP_HANDLER_ACTIVE</code> 设为 1，从而允许内部调用的 shell 代码（例如，通过设置
<code class="t">tcp_on_read</code>）在编辑器提示符下处于空闲状态时判断是否被调用。
</p>
</dd>
<dt><a id="index-tcp_005foutput"></a><span><code class="t">tcp_output</code> [ <code class="t">-q</code> ] <code class="t">-P</code> <var class="var">prompt</var> <code class="t">-F</code> <var class="var">fd</var> <code class="t">-S</code> <var class="var">sess</var><a class="copiable-link" href="#index-tcp_005foutput"> &para;</a></span></dt>
<dd><p>该函数用于在 <code class="t">tcp_read</code> 和（如果设置了 <code class="t">$TCP_OUTPUT</code>）<code class="t">tcp_send</code> 中记录日志和处理到达标准输出的输出。
</p>
<p>要使用的 <var class="var">prompt</var> 由 <code class="t">-P</code> 指定；默认为空字符串。 它可以包含:
</p><dl class="table">
<dt><code class="t">%c</code></dt>
<dd><p>如果会话是当前会话，则扩展为 1，否则为 0。与三元表达式（如 &lsquo;<code class="t">%(c.-.+)</code>&rsquo; ）一起使用时，为当前会话输出 &lsquo;<code class="t">+</code>&rsquo; ，否则输出
&lsquo;<code class="t">-</code>&rsquo; 。
</p>
</dd>
<dt><code class="t">%f</code></dt>
<dd><p>由会话的文件描述符代替。
</p>
</dd>
<dt><code class="t">%s</code></dt>
<dd><p>用会话名称代替。
</p>
</dd>
<dt><code class="t">%%</code></dt>
<dd><p>由单个 &lsquo;<code class="t">%</code>&rsquo; 代替。
</p>
</dd>
</dl>

<p>选项 <code class="t">-q</code> 会抑制输出到标准输出，但不会抑制输出到任何已配置的日志文件。
</p>
<p><code class="t">-S</code> 和 <code class="t">-F</code> 选项用于传递会话名称和文件描述符，以便在提示符中进行替换。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="TCP-_53c2_6570">

<h3 class="section" id="TCP-Yong-Hu-Can-Shu-"><span>24.5 TCP 用户参数<a class="copiable-link" href="#TCP-Yong-Hu-Can-Shu-"> &para;</a></span></h3>

<p>参数遵循通常的惯例，即标量和整数使用大写，普通数组和关联数组使用小写。 用户代码可以安全地读取这些参数。 有些参数也可以设置；这些参数已明确注明。
其他参数包括在这一组中，因为它们是由函数系统为了用户的利益而设置的，也就是说，设置它们通常没有什么用处，但却是无害的。
</p>
<p>将可设置参数设置为函数的局部参数通常也很有用。 例如， &lsquo;<code class="t">local TCP_SILENT=1</code>&rsquo;
指定在函数调用期间读取的数据不会打印到标准输出，与函数外部的设置无关。 同样，&lsquo;<code class="t">local TCP_SESS=</code><var class="var">sess</var>&rsquo;
为函数的持续时间设置会话，而 &lsquo;<code class="t">local TCP_PROMPT=</code>&rsquo; 则指定在函数期间不使用提示符输入。
</p>
<dl class="table">
<dt><a id="index-tcp_005fexpect_005flines"></a><span><code class="t">tcp_expect_lines</code><a class="copiable-link" href="#index-tcp_005fexpect_005flines"> &para;</a></span></dt>
<dd><p>数组。 上次调用 <code class="t">tcp_expect</code> 时读取的行集合，包括最后的行（<code class="t">$TCP_LINE</code>）。
</p>
</dd>
<dt><a id="index-tcp_005ffilter"></a><span><code class="t">tcp_filter</code><a class="copiable-link" href="#index-tcp_005ffilter"> &para;</a></span></dt>
<dd><p>数组。可直接设置。 一组扩展的 globbing 模式，如果与 <code class="t">tcp_output</code> 中的模式匹配，将导致该行不被打印到标准输出。
这些模式的定义应与 <code class="t">tcp_expect</code> 的参数相同。 向日志文件输出行不受影响。
</p>
</dd>
<dt><a id="index-TCP_005fHANDLER_005fACTIVE"></a><span><code class="t">TCP_HANDLER_ACTIVE</code><a class="copiable-link" href="#index-TCP_005fHANDLER_005fACTIVE"> &para;</a></span></dt>
<dd><p>标量。 在 <code class="t">tcp_fd_handler</code> 中设置为 1，以向递归调用的函数表明它们已在编辑器会话中被调用。 否则不设置。
</p>
</dd>
<dt><a id="index-TCP_005fLINE"></a><span><code class="t">TCP_LINE</code><a class="copiable-link" href="#index-TCP_005fLINE"> &para;</a></span></dt>
<dd><p><code class="t">tcp_read</code> 读取的最后一行，因此也是 <code class="t">tcp_expect</code> 。
</p>
</dd>
<dt><a id="index-TCP_005fLINE_005fFD"></a><span><code class="t">TCP_LINE_FD</code><a class="copiable-link" href="#index-TCP_005fLINE_005fFD"> &para;</a></span></dt>
<dd><p><code class="t">$TCP_LINE</code> 读取的文件描述符。 <code class="t">${tcp_by_fd[$TCP_LINE_FD]}</code> 将给出相应的会话名称。
</p>
</dd>
<dt><a id="index-tcp_005flines"></a><span><code class="t">tcp_lines</code><a class="copiable-link" href="#index-tcp_005flines"> &para;</a></span></dt>
<dd><p>数组。最后一次调用 <code class="t">tcp_read</code> 时读取的行的集合，包括最后一次调用（<code class="t">$TCP_LINE</code>）。
</p>
</dd>
<dt><a id="index-TCP_005fLOG"></a><span><code class="t">TCP_LOG</code><a class="copiable-link" href="#index-TCP_005fLOG"> &para;</a></span></dt>
<dd><p>可以直接设置，但也受 <code class="t">tcp_log</code> 控制。 所有会话的输出将要发送到的文件名。 输出将以通常的 <code class="t">$TCP_PROMPT</code> 方式进行。
如果不是绝对路径名，则将遵循用户的当前目录。
</p>
</dd>
<dt><a id="index-TCP_005fLOG_005fSESS"></a><span><code class="t">TCP_LOG_SESS</code><a class="copiable-link" href="#index-TCP_005fLOG_005fSESS"> &para;</a></span></dt>
<dd><p>可以直接设置，但也受 <code class="t">tcp_log</code> 控制。 一组文件的前缀，每个会话的输出将分别发送到这些文件；完整的文件名是
<code class="t">${TCP_LOG_SESS}.</code><var class="var">sess</var>。 每个文件的输出都是原始的，不会添加提示符。
如果不是绝对路径名，则将遵循用户的当前目录。
</p>
</dd>
<dt><a id="index-tcp_005fno_005fspam_005flist"></a><span><code class="t">tcp_no_spam_list</code><a class="copiable-link" href="#index-tcp_005fno_005fspam_005flist"> &para;</a></span></dt>
<dd><p>数组。 可直接设置。 有关使用方法，请参见 <code class="t">tcp_spam</code>。
</p>
</dd>
<dt><a id="index-TCP_005fOUTPUT"></a><span><code class="t">TCP_OUTPUT</code><a class="copiable-link" href="#index-TCP_005fOUTPUT"> &para;</a></span></dt>
<dd><p>可直接设置。 如果是非空字符串，则会记录 <code class="t">tcp_send</code> 发送到会话的任何数据。 此参数给出的提示符将用于 <code class="t">$TCP_LOG</code>
指定的文件，但不用于 <code class="t">$TCP_LOG_SESS</code> 生成的文件。 提示符字符串的格式与 <code class="t">TCP_PROMPT</code> 相同，使用规则也相同。
</p>
</dd>
<dt><a id="index-TCP_005fPROMPT"></a><span><code class="t">TCP_PROMPT</code><a class="copiable-link" href="#index-TCP_005fPROMPT"> &para;</a></span></dt>
<dd><p>可直接设置。 作为 <code class="t">tcp_read</code> 读取数据的前缀，这些数据会被打印到标准输出或 <code class="t">$TCP_LOG</code> 指定的日志文件（如果有）。
字符串中出现的&lsquo;<code class="t">%s</code>&rsquo;, &lsquo;<code class="t">%f</code>&rsquo; 或 &lsquo;<code class="t">%%</code>&rsquo; 将分别被会话名称、会话的底层文件描述符或单个 &lsquo;<code class="t">%</code>&rsquo; 替换。
如果读取的会话是当前会话，表达式  &lsquo;<code class="t">%c</code>&rsquo; 将扩展为 1，否则为 0；这在三元表达式中最有用，例如 &lsquo;<code class="t">%(c.-.+)</code>&rsquo;
，如果会话是当前会话，则输出 &lsquo;<code class="t">+</code>&rsquo; ，否则输出 &lsquo;<code class="t">-</code>&rsquo;。
</p>
<p>如果提示符以 <code class="t">%P</code> 开头，则会将其删除，并在输出前将前一阶段的完整结果通过标准提示符 <code class="t">%</code> 样式的格式进行处理。
</p>
</dd>
<dt><a id="index-TCP_005fREAD_005fDEBUG"></a><span><code class="t">TCP_READ_DEBUG</code><a class="copiable-link" href="#index-TCP_005fREAD_005fDEBUG"> &para;</a></span></dt>
<dd><p>可直接设置。 如果长度不为零，<code class="t">tcp_read</code> 将对读取的数据进行有限的诊断。
</p>
</dd>
<dt><a id="index-TCP_005fSECONDS_005fSTART"></a><span><code class="t">TCP_SECONDS_START</code><a class="copiable-link" href="#index-TCP_005fSECONDS_005fSTART"> &para;</a></span></dt>
<dd><p>该值由 tcp_open 创建并初始化为 0。
</p>
<p>函数 <code class="t">tcp_read</code> 和 <code class="t">tcp_expect</code> 会使用 shell 的 <code class="t">SECONDS</code> 参数来实现自己的定(计)时目的。
如果在进入其中一个函数时该参数不是浮点类型，则会创建一个浮点的本地参数 <code class="t">SECONDS</code>，并将参数 <code class="t">TCP_SECONDS_START</code>
设置为 <code class="t">$SECONDS</code> 之前的值。 如果参数已经是浮点数，则无需创建本地副本即可使用，也不会设置 <code class="t">TCP_SECONDS_START</code>。
由于全局值为零，因此可以保证 shell 的运行时间是 <code class="t">$SECONDS</code> 和 <code class="t">$TCP_SECONDS_START</code> 的总和。
</p>
<p>使用 &lsquo;<code class="t">typeset -F SECONDS</code>&rsquo; 将 <code class="t">SECONDS</code> 全局设置为浮点数，就可以避免这种情况；这样 TCP
函数就不会创建本地副本，也不会将 <code class="t">TCP_SECONDS_START</code> 设置为非零值。
</p>
</dd>
<dt><a id="index-TCP_005fSESS"></a><span><code class="t">TCP_SESS</code><a class="copiable-link" href="#index-TCP_005fSESS"> &para;</a></span></dt>
<dd><p>可直接设置。 当前会话；必须是 <code class="t">tcp_open</code> 建立的会话之一。
</p>
</dd>
<dt><a id="index-TCP_005fSILENT"></a><span><code class="t">TCP_SILENT</code><a class="copiable-link" href="#index-TCP_005fSILENT"> &para;</a></span></dt>
<dd><p>可以直接设置，但也受 <code class="t">tcp_log</code> 控制。 如果长度不为零，<code class="t">tcp_read</code> 读取的数据将不会写入标准输出，但仍有可能写入日志文件。
</p>
</dd>
<dt><a id="index-tcp_005fspam_005flist"></a><span><code class="t">tcp_spam_list</code><a class="copiable-link" href="#index-tcp_005fspam_005flist"> &para;</a></span></dt>
<dd><p>数组。 可直接设置。 具体用法请参见函数 <code class="t">tcp_spam</code> 的描述。
</p>
</dd>
<dt><a id="index-TCP_005fTALK_005fESCAPE"></a><span><code class="t">TCP_TALK_ESCAPE</code><a class="copiable-link" href="#index-TCP_005fTALK_005fESCAPE"> &para;</a></span></dt>
<dd><p>可直接设置。 使用方法请参阅函数 <code class="t">tcp_talk</code> 的说明。
</p>
</dd>
<dt><a id="index-TCP_005fTIMEOUT"></a><span><code class="t">TCP_TIMEOUT</code><a class="copiable-link" href="#index-TCP_005fTIMEOUT"> &para;</a></span></dt>
<dd><p>可直接设置。 目前只有 <code class="t">tcp_command</code> 函数会使用它，见上文。
</p>
</dd>
</dl>


</div>
<div class="section-level-extent" id="TCP-Yong-Hu-Ding-Yi-Can-Shu-">
<h3 class="section"><span>24.6 TCP 用户定义参数<a class="copiable-link" href="#TCP-Yong-Hu-Ding-Yi-Can-Shu-"> &para;</a></span></h3>

<p>以下参数不是由函数系统设置，但如果由用户设置，则会产生特殊效果。
</p>
<dl class="table">
<dt><a id="index-tcp_005fon_005fread"></a><span><code class="t">tcp_on_read</code><a class="copiable-link" href="#index-tcp_005fon_005fread"> &para;</a></span></dt>
<dd><p>这应该是一个关联数组；如果不是，则行为未定义。 每个键都是 shell 函数或其他命令的名称，相应的值是 shell 模式（使用
<code class="t">EXTENDED_GLOB</code>）。 直接或间接使用 <code class="t">tcp_read</code> 从 TCP 会话读取的每一行（包括通过 <code class="t">tcp_expect</code>
读取的行）都会与模式进行比较。 如果匹配，则调用关键字中给出的命令，命令包含两个参数：读取该行的会话名称和该行本身。
</p>
<p>如果为处理某一行而调用的函数返回非零状态，则不输出该行。 因此，只包含指令 &lsquo;<code class="t">return 1</code>&rsquo; 的 <code class="t">tcp_on_read</code>
处理程序可以用来抑制特定行的输出（参见上文的 <code class="t">tcp_filter</code>）。 不过，该行仍会存储在 <code class="t">TCP_LINE</code> 和
<code class="t">tcp_lines</code> 中；这发生在所有 <code class="t">tcp_on_read</code> 处理之后。
</p>
</dd>
</dl>


</div>
<div class="section-level-extent" id="TCP-Shi-Yong-Can-Shu-">
<h3 class="section"><span>24.7 TCP 实用参数<a class="copiable-link" href="#TCP-Shi-Yong-Can-Shu-"> &para;</a></span></h3>

<p>这些参数由函数系统控制；可以直接读取，但通常不应由用户代码设置。
</p>
<dl class="table">
<dt><a id="index-tcp_005faliases"></a><span><code class="t">tcp_aliases</code><a class="copiable-link" href="#index-tcp_005faliases"> &para;</a></span></dt>
<dd><p>关联数组。 键是使用 <code class="t">tcp_open</code> 建立的会话名称；每个值是以空格分隔的别名列表，引用了该会话。
</p>
</dd>
<dt><a id="index-tcp_005fby_005ffd"></a><span><code class="t">tcp_by_fd</code><a class="copiable-link" href="#index-tcp_005fby_005ffd"> &para;</a></span></dt>
<dd><p>关联数组。 键是会话文件描述符；每个值是该会话的名称。
</p>
</dd>
<dt><a id="index-tcp_005fby_005fname"></a><span><code class="t">tcp_by_name</code><a class="copiable-link" href="#index-tcp_005fby_005fname"> &para;</a></span></dt>
<dd><p>关联数组。 键是会话的名称，每个值是与该会话相关的文件描述符。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="TCP-_793a_4f8b">

<h3 class="section" id="TCP-ShiLi"><span>24.8 TCP 示例<a class="copiable-link" href="#TCP-ShiLi"> &para;</a></span></h3>

<p>下面是一个使用远程计算器的微不足道的例子。
</p>
<p>在 7337 端口创建计算器服务器（请参阅 <code class="t">dc</code> 手册页面，了解底层命令有多令人恼火）：
</p>
<div class="example">
<pre class="example-preformatted">tcp_proxy 7337 dc
</pre></div>

<p>从同一主机连接到同样名为 &lsquo;<code class="t">dc</code>&rsquo; 的会话：
</p>
<div class="example">
<pre class="example-preformatted">tcp_open localhost 7337 dc
</pre></div>

<p>向远程会话发送命令并稍候输出（假设 <code class="t">dc</code> 是当前会话）：
</p>
<div class="example">
<pre class="example-preformatted">tcp_command 2 4 + p
</pre></div>

<p>要关闭会话：
</p>
<div class="example">
<pre class="example-preformatted">tcp_close
</pre></div>

<p><code class="t">tcp_proxy</code> 需要被删除才能停止。 请注意，这通常不会删除任何已接受的连接，而且端口也不会立即被重用。
</p>
<p>下面的代码会将会话列表放入 xterm 头中，当前会话后面跟一个星号。
</p>
<div class="example">
<pre class="example-preformatted">print -n &quot;\033]2;TCP:&quot; ${(k)tcp_by_name:/$TCP_SESS/$TCP_SESS\*} &quot;\a&quot;
</pre></div>

<hr>
</div>
<div class="section-level-extent" id="TCP-_95ee_9898">

<h3 class="section" id="TCP-Wen-Ti-"><span>24.9 TCP 问题<a class="copiable-link" href="#TCP-Wen-Ti-"> &para;</a></span></h3>

<p>函数 <code class="t">tcp_read</code> 使用 shell 的常规 <code class="t">read</code> 内置函数。
由于该函数一次读取一整行的数据，如果数据到达时没有换行结束符，就会导致函数无限阻塞。
</p>
<p>虽然该函数套件在交互式使用和传输少量数据时运行良好，但在交换大量数据时，其性能可能极差。
</p><hr>
</div>
</div>
<div class="chapter-level-extent" id="Zftp-_51fd_6570_7cfb_7edf">

<h2 class="chapter" id="Zftp-Han-Shu-Xi-Tong-"><span>25 Zftp 函数系统<a class="copiable-link" href="#Zftp-Han-Shu-Xi-Tong-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-zftp-Han-Shu-Xi-Tong-"></a>
<a class="index-entry-id" id="index-FTP_002cShi-Yong-shell-Zuo-Wei-Ke-Hu-Duan-De-Han-Shu-"></a>

<div class="section-level-extent" id="Shuo-Ming--8">
<h3 class="section"><span>25.1 说明<a class="copiable-link" href="#Shuo-Ming--8"> &para;</a></span></h3>

<p>这里介绍的是随源码发行版提供的一组 shell 函数，它们是 <code class="t">zftp</code> 内置命令的接口，允许你在 shell 命令行或函数或脚本中执行 FTP
操作。 该界面类似于传统的 FTP 客户端（例如 <code class="t">ftp</code> 命令本身，参见 ftp(1)），但由于它完全是在 shell
中完成的，因此所有熟悉的补全、编辑和 globbing 功能等都一应俱全，宏的编写也特别简单，因为它们只是普通的 shell 函数。
</p>
<p>前提条件是 <code class="t">zftp</code> 命令（如 <a class="ref" href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a> 中所述）必须在您站点上安装的 <code class="t">zsh</code> 版本中可用。 如果 shell
被配置为在运行时加载新命令，那么它很可能是可用的：键入  &lsquo;<code class="t">zmodload zsh/zftp</code>&rsquo;
将确保这一点（如果运行时没有提示，则说明已经成功）。 如果不是这种情况，则有可能 <code class="t">zftp</code> 已经链接到 shell 中：要测试这一点，请键入
&lsquo;<code class="t">which zftp</code>&rsquo; ，如果 <code class="t">zftp</code> 可用，您将收到 &lsquo;<code class="t">zftp: shell built-in command</code>&rsquo;
的信息。
</p>
<p>直接使用 <code class="t">zftp</code> 内建的命令可能会穿插在本套件的函数之间；在少数情况下，直接使用 <code class="t">zftp</code> 可能会导致存储在 shell
参数中的某些状态信息失效。 请特别注意<code class="t">zftp</code> 的变量 <code class="t">$ZFTP_TMOUT</code>、<code class="t">$ZFTP_PREFS</code> 和
<code class="t">$ZFTP_VERBOSE</code> 的描述。
</p>

<hr>
</div>
<div class="section-level-extent" id="g_t_5b89_88c5">

<h3 class="section" id="An-Zhuang-"><span>25.2 安装<a class="copiable-link" href="#An-Zhuang-"> &para;</a></span></h3>

<p>您应确保源代码发行版 <code class="t">Functions/Zftp</code> 目录中的所有函数都可用；它们都以两个字母 &lsquo;<code class="t">zf</code>&rsquo; 开头。
它们可能已经安装在你的系统中；否则，你需要找到并复制它们。 目录应作为 <code class="t">$fpath</code>
数组的元素之一出现（如果已经安装，则应如此），并且至少应自动加载 <code class="t">zfinit</code> 函数；它将自动加载其他函数。 最后，要初始化系统的使用，需要调用
<code class="t">zfinit</code> 函数。<code class="t">.zshrc</code> 中的以下代码将为此做出安排；假定函数存储在 <code class="t">~/myfns</code> 目录中：
</p>
<div class="example">
<pre class="example-preformatted">fpath=(~/myfns $fpath)
autoload -U zfinit
zfinit
</pre></div>

<p>需要注意的是，<code class="t">zfinit</code> 假设你正在使用 <code class="t">zmodload</code> 方法加载 <code class="t">zftp</code> 命令。 如果 shell 已内置该命令，请将
<code class="t">zfinit</code> 改为 <code class="t">zfinit -n</code>。 如果在任何初始化新补全系统的代码之后调用 <code class="t">zfinit</code>
，则会有所帮助（但并非必要），否则会给出不必要的 <code class="t">compctl</code> 命令。
</p>
<hr>
</div>
<div class="section-level-extent" id="Zftp-_51fd_6570">

<h3 class="section" id="Han-Shu--3"><span>25.3 函数<a class="copiable-link" href="#Han-Shu--3"> &para;</a></span></h3>

<p>执行文件传输的操作顺序与标准 FTP 客户端的操作顺序基本相同。 需要注意的是，由于 shell 的 <code class="t">getopts</code>
内置函数的特殊性，对于那些处理选项的函数，必须使用 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 而不是 &lsquo;<code class="t">-</code>&rsquo;
，以确保剩余的参数按字面意思处理（单个&lsquo;<code class="t">-</code>&rsquo; 被视为一个参数）。
</p>

<div class="subsection-level-extent" id="Da-Kai-Lian-Jie-">
<h4 class="subsection"><span>25.3.1 打开连接<a class="copiable-link" href="#Da-Kai-Lian-Jie-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-zfparams"></a><span><code class="t">zfparams</code> [ <var class="var">host</var> [ <var class="var">user</var> [ <var class="var">password</var> ... ] ] ]<a class="copiable-link" href="#index-zfparams"> &para;</a></span></dt>
<dd><p>设置或显示未来 <code class="t">zfopen</code> 的参数，不带实参。 如果未给出实参，则显示当前参数（密码将显示为一行星号）。 如果给定了
<var class="var">host</var>，但未给定 <var class="var">user</var> 或 <var class="var">password</var>，则会提示输入这两个参数；此外，以 &lsquo;<code class="t">?</code>&rsquo;
形式给定的任何参数都会被提示输入，如果 &lsquo;<code class="t">?</code>&rsquo; 后面跟了一个字符串，则该字符串将被用作提示符。 由于 <code class="t">zfopen</code> 会调用
<code class="t">zfparams</code> 来存储参数，因此通常不需要直接调用它。
</p>
<p>单个参数 &lsquo;<code class="t">-</code>&rsquo; 将删除存储的参数。 这也会导致删除另一台主机上最后一个目录的记忆（以此类推）。
</p>
</dd>
<dt><a id="index-zfopen"></a><span><code class="t">zfopen</code> [ <code class="t">-1</code> ] [ <var class="var">host</var> [ <var class="var">user</var> [ <var class="var">password</var> [ <var class="var">account</var> ] ] ] ]<a class="copiable-link" href="#index-zfopen"> &para;</a></span></dt>
<dd><p>如果存在 <var class="var">host</var>，则以用户名 <var class="var">user</var> 和密码 <var class="var">password</var>（以及在极少数必要情况下的账户
<var class="var">account</var>）打开与该主机的连接。 如果缺少必要的参数或参数为 &lsquo;<code class="t">?</code>&rsquo;，系统将提示输入。 如果 <var class="var">host</var>
不存在，则使用以前存储的参数集。
</p>
<p>如果命令成功执行，且终端与 <code class="t">xterm</code> 兼容或为 <code class="t">sun-cmd</code>，标题栏中将显示摘要，给定本地 <code class="t">host:directory</code>
和远程 <code class="t">host:directory</code>；这由 <code class="t">zftp_chpwd</code> 函数处理，详情如下。
</p>
<p>通常，内部会记录 <var class="var">host</var>、<var class="var">user</var> 和 <var class="var">password</var>，以便日后通过不带参数的 <code class="t">zfopen</code>
或自动（见下文）重新打开。 如果使用选项 &lsquo;<code class="t">-1</code>&rsquo;，则不会存储任何信息。
此外，如果带参数的打开命令失败，参数将不会被保留（之前的参数也将被删除）。 <code class="t">zfopen</code> 本身或 <code class="t">zfopen
-1</code>，都不会更改存储的参数。
</p>
<p><code class="t">zfopen</code> 和 <code class="t">zffanon</code>（但不包括 <code class="t">zfparams</code>）都能将
<code class="t">ftp://</code><var class="var">host</var>/<var class="var">path...</var> 形式的 URL 理解为连接到 <var class="var">host</var>，然后将目录更改为
<var class="var">path</var>（必须是目录，而非文件）。 &lsquo;<code class="t">ftp://</code>&rsquo; 可以省略；尾部的 &lsquo;<code class="t">/</code>&rsquo; 足以触发对 <var class="var">path</var> 的识别。
需要注意的是， &lsquo;<code class="t">ftp:</code>&rsquo; 以外的前缀不会被识别，而且 <var class="var">host</var> 以外第一个斜线后的所有字符在 <var class="var">path</var> 中都有意义。
</p>
</dd>
<dt><a id="index-zfanon"></a><span><code class="t">zfanon</code> [ <code class="t">-1</code> ] <var class="var">host</var><a class="copiable-link" href="#index-zfanon"> &para;</a></span></dt>
<dd><p>为匿名 FTP 打开 <var class="var">host</var> 连接。 使用的用户名为 &lsquo;<code class="t">anonymous</code>&rsquo;。 密码（将在第一次报告）生成为
<var class="var">user</var><code class="t">@</code><var class="var">host</var>；然后存储在 shell 参数 <code class="t">$EMAIL_ADDR</code> 中，也可手动设置为合适的字符串。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Mu-Lu-Guan-Li-">
<h4 class="subsection"><span>25.3.2 目录管理<a class="copiable-link" href="#Mu-Lu-Guan-Li-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-zfcd"></a><span><code class="t">zfcd</code> [ <var class="var">dir</var> ]<a class="copiable-link" href="#index-zfcd"> &para;</a></span></dt>
<dt><code class="t">zfcd -</code></dt>
<dt><code class="t">zfcd</code> <var class="var">old</var> <var class="var">new</var></dt>
<dd><p>更改远程服务器上的当前目录：该功能具有 shell 内置 <code class="t">cd</code> 的许多功能。
</p>
<p>在存在 <var class="var">dir</var> 的第一种形式中，更改为 <var class="var">dir</var> 目录。 命令 &lsquo;<code class="t">zfcd ..</code>&rsquo; 会被特殊处理，因此保证能在非 UNIX
服务器上运行（注意这将由 <code class="t">zftp</code> 内部处理）。 如果省略 <var class="var">dir</var>，则效果与 &lsquo;<code class="t">zfcd ~</code>&rsquo; 相同。
</p>
<p>第二个形式会更改为之前的当前目录。
</p>
<p>第三种形式是尝试用 <var class="var">new</var> 替换当前目录中第一个出现的 <var class="var">old</var> 字符串，从而更改当前目录。
</p>
<p>请注意，在这条命令中，以及在任何需要远程文件名的地方，本地主机上对应于 &lsquo;<code class="t">~</code>&rsquo; 的字符串在传给远程机器之前都会被转换回 &lsquo;<code class="t">~</code>&rsquo;。
这样做很方便，因为在 <code class="t">zfcd</code> 接收字符串之前，会在命令行上执行扩展。 例如，假设命令是 &lsquo;<code class="t">zfcd ~/foo</code>&rsquo;。 shell
会将其扩展为完整路径，如 &lsquo;<code class="t">zfcd /home/user2/pws/foo</code>&rsquo;。 在此阶段，<code class="t">zfcd</code> 会将识别初始路径为对应于
&lsquo;<code class="t">~</code>&rsquo; ，并将目录以 <code class="t">~/foo</code> 的形式发送到远程主机，这样服务器就会将 &lsquo;<code class="t">~</code>&rsquo; 扩展为正确的远程主机目录。 其他形式为
&lsquo;<code class="t">~name</code>&rsquo; 的命名目录不按此方式处理。
</p>
</dd>
<dt><a id="index-zfhere"></a><span><code class="t">zfhere</code><a class="copiable-link" href="#index-zfhere"> &para;</a></span></dt>
<dd><p>将远程服务器上的目录更改为与当前本地目录相对应的目录，并对&lsquo;<code class="t">~</code>&rsquo; 进行特殊处理，就像在 zfcd 命令中一样。 例如，如果当前的本地目录是
<code class="t">~/foo/bar</code>，那么 <code class="t">zfhere</code> 就会执行 &lsquo;<code class="t">zfcd ~/foo/bar</code>&rsquo; 的效果。
</p>
</dd>
<dt><a id="index-zfdir"></a><span><code class="t">zfdir</code> [ <code class="t">-rfd</code> ] [ <code class="t">-</code> ] [ <var class="var">dir-options</var> ] [ <var class="var">dir</var> ]<a class="copiable-link" href="#index-zfdir"> &para;</a></span></dt>
<dd><p>生成长目录列表。 参数 <var class="var">dir-options</var> 和 <var class="var">dir</var> 直接传递给服务器，其效果取决于实现，但通常可以指定特定的远程目录
<var class="var">dir</var>。 输出通过环境变量 <code class="t">$PAGER</code> 指定的分页器传递，如果未设置环境变量，则通过 &lsquo;<code class="t">more</code>&rsquo; 传递。
</p>
<p>目录通常被缓存起来，以便重复使用。 事实上，会维护两个缓存。 一个是在没有 <var class="var">dir-options</var> 或 <var class="var">dir</var>
时使用的缓存，即当前远程目录的完整列表；当当前远程目录发生变化时，缓存会被刷新。 另一个缓存用于重复使用相同参数的 <code class="t">zfdir</code>；例如，重复使用
&lsquo;<code class="t">zfdir /pub/gnu</code>&rsquo; 时，只需在第一次调用时检索目录。 另外，也可以使用 <code class="t">-r</code> 选项重新查看这个缓存。 由于相对目录会混淆
<code class="t">zfdir</code>，因此可以使用 <code class="t">-f</code> 选项强制在列出目录之前刷新缓存。 选项 <code class="t">-d</code>
会在不显示目录列表的情况下删除两个缓存；它还会删除当前远程目录中的文件名缓存（如果有的话）。
</p>
</dd>
<dt><a id="index-zfls"></a><span><code class="t">zfls</code> [ <var class="var">ls-options</var> ] [ <var class="var">dir</var> ]<a class="copiable-link" href="#index-zfls"> &para;</a></span></dt>
<dd><p>列出远程服务器上的文件。 在没有参数的情况下，它会产生一个当前远程目录的简单文件名列表。 任何参数都将直接传递给服务器。 不使用分页器和缓存。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Zhuang-Tai-Ming-Ling-">
<h4 class="subsection"><span>25.3.3 状态命令<a class="copiable-link" href="#Zhuang-Tai-Ming-Ling-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-zftype"></a><span><code class="t">zftype</code> [ <var class="var">type</var> ]<a class="copiable-link" href="#index-zftype"> &para;</a></span></dt>
<dd><p>在没有参数的情况下，显示要传输的数据类型，通常是 ASCII 或二进制数据。 如果有参数，则更改类型：对于 ASCII 数据，类型为 &lsquo;<code class="t">A</code>&rsquo;
或&lsquo;<code class="t">ASCII</code>&rsquo; ；对于二进制数据，类型为 &lsquo;<code class="t">B</code>&rsquo; 或 &lsquo;<code class="t">BINARY</code>&rsquo;、&lsquo;<code class="t">I</code>&rsquo; 或 &lsquo;<code class="t">IMAGE</code>&rsquo;
,大小写无关。
</p>
</dd>
<dt><a id="index-zfstat"></a><span><code class="t">zfstat</code> [ <code class="t">-v</code> ]<a class="copiable-link" href="#index-zfstat"> &para;</a></span></dt>
<dd><p>显示当前或上次连接的状态，以及 <code class="t">zftp</code> 的某些状态变量的状态。 使用 <code class="t">-v</code> 选项，还可以通过查询服务器的事件版本，生成更详细的列表。  
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Jian-Suo-WenJian-">
<h4 class="subsection"><span>25.3.4 检索文件<a class="copiable-link" href="#Jian-Suo-WenJian-"> &para;</a></span></h4>
<p>检索文件的命令都至少包含两个选项。<code class="t">-G</code> 会抑制本应执行的远程文件名扩展（更详细的说明见下文）。 <code class="t">-t</code>
尝试将本地文件的修改时间设置为远程文件的修改时间：更多信息，请参阅下文对函数 <code class="t">zfrtime</code> 的描述。
</p>
<dl class="table">
<dt><a id="index-zfget"></a><span><code class="t">zfget</code> [ <code class="t">-Gtc</code> ] <var class="var">file1</var> ...<a class="copiable-link" href="#index-zfget"> &para;</a></span></dt>
<dd><p>从远程服务器一次检索所有列出的文件 <var class="var">file1</var> ... 。 如果文件包含 &lsquo;<code class="t">/</code>&rsquo;，全名将传递给远程服务器，但文件将以最后的
&lsquo;<code class="t">/</code>&rsquo; 之后的部分给出的名称存储在本地。 选项 <code class="t">-c</code>（cat）会强制将所有文件作为单一数据流发送到标准输出；在这种情况下，<code class="t">-t</code>
选项不起作用。
</p>
</dd>
<dt><a id="index-zfuget"></a><span><code class="t">zfuget</code> [ <code class="t">-Gvst</code> ] <var class="var">file1</var> ...<a class="copiable-link" href="#index-zfuget"> &para;</a></span></dt>
<dd><p>与 <code class="t">zfget</code>相同，但只检索远程服务器上版本较新（修改时间较晚）或本地不存在的文件。
如果远程文件较早但文件大小不同，或者文件大小相同但远程文件较新，通常会询问用户。 如果使用选项
<code class="t">-s</code>，命令将静默运行，并始终在这两种情况下检索文件。 如果使用选项 <code class="t">-v</code>，命令在决定是否传输文件时会打印更多文件信息。
</p>
</dd>
<dt><a id="index-zfcget"></a><span><code class="t">zfcget</code> [ <code class="t">-Gt</code> ] <var class="var">file1</var> ...<a class="copiable-link" href="#index-zfcget"> &para;</a></span></dt>
<dd><p>与 <code class="t">zfget</code>相同，但如果本地文件存在，且比相应远程文件短，命令会认为这是部分传输完成的结果，并尝试传输文件的其余部分。
这在连接不畅、不断失败的情况下非常有用。
</p>
<p>请注意，这需要一个常用但非标准的 FTP 协议版本，因此不能保证在所有服务器上都能运行。
</p>
</dd>
<dt><a id="index-zfgcp"></a><span><code class="t">zfgcp</code> [ <code class="t">-Gt</code> ] <var class="var">remote-file</var> <var class="var">local-file</var><a class="copiable-link" href="#index-zfgcp"> &para;</a></span></dt>
<dt><code class="t">zfgcp</code> [ <code class="t">-Gt</code> ] <var class="var">rfile1</var> ... <var class="var">ldir</var></dt>
<dd><p>该命令从远程服务器检索文件，参数行为与 <code class="t">cp</code> 命令类似。
</p>
<p>在第一种形式中，将 <var class="var">remote-file</var> 从服务器复制到本地文件 <var class="var">local-file</var>。
</p>
<p>在第二种形式中，将所有远程文件 <var class="var">rfile1</var> ... 复制到本地目录 <var class="var">ldir</var> 中，并保留相同的基名。 这假定了 UNIX
的目录语义。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Fa-Song-WenJian-">
<h4 class="subsection"><span>25.3.5 发送文件<a class="copiable-link" href="#Fa-Song-WenJian-"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-zfput"></a><span><code class="t">zfput</code> [ <code class="t">-r</code> ] <var class="var">file1</var> ...<a class="copiable-link" href="#index-zfput"> &para;</a></span></dt>
<dd><p>将所有给定的 <var class="var">file1</var> ... 分别发送到远程服务器。 如果文件名包含
&lsquo;<code class="t">/</code>&rsquo;，本地将使用完整的文件名查找该文件，但远程文件名只使用基名。
</p>
<p>使用选项 <code class="t">-r</code>，如果 <var class="var">files</var> 中有任何一个是目录，则会递归发送所有子目录，包括以 &lsquo;<code class="t">.</code>&rsquo; 开头的文件。
这要求远程机器理解 UNIX 文件语义，因为 &lsquo;<code class="t">/</code>&rsquo; 被用作目录分隔符。
</p>
</dd>
<dt><a id="index-zfuput"></a><span><code class="t">zfuput</code> [ <code class="t">-vs</code> ] <var class="var">file1</var> ...<a class="copiable-link" href="#index-zfuput"> &para;</a></span></dt>
<dd><p>与 <code class="t">zfput</code>相同，但只发送比远程文件更新的文件，或者远程文件不存在时才发送。 逻辑与
<code class="t">zfuget</code>相同，但本地文件和远程文件的逻辑相反。
</p>
</dd>
<dt><a id="index-zfcput"></a><span><code class="t">zfcput</code> <var class="var">file1</var> ...<a class="copiable-link" href="#index-zfcput"> &para;</a></span></dt>
<dd><p>与 <code class="t">zfput</code>相同，但如果任何远程文件已经存在，且比本地文件短，则假定这是传输不完整的结果，并发送文件的其余部分以追加到现有部分。 由于 FTP
追加命令是标准集的一部分，因此原则上这比 <code class="t">zfcget</code> 更有可能奏效。
</p>
</dd>
<dt><a id="index-zfpcp"></a><span><code class="t">zfpcp</code> <var class="var">local-file</var> <var class="var">remote-file</var><a class="copiable-link" href="#index-zfpcp"> &para;</a></span></dt>
<dt><code class="t">zfpcp</code> <var class="var">lfile1</var> ... <var class="var">rdir</var></dt>
<dd><p>它会将文件发送到远程服务器，其参数行为与 <code class="t">cp</code> 命令类似。
</p>
<p>使用两个参数，将 <var class="var">local-file</var> 复制到服务器上的 <var class="var">remote-file</var> 中。
</p>
<p>在有两个以上参数的情况下，将所有本地文件 <var class="var">lfile1</var> ... 复制到现有远程目录 <var class="var">rdir</var> 中，并保留相同的基名。 这假定了
UNIX 的目录语义。
</p>
<p>如果尝试使用 <code class="t">zfpcp</code> <var class="var">lfile1</var> <var class="var">rdir</var> 就会出现问题，即复制的第二种形式，但有两个参数，因为命令无法简单判断
<var class="var">rdir</var> 对应的是目录还是文件名。 命令试图通过多种方式解析这个问题。 首先，如果 <var class="var">rdir</var> 参数是 &lsquo;<code class="t">.</code>&rsquo; 或
&lsquo;<code class="t">..</code>&rsquo; ，或以斜线结束，则假定它是一个目录。 其次，如果以第一种形式复制到远程文件的操作失败，并且远程服务器发送了预期的失败代码 553
，并包含字符串 &lsquo;<code class="t">Is a directory</code>&rsquo; 的回复，那么 <code class="t">zfpcp</code> 将使用第二种形式重试。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Guan-Bi-Lian-Jie--1">
<h4 class="subsection"><span>25.3.6 关闭连接<a class="copiable-link" href="#Guan-Bi-Lian-Jie--1"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-zfclose"></a><span><code class="t">zfclose</code><a class="copiable-link" href="#index-zfclose"> &para;</a></span></dt>
<dd><p>关闭连接
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Hui-Hua-Guan-Li--1">
<h4 class="subsection"><span>25.3.7 会话管理<a class="copiable-link" href="#Hui-Hua-Guan-Li--1"> &para;</a></span></h4>
<dl class="table">
<dt><a id="index-zfsession"></a><span><code class="t">zfsession</code> [ <code class="t">-lvod</code> ] [ <var class="var">sessname</var> ]<a class="copiable-link" href="#index-zfsession"> &para;</a></span></dt>
<dd><p>允许你同时管理多个 FTP 会话。 默认情况下，连接是在名为 &lsquo;<code class="t">default</code>&rsquo; 的会话中进行的。 通过给出 &lsquo;<code class="t">zfsession</code>
<var class="var">sessname</var>&rsquo; 命令，你就可以用自己选择的名称切换到一个新的或现有的会话。 新会话会记住自己的连接、相关的 shell 参数以及
<code class="t">zfparams</code> 设置的 host/user 参数。 因此，你可以设置不同的会话来连接不同的主机，每个会话都会记住相应的主机、用户和密码。
</p>
<p>在没有参数的情况下，<code class="t">zfsession</code> 会打印当前会话的名称；在使用选项 <code class="t">-l</code> 的情况下，它会列出当前存在的所有会话；在使用选项
<code class="t">-v</code> 的情况下，它会给出一个详细的列表，显示每个会话的主机和目录，其中当前会话用星号标记。 如果使用 <code class="t">-o</code>，则会切换到最近的上一个会话。
</p>
<p>使用 <code class="t">-d</code>，给定会话（或当前会话）将被移除；与之相关的一切都将被彻底遗忘。 如果它是唯一的会话，则会创建一个名为 &lsquo;<code class="t">default</code>&rsquo;
的新会话，并使其成为当前会话。 在使用 <code class="t">zftp</code> 的后台命令处于活动状态时，最好不要删除会话。
</p>
</dd>
<dt><a id="index-zftransfer"></a><span><code class="t">zftransfer</code> <var class="var">sess1</var><code class="t">:</code><var class="var">file1</var> <var class="var">sess2</var><code class="t">:</code><var class="var">file2</var><a class="copiable-link" href="#index-zftransfer"> &para;</a></span></dt>
<dd><p>在两个会话之间传输文件；不创建本地副本。 文件以 <var class="var">file1</var> 的形式从会话 <var class="var">sess1</var> 读取，并以文件 <var class="var">file2</var>
的形式写入会话 <var class="var">sess2</var>；<var class="var">file1</var> 和 <var class="var">file2</var> 可以是会话当前目录的相对文件。 <var class="var">sess1</var> 或
<var class="var">sess2</var> 均可省略（但如果文件名中可能出现冒号，则应保留冒号），并默认为当前会话；<var class="var">file2</var>
可省略或以斜线结尾，在这种情况下，将添加 <var class="var">file1</var> 的基名。 会话 <var class="var">sess1</var> 和 <var class="var">sess2</var> 必须是不同的。
</p>
<p>该操作是使用管道执行的，因此要求连接在子 shell 中仍然有效，而在某些操作系统版本下，情况并非如此，这可能是由于系统漏洞造成的。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shu-Qian-">
<h4 class="subsection"><span>25.3.8 书签<a class="copiable-link" href="#Shu-Qian-"> &para;</a></span></h4>
<p>通过 <code class="t">zfmark</code> 和 <code class="t">zfgoto</code> 这两个函数，您可以为当前 FTP 连接的当前位置（主机、用户和目录）打上 &lsquo;bookmark&rsquo;
，以便日后使用。 用于存储和检索书签的文件由参数 <code class="t">$ZFTP_BMFILE</code> 提供；如果调用这两个函数之一时未设置，则将设置为 zsh
启动文件所在目录（通常为 <code class="t">~</code>）中的文件 <code class="t">.zfbkmarks</code>。
</p>
<dl class="table">
<dt><a id="index-zfmark"></a><span><code class="t">zfmark</code> [ <var class="var">bookmark</var> ]<a class="copiable-link" href="#index-zfmark"> &para;</a></span></dt>
<dd><p>如果给定了参数，则会在 <var class="var">bookmark</var> 名称下标记当前主机、用户和目录，供 <code class="t">zfgoto</code> 后续使用。
如果没有打开连接，则使用最后一个连接关闭前的值。 如果没有，则是错误。任何已存在的同名书签都将被无声替换。
</p>
<p>如果没有给定参数，则会以 <var class="var">user</var><code class="t">@</code><var class="var">host</var><code class="t">:</code><var class="var">directory</var>
的形式列出现有书签及其指向的点。这就是它们的存储格式，可以直接对文件进行编辑。
</p>
</dd>
<dt><a id="index-zfgoto"></a><span><code class="t">zfgoto</code> [ <code class="t">-n</code> ] <var class="var">bookmark</var><a class="copiable-link" href="#index-zfgoto"> &para;</a></span></dt>
<dd><p>返回 <code class="t">zfmark</code> 之前设置的 <var class="var">bookmark</var> 指定的位置。 如果该位置有用户为 &lsquo;<code class="t">ftp</code>&rsquo; 或
&lsquo;<code class="t">anonymous</code>&rsquo;，则使用 <code class="t">zfanon</code> 打开连接，因此无需密码。
如果用户和主机参数与当前会话存储的参数（如果有）匹配，则使用这些参数，同样无需密码。 否则将提示输入密码。
</p>
<p>使用选项 <code class="t">-n</code>，书签将被视为 <code class="t">ncftp</code> 程序存储在其书签文件中的昵称，该文件被假定为 <code class="t">~/.ncftp/bookmarks</code>。
该函数在其他方面的工作原理相同。 请注意，zftp 函数中没有添加或修改 <code class="t">ncftp</code> 书签的机制。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Qi-Ta-Han-Shu-">
<h4 class="subsection"><span>25.3.9 其它函数<a class="copiable-link" href="#Qi-Ta-Han-Shu-"> &para;</a></span></h4>
<p>大多数情况下，这些函数不会被直接调用（除了 <code class="t">zfinit</code>），但为完整起见，还是在此介绍一下。 您可能希望对 <code class="t">zftp_chpwd</code> 和
<code class="t">zftp_progress</code> 进行修改。
</p>
<dl class="table">
<dt><a id="index-zfinit"></a><span><code class="t">zfinit</code> [ <code class="t">-n</code> ]<a class="copiable-link" href="#index-zfinit"> &para;</a></span></dt>
<dd><p>如上所述，它用于初始化 zftp 函数系统。 如果 shell 已内置 zftp 命令，则应使用 <code class="t">-n</code> 选项。
</p>
</dd>
<dt><a id="index-zfautocheck"></a><span><code class="t">zfautocheck</code> [ <code class="t">-dn</code> ]<a class="copiable-link" href="#index-zfautocheck"> &para;</a></span></dt>
<dd><p>调用该函数是为了实现自动重新打开行为，下文将详细介绍。 选项必须出现在第一个参数中；<code class="t">-n</code>会阻止命令切换到旧目录，而 <code class="t">-d</code>
则会阻止命令设置变量 <code class="t">do_close</code>，否则命令会将其作为传输后自动关闭连接的标志。 最后一次会话的主机和目录保存在变量
<code class="t">$zflastsession</code> 中，但内部 host/user/password 参数也必须正确设置。
</p>
</dd>
<dt><a id="index-zfcd_005fmatch"></a><span><code class="t">zfcd_match <var class="var">prefix</var> <var class="var">suffix</var></code><a class="copiable-link" href="#index-zfcd_005fmatch"> &para;</a></span></dt>
<dd><p>这将执行远程目录名的补全匹配。 如果远程服务器是 UNIX，它将尝试说服服务器列出远程目录，并标注子目录，这通常有效，但不能保证。
在其他主机上，它只需调用 <code class="t">zfget_match</code>，从而补全所有文件，而不仅仅是目录。 在某些系统中，目录可能看起来甚至不像文件名。
</p>
</dd>
<dt><a id="index-zfget_005fmatch"></a><span><code class="t">zfget_match <var class="var">prefix</var> <var class="var">suffix</var></code><a class="copiable-link" href="#index-zfget_005fmatch"> &para;</a></span></dt>
<dd><p>该功能用于补全远程文件名的匹配。 它会将当前目录下的文件缓存到 shell 参数 <code class="t">$zftp_fcache</code> 中。 它采用 <code class="t">compctl</code>
的 <code class="t">-K</code> 选项调用的形式，但也可在适当设置 <var class="var">prefix</var> 和 <var class="var">suffix</var> 的小部件式补全函数中调用。
</p>
</dd>
<dt><a id="index-zfrglob"></a><span><code class="t">zfrglob <var class="var">varname</var></code><a class="copiable-link" href="#index-zfrglob"> &para;</a></span></dt>
<dd><p>执行远程 globbing，详情如下。 <var class="var">varname</var>
是一个变量的名称，包含要扩展的模式；如果有任何匹配，返回时将把同一变量设置为扩展后的文件名集。
</p>
</dd>
<dt><a id="index-zfrtime"></a><span><code class="t">zfrtime</code> <var class="var">lfile</var> <var class="var">rfile</var> [ <var class="var">time</var> ]<a class="copiable-link" href="#index-zfrtime"> &para;</a></span></dt>
<dd><p>设置本地文件 <var class="var">lfile</var> 的修改时间与远程文件 <var class="var">rfile</var> 的修改时间相同，或为 GMT 时区设置 FTP 格式
<code class="t">CCYYMMDDhhmmSS</code> 的显式时间 <var class="var">time</var> 。 这将使用 shell 的 <code class="t">zsh/datetime</code> 模块执行从
GMT 到本地时间的转换。
</p>
</dd>
<dt><a id="index-zftp_005fchpwd_002c-Ti-Gong-De-Ban-Ben-"></a><span><code class="t">zftp_chpwd</code><a class="copiable-link" href="#index-zftp_005fchpwd_002c-Ti-Gong-De-Ban-Ben-"> &para;</a></span></dt>
<dd><p>每次打开、关闭连接或更改远程目录时，都会调用该函数。 该版本会更改 <code class="t">xterm</code> 兼容终端或 <code class="t">sun-cmd</code>
终端模拟器的标题栏，以反映本地和远程主机名及当前目录。 与函数 <code class="t">chpwd</code> 结合使用效果最佳。 特别是，下面形式的函数
</p>
<div class="example">
<pre class="example-preformatted">chpwd() {
  if [[ -n $ZFTP_USER ]]; then
    zftp_chpwd
  else
    # usual chpwd e.g put host:directory in title bar
  fi
}
</pre></div>

<p>非常适合。
</p>
</dd>
<dt><a id="index-zftp_005fprogress_002c-Ti-Gong-De-Ban-Ben-"></a><span><code class="t">zftp_progress</code><a class="copiable-link" href="#index-zftp_005fprogress_002c-Ti-Gong-De-Ban-Ben-"> &para;</a></span></dt>
<dd><p>此函数显示传输状态。 除非输出到终端，否则不会写入任何内容；不过，如果在后台传输文件，则应使用 &lsquo;<code class="t">zstyle ':zftp:*'
progress none</code>&rsquo; 手动关闭进度报告。 还要注意的是，如果更改了进度表，任何输出都 <em class="emph">必须</em>
输出到标准错误，因为标准输出可能是正在接收的文件。 进度表的形式，或者是否使用进度表，都可以在不修改函数的情况下进行配置，详见下一节。
</p>
</dd>
<dt><a id="index-zffcache"></a><span><code class="t">zffcache</code><a class="copiable-link" href="#index-zffcache"> &para;</a></span></dt>
<dd><p>用于为每个会话分别缓存当前目录中的文件。 它被 <code class="t">zfget_match</code> 和 <code class="t">zfrglob</code> 使用。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_6742_9879_529f_80fd">

<h3 class="section" id="Za-Xiang-Gong-Neng-"><span>25.4 杂项功能<a class="copiable-link" href="#Za-Xiang-Gong-Neng-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="Pei-Zhi-">
<h4 class="subsection"><span>25.4.1 配置<a class="copiable-link" href="#Pei-Zhi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp-Han-Shu-Xi-Tong-_002c-Pei-Zhi-"></a>
<a class="index-entry-id" id="index-zftp-Han-Shu-Xi-Tong-_002c-Yang-Shi-"></a>
<a class="index-entry-id" id="index-zftp-Han-Shu-ZhongDe-Yang-Shi-"></a>

<p>使用标准 shell 样式机制可获得各种样式，详见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>。简而言之，命令  &lsquo;<code class="t">zstyle ':zftp:*'</code>
<var class="var">style</var> <var class="var">value</var> ...&rsquo;.  定义 <var class="var">style</var> 的值为
<var class="var">value</var>；可以给出一个以上的值，但在这里描述的情况下并无用处。 这些值将在整个 zftp 函数系统中使用。
为了实现更精确的控制，可以修改第一个参数（该参数给出了与 <em class="emph">contexts</em> 匹配的模式，在该模式中，样式适用）以包含特定函数，例如
&lsquo;<code class="t">:zftp:zfget</code>&rsquo;： 这样，样式将仅在 <code class="t">zfget</code> 函数中具有给定值，并覆盖在 &lsquo;<code class="t">:zftp:*</code>&rsquo;下设置的样式。
需要注意的是，只有用户调用的顶级函数名称才会被使用；低级函数的调用对用户是透明的。 因此，对 <code class="t">zftp_chpwd</code> 中标题栏的修改会使用
<code class="t">:zftp:zfopen</code>、<code class="t">:zftp:zfcd</code> 等上下文，具体取决于从何处调用。 可理解以下样式：
</p>
<dl class="table">
<dt><a id="index-progress_002c-zftp-Yang-Shi-"></a><span><code class="t">progress</code><a class="copiable-link" href="#index-progress_002c-zftp-Yang-Shi-"> &para;</a></span></dt>
<dd><p>控制 <code class="t">zftp_progress</code> 报告传输进度的方式。 如果为空、未设置或 &lsquo;<code class="t">none</code>&rsquo;，则不会报告传输进度；如果为&lsquo;<code class="t">bar</code>&rsquo;
，则会显示一个不断增长的反向视频条；如果为 &lsquo;<code class="t">percent</code>&rsquo; （或其他字符串，但将来可能会更改），则会显示已传输文件的百分比。
条形仪表要求通过 <code class="t">$COLUMNS</code> 参数提供终端的宽度（通常会自动设置）。 如果无法提供正在传输的文件大小，<code class="t">bar</code> 和
<code class="t">percent</code> 仪表将只显示目前传输的字节数。
</p>
<p>运行 <code class="t">zfinit</code> 时，如果没有为上下文 <code class="t">:zftp:*</code> 定义此样式，则会将其设置为 &lsquo;bar&rsquo;。
</p>
</dd>
<dt><a id="index-update_002c-zftp-Yang-Shi-"></a><span><code class="t">update</code><a class="copiable-link" href="#index-update_002c-zftp-Yang-Shi-"> &para;</a></span></dt>
<dd><p>指定进度表更新的最小时间间隔（秒）。 除非收到新数据，否则不会进行更新，因此实际时间间隔仅受 <code class="t">$ZFTP_TIMEOUT</code> 的限制。
</p>
<p>如 <code class="t">progress</code> 所述，<code class="t">zfinit</code> 会强制将其默认为 1。
</p>
</dd>
<dt><a id="index-remote_002dglob_002c-zftp-Yang-Shi-"></a><span><code class="t">remote-glob</code><a class="copiable-link" href="#index-remote_002dglob_002c-zftp-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;<code class="t">1</code>&rsquo;, &lsquo;<code class="t">yes</code>&rsquo; 或 &lsquo;<code class="t">true</code>&rsquo;，文件名生成（globbing）将在远程机器上执行，而不是由 zsh
本身执行；见下文。
</p>
</dd>
<dt><a id="index-titlebar_002c-zftp-Yang-Shi-"></a><span><code class="t">titlebar</code><a class="copiable-link" href="#index-titlebar_002c-zftp-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;<code class="t">1</code>&rsquo;, &lsquo;<code class="t">yes</code>&rsquo; 或 &lsquo;<code class="t">true</code>&rsquo;，那么 <code class="t">zftp_chpwd</code> 将在 xterm 或 sun-cmd
等终端模拟器的标题栏中显示远程主机和远程目录。
</p>
<p>如 <code class="t">progress</code> 所述，<code class="t">zfinit</code> 会强制将其默认为 1。
</p>
</dd>
<dt><a id="index-chpwd_002c-zftp-Yang-Shi-"></a><span><code class="t">chpwd</code><a class="copiable-link" href="#index-chpwd_002c-zftp-Yang-Shi-"> &para;</a></span></dt>
<dd><p>如果设置为 &lsquo;<code class="t">1</code>&rsquo; &lsquo;<code class="t">yes</code>&rsquo; 或&lsquo;<code class="t">true</code>&rsquo;，<code class="t">zftp_chpwd</code> 将在连接关闭时调用函数 <code class="t">chpwd</code>。
如果远程主机的详细信息被 <code class="t">zftp_chpwd</code> 放进了终端标题栏，而您常用的 <code class="t">chpwd</code> 也会修改标题栏，那么这将非常有用。
</p>
<p>运行 <code class="t">zfinit</code> 时，它会判断 <code class="t">chpwd</code> 是否存在，如果存在，则会将样式的默认值设为 1,如果尚未存在样式。
</p>
</dd>
</dl>

<p>请注意，还有一个关联数组 <code class="t">zfconfig</code>，其中包含函数系统使用的值。 该数组不应被修改或覆盖。
</p>

</div>
<div class="subsection-level-extent" id="Yuan-Cheng-globbing">
<h4 class="subsection"><span>25.4.2 远程 globbing<a class="copiable-link" href="#Yuan-Cheng-globbing"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp-Han-Shu-Xi-Tong-_002c-Yuan-Cheng-globbing"></a>

<p>检索文件的命令通常会对其参数执行文件名生成（globbing）；通过向每个命令传递选项 <code class="t">-G</code> 可以关闭该功能。
通常情况下，该操作是检索相关目录的完整文件列表，然后将这些文件与提供的模式进行本地匹配。 这样做的好处是可以使用全部的 zsh 模式（与选项
<code class="t">EXTENDED_GLOB</code> 的设置一致）。 不过，这意味着文件名的目录部分不会被展开，必须准确给出。 如果远程服务器不支持 UNIX
目录语义，那么目录处理就会出现问题，因此建议只在当前目录下使用 globbing。
如果检索到当前目录下的文件列表，则会将其缓存起来，这样在同一目录下进行后续的 globb 操作时，不需要 <code class="t">zfcd</code> 的介入，速度会更快。
</p>
<p>如果设置了 <code class="t">remote-glob</code> 样式（见上文），则会在远程主机上执行 globbing：要求服务器提供匹配文件的列表。
这在很大程度上取决于服务器是如何实现的，不过通常 UNIX 服务器会提供对基本 glob 模式的支持。
在某些情况下，这可能会更快，因为它避免了检索整个目录内容列表。
</p>

</div>
<div class="subsection-level-extent" id="Zi-Dong-He-Lin-Shi-Zhong-Xin-Da-Kai-">
<h4 class="subsection"><span>25.4.3 自动和临时重新打开<a class="copiable-link" href="#Zi-Dong-He-Lin-Shi-Zhong-Xin-Da-Kai-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-zftp-Han-Shu-Xi-Tong-_002c-Zi-Dong-Zhong-Xin-Da-Kai-"></a>

<p>如 <code class="t">zfopen</code> 命令所述，后续不带参数的 <code class="t">zfopen</code> 将重新打开与上一个主机的连接（包括使用 <code class="t">zfanon</code>
命令建立的连接）。 以这种方式打开的连接会从默认远程目录开始，并一直保持打开状态，直到显式关闭为止。
</p>
<p>也可以自动重新打开。 如果连接当前未打开，而给出的命令需要连接，则会隐式地重新打开上一个连接。
在这种情况下，关闭连接时的当前目录将再次成为当前目录（当然，除非所下达的命令更改了该目录）。
如果远程服务器因某种原因（如超时）关闭了连接，也会自动重新打开连接。 如果使用了 <code class="t">zfopen</code> 或 <code class="t">zfanon</code> 的 <code class="t">-1</code>
选项，则不可用。
</p>
<p>此外，如果发出的命令是文件传输，连接将在传输完成后关闭，从而为传输提供了一次性模式。 这不适用于目录更改或列表命令；例如，<code class="t">zfdir</code>
可能会重新打开连接，但会保持打开状态。 此外，自动关闭只会发生在与自动打开相同的命令中，即 <code class="t">zfdir</code> 之后直接执行 <code class="t">zfget</code>
永远不会自动关闭连接。
</p>
<p><code class="t">zfstat</code> 函数提供了前一次连接的信息。 因此，举例来说，如果报告:
</p>
<div class="example">
<pre class="example-preformatted">Session:        default
Not connected.
Last session:   ftp.bar.com:/pub/textfiles
</pre></div>

<p>那么命令 <code class="t">zfget file.txt</code> 将尝试重新打开与 <code class="t">ftp.bar.com</code> 的连接，获取文件
<code class="t">/pub/textfiles/file.txt</code>，然后立即再次关闭连接。 另一方面， <code class="t">zfcd ..</code> 将在 <code class="t">/pub</code>
目录中打开连接，并保持打开状态。
</p>
<p>请注意，上述所有内容都是每个会话的本地内容；如果返回到以前的会话，则会重新打开该会话的连接。
</p>

</div>
<div class="subsection-level-extent" id="Bu-Quan--3">
<h4 class="subsection"><span>25.4.4 补全<a class="copiable-link" href="#Bu-Quan--3"> &para;</a></span></h4>

<p>支持本地和远程文件、目录、会话和书签的补全。 调用 <code class="t">zfinit</code> 时定义了较早的、<code class="t">compctl</code>
风格的补全；对基于小部件的新补全系统的支持在函数 <code class="t">Completion/Zsh/Command/_zftp</code>
中提供，该函数应该已经与补全系统的其他函数一起安装，因此应自动可用。
</p><hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="g_t_7528_6237_8d21_732e">

<h2 class="chapter" id="Yong-Hu-Gong-Xian-"><span>26 用户贡献<a class="copiable-link" href="#Yong-Hu-Gong-Xian-"> &para;</a></span></h2>
<a class="index-entry-id" id="index-Yong-Hu-Gong-Xian-"></a>

<div class="section-level-extent" id="Shuo-Ming--9">
<h3 class="section"><span>26.1 说明<a class="copiable-link" href="#Shuo-Ming--9"> &para;</a></span></h3>

<p>Zsh 源代码发行版包含许多由用户社区贡献的项目。 这些项目本身并不是 shell 的一部分，而且有些项目可能并不是每个 zsh 安装都可用。
这里记录了其中最重要的部分。 有关其他贡献项目（如 shell 函数）的文档，请查看函数源文件中的注释。
</p>

<hr>
</div>
<div class="section-level-extent" id="g_t_5b9e_7528_7a0b_5e8f">

<h3 class="section" id="Shi-Yong-Cheng-Xu-"><span>26.2 实用程序<a class="copiable-link" href="#Shi-Yong-Cheng-Xu-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="Fang-Wen-Zai-Xian-Bang-Zhu-">
<h4 class="subsection"><span>26.2.1 访问在线帮助<a class="copiable-link" href="#Fang-Wen-Zai-Xian-Bang-Zhu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Bang-Zhu-WenJian-Shi-Yong-Gong-Ju-"></a>

<p>键序 <code class="t">ESC h</code> 通常被 ZLE 绑定为执行 <code class="t">run-help</code> 小部件（参见 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>）。 这将调用
<code class="t">run-help</code> 命令，并将当前输入行中的命令字作为其参数。 默认情况下，<code class="t">run-help</code> 是 <code class="t">man</code>
命令的别名，因此当命令字是 shell 内置命令或用户自定义函数时，调用 <code class="t">run-help</code> 往往会失败。 通过重新定义 <code class="t">run-help</code>
别名，可以改进 shell 提供的联机帮助。
</p>
<p><code class="t">helpfiles</code> 工具位于发行版的 <code class="t">Util</code> 目录中，是一个 Perl 程序，可用于处理 zsh 手册，为每个 shell
内置功能和许多其他 shell 功能生成单独的帮助文件。 可自动加载的 <code class="t">Functions/Misc</code> 目录下的 <code class="t">run-help</code>
函数会搜索这些帮助文件，并执行其他一些测试，为命令生成尽可能完整的帮助。
</p>
<p>帮助文件默认安装在 <code class="t">/usr/share/zsh</code> 或 <code class="t">/usr/local/share/zsh</code> 的子目录下。
</p>
<p>要使用 <code class="t">helpfiles</code> 创建自己的帮助文件，请选择或创建一个存放各个命令帮助文件的目录。 例如，你可以选择 <code class="t">~/zsh_help</code>。
如果将 zsh 发行版解压到你的主目录，则可以使用以下命令：
</p>
<div class="example">
<pre class="example-preformatted">mkdir ~/zsh_help
perl ~/zsh-5.9/Util/helpfiles ~/zsh_help
</pre></div>

<a class="index-entry-id" id="index-HELPDIR"></a>
<p><code class="t">HELPDIR</code> 参数用于告诉 <code class="t">run-help</code> 从何处查找帮助文件。未设置时，将使用默认安装路径。
要使用自己的帮助文件集，请在启动文件中将其设置为相应的路径：
</p>
<div class="example">
<pre class="example-preformatted">HELPDIR=~/zsh_help
</pre></div>

<a class="index-entry-id" id="index-run_002dhelp_002c-use-of"></a>
<p>要使用 <code class="t">run-help</code> 函数，需要在 <code class="t">.zshrc</code> 或类似的启动文件中添加如下行文：
</p>
<div class="example">
<pre class="example-preformatted">unalias run-help
autoload run-help
</pre></div>

<p>请注意，要使 &lsquo;<code class="t">autoload run-help</code>&rsquo; 生效，<code class="t">run-help</code> 文件必须位于 <code class="t">fpath</code> 数组中指定的目录下（参见
<a class="ref" href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a>）。 如果您安装的是标准 zsh，则应已存在该目录；如果没有，请将
<code class="t">Functions/Misc/run-help</code> 复制到适当的目录。
</p>

</div>
<div class="subsection-level-extent" id="Zhong-Xin-Bian-Yi-Han-Shu-">
<h4 class="subsection"><span>26.2.2 重新编译函数<a class="copiable-link" href="#Zhong-Xin-Bian-Yi-Han-Shu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Han-Shu-_002c-Zhong-Xin-Bian-Yi-"></a>
<a class="index-entry-id" id="index-zrecompile-Shi-Yong-Gong-Ju-"></a>

<p>如果您经常编辑您的 zsh 函数，或定期更新您的 zsh 安装以跟踪最新开发进展，您可能会发现使用 <code class="t">zcompile</code>
内置命令编译的函数摘要经常会比函数源文件过时。 这通常不是问题，因为 zsh 在加载函数时总是会查找最新的文件，但它可能会导致 shell
启动和函数加载速度变慢。 此外，如果摘要文件被显式地用作 <code class="t">fpath</code> 的元素，zsh 将不会检查其源文件是否已更改。
</p>
<p><code class="t">Functions/Misc</code> 中的 <code class="t">zrecompile</code> 可自动加载函数可用于更新函数摘要。
</p>
<dl class="table">
<dt><a id="index-zrecompile"></a><span><code class="t">zrecompile</code> [ <code class="t">-qt</code> ] [ <var class="var">name</var> ... ]<a class="copiable-link" href="#index-zrecompile"> &para;</a></span></dt>
<dt><code class="t">zrecompile</code> [ <code class="t">-qt</code> ] <code class="t">-p</code> <var class="var">arg</var> ... [ <code class="t">-</code><code class="t">-</code> <var class="var">arg</var> ... ]</dt>
<dd><p>此功能会尝试查找 <code class="t">*.zwc</code> 文件，并在至少一个原始文件比编译文件新的情况下自动重新编译它们。 只有当编译文件中存储的名称是全路径或相对于包含
<code class="t">.zwc</code> 文件的目录时，此功能才会起作用。
</p>
<p>在第一种形式中，每个 <var class="var">name</var> 是一个编译文件的名称，或者是一个包含 <code class="t">*.zwc</code> 文件的目录的名称,这些应该被检查。
如果没有给出参数，则使用 <code class="t">fpath</code> 中的目录和 <code class="t">*.zwc</code> 文件。
</p>
<p>如果给出 <code class="t">-t</code>，则不执行编译，但如果有文件需要重新编译，则返回状态为零（true），否则返回状态为非零（false）。 使用 <code class="t">-q</code>
选项时，<code class="t">zrecompile</code> 会静默输出。
</p>
<p>如果不使用 <code class="t">-t</code> 选项，所有需要重新编译的文件都编译成功，则返回状态为零；如果至少有一个文件编译失败，则返回状态为非零。
</p>
<p>如果给出 <code class="t">-p</code> 选项，则 <var class="var">arg</var>s 将被解释为 <code class="t">zcompile</code> 的一个或多个参数集，并用 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 分隔。
例如:
</p>
<div class="example">
<pre class="example-preformatted">zrecompile -p \ 
           -R ~/.zshrc -- \ 
           -M ~/.zcompdump -- \ 
           ~/zsh/comp.zwc ~/zsh/Completion/*/_*
</pre></div>

<p>如果  <code class="t">~/.zshrc.zwc</code> 不存在或比 <code class="t">~/.zshrc</code> 旧，则会将 <code class="t">~/.zshrc</code> 编译成
<code class="t">~/.zshrc.zwc</code>。编译后的文件将被标记为用于读取文件，而不是映射文件。对于 <code class="t">~/.zcompdump</code> 和
<code class="t">~/.zcompdump.zwc</code> 也是如此，但该编译文件会被标记为用于映射文件。最后一行将重新创建文件
<code class="t">~/zsh/comp.zwc</code>，前提是任何与给定模式匹配的文件都比它新。
</p>
<p>如果没有 <code class="t">-p</code> 选项，<code class="t">zrecompile</code> 不会创建不存在的函数的摘要，也不会向摘要中添加新函数。
</p>
</dd>
</dl>

<p>下面的 shell 循环是为 <code class="t">fpath</code> 中的所有函数创建函数摘要的方法示例，前提是你对目录有写入权限：
</p>
<div class="example">
<pre class="example-preformatted">for ((i=1; i &lt;= $#fpath; ++i)); do
  dir=$fpath[i]
  zwc=${dir:t}.zwc
  if [[ $dir == (.|..) || $dir == (.|..)/* ]]; then
    continue
  fi
  files=($dir/*(N-.))
  if [[ -w $dir:h &amp;&amp; -n $files ]]; then
    files=(${${(M)files%/*/*}#/})
    if ( cd $dir:h &amp;&amp;
         zrecompile -p -U -z $zwc $files ); then
      fpath[i]=$fpath[i].zwc
    fi
  fi
done
</pre></div>

<p><code class="t">-U</code> 和 <code class="t">-z</code> 选项适用于默认 zsh 安装 <code class="t">fpath</code> 中的函数；对于个人函数目录，可能需要使用不同的选项。
</p>
<p>一旦创建了摘要，并修改了 <code class="t">fpath</code> 以引用它们，就可以通过运行不带参数的 <code class="t">zrecompile</code> 来保持更新。
</p>

</div>
<div class="subsection-level-extent" id="Jian-Pan-Ding-Yi-">
<h4 class="subsection"><span>26.2.3 键盘定义<a class="copiable-link" href="#Jian-Pan-Ding-Yi-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Jian-Pan-Ding-Yi-"></a>

<a class="index-entry-id" id="index-zkbd"></a>
<p>由于键盘、工作站、终端、模拟器和窗口系统可能存在大量组合，zsh 不可能为每种情况都提供内置的按键绑定。 <code class="t">Functions/Misc</code> 中的
<code class="t">zkbd</code> 工具可以帮助你快速创建适合你配置的按键绑定。
</p>
<p>以自动加载函数或 shell 脚本的形式运行 <code class="t">zkbd</code>：
</p>
<div class="example">
<pre class="example-preformatted">zsh -f ~/zsh-5.9/Functions/Misc/zkbd
</pre></div>

<p>运行 <code class="t">zkbd</code>
时，它首先会要求你输入终端类型；如果它提供的默认类型正确，只需按回车键即可。然后，它会要求你按下一些不同的键，以确定键盘和终端的特征；
<code class="t">zkbd</code> 如果发现任何异常，例如 Delete 键既不发送 <code class="t">^H</code> 也不发达 <code class="t">^?</code>，就会发出警告。
</p>
<p><code class="t">zkbd</code> 读取的按键记录成名为 <code class="t">key</code> 的关联数组的定义，并写入 <code class="t">HOME</code> 或 <code class="t">ZDOTDIR</code> 目录下
<code class="t">.zkbd</code> 子目录中的文件。 文件名由 <code class="t">TERM</code>、<code class="t">VENDOR</code> 和 <code class="t">OSTYPE</code> 参数组成，并用连字符连接。
</p>
<p>你可以使用 &lsquo;<code class="t">source</code>&rsquo; 或 &lsquo;<code class="t">.</code>&rsquo; 命令将该文件读入 <code class="t">.zshrc</code> 或其他启动文件，然后在 bindkey 命令中引用
<code class="t">key</code> 参数，就像这样：
</p>
<div class="example">
<pre class="example-preformatted">source ${ZDOTDIR:-$HOME}/.zkbd/$TERM-$VENDOR-$OSTYPE
[[ -n ${key[Left]} ]] &amp;&amp; bindkey &quot;${key[Left]}&quot; backward-char
[[ -n ${key[Right]} ]] &amp;&amp; bindkey &quot;${key[Right]}&quot; forward-char
# etc.
</pre></div>

<p>请注意，要使 &lsquo;<code class="t">autoload zkbd</code>&rsquo; 正常工作，<code class="t">zkdb</code> 文件必须位于 <code class="t">fpath</code> 数组中指定的目录下（参见
<a class="ref" href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a>）。 如果您安装的是标准 zsh，则应该已经存在；如果没有，请将 <code class="t">Functions/Misc/zkbd</code>
复制到适当的目录。
</p>

</div>
<div class="subsection-level-extent" id="Zhuan-Chu-shell-Zhuang-Tai-">
<h4 class="subsection"><span>26.2.4 转储 shell 状态<a class="copiable-link" href="#Zhuan-Chu-shell-Zhuang-Tai-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-reporter-Shi-Yong-Gong-Ju-"></a>

<p>有时您可能会在 shell 中遇到看似错误的问题，尤其是当您使用的是 zsh 测试版或开发版时。 通常情况下，将问题描述发送到 zsh 邮件列表（请参阅
<a class="ref" href="#g_t_90ae_4ef6_5217_8868">邮件列表</a>）就足够了，但有时 zsh 开发人员需要重新创建您的环境才能跟踪问题。
</p>
<p>发行版 <code class="t">Util</code> 目录中名为 <code class="t">reporter</code> 的脚本就是为此目的而提供的。 (也可以 <code class="t">autoload reporter</code>，但
<code class="t">reporter</code> 默认并未安装在 <code class="t">fpath</code> 中）。这个脚本输出了shell状态的详细转储，以另一个脚本的形式呈现，可以使用
&lsquo;<code class="t">zsh -f</code>&rsquo; 读取，以重建该状态。
</p>
<p>要使用 <code class="t">reporter</code>，请使用 &lsquo;<code class="t">.</code>&rsquo; 命令将脚本读入 shell，并将输出重定向到文件中：
</p>
<div class="example">
<pre class="example-preformatted">. ~/zsh-5.9/Util/reporter &gt; zsh.report
</pre></div>

<p>您应该检查 <code class="t">zsh.report</code> 文件中是否有密码等敏感信息，并在将脚本发送给开发人员之前手动删除它们。
此外，由于输出可能非常庞大，最好等开发人员询问这些信息后再发送。
</p>
<p>您还可以使用 <code class="t">reporter</code> 只转储 shell 状态的子集。 这对于首次创建启动文件有时很有用。 大多数 reporter
输出的内容都比启动文件通常需要的内容要详细得多，但 <code class="t">aliases</code>、<code class="t">options</code> 和 <code class="t">zstyles</code>
状态可能会很有用，因为它们只包含了默认值之外的更改。 如果你创建了自己的键映射，<code class="t">bindings</code> 状态可能会有用，因为 <code class="t">reporter</code>
会转储键映射创建命令以及每个键映射的绑定。
</p>
<p>按照自动化工具的惯例，如果使用 <code class="t">reporter</code> 创建启动文件，则应编辑结果以删除不必要的命令。 请注意，如果您使用的是新的补全系统，则不应使用
<code class="t">reporter</code> 将 <code class="t">functions</code> 状态转储到启动文件中；而应使用 <code class="t">compdump</code> 函数（参见 <a class="ref" href="#g_t_8865_5168_7cfb_7edf">补全系统</a>）。
</p>
<dl class="table">
<dt><a id="index-reporter"></a><span><code class="t">reporter</code> [ <var class="var">state</var> ... ]<a class="copiable-link" href="#index-reporter"> &para;</a></span></dt>
<dd><p>将当前 shell 状态的指定子集打印到标准输出。 <var class="var">state</var> 参数可以是一个或多个：
</p>
<dl class="table">
<dt><code class="t">all</code></dt>
<dd><p>输出下面列出的所有内容。
</p></dd>
<dt><code class="t">aliases</code></dt>
<dd><p>输出别名定义。
</p></dd>
<dt><code class="t">bindings</code></dt>
<dd><p>输出 ZLE 键映射和绑定。
</p></dd>
<dt><code class="t">completion</code></dt>
<dd><p>输出旧式 <code class="t">compctl</code> 命令。 新的补全由 <code class="t">functions</code> 和 <code class="t">zstyles</code> 涵盖。
</p></dd>
<dt><code class="t">函数</code></dt>
<dd><p>输出自动加载和函数定义。
</p></dd>
<dt><code class="t">limits</code></dt>
<dd><p>输出 <code class="t">limit</code> 命令。
</p></dd>
<dt><code class="t">选项</code></dt>
<dd><p>输出 <code class="t">setopt</code> 命令。
</p></dd>
<dt><code class="t">样式</code></dt>
<dd><p>与 <code class="t">zstyles</code> 相同。
</p></dd>
<dt><code class="t">变量</code></dt>
<dd><p>输出 shell 参数赋值，为任何环境变量的加上 <code class="t">export</code> 命令。
</p></dd>
<dt><code class="t">zstyles</code></dt>
<dd><p>输出 <code class="t">zstyle</code> 命令。
</p></dd>
</dl>

<p>如果省略 <var class="var">state</var>，则假定使用 <code class="t">all</code>。
</p>

<p>除 &lsquo;<code class="t">all</code>&rsquo; 外，每个 <var class="var">state</var> 都可以用任何前缀缩写，甚至一个字母；因此 <code class="t">a</code> 与 <code class="t">aliases</code>
相同，<code class="t">z</code> 与 <code class="t">zstyles</code> 相同，等等。
</p></dd>
</dl>


</div>
<div class="subsection-level-extent" id="Cao-Zuo-Gou-Zi-Han-Shu-">
<h4 class="subsection"><span>26.2.5 操作勾子函数<a class="copiable-link" href="#Cao-Zuo-Gou-Zi-Han-Shu-"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Gou-Zi-Han-Shu-Shi-Yong-Gong-Ju-"></a>

<dl class="table">
<dt><a id="index-add_002dzsh_002dhook"></a><span><code class="t">add-zsh-hook</code> [ <code class="t">-L</code> | <code class="t">-dD</code> ] [ <code class="t">-Uzk</code> ] <var class="var">hook</var> <var class="var">function</var><a class="copiable-link" href="#index-add_002dzsh_002dhook"> &para;</a></span></dt>
<dd><p>如 <a class="ref" href="#g_t_51fd_6570">函数</a> 中特殊函数一节所述，有几个函数对 shell 来说是特殊的，它们会在 shell 执行过程中的特定时刻被自动调用。
每个函数都有一个关联数组，由在同一时刻被调用的函数名称组成；这些函数就是所谓的 &lsquo;钩子函数&rsquo;。 shell 函数 <code class="t">add-zsh-hook</code>
提供了一种从数组中添加或删除函数的简单方法。
</p>
<p><var class="var">hook</var> 是
<code class="t">chpwd</code>、<code class="t">periodic</code>、<code class="t">precmd</code>、<code class="t">preexec</code>、<code class="t">zshaddhistory</code>、<code class="t">zshexit</code>
或 <code class="t">zsh_directory_name</code> 中的一个，即相关的特殊函数。 请注意 <code class="t">zsh_directory_name</code>
的调用方式与其他函数不同，但仍可作为钩子进行操作。
</p>
<p><var class="var">function</var> 是普通 shell 函数的名称。 如果没有给定选项，该函数将被添加到要在给定上下文中执行的函数的数组中。
函数将按照添加的顺序被调用。
</p>
<p>如果给出 <code class="t">-L</code> 选项，钩子数组的当前值将与 <code class="t">typeset</code> 一起列出。
</p>
<p>如果给出选项 <code class="t">-d</code>，<var class="var">function</var> 将从要执行的函数数组中删除。
</p>
<p>如果给出选项 <code class="t">-D</code>，<var class="var">function</var> 将被视为一种模式，任何匹配的函数名称都将从要执行的函数数组中删除。
</p>
<p>选项 <code class="t">-U</code>、<code class="t">-z</code> 和 <code class="t">-k</code> 将作为 <var class="var">function</var> 的参数传递给 <code class="t">autoload</code>。 对于使用 zsh
提供的函数，选项 <code class="t">-Uz</code> 是合适的。
</p>
</dd>
<dt><a id="index-add_002dzle_002dhook_002dwidget"></a><span><code class="t">add-zle-hook-widget</code> [ <code class="t">-L</code> | <code class="t">-dD</code> ] [ <code class="t">-Uzk</code> ] <var class="var">hook</var> <var class="var">widgetname</var><a class="copiable-link" href="#index-add_002dzle_002dhook_002dwidget"> &para;</a></span></dt>
<dd><p>正如 &quot;特殊小部件&quot; <a class="ref" href="#Zle-_5c0f_90e8_4ef6">Zle 小部件</a>）一节所述，有几个小部件名称对于行编辑器来说是特殊的，它们会在编辑过程中的特定点自动调用。
与函数钩不同的是，这些不使用预定义的其他名称数组来在同一点调用;；shell 函数 <code class="t">add-zle-hook-widget</code>
维护一个类似的数组，并安排特殊小部件调用这些额外的小部件。
</p>
<p><var class="var">hook</var> 是
<code class="t">isearch-exit</code>、<code class="t">isearch-update</code>、<code class="t">line-pre-redraw</code>、<code class="t">line-init</code>、<code class="t">line-finish</code>、<code class="t">history-line-set</code>
或 <code class="t">keymap-select</code> 中的一个，分别对应 <code class="t">zle-isearch-exit</code> 等特殊小部件。 这些特殊小部件的名称也可作为
<var class="var">hook</var> 参数使用。
</p>
<p><var class="var">widgetname</var> 是 ZLE 小部件的名称。 如果没有给定选项，这将被添加到要在给定钩子上下文中调用的小部件数组中。
小部件会按照添加的顺序被调用，并以
</p><div class="example">
<pre class="example-preformatted"><code class="t">zle </code><var class="var">widgetname</var><code class="t"> -Nw -f &quot;nolast&quot; -- &quot;$@&quot;</code>
</pre></div>

<a class="index-entry-id" id="index-WIDGET_002c-Gou-Zi-Zhong"></a>
<p>请注意，这意味着在调用小部件函数时， &lsquo;<code class="t">WIDGET</code>&rsquo; 特殊参数会跟踪 <var class="var">widgetname</var>，而不是跟踪相应特殊钩子小部件的名称。
</p>
<p>如果给出选项 <code class="t">-d</code>，<var class="var">widgetname</var> 将从要执行的小部件数组中删除。
</p>
<p>如果给出选项 <code class="t">-D</code>，<var class="var">widgetname</var> 将被视为一种模式，任何匹配的小部件名称都将从数组中删除。
</p>
<p>如果 <var class="var">widgetname</var> 在添加到数组时没有命名一个现有的小部件，则会假定一个同样命名为 <var class="var">widgetname</var> 的 shell
函数将提供该小部件的实现。 因此，该名称被标记为自动加载，选项 <code class="t">-U</code>、<code class="t">-z</code> 和 <code class="t">-k</code> 将作为 <code class="t">autoload</code>
的参数传递给 <code class="t">autoload</code>，与 <code class="t">add-zsh-hook</code> 一样。 小部件也是通过&lsquo;<code class="t">zle -N
</code><var class="var">widgetname</var>&rsquo; 创建的，以便在第一次调用钩子时加载相应的函数。
</p>
<p><var class="var">widgetname</var> 的数组目前保存在 <code class="t">zstyle</code> 上下文中，每个 <var class="var">hook</var>
上下文有一个，样式为&lsquo;<code class="t">widgets</code>&rsquo;。 如果给出 <code class="t">-L</code> 选项，这组样式将以 &lsquo;<code class="t">zstyle -L</code>&rsquo; 列出。
这种实现方式可能会发生变化，只有调用 <code class="t">add-zle-hook-widget</code>
添加至少一个小部件时，才会创建引用样式的特殊小部件，因此如果此函数用于任何钩子，那么所有钩子都应只通过此函数进行管理。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_6700_65b0_76ee_5f55">
<a class="index-entry-id" id="index-Zui-Jin-De-Mu-Lu-_002c-Wei-Hu-Lie-Biao-"></a>
<a class="index-entry-id" id="index-Mu-Lu-_002c-Wei-Hu-Zui-Jin-De-"></a>
<a class="index-entry-id" id="index-cdr"></a>
<a class="index-entry-id" id="index-_005fcdr"></a>
<a class="index-entry-id" id="index-chpwd_005frecent_005fadd"></a>
<a class="index-entry-id" id="index-chpwd_005frecent_005fdirs"></a>
<a class="index-entry-id" id="index-chpwd_005frecent_005ffilehandler"></a>

<h3 class="section" id="Ji-Zhu-Zui-Jin-De-Mu-Lu-"><span>26.3 记住最近的目录<a class="copiable-link" href="#Ji-Zhu-Zui-Jin-De-Mu-Lu-"> &para;</a></span></h3>

<p>通过函数 <code class="t">cdr</code>，可以从自动维护的列表中将工作目录更改为前一个工作目录。 它的概念类似于 <code class="t">pushd</code>、<code class="t">popd</code> 和
<code class="t">dirs</code>
内置程序所控制的目录堆栈，但可配置性更强，而且由于它将所有条目都存储在文件中，因此可以跨会话维护，（默认情况下）也可以在当前会话的终端模拟器之间维护。
重复的条目会自动删除，因此列表反映的是每个目录最近一次使用的情况。
</p>
<p>请注意，<code class="t">pushd</code> 目录栈实际上不会被 <code class="t">cdr</code> 修改或使用，除非按照下文配置部分所述进行配置。
</p>

<div class="subsection-level-extent" id="An-Zhuang--1">
<h4 class="subsection"><span>26.3.1 安装<a class="copiable-link" href="#An-Zhuang--1"> &para;</a></span></h4>

<p>该系统通过一个钩子函数工作，每次目录发生变化时都会调用该函数。 要安装该系统，请自动加载所需的函数，并使用上述 <code class="t">add-zsh-hook</code> 函数：
</p>
<div class="example">
<pre class="example-preformatted">autoload -Uz chpwd_recent_dirs cdr add-zsh-hook
add-zsh-hook chpwd chpwd_recent_dirs
</pre></div>

<p>现在，每次以交互方式直接更改目录时，无论使用哪条命令，都会以,最近的优先,这样的顺序记住更改的目录。
</p>

</div>
<div class="subsection-level-extent" id="Yong-Fa-">
<h4 class="subsection"><span>26.3.2 用法<a class="copiable-link" href="#Yong-Fa-"> &para;</a></span></h4>

<p>所有直接的用户交互都是通过 <code class="t">cdr</code> 函数进行的。
</p>
<p>cdr 的参数是一个数字 <var class="var">N</var>，与第 <var class="var">N</var> 个最近更改过的目录相对应。 1
指的是最近的目录；当前目录会被记住，但不会作为目标目录提供。 需要注意的是，如果打开了多个窗口，1
可能指的是另一个窗口中已更改的目录；为避免出现这种情况，可以使用基于每个终端的文件来存储目录，详见以下 <code class="t">recent-dirs-file</code>
样式的描述。
</p>
<p>如果你设置了下面描述的 <code class="t">recent-dirs-default</code> 风格，那么当使用非数字参数或多个参数调用 <code class="t">cdr</code> 时，它将与
<code class="t">cd</code> 的行为相同。但无论你如何切换目录，最近目录列表仍将得到更新。
</p>
<p>如果省略参数，则假定为 1。 这与 <code class="t">pushd</code> 交换堆栈中最近的两个目录的行为类似。
</p>
<p>如果已运行 compinit，则 <code class="t">cdr</code> 的参数可以补全；建议使用菜单选择, 用：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*:*:cdr:*:*' menu selection
</pre></div>

<p>允许你循环查看最近的目录；顺序会被保留，所以第一个选择是当前目录之前最近的目录。 此外，还建议使用 &quot;verbose&quot;
样式，以确保显示目录；该样式默认为打开，因此除非更改，否则无需执行任何操作。
</p>

</div>
<div class="subsection-level-extent" id="Xuan-Xiang--2">
<h4 class="subsection"><span>26.3.3 选项<a class="copiable-link" href="#Xuan-Xiang--2"> &para;</a></span></h4>

<p><code class="t">cdr</code> 的行为可以通过以下选项进行修改。
</p>
<dl class="table">
<dt><code class="t">-l</code></dt>
<dd><p>以缩写形式（即重新使用 <code class="t">~</code> 替换）列出数字和相应的目录，每行一个。 这里的目录不加引号（只有在目录名包含换行符时才会出现问题）。
这是由补全系统使用的。
</p>
</dd>
<dt><code class="t">-r</code></dt>
<dd><p>将变量 <code class="t">reply</code> 设置为当前目录集。 不会打印任何内容，也不会更改目录。
</p>
</dd>
<dt><code class="t">-e</code></dt>
<dd><p>可以编辑目录列表，每行一个。 该列表可任意编辑，但不进行正确性检查。 可以补全。
无需加引号（换行符除外，我对换行符没有任何同情心）；目录采用非缩写形式，包含绝对路径，即以 <code class="t">/</code> 开头。 通常第一个条目应作为当前目录。
</p>
</dd>
<dt><code class="t">-p '</code><var class="var">pattern</var><code class="t">'</code></dt>
<dd><p>删除目录列表中任何与给定扩展 glob 模式匹配的条目；该模式需要加引号，以避免在命令行中立即展开。
该模式与列表中每个完全展开的文件名匹配；必须补全整个字符串，因此需要在末尾添加通配符（例如
<code class="t">'*removeme*'</code>），以删除带有给定子字符串的条目。
</p>
<p>如果输出到终端，函数将在修剪后打印新列表，并提示用户确认。 使用 <code class="t">-P</code> 代替 <code class="t">-p</code> 可以跳过输出和确认步骤。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Pei-Zhi--1">
<h4 class="subsection"><span>26.3.4 配置<a class="copiable-link" href="#Pei-Zhi--1"> &para;</a></span></h4>

<p>配置是通过样式机制来完成的，这一点大家应该很熟悉；如果不熟悉，请参阅 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a> 中 <code class="t">zstyle</code>
命令的描述。设置样式的上下文应为 <code class="t">':chpwd:*'</code>，以防将来上下文的含义被扩展，例如：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':chpwd:*' recent-dirs-max 0
</pre></div>

<p>将 <code class="t">recent-dirs-max</code> 样式的值设置为 0。实际上，该样式名称足够具体，使用 &rsquo;*&rsquo; 上下文就可以了。
</p>
<p><code class="t">recent-dirs-insert</code> 是个例外，它是由补全系统专用的，因此有通常的补全系统上下文（<code class="t">':completion:*'</code>
，如果不需要更具体的内容），不过 <code class="t">'*'</code> 在实际使用中也应该没问题。
</p>
<dl class="table">
<dt><code class="t">recent-dirs-default</code></dt>
<dd><p>如果为 &quot;true&quot;，并且该命令期待的是一个最近的目录索引，而参数不只一个或参数不是整数，则转为 &quot;cd&quot;。 这样，懒人就可以只使用一条命令来更改目录。
补全也能识别这一点；关于使用该选项时如何控制补全，请参阅 recent-dirs-insert。
</p>
</dd>
<dt><code class="t">recent-dirs-file</code></dt>
<dd><p>保存目录列表的文件。 默认值为 <code class="t">${ZDOTDIR:-$HOME}/.chpwd-recent-dirs</code>，也就是说，除非你将变量
<code class="t">ZDOTDIR</code> 设为指向其他地方，否则该文件将保存在你的主目录中。 目录名以 <code class="t">$'</code><var class="var">...</var><code class="t">'</code>
的引号形式保存，因此文件中的每一行都可以作为参数直接提供给 shell。
</p>
<p>该样式的值可以是一个数组。 在这种情况下，列表中的第一个文件将始终用于保存目录，而其他文件则保持不变。
读取最近目录列表时，如果第一个文件中的条目数少于最大值，数组中后面文件的内容将被追加，并从显示的列表中删除重复的文件。
两个文件的内容不会一起排序，即第一个文件中的所有条目都会首先显示。 特殊值 <code class="t">+</code> 可以出现在列表中，表示在该点应读取默认文件。
这样就可以达到如下效果：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':chpwd:*' recent-dirs-file \ 
~/.chpwd-recent-dirs-${TTY##*/} +
</pre></div>

<p>最近的目录是从一个根据终端编号的文件中读取的。 如果条目不足，则从默认文件中补充。
</p>
<p>使用 <code class="t">zstyle -e</code> 可以使目录在运行时可配置：
</p>
<div class="example">
<pre class="example-preformatted">zstyle -e ':chpwd:*' recent-dirs-file pick-recent-dirs-file
pick-recent-dirs-file() {
  if [[ $PWD = ~/text/writing(|/*) ]]; then
    reply=(~/.chpwd-recent-dirs-writing)
  else
    reply=(+)
  fi
}
</pre></div>

<p>在本例中，如果当前目录是 <code class="t">~/text/writing</code> 或其下的一个目录，则使用特殊文件保存最近的目录，否则使用默认文件。
</p>
</dd>
<dt><code class="t">recent-dirs-insert</code></dt>
<dd><p>补全时使用。 如果 <code class="t">recent-dirs-default</code> 为 true，则将其设置为
<code class="t">true</code>，会在命令行中插入实际目录，而不是目录索引；这与使用相应索引的效果相同，但会使历史记录更清晰，行更易于编辑。
在此设置下，如果参数的一部分已经输入，则会执行正常的目录补全，而不是最近的目录补全；这是因为最近的目录补全预计会以菜单方式条目执行。
</p>
<p>如果样式的值是 <code class="t">always</code>，那么只会补全最近的目录；在这种情况下，当你想补全其他目录时，请使用 <code class="t">cd</code> 命令。
</p>
<p>如果值为 <code class="t">fallback</code>，将首先尝试最近的目录，如果最近目录的补全未能找到匹配，则执行正常目录的补全。
</p>
<p>最后，如果值为 <code class="t">both</code>，则会同时显示两组补全；可以使用常用的标记机制来区分结果，最近的目录会被标记为 <code class="t">recent-dirs</code>。
需要注意的是，插入的最近目录会根据情况用目录名缩写。
</p>
</dd>
<dt><code class="t">recent-dirs-max</code></dt>
<dd><p>要保存到文件中的最大目录数。 如果为零或负数，则没有最大值。 默认值为 20。
请注意，这包括当前目录，因为当前目录不提供，所以提供的最高目录数比最大值少一个。
</p>
</dd>
<dt><code class="t">recent-dirs-prune</code></dt>
<dd><p>该样式是一个数组，用于确定哪些目录应（或不应）添加到最近列表中。 数组的元素可以包括:
</p>
<dl class="table">
<dt><code class="t">parent</code></dt>
<dd><p>从最近列表中剪除父目录（更准确地说，是祖目录）。 如果存在，直接向下更改任意数量的目录会导致当前目录被覆盖。 例如，从 ~pws 改为
~pws/some/other/dir 会导致 ~pws 不再留在最近目录堆栈中。 这只适用于对后代目录的直接更改；列表中较早的目录不会被剪枝。
例如，从 ~pws/yet/another 更改为 ~pws/some/other/dir 不会导致 ~pws 被剪除。
</p>
</dd>
<dt><code class="t">pattern:</code><var class="var">pattern</var></dt>
<dd><p>为不应添加到最近列表（如果尚未添加）的目录提供一个 zsh 模式。 此元素可以重复添加到不同的模式。
例如，<code class="t">'pattern:/tmp(|/*)'</code> 会阻止 <code class="t">/tmp</code> 或其子目录被添加。 对于这些模式，<code class="t">EXTENDED_GLOB</code>
选项始终处于开启状态。
</p>
</dd>
</dl>

</dd>
<dt><code class="t">recent-dirs-pushd</code></dt>
<dd><p>如果设置为 true，<code class="t">cdr</code> 将使用 <code class="t">pushd</code> 而不是 <code class="t">cd</code> 来更改目录，因此目录将保存在目录栈中。
由于目录栈与本文件使用的机制所保存的文件列表是完全独立的，因此没有明显的理由这样做。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Yu-Dong-Tai-Mu-Lu-Ming-Ming-YiQi-Shi-Yong-">
<h4 class="subsection"><span>26.3.5 与动态目录命名一起使用<a class="copiable-link" href="#Yu-Dong-Tai-Mu-Lu-Ming-Ming-YiQi-Shi-Yong-"> &para;</a></span></h4>

<p>可以使用动态目录名语法引用最近的目录, 通过使用提供的函数 <code class="t">zsh_directory_name_cdr</code> 勾子：
</p>
<div class="example">
<pre class="example-preformatted">autoload -Uz add-zsh-hook
add-zsh-hook -Uz zsh_directory_name zsh_directory_name_cdr
</pre></div>

<p>完成后，<code class="t">~[1]</code> 将指向 $PWD 以外的最新目录，依此类推。 在 <code class="t">~[</code><var class="var">...</var> 之后补全也同样有效。
</p>

</div>
<div class="subsection-level-extent" id="Mu-Lu-Chu-Li-Xi-Jie-">
<h4 class="subsection"><span>26.3.6 目录处理细节<a class="copiable-link" href="#Mu-Lu-Chu-Li-Xi-Jie-"> &para;</a></span></h4>

<p>这部分内容是为好奇或困惑的用户准备的，大多数用户并不需要了解这些信息。
</p>
<p>最近的目录会立即保存到文件中，因此会跨(across)会话保留。
需要注意的是，目前没有应用文件锁定：列表会在交互式命令中立即更新，而不会在其他地方更新（与历史记录不同），并且假定你一次只会在一个窗口中更改目录。
这在共享账户中并不安全，但无论如何，当别人背着你更改不同的目录集时，该系统的作用就很有限了。
</p>
<p>为了让这个过程更安全，只有通过命令行直接或间接地（但不是通过子shell、evals、traps、补全函数等）进行的目录更改才会被保存。Shell函数应该使用
<code class="t">cd -q</code> 或 <code class="t">pushd -q</code> 来避免副作用，如果目录的更改在命令行上是不可见的。更多详情请参考函数
<code class="t">chpwd_recent_dirs</code> 的内容。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_5176_5b83_76ee_5f55_51fd_6570">
<a class="index-entry-id" id="index-Mu-Lu-_002c-Ming-Ming-_002c-Dong-Tai-_002c-Fu-Zhu-Han-Shu-"></a>
<a class="index-entry-id" id="index-Dong-Tai-Mu-Lu-Ming-Ming-_002c-Fu-Zhu-Han-Shu-"></a>
<a class="index-entry-id" id="index-Ming-Ming-Mu-Lu-_002c-Dong-Tai-_002c-Fu-Zhu-Han-Shu-"></a>
<a class="index-entry-id" id="index-zsh_005fdirectory_005fname_005fgeneric"></a>

<h3 class="section" id="Mu-Lu-De-Jian-Lue-Dong-Tai-Yin-Yong-"><span>26.4 目录的简略动态引用<a class="copiable-link" href="#Mu-Lu-De-Jian-Lue-Dong-Tai-Yin-Yong-"> &para;</a></span></h3>

<p>动态目录命名系统在 <a class="ref" href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a> 的 <em class="emph">动态命名目录</em> 小节中进行了描述。 其中，<code class="t">~[</code><var class="var">...</var><code class="t">]</code>
的引用由钩子机制找到的函数展开。
</p>
<p>贡献函数 <code class="t">zsh_directory_name_generic</code> 提供了一个系统，用户只需编写少量新代码即可引用目录。
它支持目录命名的所有三个标准接口：从名称到目录的转换、反向转换以查找简短名称，以及名称的补全。
</p>
<p>该函数的主要特点是采用类似路径的语法，将多级缩写以 &quot;:&quot; 分隔。 例如， ~[g:p:s] 可以指定：
</p><dl class="table">
<dt><code class="t">g</code></dt>
<dd><p>git 区域的顶级目录。 第一个组件必须匹配，否则函数将返回，指示应尝试另一个目录名钩子函数。
</p>
</dd>
<dt><code class="t">p</code></dt>
<dd><p>git 区域内的项目名称。
</p>
</dd>
<dt><code class="t">s</code></dt>
<dd><p>该项目中的源区。
</p>
</dd>
</dl>
<p>这样就可以将长层次结构的引用折叠成非常紧凑的形式，尤其是在磁盘不同区域的层次结构相似的情况下。
</p>
<p>名称组件可以补全：如果在补全列表顶部显示说明，则包括之前组件扩展的路径，而单个补全的说明则显示它将添加的路径段。
由于补全系统知道动态目录名称机制，因此无需为此进行额外配置。
</p>

<div class="subsection-level-extent" id="Yong-Fa--1">
<h4 class="subsection"><span>26.4.1 用法<a class="copiable-link" href="#Yong-Fa--1"> &para;</a></span></h4>

<p>要使用该函数，首先要针对具体情况定义一个封装函数。 我们假设它是自动加载的。 它可以有任何名称，但我们将其称为 zdn_mywrapper。
该封装函数将定义各种变量，然后使用封装函数获得的相同参数调用该函数。 下面将介绍这种配置。
</p>
<p>然后安排封装器作为 zsh_directory_name 钩子运行：
</p>
<div class="example">
<pre class="example-preformatted">autoload -Uz add-zsh-hook zsh_directory_name_generic zdn_mywrapper
add-zsh-hook -U zsh_directory_name zdn_mywrapper
</pre></div>


</div>
<div class="subsection-level-extent" id="Pei-Zhi--2">
<h4 class="subsection"><span>26.4.2 配置<a class="copiable-link" href="#Pei-Zhi--2"> &para;</a></span></h4>

<p>封装函数应定义一个本地关联数组 zdn_top。 或者，也可以使用名为 <code class="t">mapping</code> 的样式来设置。 样式的上下文为
<code class="t">:zdn:</code><var class="var">wrapper-name</var>，其中 <var class="var">wrapper-name</var> 是调用
zsh_directory_name_generic 的函数；例如
</p>
<div class="example">
<pre class="example-preformatted">zstyle :zdn:zdn_mywrapper: mapping zdn_mywrapper_top
</pre></div>

<p>该关联数组的键与名称的第一个组件相对应。 值是匹配的目录。
它们可以有一个可选的后缀，后缀是一个斜线，后面跟一个冒号和一个格式相同的变量名，以便给出下一个组件。
(冒号前的斜线是为了消除歧义，这种情况，驱动器路径中需要冒号。 除此之外，没有任何语法可以将其转义，因此不支持名称以冒号开头的路径组件）。
一个特殊的组件 <code class="t">:default:</code> 以 <code class="t">/:</code><var class="var">var</var>
的形式指定了一个变量（路径部分将被忽略，因此通常为空），如果没有为路径指定变量，下一个组件将使用该变量。 <code class="t">zdn_top</code> 中引用的变量格式与
<code class="t">zdn_top</code> 本身相同，但包含相对路径。
</p>
<p>例如,
</p>
<div class="example">
<pre class="example-preformatted">local -A zdn_top=(
  g   ~/git
  ga  ~/alternate/git
  gs  /scratch/$USER/git/:second2
  :default: /:second1
)
</pre></div>

<p>这指定了被称为 <code class="t">~[g:...]</code> 或 <code class="t">~[ga:...]</code> 或 <code class="t">~[gs:...]</code>的目录的行为。
后面的路径组件是可选的；在这种情况下，<code class="t">~[g]</code> 会扩展为 <code class="t">~/git</code>，以此类推。 <code class="t">gs</code> 扩展为
<code class="t">/scratch/$USER/git</code>，并使用关联数组 <code class="t">second2</code> 匹配第二个组件；<code class="t">g</code> 和 <code class="t">ga</code> 使用关联数组
<code class="t">second1</code> 匹配第二个组件。
</p>
<p>在将名称扩展为目录时，如果第一个组件不是 <code class="t">g</code>、<code class="t">ga</code> 或 <code class="t">gs</code>，则不会出错；函数只会返回 1，以便尝试后面的钩子函数。
不过，匹配第一个组件会提交函数，因此如果后面的组件不匹配，就会打印错误信息（尽管这仍不能阻止后面的钩子执行）。
</p>
<p>对于第一个组件之后的组件，预计会使用相对路径，但注意仍可能出现多个层级。 下面是 <code class="t">second1</code> 的示例：
</p>
<div class="example">
<pre class="example-preformatted">local -A second1=(
  p   myproject
  s   somproject
  os  otherproject/subproject/:third
)
</pre></div>

<p>从 <code class="t">zdn_top</code> 中找到的路径会用匹配目录进行扩展，因此 <code class="t">~[g:p]</code> 变成了 <code class="t">~/git/myproject</code>。
中间的斜线是自动添加的（不可能让后面的组件修改已匹配目录的名称）。 只有 <code class="t">os</code> 为第三个组件指定了变量，而且没有
<code class="t">:default:</code>，因此使用 <code class="t">~[g:p:x]</code> 或 <code class="t">~[ga:s:y]</code> 这样的名称是错误的，因为没有地方可以查找 <code class="t">x</code> 或
<code class="t">y</code>。
</p>
<p>关联数组需要在该函数中可见；因此，为了避免冲突，泛型函数使用了以 <code class="t">_zdn_</code> 开头的内部变量名。 需要注意的是，变量 <code class="t">reply</code>
需要传回 shell，因此不应在调用函数中本地化。
</p>
<p>该函数并不测试由组件组成的目录是否实际存在；这使得系统可以在自动挂载的文件系统中运行。 试图使用不存在的目录时，命令会出现错误，这足以说明问题所在。
</p>

</div>
<div class="subsection-level-extent" id="Bu-Quan-ShiLi">
<h4 class="subsection"><span>26.4.3 补全示例<a class="copiable-link" href="#Bu-Quan-ShiLi"> &para;</a></span></h4>

<p>以下是上述代码定义的示例函数的完整虚构但可用的自动加载定义。 因此， <code class="t">~[gs:p:s]</code> 会展开为
<code class="t">/scratch/$USER/git/myscratchproject/top/srcdir</code>（<code class="t">$USER</code> 也会展开）。
</p>
<div class="example">
<pre class="example-preformatted">local -A zdn_top=(
  g   ~/git
  ga  ~/alternate/git
  gs  /scratch/$USER/git/:second2
  :default: /:second1
)

local -A second1=(
  p   myproject
  s   somproject
  os  otherproject/subproject/:third
)

local -A second2=(
  p   myscratchproject
  s   somescratchproject
)

local -A third=(
  s   top/srcdir
  d   top/documentation
)

# autoload not needed if you did this at initialisation...
autoload -Uz zsh_directory_name_generic
zsh_directory_name_generic &quot;$@
</pre></div>

<p>也可以使用全局关联数组（以适当的方式命名），并将封装函数的上下文样式设置为引用到这个数组。 这样，您的设置代码将包含以下内容：
</p>
<div class="example">
<pre class="example-preformatted">typeset -A zdn_mywrapper_top=(...)
# ... and so on for other associative arrays ...
zstyle ':zdn:zdn_mywrapper:' mapping zdn_mywrapper_top
autoload -Uz add-zsh-hook zsh_directory_name_generic zdn_mywrapper
add-zsh-hook -U zsh_directory_name zdn_mywrapper
</pre></div>

<p>而函数 <code class="t">zdn_mywrapper</code> 将只包含以下内容：
</p>
<div class="example">
<pre class="example-preformatted">zsh_directory_name_generic &quot;$@&quot;
</pre></div>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_7248_672c_63a7_5236_4fe1_606f">

<h3 class="section" id="Cong-Ban-Ben-Kong-Zhi-Xi-Tong-ZhongShou-Ji-Xin-Xi-"><span>26.5 从版本控制系统中收集信息<a class="copiable-link" href="#Cong-Ban-Ben-Kong-Zhi-Xi-Tong-ZhongShou-Ji-Xin-Xi-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-Ban-Ben-Kong-Zhi-Shi-Yong-Cheng-Xu-"></a>

<p>在很多情况下，从版本控制系统（VCS）（如 subversion、CVS 或
git）中自动获取信息并提供给用户（可能是在用户提示符中）是件好事。例如，这样你就能立即知道当前在哪个分支上。
</p>
<p>为此，您可以使用 <code class="t">vcs_info</code> 函数。
</p>
<p>系统支持以下版本控制系统，并显示了系统内使用的简称：
</p><dl class="table">
<dt>Bazaar (<code class="t">bzr</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://bazaar.canonical.com/">https://bazaar.canonical.com/</a></code>
</p></dd>
<dt>Codeville (<code class="t">cdv</code>)</dt>
<dd><p><code class="t"><a class="uref" href="http://freecode.com/projects/codeville/">http://freecode.com/projects/codeville/</a></code>
</p></dd>
<dt>Concurrent Versioning System (<code class="t">cvs</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://www.nongnu.org/cvs/">https://www.nongnu.org/cvs/</a></code>
</p></dd>
<dt>Darcs (<code class="t">darcs</code>)</dt>
<dd><p><code class="t"><a class="uref" href="http://darcs.net/">http://darcs.net/</a></code>
</p></dd>
<dt>Fossil (<code class="t">fossil</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://fossil-scm.org/">https://fossil-scm.org/</a></code>
</p></dd>
<dt>Git (<code class="t">git</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://git-scm.com/">https://git-scm.com/</a></code>
</p></dd>
<dt>GNU arch (<code class="t">tla</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://www.gnu.org/software/gnu-arch/">https://www.gnu.org/software/gnu-arch/</a></code>
</p></dd>
<dt>Mercurial (<code class="t">hg</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://www.mercurial-scm.org/">https://www.mercurial-scm.org/</a></code>
</p></dd>
<dt>Monotone (<code class="t">mtn</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://monotone.ca/">https://monotone.ca/</a></code>
</p></dd>
<dt>Perforce (<code class="t">p4</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://www.perforce.com/">https://www.perforce.com/</a></code>
</p></dd>
<dt>Subversion (<code class="t">svn</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://subversion.apache.org/">https://subversion.apache.org/</a></code>
</p></dd>
<dt>SVK (<code class="t">svk</code>)</dt>
<dd><p><code class="t"><a class="uref" href="https://svk.bestpractical.com/">https://svk.bestpractical.com/</a></code>
</p></dd>
</dl>

<p>此外，还支持补丁管理系统 <code class="t">quilt</code>
(<code class="t"><a class="uref" href="https://savannah.nongnu.org/projects/quilt">https://savannah.nongnu.org/projects/quilt</a></code>)。详情请参见下面的
<a class="ref" href="#vcs_005finfo-Quilt-_652f_6301">Quilt 支持</a>。
</p>
<p>载入 <code class="t">vcs_info</code>:
</p>
<div class="example">
<pre class="example-preformatted">autoload -Uz vcs_info
</pre></div>

<p>它可以在任何现有提示符中使用，因为它不需要任何特定的 <code class="t">$psvar</code> 条目。
</p>

<hr>
<div class="subsection-level-extent" id="vcs_005finfo-_5feb_901f_5f00_59cb">

<h4 class="subsection" id="Kuai-Su-Kai-Shi-"><span>26.5.1 快速开始<a class="copiable-link" href="#Kuai-Su-Kai-Shi-"> &para;</a></span></h4>

<p>要快速使用此功能（包括颜色），可以执行以下操作（假设已正确加载 <code class="t">vcs_info</code> - 参见上文）：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' actionformats \ 
    '%F{5}(%f%s%F{5})%F{3}-%F{5}[%F{2}%b%F{3}|%F{1}%a%F{5}]%f '
zstyle ':vcs_info:*' formats       \ 
    '%F{5}(%f%s%F{5})%F{3}-%F{5}[%F{2}%b%F{5}]%f '
zstyle ':vcs_info:(sv[nk]|bzr):*' branchformat '%b%F{1}:%F{3}%r'
precmd () { vcs_info }
PS1='%F{5}[%F{2}%n%F{5}] %F{3}%3~ ${vcs_info_msg_0_}%f%# '
</pre></div>

<p>很明显，最后两行是用来演示的。您需要从 <code class="t">precmd</code> 函数中调用 <code class="t">vcs_info</code>。调用完成后，您需要在提示符中为
<code class="t">'${vcs_info_msg_0_}'</code> <em class="emph">加单引号</em> 。
</p>
<p>要像这样在提示符中直接使用 <code class="t">'${vcs_info_msg_0_}'</code> ，需要启用 <code class="t">PROMPT_SUBST</code> 选项。
</p>
<p>现在从命令行调用 <code class="t">vcs_info_printsys</code> 工具：
</p>
<div class="example">
<pre class="example-preformatted">% vcs_info_printsys
## list of supported version control backends:
## disabled systems are prefixed by a hash sign (#)
bzr
cdv
cvs
darcs
fossil
git
hg
mtn
p4
svk
svn
tla
## flavours (cannot be used in the enable or disable styles; they
## are enabled and disabled with their master [git-svn -&gt; git])
## they *can* be used in contexts: ':vcs_info:git-svn:*'.
git-p4
git-svn
hg-git
hg-hgsubversion
hg-hgsvn
</pre></div>

<p>您可能不需要所有这些，因为运行代码来检测您不使用的系统毫无意义。 因此，有一种方法可以完全禁用某些后端：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' disable bzr cdv darcs mtn svk tla
</pre></div>

<p>您也可以从列表中挑选几项，并只启用那几项：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' enable git cvs svn
</pre></div>

<p>如果你在执行完这些命令后重新运行 <code class="t">vcs_info_printsys</code>，你会看到 <code class="t">disable</code> 样式中列出的后端（或
<code class="t">enable</code> 样式中没有列出的后端（如果你使用了））以哈希符号标记为禁用。 这意味着将 <em class="emph">完全</em> 跳过对这些系统的检测。不会浪费时间。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-_914d_7f6e">

<h4 class="subsection" id="Pei-Zhi--3"><span>26.5.2 配置<a class="copiable-link" href="#Pei-Zhi--3"> &para;</a></span></h4>

<p>可通过 <code class="t">zstyle</code> 配置 <code class="t">vcs_info</code> 功能。
</p>
<p>首先是我们工作的上下文：
</p><div class="example">
<pre class="example-preformatted">:vcs_info:<var class="var">vcs-string</var>:<var class="var">user-context</var>:<var class="var">repo-root-name</var>
</pre></div>

<dl class="table">
<dt><var class="var">vcs-string</var></dt>
<dd><p>是下列之一：
<code class="t">git</code>、<code class="t">git-svn</code>、<code class="t">git-p4</code>、<code class="t">hg</code>、<code class="t">hg-git</code>、<code class="t">hg-hgsubversion</code>、<code class="t">hg-hgsvn</code>、<code class="t">darcs</code>、<code class="t">bzr</code>、<code class="t">cdv</code>、<code class="t">mtn</code>、<code class="t">svn</code>、<code class="t">cvs</code>、<code class="t">svk</code>、<code class="t">tla</code>、<code class="t">p4</code>
或 <code class="t">fossil</code>。 在 Quilt 模式（详见 <a class="ref" href="#vcs_005finfo-Quilt-_652f_6301">Quilt 支持</a>）下，后跟
&lsquo;<code class="t">.quilt-</code><var class="var">quilt-mode</var>&rsquo; ；在钩子激活时，后跟 &lsquo;<code class="t">+</code><var class="var">hook-name</var>&rsquo; （详见
<a class="ref" href="#vcs_005finfo-_52fe_5b50">vcs_info 中的勾子</a>）。
</p>

<p>目前，quilt 模式下的钩子不会添加 &lsquo;<code class="t">.quilt-</code><var class="var">quilt-mode</var>&rsquo; 信息。 这点未来可能会有所改变。
</p>
</dd>
<dt><var class="var">user-context</var></dt>
<dd><p>是一个可自由配置的字符串，用户可将其指定为 <code class="t">vcs_info</code>的第一个参数（参见下文的描述）。
</p>
</dd>
<dt><var class="var">repo-root-name</var></dt>
<dd><p>是您希望匹配样式的版本库名称。因此，如果你想对 <code class="t">/usr/src/zsh</code> 进行特定设置，并将其作为 CVS 检出，你可以将
<var class="var">repo-root-name</var> 设置为 <code class="t">zsh</code>，这样就可以了。
</p>
</dd>
</dl>

<p><var class="var">vcs-string</var> 有三个特殊值： 第一种名为 <code class="t">-init-</code>，在尚未决定使用哪种 VCS 后端时有效。第二个是
<code class="t">-preinit-</code>；它在 <code class="t">vcs_info</code>  <em class="emph">之前</em>，初始化数据导出变量时， 使用。第三个特殊值是
<code class="t">formats</code>，用于 <code class="t">vcs_info_lastmsg</code> 查找样式。
</p>
<p><var class="var">repo-root-name</var> 的初始值为 <code class="t">-all-</code>，一旦知道实际名称，就会立即替换为该名称。只有在定义
<code class="t">formats</code>、<code class="t">actionformats</code> 或 <code class="t">branchformat</code> 样式时才会使用这部分上下文，因为只有在这些情况下
<var class="var">repo-root-name</var> 才会被正确设置。对于其他样式，只需使用 <code class="t">'*'</code> 代替即可。
</p>
<p><var class="var">user-context</var> 有两个预定义值：
</p><dl class="table">
<dt><code class="t">default</code></dt>
<dd><p>如果没有指定，则使用
</p></dd>
<dt><code class="t">command</code></dt>
<dd><p>被 vcs_info_lastmsg 用于查找其样式
</p></dd>
</dl>

<p>当然，您也可以使用 <code class="t">':vcs_info:*'</code> 一次匹配所有用户上下文中的所有 VCS。
</p>
<p>这是对所有查询样式的描述。
</p>
<dl class="table">
<dt><a id="index-formats"></a><span><code class="t">formats</code><a class="copiable-link" href="#index-formats"> &para;</a></span></dt>
<dd><p>格式列表，用于不使用 actionformats 时（大多数情况下）。
</p>
</dd>
<dt><a id="index-actionformats"></a><span><code class="t">actionformats</code><a class="copiable-link" href="#index-actionformats"> &para;</a></span></dt>
<dd><p>格式列表，用于当前版本库中正在进行的特殊操作，如交互式重置或合并冲突。
</p>
</dd>
<dt><a id="index-branchformat"></a><span><code class="t">branchformat</code><a class="copiable-link" href="#index-branchformat"> &para;</a></span></dt>
<dd><p>在上述 formats 和 actionformats 样式中，有些后端不仅会用分支名称替换 <code class="t">%b</code>，还会用版本号替换
<code class="t">%b</code>。这种样式允许你修改该字符串的外观。
</p>
</dd>
<dt><a id="index-nvcsformats"></a><span><code class="t">nvcsformats</code><a class="copiable-link" href="#index-nvcsformats"> &para;</a></span></dt>
<dd><p>当我们没有检测到当前目录的版本控制系统或 <code class="t">vcs_info</code> 被禁用时，就会设置这些 &quot;格式&quot;。如果你想让 <code class="t">vcs_info</code>
完全接管提示符的生成，这一点非常有用。为此，你可以使用<code class="t">PS1='${vcs_info_msg_0_}'</code> 这样的方法。
</p>
</dd>
<dt><a id="index-hgrevformat"></a><span><code class="t">hgrevformat</code><a class="copiable-link" href="#index-hgrevformat"> &para;</a></span></dt>
<dd><p><code class="t">hg</code> 同时使用哈希值和版本号来引用版本库中的特定变更集。使用这个样式，你可以格式化版本号字符串（参见
<code class="t">branchformat</code>），使其中之一或两者。只有当 <code class="t">get-revision</code> 为 true 时才有用。需要注意的是，由于每次提示符执行
hg 多于一次会导致速度过慢，因此无法使用完整的 40 个字符的修订版本 ID（使用 <code class="t">use-simple</code>
选项时除外）；你可以使用钩子自定义此行为。
</p>
</dd>
<dt><a id="index-max_002dexports"></a><span><code class="t">max-exports</code><a class="copiable-link" href="#index-max_002dexports"> &para;</a></span></dt>
<dd><p>定义 <code class="t">vcs_info</code> 将设置的 <code class="t">vcs_info_msg_*_</code> 变量的最大数量。
</p>
</dd>
<dt><a id="index-enable-1"></a><span><code class="t">enable</code><a class="copiable-link" href="#index-enable-1"> &para;</a></span></dt>
<dd><p>要使用的后端列表。在 <code class="t">-init-</code> 上下文中进行检查。如果该列表包含名为 <code class="t">NONE</code> 的项，则不会使用任何后端，<code class="t">vcs_info</code>
也不会做任何操作。如果该列表包含 <code class="t">ALL</code>，<code class="t">vcs_info</code> 将使用所有已知的后端。只有 <code class="t">enable</code> 中包含 <code class="t">ALL</code>
时，<code class="t">disable</code> 样式才会生效。<code class="t">ALL</code> 和 <code class="t">NONE</code> 不区分大小写。
</p>
</dd>
<dt><a id="index-disable-1"></a><span><code class="t">disable</code><a class="copiable-link" href="#index-disable-1"> &para;</a></span></dt>
<dd><p>不想让 <code class="t">vcs_info</code> 测试版本库的 VCS 列表（在 <code class="t">-init-</code> 上下文中也会检查）。仅在 <code class="t">enable</code> 包含
<code class="t">ALL</code> 时使用。
</p>
</dd>
<dt><a id="index-disable_002dpatterns"></a><span><code class="t">disable-patterns</code><a class="copiable-link" href="#index-disable_002dpatterns"> &para;</a></span></dt>
<dd><p>根据 <code class="t">$PWD</code> 检查的模式列表。如果一个模式匹配，<code class="t">vcs_info</code> 将被禁用。此样式在
<code class="t">:vcs_info:-init-:*:-all-</code> 上下文中进行检查。
</p>
<p>假设 <code class="t">~/.zsh</code> 是一个受版本控制的目录，您不希望 <code class="t">vcs_info</code> 在其中处于活动状态，请执行此操作：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' disable-patterns &quot;${(b)HOME}/.zsh(|/*)&quot;
</pre></div>

</dd>
<dt><a id="index-use_002dquilt"></a><span><code class="t">use-quilt</code><a class="copiable-link" href="#index-use_002dquilt"> &para;</a></span></dt>
<dd><p>如果启用，<code class="t">quilt</code> 支持代码将在 &lsquo;插件&rsquo; 模式下激活。 有关详情，请参阅 <a class="ref" href="#vcs_005finfo-Quilt-_652f_6301">Quilt 支持</a> 。
</p>
</dd>
<dt><a id="index-quilt_002dstandalone"></a><span><code class="t">quilt-standalone</code><a class="copiable-link" href="#index-quilt_002dstandalone"> &para;</a></span></dt>
<dd><p>如果启用，在指定目录中如果没有激活 VCS ，将尝试进行 &lsquo;独立&rsquo; 模式检测。有关详情，请参阅 <a class="ref" href="#vcs_005finfo-Quilt-_652f_6301">Quilt 支持</a> 。
</p>
</dd>
<dt><a id="index-quilt_002dpatch_002ddir"></a><span><code class="t">quilt-patch-dir</code><a class="copiable-link" href="#index-quilt_002dpatch_002ddir"> &para;</a></span></dt>
<dd><p>覆盖 <code class="t">$QUILT_PATCHES</code> 环境变量的值。有关详情，请参阅 <a class="ref" href="#vcs_005finfo-Quilt-_652f_6301">Quilt 支持</a> 。
</p>
</dd>
<dt><a id="index-quiltcommand"></a><span><code class="t">quiltcommand</code><a class="copiable-link" href="#index-quiltcommand"> &para;</a></span></dt>
<dd><p>在 quilt 支持中调用 <code class="t">quilt</code> 本身时，该样式的值将被用作命令名称。
</p>
</dd>
<dt><a id="index-check_002dfor_002dchanges"></a><span><code class="t">check-for-changes</code><a class="copiable-link" href="#index-check_002dfor_002dchanges"> &para;</a></span></dt>
<dd><p>启用该样式后，当工作目录中有未提交的更改时，将显示 <code class="t">%c</code> 和 <code class="t">%u</code> 格式转义符。可以通过 <code class="t">stagedstr</code> 和
<code class="t">unstagedstr</code> 样式控制这些转义字符显示的字符串。目前支持此选项的后端只有 <code class="t">git</code>、<code class="t">hg</code> 和
<code class="t">bzr</code>（后两者仅支持未提交的）。
</p>
<p>要使用 <code class="t">hg</code> 后端对该样式进行评估，需要设置 <code class="t">get-revision</code> 样式，并取消设置 <code class="t">use-simple</code>
样式。后者是默认设置，前者则不是。
</p>
<p>使用 <code class="t">bzr</code> 后端时，只有设置了 <code class="t">use-server</code> 样式，<em class="emph">lightweight checkouts</em>
才会采用这种样式。
</p>
<p>需要注意的是，如果启用该样式，所采取的操作可能会很昂贵（可能会很慢，这取决于当前版本库有多大）。 因此，默认情况下是禁用的。
</p>
</dd>
<dt><a id="index-check_002dfor_002dstaged_002dchanges"></a><span><code class="t">check-for-staged-changes</code><a class="copiable-link" href="#index-check_002dfor_002dstaged_002dchanges"> &para;</a></span></dt>
<dd><p>该样式与 <code class="t">check-for-changes</code> 类似，但它从不检查工作树文件，只检查 <code class="t">.${vcs}</code> 目录中的元数据。
因此，该样式只初始化 <code class="t">%c</code> 转义符（使用 <code class="t">stagedstr</code>），而不初始化 <code class="t">%u</code> 转义符。 该样式比
<code class="t">check-for-changes</code> 更快。
</p>
<p>在 <code class="t">git</code> 后端，该样式会检查索引中的更改。 其他后端目前还未实现此样式。
</p>
<p>这个样式默认禁用。
</p>
</dd>
<dt><a id="index-stagedstr"></a><span><code class="t">stagedstr</code><a class="copiable-link" href="#index-stagedstr"> &para;</a></span></dt>
<dd><p>如果存储库中有暂存的更改，该字符串将用于 <code class="t">%c</code> 转义。
</p>
</dd>
<dt><a id="index-unstagedstr"></a><span><code class="t">unstagedstr</code><a class="copiable-link" href="#index-unstagedstr"> &para;</a></span></dt>
<dd><p>如果版本库中有未暂存的更改，该字符串将用于 <code class="t">%u</code> 转义。
</p>
</dd>
<dt><a id="index-command-2"></a><span><code class="t">command</code><a class="copiable-link" href="#index-command-2"> &para;</a></span></dt>
<dd><p>这种样式会导致 <code class="t">vcs_info</code> 使用所提供的字符串作为 VCS 的二进制命令。需要注意的是，在 &rsquo;<code class="t">:vcs_info:*</code>&rsquo;
中设置此参数并不是一个好主意。
</p>
<p>如果该样式的值为空（默认值），则使用的二进制名是正在使用的后端名称（例如 <code class="t">svn</code> 用于 <code class="t">svn</code> 版本库）。
</p>
<p>在查找此样式时，上下文中的 <code class="t">repo-root-name</code> 部分总是默认的 <code class="t">-all-</code>。
</p>
<p>例如，这种样式可用于使用非默认安装目录中的二进制文件。假设 <code class="t">git</code> 安装在 /usr/bin，但系统管理员在 /usr/local/bin
安装了更新的版本。与其改变 <code class="t">$PATH</code> 参数的顺序，不如这样做：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:git:*:-all-' command /usr/local/bin/git
</pre></div>

</dd>
<dt><a id="index-use_002dserver"></a><span><code class="t">use-server</code><a class="copiable-link" href="#index-use_002dserver"> &para;</a></span></dt>
<dd><p>Perforce 后端（<code class="t">p4</code>）使用它来决定是否要联系 Perforce 服务器，以查明某个目录是否由 Perforce 管理。
这是唯一可靠的方法，但如果找不到服务器名称，就会有延迟的风险。 如果无法联系到服务器（更具体地说，就是描述服务器的
<var class="var">host</var><code class="t">:</code><var class="var">port</var> 对），其名称就会被放入关联数组 <code class="t">vcs_info_p4_dead_servers</code>
，并且在会话期间不会再被联系，直到被手动删除。 如果不设置此样式，只有将环境变量 <code class="t">P4CONFIG</code> 设置为文件名，并且在每个 Perforce
客户端的根目录中都有相应的文件时，才能使用 <code class="t">p4</code> 后端。 详情请参见函数 <code class="t">VCS_INFO_detect_p4</code> 中的注释。
</p>
<p>Bazaar 后端（<code class="t">bzr</code>）使用此功能允许就轻量级检出联系服务器，参见 <code class="t">check-for-changes</code> 样式。
</p>
</dd>
<dt><a id="index-use_002dsimple"></a><span><code class="t">use-simple</code><a class="copiable-link" href="#index-use_002dsimple"> &para;</a></span></dt>
<dd><p>如果有两种不同的信息收集方式，可以通过将此样式设置为 true
来选择更简单的一种；默认情况下使用不那么简单的代码，这可能会慢很多，但在所有可能的情况下都可能更准确。<code class="t">bzr</code>、<code class="t">hg</code> 和 <code class="t">git</code>
后端都使用这种样式。对于 <code class="t">hg</code>，它将调用外部 hexdump 程序来解析二进制 dirstate 缓存文件；该方法不会返回本地版本号。
</p>
</dd>
<dt><a id="index-get_002drevision"></a><span><code class="t">get-revision</code><a class="copiable-link" href="#index-get_002drevision"> &para;</a></span></dt>
<dd><p>如果设置为 true，vcs_info 会额外计算版本库工作树的修订版本（目前适用于 <code class="t">git</code> 和 <code class="t">hg</code>
后端，这类信息并不总是很重要）。对于 <code class="t">git</code>，当前已检出提交的哈希值可通过 <code class="t">%i</code> 扩展获得。对于 <code class="t">hg</code>，则可通过 <code class="t">%i</code>
获取本地版本号和相应的全局哈希值。
</p>
</dd>
<dt><a id="index-get_002dmq"></a><span><code class="t">get-mq</code><a class="copiable-link" href="#index-get_002dmq"> &para;</a></span></dt>
<dd><p>如果设置为 true，<code class="t">hg</code> 后端将查找 Mercurial Queue (<code class="t">mq</code>) 补丁目录。信息将通过 &lsquo;<code class="t">%m</code>&rsquo; 替换提供。
</p>
</dd>
<dt><a id="index-get_002dbookmarks"></a><span><code class="t">get-bookmarks</code><a class="copiable-link" href="#index-get_002dbookmarks"> &para;</a></span></dt>
<dd><p>如果设置为 true，<code class="t">hg</code> 后端将尝试获取当前书签的列表。这些书签将通过 &lsquo;<code class="t">%m</code>&rsquo; 替换获得。
</p>
<p>默认设置是生成一个以逗号分隔的列表，其中包含所有指向当前已检出修订版的书签名称。 如果某个书签处于活动状态，则其名称后缀星号，并置于列表首位。
</p>
</dd>
<dt><a id="index-use_002dprompt_002descapes"></a><span><code class="t">use-prompt-escapes</code><a class="copiable-link" href="#index-use_002dprompt_002descapes"> &para;</a></span></dt>
<dd><p>决定是否假设 <code class="t">vcs_info</code> 汇编的字符串包含提示符转义。(被 <code class="t">vcs_info_lastmsg</code> 使用）。
</p>
</dd>
<dt><a id="index-debug"></a><span><code class="t">debug</code><a class="copiable-link" href="#index-debug"> &para;</a></span></dt>
<dd><p>启用调试输出以跟踪可能出现的问题。目前只有 <code class="t">vcs_info</code> 的钩子系统使用这种样式。
</p>
</dd>
<dt><a id="index-hooks"></a><span><code class="t">hooks</code><a class="copiable-link" href="#index-hooks"> &para;</a></span></dt>
<dd><p>定义钩子函数名称的样式列表。详情请参阅下面的 <a class="ref" href="#vcs_005finfo-_52fe_5b50">vcs_info 中的勾子</a> 。
</p>
</dd>
<dt><a class="index-entry-id" id="index-nopatch_002dformat"></a>
<a id="index-patch_002dformat"></a><span><code class="t">patch-format</code><a class="copiable-link" href="#index-patch_002dformat"> &para;</a></span></dt>
<dt><code class="t">nopatch-format</code></dt>
<dd><p>这对样式格式化了 <code class="t">%m</code> 扩展在 <code class="t">git</code> 和 <code class="t">hg</code> 后端 formats 和 actionformats 中使用的补丁信息。
该值受下文所述的某些 <code class="t">%</code> 扩展的限制。 扩展后的值将以 <code class="t">${backend_misc[patches]}</code> 的形式出现在全局
<code class="t">backend_misc</code> 数组中。(如果使用了 <code class="t">set-patch-format</code> 钩子）。
</p>
</dd>
<dt><a id="index-get_002dunapplied"></a><span><code class="t">get-unapplied</code><a class="copiable-link" href="#index-get_002dunapplied"> &para;</a></span></dt>
<dd><p>该布尔样式控制后端是否应尝试收集未应用补丁的列表（例如 Mercurial 队列补丁）。
</p>
<p>由 <code class="t">quilt</code>、<code class="t">hg</code> 和 <code class="t">git</code> 后端使用。
</p>
</dd>
</dl>

<p>在所有上下文中，这些样式的默认值是:
</p>
<dl class="table">
<dt><code class="t">formats</code></dt>
<dd><p>&quot; (%s)-[%b]%u%c-&quot;
</p></dd>
<dt><code class="t">actionformats</code></dt>
<dd><p>&quot; (%s)-[%b|%a]%u%c-&quot;
</p></dd>
<dt><code class="t">branchformat</code></dt>
<dd><p>&quot;%b:%r&quot; (for bzr, svn, svk and hg)
</p></dd>
<dt><code class="t">nvcsformats</code></dt>
<dd><p>&quot;&quot;
</p></dd>
<dt><code class="t">hgrevformat</code></dt>
<dd><p>&quot;%r:%h&quot;
</p></dd>
<dt><code class="t">max-exports</code></dt>
<dd><p>2
</p></dd>
<dt><code class="t">enable</code></dt>
<dd><p>ALL
</p></dd>
<dt><code class="t">disable</code></dt>
<dd><p>(empty list)
</p></dd>
<dt><code class="t">disable-patterns</code></dt>
<dd><p>(empty list)
</p></dd>
<dt><code class="t">check-for-changes</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">check-for-staged-changes</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">stagedstr</code></dt>
<dd><p>(string: &quot;S&quot;)
</p></dd>
<dt><code class="t">unstagedstr</code></dt>
<dd><p>(string: &quot;U&quot;)
</p></dd>
<dt><code class="t">command</code></dt>
<dd><p>(empty string)
</p></dd>
<dt><code class="t">use-server</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">use-simple</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">get-revision</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">get-mq</code></dt>
<dd><p>true
</p></dd>
<dt><code class="t">get-bookmarks</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">use-prompt-escapes</code></dt>
<dd><p>true
</p></dd>
<dt><code class="t">debug</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">hooks</code></dt>
<dd><p>(empty list)
</p></dd>
<dt><code class="t">use-quilt</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">quilt-standalone</code></dt>
<dd><p>false
</p></dd>
<dt><code class="t">quilt-patch-dir</code></dt>
<dd><p>empty - use <code class="t">$QUILT_PATCHES</code>
</p></dd>
<dt><code class="t">quiltcommand</code></dt>
<dd><p>quilt
</p></dd>
<dt><code class="t">patch-format</code></dt>
<dd><p><var class="var">backend dependent</var>
</p></dd>
<dt><code class="t">nopatch-format</code></dt>
<dd><p><var class="var">backend dependent</var>
</p></dd>
<dt><code class="t">get-unapplied</code></dt>
<dd><p>false
</p></dd>
</dl>

<p>在正常的 <code class="t">formats</code> 和 <code class="t">actionformats</code> 中，会进行以下替换：
</p>
<dl class="table">
<dt><code class="t">%s</code></dt>
<dd><p>使用的 VCS（git、hg、svn 等）。
</p></dd>
<dt><code class="t">%b</code></dt>
<dd><p>有关当前分支的信息。
</p></dd>
<dt><code class="t">%a</code></dt>
<dd><p>描述操作的标识符。只有在 <code class="t">actionformats</code> 中才有意义。
</p></dd>
<dt><code class="t">%i</code></dt>
<dd><p>当前版本号或标识符。对于 <code class="t">hg</code>，可使用 <code class="t">hgrevformat</code> 样式自定义输出。
</p></dd>
<dt><code class="t">%c</code></dt>
<dd><p>如果版本库中存在阶段性变更，则使用 <code class="t">stagedstr</code> 样式中的字符串。
</p></dd>
<dt><code class="t">%u</code></dt>
<dd><p>如果版本库中存在未暂存的变更，则使用 <code class="t">unstagedstr</code> 样式中的字符串。
</p></dd>
<dt><code class="t">%R</code></dt>
<dd><p>版本库的基本目录。
</p></dd>
<dt><code class="t">%r</code></dt>
<dd><p>版本库名称。如果 <code class="t">%R</code> 是 <code class="t">/foo/bar/repoXY</code>，<code class="t">%r</code> 就是 <code class="t">repoXY</code>。
</p></dd>
<dt><code class="t">%S</code></dt>
<dd><p>版本库中的一个子目录。如果 <code class="t">$PWD</code> 是 <code class="t">/foo/bar/repoXY/beer/tasty</code>，<code class="t">%S</code> 就是
<code class="t">beer/tasty</code>。
</p></dd>
</dl>
<dl class="table">
<dt><code class="t">%m</code></dt>
<dd><p>&quot;杂项&quot; 替换。后台可自行决定将此替换扩展为哪些内容。
</p>
<p><code class="t">hg</code> 和 <code class="t">git</code> 后端使用此扩展来显示补丁信息。 <code class="t">hg</code> 从 <code class="t">mq</code> 扩展获取补丁信息；<code class="t">git</code> 从正在进行的
<code class="t">rebase</code> 和 <code class="t">cherry-pick</code> 操作以及 <code class="t">stgit</code> 扩展获取补丁信息。 <code class="t">patch-format</code> 和
<code class="t">nopatch-format</code> 样式控制生成的字符串。 前者在补丁队列中至少有一个补丁被应用时使用，后者在其他情况下使用。
</p>
<p><code class="t">hg</code> 后端还会在此扩展中显示书签信息(除了 <code class="t">mq</code> 信息外)。 请参阅 <code class="t">get-mq</code> 和 <code class="t">get-bookmarks</code>
样式。 这两种样式可同时启用。 如果同时启用这两种样式，生成的两个字符串都将以分号分隔（目前无法自定义）。
</p>
<p><code class="t">quilt</code> &quot;独立&quot; 后端，会将此扩展设置为与 <code class="t">%Q</code> 扩展相同的值。
</p>
</dd>
<dt><code class="t">%Q</code></dt>
<dd><p>Quilt 系列信息。 当使用 quilt 时（无论是在 &quot;插件&quot; 模式下还是作为 &quot;独立&quot; 后端），该扩展项将被设置为 quilt 系列的
<code class="t">patch-format</code> 字符串。 <code class="t">set-patch-format</code> 钩子和 <code class="t">nopatch-format</code> 样式将被保留。
</p>
<p>有关详细信息，请参阅下面的 <a class="ref" href="#vcs_005finfo-Quilt-_652f_6301">Quilt 支持</a>。
</p>
</dd>
</dl>

<p>在 <code class="t">branchformat</code> 中，这些替换已经完成：
</p>
<dl class="table">
<dt><code class="t">%b</code></dt>
<dd><p>分支名称。对于 <code class="t">hg</code>，分支名称可以包括主题名称。
</p></dd>
<dt><code class="t">%r</code></dt>
<dd><p>当前版本号或 <code class="t">hg</code> 的 <code class="t">hgrevformat</code> 样式。
</p></dd>
</dl>

<p>在 <code class="t">hgrevformat</code> 中，这些替换将被完成：
</p>
<dl class="table">
<dt><code class="t">%r</code></dt>
<dd><p>当前本地修订号。
</p></dd>
<dt><code class="t">%h</code></dt>
<dd><p>当前的全局修订标识符。
</p></dd>
</dl>

<p>在 <code class="t">patch-format</code> 和 <code class="t">nopatch-format</code> 中，这些替换将被完成：
</p>
<dl class="table">
<dt><code class="t">%p</code></dt>
<dd><p>最上层应用补丁的名称；可由 <code class="t">applied-string</code> 钩子覆盖。
</p></dd>
<dt><code class="t">%u</code></dt>
<dd><p>未应用的补丁数量；可通过 <code class="t">unapplied-string</code> 钩子覆盖。
</p></dd>
<dt><code class="t">%n</code></dt>
<dd><p>已应用补丁的数量。
</p></dd>
<dt><code class="t">%c</code></dt>
<dd><p>未应用的补丁数量。
</p></dd>
<dt><code class="t">%a</code></dt>
<dd><p>所有补丁的数量 (<code class="t">%a = %n + %c</code>)。
</p></dd>
<dt><code class="t">%g</code></dt>
<dd><p>活动 <code class="t">mq</code> 守卫（<code class="t">hg</code> 后端）的名称。
</p></dd>
<dt><code class="t">%G</code></dt>
<dd><p>活动 <code class="t">mq</code> 守卫（<code class="t">hg</code> 后台）的数量。
</p></dd>
</dl>

<p>并非所有 VCS 后端都必须支持所有替换。对于 <code class="t">nvcsformats</code>，根本不会进行替换，它只是一个字符串。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-_5947_7279_73b0_8c61">

<h4 class="subsection" id="Qi-Te-Xian-Xiang-"><span>26.5.3 奇特现象<a class="copiable-link" href="#Qi-Te-Xian-Xiang-"> &para;</a></span></h4>

<p>如果要使用 <code class="t">formats</code>中的 <code class="t">%b</code>（粗体关闭）提示符扩展（它会扩展 <code class="t">%b</code> 本身），请使用 <code class="t">%%b</code>。这将导致
<code class="t">vcs_info</code> 扩展用 <code class="t">%b</code> 替换 <code class="t">%%b</code> ，这样 zsh 的提示符扩展机制可以处理它。同样，要从
<code class="t">branchformat</code> 传递 <code class="t">%b</code>，请使用
<code class="t">%%%%b</code>。很抱歉给您带来不便，但这是无法轻易避免的。幸运的是，我们与很多提示符扩展并不冲突，因此只需要在这些情况下才这样做。
</p>
<p>当 <code class="t">gen-applied-string</code>, <code class="t">gen-unapplied-string</code> 和 <code class="t">set-patch-format</code>
钩子中的一个被定义时，将 <code class="t">%</code>-转义（ (&lsquo;<code class="t">foo=${foo//'%'/%%}</code>&rsquo;)
应用到用于提示符的插值是这些钩子（共同）的责任；当这些钩子都未被定义时，<code class="t">vcs_info</code> 将自行处理转义。
我们对这种耦合感到遗憾，但这是向后兼容所必需的。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-Quilt-_652f_6301">

<h4 class="subsection" id="Quilt-Zhi-Chi-"><span>26.5.4 Quilt 支持<a class="copiable-link" href="#Quilt-Zhi-Chi-"> &para;</a></span></h4>

<p><cite class="cite">Quilt</cite>
并不是一个版本控制系统，因此并没有作为后端实现。它可以帮助跟踪一系列补丁。人们可以用它来在软件包上顶部保存一组他们想要使用的修改（这与软件包的构建过程紧密结合
- Debian 项目就为大量软件包做了这项工作）。Quilt 还能帮助个人开发者在真正的版本控制系统上跟踪自己的补丁。
</p>
<p><code class="t">vcs_info</code> 集成试图通过两种略有不同的操作模式（&lsquo;addon&rsquo; 模式和 &lsquo;standalone&rsquo; 模式）来支持两种使用 quilt
的方式。
</p>
<p>Quilt 集成默认为关闭；要启用它，请设置 <code class="t">use-quilt</code> 样式，并在 <code class="t">formats</code> 或 <code class="t">actionformats</code>
样式中添加 <code class="t">%Q</code>：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' use-quilt true
</pre></div>

<p>从 Quilt 支持代码中查找的样式包括上下文中 <var class="var">vcs-string</var> 部分的 &lsquo;<code class="t">.quilt-</code><var class="var">quilt-mode</var>&rsquo;
，其中 <var class="var">quilt-mode</var> 是 <code class="t">addon</code> 或 <code class="t">standalone</code>。 例如
<code class="t">:vcs_info:git.quilt-addon:default:</code><var class="var">repo-root-name</var>。
</p>
<p>要使 &lsquo;addon&rsquo; 模式生效，<code class="t">vcs_info</code> 必须已经检测到控制该目录的真正版本控制系统。如果是这种情况，则需要找到一个存放 quilt
补丁的目录。该目录可通过 &lsquo;<code class="t">QUILT_PATCHES</code>&rsquo; 环境变量进行配置。如果存在该变量，则使用其值，否则假定使用&lsquo;<code class="t">patches</code>&rsquo;
值。<code class="t">$QUILT_PATCHES</code>的值可以用 &lsquo;<code class="t">quilt-patch-dir</code>&rsquo; 样式覆盖。(注：您可以通过 <code class="t">post-quilt</code>
钩子使用 <code class="t">vcs_info</code> 来保持 <code class="t">$QUILT_PATCHES</code> 的值始终正确）。
</p>
<p>当找到相关目录时，quilt 会被认为处于活动状态。为了收集更多信息，<code class="t">vcs_info</code> 会查找名为 &lsquo;.pc&rsquo; 的目录；Quilt
会使用该目录来跟踪其当前状态。如果该目录不存在，我们就知道 quilt 还没有对工作目录做任何操作（还没有打补丁）。
</p>
<p>如果补丁已应用，<code class="t">vcs_info</code> 将尝试找出哪些补丁已应用。如果想知道某个系列中哪些补丁尚未应用，则需要在适当的上下文中激活
<code class="t">get-unapplied</code> 样式。
</p>
<p><code class="t">vcs_info</code> 允许对如何展示收集到的信息进行非常详细的控制（参见 <a class="ref" href="#vcs_005finfo-_914d_7f6e">配置</a> 和 <a class="ref" href="#vcs_005finfo-_52fe_5b50">vcs_info 中的勾子</a>），所有这些都将在下文中详细介绍。请注意，还有许多其他补丁跟踪系统是在特定版本控制系统之上运行的（如 <code class="t">stgit</code> 用于
<cite class="cite">git</cite>，或 <code class="t">mq</code> 用于 <cite class="cite">hg</cite>）；此类系统的配置方式通常与 <cite class="cite">quilt</cite> 支持的方式相同。
</p>
<p>如果 <cite class="cite">quilt</cite> 支持在 &lsquo;addon&rsquo; 模式下工作，生成的字符串可作为简单的格式替换（准确地说，是 <code class="t">%Q</code>），可用于
<code class="t">formats</code> 和 <code class="t">actionformats</code>；详情见下文）。
</p>
<p>另一方面，如果支持代码是在 &lsquo;standalone&rsquo; 模式下工作，<code class="t">vcs_info</code> 将假装 <code class="t">quilt</code>
是一个真正的版本控制系统。这意味着版本控制系统标识符（否则会是类似于&lsquo;svn&rsquo; 或 &lsquo;cvs&rsquo;）将被设置为
&lsquo;<code class="t">-quilt-</code>&rsquo;。这对所使用的样式上下文有影响，在该样式上下文中，该标识符是第二个元素。<code class="t">vcs_info</code> 将为 &quot;版本库
&quot;的根目录填入一个合适的值，包含被子状态信息的字符串将作为 &lsquo;misc&rsquo; 替换（以及 <code class="t">%Q</code> 以兼容 &lsquo;addon&rsquo; 模式）。
</p>
<p>剩下要讨论的是如何检测 &lsquo;standalone&rsquo;
模式。检测本身就是对目录的一系列搜索。你可以在每个不受版本控制的目录中一直启用这种检测。如果你知道只有一组有限的目录树，你希望 <code class="t">vcs_info</code>
在 &lsquo;standalone&rsquo; 模式下尝试查找 Quilt 以最小化每次调用 <code class="t">vcs_info</code> 时的搜索量，有几种方法可以实现这一目的：
</p>
<p>基本上， &lsquo;standalone&rsquo; 模式检测是由一种名为 &lsquo;<code class="t">quilt-standalone</code>&rsquo;
的样式控制的。这是一个字符串样式，其值可以产生不同的效果。最简单的值是: &lsquo;<code class="t">always</code>&rsquo; 表示每次运行 <code class="t">vcs_info</code>
时都进行检测，&lsquo;<code class="t">never</code>&rsquo; 表示完全关闭检测。
</p>
<p>如果 <code class="t">quilt-standalone</code> 的值是其他值，则会有不同的解释。如果值是标量变量的名称，则会检查该变量的值，并以上述
&lsquo;always&rsquo;/&lsquo;never&rsquo; 的方式使用该值。
</p>
<p>如果 <code class="t">quilt-standalone</code> 的值是一个数组，则该数组的元素将用作您希望激活检测的目录名。
</p>
<p>如果 <code class="t">quilt-standalone</code> 是一个关联数组，则键将作为您希望检测激活的目录名，但前提是相应的值是字符串 &lsquo;<code class="t">true</code>&rsquo;。
</p>
<p>最后但并非最不重要的一点是，如果 <code class="t">quilt-standalone</code>
的值是一个函数的名称，那么该函数将不带参数地被调用，而返回值则决定检测是否应被激活。返回值为&lsquo;0&rsquo; 的表示为 &quot;true&quot;；返回值为非零的表示为
&quot;false&quot;。
</p>
<p>注意，如果同时存在名为 <code class="t">quilt-standalone</code> 的函数和变量，则函数优先。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-API">

<h4 class="subsection" id="Han-Shu-Shuo-Ming-_0028Gong-Gong-API_0029"><span>26.5.5 函数说明（公共 API）<a class="copiable-link" href="#Han-Shu-Shuo-Ming-_0028Gong-Gong-API_0029"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-vcs_005finfo"></a><span><code class="t">vcs_info</code> [<var class="var">user-context</var>]<a class="copiable-link" href="#index-vcs_005finfo"> &para;</a></span></dt>
<dd><p>主函数，用于运行所有后端并将所有数据汇总到 <code class="t">${vcs_info_msg_*_}</code> 中。如果想在提示符中包含最新信息（参见下面的
<a class="ref" href="#vcs_005finfo-_53d8_91cf">变量说明</a>），就需要从 <code class="t">precmd</code> 调用该函数。 如果给定了参数，则将在样式上下文的
<var class="var">user-context</var> 字段中使用该字符串，而不是 <code class="t">default</code>。
</p>
</dd>
<dt><a id="index-vcs_005finfo_005fhookadd"></a><span><code class="t">vcs_info_hookadd</code><a class="copiable-link" href="#index-vcs_005finfo_005fhookadd"> &para;</a></span></dt>
<dd><p>向给定钩子静态注册多个函数。钩子需要作为第一个参数给出；接下来是要注册到钩子的钩子函数名称列表。此处应省略前缀 &lsquo;<code class="t">+vi-</code>&rsquo; 。详情请参阅下面的
<a class="ref" href="#vcs_005finfo-_52fe_5b50">vcs_info 中的勾子</a> 。
</p>
</dd>
<dt><a id="index-vcs_005finfo_005fhookdel"></a><span><code class="t">vcs_info_hookdel</code><a class="copiable-link" href="#index-vcs_005finfo_005fhookdel"> &para;</a></span></dt>
<dd><p>从给定钩子中删除钩子函数。钩子需要作为第一个非选项参数给出；接下来是要从钩子中取消注册的钩子函数名称列表。如果第一个参数为 &lsquo;<code class="t">-a</code>&rsquo; ，则
<code class="t">所有</code> 出现的函数都将被取消注册。否则，只删除最后一次出现的函数（如果一个函数在钩子上注册了不止一次）。此处应省略前缀  &lsquo;<code class="t">+vi-</code>&rsquo;。
详情请参阅下面的 <a class="ref" href="#vcs_005finfo-_52fe_5b50">vcs_info 中的勾子</a> 。
</p>
</dd>
<dt><a id="index-vcs_005finfo_005flastmsg"></a><span><code class="t">vcs_info_lastmsg</code><a class="copiable-link" href="#index-vcs_005finfo_005flastmsg"> &para;</a></span></dt>
<dd><p>输出 <code class="t">${vcs_info_msg_*_}</code> 的当前值。 会考虑 <code class="t">':vcs_info:formats:command:-all-'</code>
中 <code class="t">use-prompt-escapes</code> 样式的值。它还只打印 <code class="t">max-exports</code> 值。
</p>
</dd>
<dt><a id="index-vcs_005finfo_005fprintsys"></a><span><code class="t">vcs_info_printsys</code> [<var class="var">user-context</var>]<a class="copiable-link" href="#index-vcs_005finfo_005fprintsys"> &para;</a></span></dt>
<dd><p>打印所有支持的版本控制系统列表。可用于查找可能的上下文（以及其中哪些已启用）或 <code class="t">disable</code> 样式的值。
</p>
</dd>
<dt><a id="index-vcs_005finfo_005fsetsys"></a><span><code class="t">vcs_info_setsys</code><a class="copiable-link" href="#index-vcs_005finfo_005fsetsys"> &para;</a></span></dt>
<dd><p>初始化 <code class="t">vcs_info</code> 的可用后端的内部列表。使用该函数，您可以在不重启 shell 的情况下添加对新 VCS 的支持。
</p>
</dd>
</dl>

<p>所有名为 <code class="t">VCS_INFO_*</code> 的函数仅供内部使用。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-_53d8_91cf">

<h4 class="subsection" id="Bian-Liang-Shuo-Ming-"><span>26.5.6 变量说明<a class="copiable-link" href="#Bian-Liang-Shuo-Ming-"> &para;</a></span></h4>

<dl class="table">
<dt><code class="t">${vcs_info_msg_</code><var class="var">N</var><code class="t">_}</code> (注意尾部的下划线)</dt>
<dd><p>其中 <var class="var">N</var> 是一个整数，例如 <code class="t">vcs_info_msg_0_</code>。这些变量用于存储最后一次 <code class="t">vcs_info</code>
调用所生成的信息。这些变量与上述 <code class="t">formats</code>、<code class="t">actionformats</code> 和 <code class="t">nvcsformats</code>
样式密切相关。这些样式都是列表。该列表的第一个成员会扩展为
<code class="t">${vcs_info_msg_0_}</code>，第二个成员会扩展为<code class="t">${vcs_info_msg_1_}</code> ，第 N 个成员会扩展为
<code class="t">${vcs_info_msg_N-1_}</code>。(参见上面的 <code class="t">max-exports</code> 样式）。
</p>
</dd>
</dl>

<p>所有名为 <code class="t">VCS_INFO_*</code> 的变量仅供内部使用。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-_52fe_5b50">

<h4 class="subsection" id="vcs_005finfo-ZhongDe-Gou-Zi-"><span>26.5.7 vcs_info 中的勾子<a class="copiable-link" href="#vcs_005finfo-ZhongDe-Gou-Zi-"> &para;</a></span></h4>

<p>钩子是 <code class="t">vcs_info</code> 中可以运行自己代码的地方。这些代码可以与调用它的代码通信，从而改变系统的行为。
</p>
<p>对于配置，钩子可更改样式上下文：
</p><div class="example">
<pre class="example-preformatted">:vcs_info:<var class="var">vcs-string</var>+<var class="var">hook-name</var>:<var class="var">user-context</var>:<var class="var">repo-root-name</var>
</pre></div>

<p>要向钩子注册函数，需要在适当的上下文中以 <code class="t">hooks</code> 样式列出这些函数。
</p>
<p>例如：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*+foo:*' hooks bar baz
</pre></div>

<p>This registers functions to the hook &lsquo;foo&rsquo; for all backends. In order to
avoid namespace problems, all registered function names are prepended by a
&lsquo;<code class="t">+vi-</code>&rsquo;, so the actual functions called for the &lsquo;foo&rsquo; hook are
&lsquo;<code class="t">+vi-bar</code>&rsquo; and &lsquo;<code class="t">+vi-baz</code>&rsquo;.
</p>
<p>如果要将某个函数注册到钩子中，而不考虑当前上下文，可以使用 <code class="t">vcs_info_hookadd</code> 函数。要移除这样添加的函数，可以使用
<code class="t">vcs_info_hookdel</code> 函数。
</p>
<p>如果有什么奇怪的地方，可以在适当的上下文中启用 &lsquo;debug&rsquo; 布尔样式，这样调用钩子的代码就会打印出试图执行的内容以及相关函数是否存在。
</p>
<p>如果向钩子注册了多个函数，所有函数将相继执行，直到其中一个函数返回非零或所有函数都被调用。对上下文敏感的钩子函数会在静态注册的函数（由
<code class="t">vcs_info_hookadd</code> 添加的函数）<code class="t">之前</code> 执行。
</p>
<p>您可以通过关联数组 <code class="t">user_data</code> 在函数之间传递数据。 例如
</p><div class="example">
<pre class="example-preformatted">

+vi-git-myfirsthook(){
    user_data[myval]=$myval
}
+vi-git-mysecondhook(){
    # do something with ${user_data[myval]}
}
</pre></div>

<p>有一些变量在钩子上下文中比较特殊：
</p>
<dl class="table">
<dt><code class="t">ret</code></dt>
<dd><p>钩子系统将返回给调用者的返回值。默认值为整数 &lsquo;zero&rsquo;。如果 <code class="t">ret</code>
值发生变化，调用者的执行将如何变化，取决于具体的钩子。详情请参见下面的钩子文档。
</p>
</dd>
<dt><code class="t">hook_com</code></dt>
<dd><p>关联数组，用于从调用方到钩子函数的双向通信。使用的键取决于具体的钩子。
</p>
</dd>
<dt><code class="t">context</code></dt>
<dd><p>钩子的活动上下文。希望更改此变量的函数应首先将其设置为本地作用域。
</p>
</dd>
<dt><code class="t">vcs</code></dt>
<dd><p>检测到 VCS 后的当前 VCS。使用与 enable/disable 样式相同的值。可用于除 <code class="t">start-up</code> 以外的所有钩子。
</p>
</dd>
</dl>

<p>最后，是当前可用钩子的完整列表：
</p>
<dl class="table">
<dt><code class="t">start-up</code></dt>
<dd><p>在 <code class="t">vcs_info</code> 启动后，但在确定该目录中的 VCS 之前调用。必要时，它可用于暂时停用 <code class="t">vcs_info</code>。当 <code class="t">ret</code>
设置为 <code class="t">1</code> 时，<code class="t">vcs_info</code> 会终止并不执行任何操作；当 <code class="t">ret</code> 设置为 <code class="t">2</code> 时，<code class="t">vcs_info</code>
会将一切设置为未激活版本控制，并退出。
</p>
</dd>
<dt><code class="t">pre-get-data</code></dt>
<dd><p>与 <code class="t">start-up</code> 相同，但在检测到 VCS 之后。
</p>
</dd>
<dt><code class="t">gen-hg-bookmark-string</code></dt>
<dd><p>生成书签字符串时在 Mercurial 后台调用；<code class="t">get-revision</code> 和 <code class="t">get-bookmarks</code> 样式必须为 true。
</p>
<p>此钩子获取 <code class="t">vcs_info</code> 从 &lsquo;hg&rsquo;中收集的 Mercurial 书签的名称。
</p>
<p>如果书签处于活动状态，则键 <code class="t">${hook_com[hg-active-bookmark]}</code> 将被设置为其名称。 否则，键值会被取消设置。
</p>
<p>当 <code class="t">ret</code> 设置为非零时，<code class="t">${hook_com[hg-bookmark-string]}</code> 中的字符串将被用于 <code class="t">formats</code>
和 <code class="t">actionformats</code> 中的 <code class="t">%m</code> 转义，并将作为 <code class="t">${backend_misc[bookmarks]}</code> 出现在全局
<code class="t">backend_misc</code> 数组中。
</p>
</dd>
<dt><code class="t">gen-applied-string</code></dt>
<dd><p>在 <code class="t">git</code>（使用 <code class="t">stgit</code>，或在 rebase 或合并过程中）和 <code class="t">hg</code>（使用 <code class="t">mq</code>）后端以及 <code class="t">quilt</code>
支持中生成 <code class="t">applied-string</code> 时调用；对于 <code class="t">quilt</code>，<code class="t">use-quilt</code> zstyle 必须为
true（<code class="t">mq</code> 和 <code class="t">stgit</code> 后端默认为激活状态）。
</p>
<p>该钩子的参数以相反的顺序描述应用的补丁，即第一个参数是最上面的补丁，以此类推。
</p>
<p>当可以提取补丁的日志信息时，这些消息嵌入在空格后的每个参数中，因此每个参数的形式为 &lsquo;<var class="var">patch-name</var> <var class="var">first line
of the log message</var>&rsquo;, 其中 <var class="var">patch-name</var> 不含空格。<var class="var">日志信息的第一行</var>&rsquo;，其中
<var class="var">patch-name</var> 不含空格。<code class="t">mq</code> 后端传递的参数形式为&quot;<var class="var">补丁名称</var>&quot;，可能包含空格，但不会提取补丁的日志信息。
</p>
<p>当 <code class="t">ret</code> 设置为非零时， <code class="t">${hook_com[applied-string]}</code> 中的字符串将以 <code class="t">%p</code> 的形式出现在
<code class="t">patch-format</code> 和 <code class="t">nopatch-format</code> 样式中。 该钩子与 <code class="t">set-patch-format</code> 一起负责
<code class="t">%</code>-转义，以便在提示符中使用该值（参见 <a class="ref" href="#vcs_005finfo-_5947_7279_73b0_8c61">奇特现象</a>）。
</p>
<p><code class="t">quilt</code> 后端将输入传递给此钩子，其中包括 <code class="t">${hook_com[quilt-patches-dir]}</code>
输入，如果已确定的话，还包括<code class="t">${hook_com[quilt-pc-dir]}</code> 输入。
</p>
</dd>
<dt><code class="t">gen-unapplied-string</code></dt>
<dd><p>当 <code class="t">unapplied-string</code> 生成时，在 <code class="t">git</code>（使用 <code class="t">stgit</code>）和 <code class="t">hg</code>（使用 <code class="t">mq</code>）后端以及
<code class="t">quilt</code> 支持中调用；<code class="t">get-unapplied</code>样式必须为 true。
</p>
<p>此钩子按顺序获取 <code class="t">vcs_info</code> 中所有未应用补丁的名称，这意味着第一个参数是下一个要应用的补丁，以此类推。
</p>
<p>每个参数的格式与上述 <code class="t">gen-applied-string</code> 相同。
</p>
<p>当 <code class="t">ret</code> 设置为非零时， <code class="t">${hook_com[unapplied-string]}</code> 中的字符串将以 <code class="t">%u</code> 的形式出现在
<code class="t">patch-format</code> 和 <code class="t">nopatch-format</code> 样式中。 该钩子与 <code class="t">set-patch-format</code> 一起负责
<code class="t">%</code>-转义，以便在提示符中使用该值（参见 <a class="ref" href="#vcs_005finfo-_5947_7279_73b0_8c61">奇特现象</a>）。
</p>
<p><code class="t">quilt</code> 后端将输入传递给此钩子，其中包括 <code class="t">${hook_com[quilt-patches-dir]}</code>
输入，如果已确定的话，还包括<code class="t">${hook_com[quilt-pc-dir]}</code> 输入。
</p>
</dd>
<dt><code class="t">gen-mqguards-string</code></dt>
<dd><p>在 <code class="t">hg</code> 后台生成 <code class="t">guards-string</code> 时调用；<code class="t">get-mq</code> 样式必须为 true（默认）。
</p>
<p>此钩子会获取任何活动的 <code class="t">mq</code> 守卫（guards)的名称。
</p>
<p>当 <code class="t">ret</code> 设置为非零时， <code class="t">${hook_com[guards-string]}</code> 中的字符串将在 <code class="t">patch-format</code>
和 <code class="t">nopatch-format</code> 样式的 <code class="t">%g</code> 转义中使用。
</p>
</dd>
<dt><code class="t">no-vcs</code></dt>
<dd><p>当检测不到版本控制系统时，会调用此钩子。
</p>
<p>&lsquo;<code class="t">hook_com</code>&rsquo; 参数未被使用。
</p>
</dd>
<dt><code class="t">post-backend</code></dt>
<dd><p>后台完成信息收集后立即调用。
</p>
<p>&lsquo;<code class="t">hook_com</code>&rsquo; 键与 <code class="t">set-message</code> 钩子相同。
</p>
</dd>
<dt><code class="t">post-quilt</code></dt>
<dd><p>在 <code class="t">quilt</code> 支持完成后调用。钩子将传递以下信息作为参数：1. quilt 支持模式（&lsquo;addon&rsquo; 或
&lsquo;standalone&rsquo;）；2. 包含补丁系列的目录；3. 保存 quilt 状态信息的目录（ &lsquo;.pc&rsquo; 目录），如果未找到该目录，则传递字符串
<code class="t">&quot;-nopc-&quot;</code>。
</p>
<p>&lsquo;hook_com&rsquo; 参数未被使用。
</p>
</dd>
<dt><code class="t">set-branch-format</code></dt>
<dd><p>在设置 &lsquo;<code class="t">branchformat</code>&rsquo; 之前调用。钩子的唯一参数是此时配置的格式。
</p>
<p>&lsquo;<code class="t">hook_com</code>&rsquo; 键是 &lsquo;<code class="t">branch</code>&rsquo; 和 &lsquo;<code class="t">revision</code>&rsquo;。 它们将被设置为 <code class="t">vcs_info</code>
目前得出的值，任何更改都将在实际替换时直接使用。
</p>
<p>如果 <code class="t">ret</code> 设置为非零， <code class="t">${hook_com[branch-replace]}</code> 中的字符串将被原封不动地用作
<code class="t">vcs_info</code> 设置的变量中 &lsquo;<code class="t">%b</code>&rsquo; 的替换。
</p>
</dd>
<dt><code class="t">set-hgrev-format</code></dt>
<dd><p>在设置 &lsquo;<code class="t">hgrevformat</code>&rsquo; 之前调用。钩子的唯一参数是此时配置的格式。
</p>
<p>&lsquo;<code class="t">hook_com</code>&rsquo; 键考虑的是 &lsquo;<code class="t">hash</code>&rsquo; 和 &lsquo;<code class="t">localrev</code>&rsquo;。 它们被设置为 <code class="t">vcs_info</code>
目前计算出的值，任何更改都将在实际替换时直接使用。
</p>
<p>如果 <code class="t">ret</code> 设置为非零， <code class="t">${hook_com[rev-replace]}</code> 中的字符串将被原封不动地用作 <code class="t">vcs_info</code>
设置的变量中 &lsquo;<code class="t">%i</code>&rsquo; 的替换。
</p>
</dd>
<dt><code class="t">pre-addon-quilt</code></dt>
<dd><p>当 <code class="t">vcs_info</code> 的 quilt 功能在 &quot;插件&quot;模式（ quilt
用于真正的版本控制系统之上）下激活时，就会使用此钩子。该钩子会在执行任何与 quilt 相关的操作之前被激活。
</p>
<p>将此钩子中的 &lsquo;<code class="t">ret</code>&rsquo; 变量设置为非零值，可避免运行任何 quilt 特定操作。
</p>
</dd>
<dt><code class="t">set-patch-format</code></dt>
<dd><p>此钩子用于控制像quilt、mqueue等补丁队列系统中 <code class="t">patch-format</code> 和 <code class="t">nopatch-format</code>
样式中的某些可能扩展。
</p>
<p>该钩子用于 <code class="t">git</code>、<code class="t">hg</code> 和 <code class="t">quilt</code> 后端。
</p>
<p>钩子允许控制所有使用钩子的后端中的 <code class="t">%p</code> (<code class="t">${hook_com[applied]}</code>) 和 <code class="t">%u</code>
(<code class="t">${hook_com[unapplied]}</code>) 扩展。对于 mercurial 后端，除此以外还可控制 <code class="t">%g</code>
(<code class="t">${hook_com[guards]}</code>) 扩展。
</p>
<p>如果 <code class="t">ret</code> 设置为非零，则将不加修改地使用 <code class="t">${hook_com[patch-replace]}</code> 中的字符串，而不是
<code class="t">patch-format</code> 或 <code class="t">nopatch-format</code> 中的扩展格式。
</p>
<p>该钩子与 <code class="t">gen-applied-string</code> 或 <code class="t">gen-unapplied-string</code> 钩子（如果定义了这两个钩子）共同负责
<code class="t">%</code>-转义，以便最终的 <code class="t">patch-format</code> 值用于提示符中（请参阅 <a class="ref" href="#vcs_005finfo-_5947_7279_73b0_8c61">奇特现象</a>）。
</p>
<p><code class="t">quilt</code> 后端将输入传递给此钩子，其中包括 <code class="t">${hook_com[quilt-patches-dir]}</code>
输入，如果已确定的话，还包括<code class="t">${hook_com[quilt-pc-dir]}</code> 输入。
</p>
</dd>
<dt><code class="t">set-message</code></dt>
<dd><p>每次在设置 &lsquo;<code class="t">vcs_info_msg_</code><var class="var">N</var><code class="t">_</code>&rsquo; 信息前调用。 它需要两个参数：第一个参数是信息变量名中的 &lsquo;<var class="var">N</var>&rsquo;
，第二个参数是当前配置的 <code class="t">formats</code> 或 <code class="t">actionformats</code>。
</p>
<p>这里使用了许多 &lsquo;<code class="t">hook_com</code>&rsquo; 键：&lsquo;<code class="t">action</code>&rsquo;, &lsquo;<code class="t">branch</code>&rsquo;, &lsquo;<code class="t">base</code>&rsquo;,
&lsquo;<code class="t">base-name</code>&rsquo;, &lsquo;<code class="t">subdir</code>&rsquo;, &lsquo;<code class="t">staged</code>&rsquo;, &lsquo;<code class="t">unstaged</code>&rsquo;, &lsquo;<code class="t">revision</code>&rsquo;,
&lsquo;<code class="t">misc</code>&rsquo;, &lsquo;<code class="t">vcs</code>&rsquo; 以及每个特定后端数据字段的一个 &lsquo;<code class="t">miscN</code>&rsquo; 条目（<code class="t">N</code>从 0 开始）。它们将被设置为
<code class="t">vcs_info</code> 目前计算出的值，任何更改都将在实际替换时直接使用。
</p>
<p>由于该钩子会被多次触发（每个配置的 <code class="t">formats</code> 或 <code class="t">actionformats</code> 都会触发一次），因此上文提到的每个
&lsquo;<code class="t">hook_com</code>&rsquo; 键（<code class="t">miscN</code> 条目除外）都有一个对应的
&lsquo;<code class="t">_orig</code>&rsquo;，所以即使你按照自己的喜好修改了某个值，在下一次运行时仍然可以得到原来的值。更改 &lsquo;<code class="t">_orig</code>&rsquo; 值可能不是一个好主意。
</p>
<p>如果<code class="t">ret</code>设置为非零值，则<code class="t">vcs_info</code>将使用 <code class="t">${hook_com[message]}</code>
中的字符串作为消息，不会进行更改。
</p>
</dd>
</dl>

<p>如果这一切听起来令人困惑，请查看 <a class="ref" href="#vcs_005finfo-_793a_4f8b">示例</a> 以及 Zsh 源代码中的 <code class="t">Misc/vcs_info-examples</code>
文件。 它们包含一些解释性代码。
</p>
<hr>
</div>
<div class="subsection-level-extent" id="vcs_005finfo-_793a_4f8b">

<h4 class="subsection" id="ShiLi-1"><span>26.5.8 示例<a class="copiable-link" href="#ShiLi-1"> &para;</a></span></h4>

<p>完全不要使用 <code class="t">vcs_info</code>（即使它在你的提示符中）：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' enable NONE
</pre></div>

<p>禁用 <code class="t">bzr</code> 和 <code class="t">svk</code> 的后端：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' disable bzr svk
</pre></div>

<p>禁用 <em class="emph">除</em> <code class="t">bzr</code> 和 <code class="t">svk</code> 外的所有功能：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*' enable bzr svk
</pre></div>

<p>为 <code class="t">git</code> 提供了一种特殊格式：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:git:*' formats       ' GIT, BABY! [%b]'
zstyle ':vcs_info:git:*' actionformats ' GIT ACTION! [%b|%a]'
</pre></div>

<p>所有格式（<code class="t">formats</code>、<code class="t">actionformats</code>、<code class="t">branchformat</code>等）的 <code class="t">%x</code> 扩展都是通过
&lsquo;<code class="t">zsh/zutil</code>&rsquo; 模块中的 &lsquo;<code class="t">zformat</code>&rsquo; 内置程序完成的。这意味着你可以用这些 <code class="t">%x</code> 项做任何 zformat
支持的事情。特别是，如果你希望很长的内容有固定的宽度，比如 多变的  branchformat 中的哈希值，你可以这样做：
<code class="t">%12.12i</code>。这样就能将 40 个字符的哈希值缩减为 12 个前导字符。形式实际上是
&lsquo;<code class="t">%</code><var class="var">min</var><code class="t">.</code><var class="var">max</var><code class="t">x</code>&rsquo; 。还可以有更多。 详情请参见 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>。
</p>
<p>使用更快的 <code class="t">bzr</code> 后端
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:bzr:*' use-simple true
</pre></div>

<p>如果使用 <code class="t">use-simple</code>，请报告它是否做了 &lsquo;the-right-thing[tm]&rsquo;。
</p>
<p>以黄色显示 <code class="t">bzr</code> 和 <code class="t">svn</code> 的版本号：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:(svn|bzr):*' \ 
       branchformat '%b%%F{yellow}:%r'
</pre></div>

<p><a class="ref" href="#vcs_005finfo-_5947_7279_73b0_8c61">奇特现象</a> 中解释了双百分号。
</p>
<p>或者，也可以直接使用原始颜色代码：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:(svn|bzr):*' \ 
       branchformat '%b%{'${fg[yellow]}'%}:%r'
</pre></div>

<p>通常情况下，当变量被插值到格式字符串中时，需要对变量进行 <code class="t">%</code> 转义。在本例中，我们跳过了这一步骤，因为我们假定
<code class="t">${fg[yellow]}</code> 的值不包含任何 <code class="t">%</code> 符号。
</p>
<p>如果要在提示符中使用 <code class="t">vcs_info</code> 提供的字符串，请确保将颜色代码括在 <code class="t">%{</code><var class="var">...</var><code class="t">%}</code> 中。
</p>
<p>下面介绍如何以命令形式（而不是在提示符中）打印 VCS 信息：
</p><div class="example">
<pre class="example-preformatted">vcsi() { vcs_info interactive; vcs_info_lastmsg }
</pre></div>

<p>这样，您甚至可以通过 &lsquo;<code class="t">:vcs_info:*:interactive:*</code>&rsquo;命名空间中的 <code class="t">vcs_info_lastmsg</code>
来定义不同的输出格式。
</p>
<p>现在，正如承诺的那样，一些使用钩子的代码：比如，你想在 <code class="t">vcs_info</code> 的 <code class="t">%s</code> <code class="t">formats</code> 中用
&lsquo;subversion&rsquo; 替换字符串 &lsquo;svn&rsquo; 。
</p>
<p>首先，我们要告诉 <code class="t">vcs_info</code> 在用收集到的信息补全消息变量时调用一个函数：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*+set-message:*' hooks svn2subversion
</pre></div>

<p>什么也不会发生。这是合理的，因为我们还没有定义实际函数。要查看钩子子系统正在尝试做什么，请启用 &lsquo;<code class="t">debug</code>&rsquo; 样式：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*+*:*' debug true
</pre></div>

<p>这应该能让你知道发生了什么。具体来说，我们要找的函数是 &lsquo;<code class="t">+vi-svn2subversion</code>&rsquo;。注意，前缀是 &lsquo;<code class="t">+vi-</code>&rsquo;
。所以，一切都井然有序，就像文档中描述的那样。检查完调试输出后，再次禁用它：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:*+*:*' debug false
</pre></div>

<p>现在，我们来定义函数：
</p><div class="example">
<pre class="example-preformatted">

function +vi-svn2subversion() {
    [[ ${hook_com[vcs_orig]} == svn ]] &amp;&amp; hook_com[vcs]=subversion
}
</pre></div>

<p>足够简单。如果我们在不那么通用的上下文中注册我们的函数，它甚至可以更简单。如果我们只在 &lsquo;<code class="t">svn</code>&rsquo;
后端上下文中注册，就不需要测试哪个后端处于活动状态：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:svn+set-message:*' hooks svn2subversion
</pre></div>
<div class="example">
<pre class="example-preformatted">

function +vi-svn2subversion() {
    hook_com[vcs]=subversion
}
</pre></div>

<p>最后是一个更复杂的示例，使用钩子为 <code class="t">hg</code> 后台创建自定义书签字符串。
</p>
<p>同样，我们先注册一个函数：
</p><div class="example">
<pre class="example-preformatted">zstyle ':vcs_info:hg+gen-hg-bookmark-string:*' hooks hgbookmarks
</pre></div>

<p>然后我们定义 &lsquo;<code class="t">+vi-hgbookmarks</code>&rsquo; 函数：
</p><div class="example">
<pre class="example-preformatted">

function +vi-hgbookmarks() {
    # The default is to connect all bookmark names by
    # commas. This mixes things up a little.
    # Imagine, there's one type of bookmarks that is
    # special to you. Say, because it's *your* work.
    # Those bookmarks look always like this: &quot;sh/*&quot;
    # (because your initials are sh, for example).
    # This makes the bookmarks string use only those
    # bookmarks. If there's more than one, it
    # concatenates them using commas.
    # The bookmarks returned by `hg' are available in
    # the function's positional parameters.
    local s=&quot;${(Mj:,:)@:#sh/*}&quot;
    # Now, the communication with the code that calls
    # the hook functions is done via the hook_com[]
    # hash. The key at which the `gen-hg-bookmark-string'
    # hook looks is `hg-bookmark-string'. So:
    hook_com[hg-bookmark-string]=$s
    # And to signal that we want to use the string we
    # just generated, set the special variable `ret' to
    # something other than the default zero:
    ret=1
    return 0
}
</pre></div>

<p>Zsh 源代码目录下 Misc/vcs_info-examples 中的示例文件提供了一些较长的示例和可能有用的代码片段。
</p>
<p>至此，我们的 zsh 的 <code class="t">vcs_info</code> 之旅就结束了。
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_63d0_793a_7b26_4e3b_9898">

<h3 class="section" id="Ti-ShiFu-Zhu-Ti-"><span>26.6 提示符主题<a class="copiable-link" href="#Ti-ShiFu-Zhu-Ti-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="An-Zhuang--2">
<h4 class="subsection"><span>26.6.1 安装<a class="copiable-link" href="#An-Zhuang--2"> &para;</a></span></h4>

<p>您应确保源代码发布版 <code class="t">Functions/Prompts</code> 目录中的所有函数都可用；除了特殊函数 &lsquo;<code class="t">promptinit</code>&rsquo;，它们都以字符串
&lsquo;<code class="t">prompt_</code>&rsquo; 开头。 你还需要 <code class="t">Functions/Misc</code> 中的 &lsquo;<code class="t">colors</code>&rsquo; 和
&lsquo;<code class="t">add-zsh-hook</code>&rsquo; 函数。 您的系统可能已经安装了所有这些函数；如果没有，则需要找到并复制它们。 目录应作为 <code class="t">fpath</code>
数组的元素之一出现（如果已经安装，则应如此），至少 <code class="t">promptinit</code> 函数应自动加载，其余函数将自动加载。
最后，要初始化系统的使用，需要调用 <code class="t">promptinit</code> 函数。 假设函数存储在 <code class="t">~/myfns</code> 目录中，则 <code class="t">.zshrc</code>
中的以下代码将为此做出安排：
</p>
<div class="example">
<pre class="example-preformatted">fpath=(~/myfns $fpath)
autoload -U promptinit
promptinit
</pre></div>


</div>
<div class="subsection-level-extent" id="Zhu-Ti-Xuan-Ze-">
<h4 class="subsection"><span>26.6.2 主题选择<a class="copiable-link" href="#Zhu-Ti-Xuan-Ze-"> &para;</a></span></h4>

<p>使用 <code class="t">prompt</code> 命令选择您喜欢的主题。 可以在调用 <code class="t">promptinit</code> 之后将此命令添加到 <code class="t">.zshrc</code>
中，以便在已选择主题的情况下启动 zsh。
</p>
<dl class="table">
<dt><code class="t">prompt</code> [ <code class="t">-c</code> | <code class="t">-l</code> ]</dt>
<dt><code class="t">prompt</code> [ <code class="t">-p</code> | <code class="t">-h</code> ] [ <var class="var">theme</var> ... ]</dt>
<dt><code class="t">prompt</code> [ <code class="t">-s</code> ] <var class="var">theme</var> [ <var class="var">arg</var> ... ]</dt>
<dd><p>设置或检查提示符主题。 在没有任何选项和 <var class="var">theme</var> 参数的情况下，以该名称命名的主题将被设置为当前主题。 可用主题在运行时确定；使用
<code class="t">-l</code> 选项可查看列表。 特殊的 <var class="var">theme</var> &lsquo;<code class="t">random</code>&rsquo; 会从可用主题中随机选择一个，并将提示符设置为该主题。
</p>
<p>在某些情况下，<var class="var">theme</var> 可能会被一个或多个参数修改，这些参数应在主题名称后给出。 有关这些参数的说明，请参阅每个主题的帮助。
</p>
<p>选项是:
</p>
<dl class="table">
<dt><code class="t">-c</code></dt>
<dd><p>显示当前选择的主题及其参数（如果有）。
</p></dd>
<dt><code class="t">-l</code></dt>
<dd><p>列出所有可用的提示符主题。
</p></dd>
<dt><code class="t">-p</code></dt>
<dd><p>预览由 <var class="var">theme</var> 命名的主题，如果没有给出 <var class="var">theme</var> 则预览所有主题。
</p></dd>
<dt><code class="t">-h</code></dt>
<dd><p>显示由 <var class="var">theme</var> 命名的主题的帮助，如果未给出 <var class="var">theme</var> 则显示 <code class="t">prompt</code> 函数的帮助。
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p>将 <var class="var">theme</var> 设置为当前主题并保存状态。
</p></dd>
</dl>

</dd>
<dt><code class="t">prompt_</code><var class="var">theme</var><code class="t">_setup</code></dt>
<dd><p>每个可用的 <var class="var">theme</var> 都有一个设置函数，由 <code class="t">prompt</code> 函数调用来安装该主题。
该函数可根据维护提示符的需要定义其他函数，包括用于预览提示符或提供使用帮助的函数。 通常情况下，不应直接调用主题的设置函数。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shi-Yong-Zhu-Ti-">
<h4 class="subsection"><span>26.6.3 实用主题<a class="copiable-link" href="#Shi-Yong-Zhu-Ti-"> &para;</a></span></h4>

<dl class="table">
<dt><code class="t">prompt off</code></dt>
<dd><p>主题 &lsquo;<code class="t">off</code>&rsquo; 会将所有提示符变量设置为没有特殊效果的最小值。
</p>
</dd>
<dt><code class="t">prompt default</code></dt>
<dd><p>主题 &lsquo;<code class="t">default</code>&rsquo; 会将所有提示符变量设置为与启动无初始化文件的交互式 zsh 相同的状态。
</p>
</dd>
<dt><code class="t">prompt restore</code></dt>
<dd><p>特殊主题 &lsquo;<code class="t">restore</code>&rsquo; 会清除所有主题设置，并将提示符变量设置为首次运行 &lsquo;<code class="t">prompt</code>&rsquo;
函数前的状态，前提是每个主题都已正确定义了其清理方式（见下文）。
</p>
<p>请注意，可以通过 &lsquo;<code class="t">prompt restore</code>&rsquo;来撤销  &lsquo;<code class="t">prompt off</code>&rsquo; 和 &lsquo;<code class="t">prompt default</code>&rsquo;
，但第二次还原不会撤销第一次。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Bian-Xie-Zhu-Ti-">
<h4 class="subsection"><span>26.6.4 编写主题<a class="copiable-link" href="#Bian-Xie-Zhu-Ti-"> &para;</a></span></h4>

<p>添加自己主题的第一步是为其取名，并在 <code class="t">fpath</code> 目录下创建文件 &lsquo;<code class="t">prompt_<var class="var">name</var>_setup</code>&rsquo; ，如上例中的
<code class="t">~/myfns</code>。 该文件至少应包含主题希望修改的提示符变量的赋值。 按照惯例，主题使用 <code class="t">PS1</code>、<code class="t">PS2</code>、<code class="t">RPS1</code>
等，而不是更长的 <code class="t">PROMPT</code> 和 <code class="t">RPROMPT</code>。
</p>
<p>该文件将作为当前 shell 上下文中的一个函数自动加载，因此其中可能包含自定义主题所需的任何命令，包括定义其他函数。
为了简化一些复杂的任务，您的设置函数还可以执行以下任何操作：
</p>
<dl class="table">
<dt>为 <code class="t">prompt_opts</code> 赋值</dt>
<dd><p>数组 <code class="t">prompt_opts</code> 的值可以是 <code class="t">&quot;bang&quot;</code>、<code class="t">&quot;cr&quot;</code>、<code class="t">&quot;percent&quot;</code>、<code class="t">&quot;sp&quot;</code> 和/或
<code class="t">&quot;subst&quot;</code>。 相应的 setopts（<code class="t">promptbang</code> 等）被打开，所有其他与提示符相关的选项被关闭。
如果您的函数需要，<code class="t">prompt_opts</code> 数组甚至会在 <code class="t">localoptions</code> 的范围之外保留 setopts。
</p>
</dd>
<dt>修改勾子</dt>
<dd><p>建议使用 <code class="t">add-zsh-hook</code> 和 <code class="t">add-zle-hook-widget</code>（参见上文 <cite class="cite">操作勾子函数</cite> 部分）。
所有遵循命名模式 <code class="t">prompt_</code><var class="var">theme</var><code class="t">_</code><var class="var">hook</var> 的钩子都会在提示符主题更改或禁用时自动移除。
</p>
</dd>
<dt>声明清理</dt>
<dd><p>如果您的函数进行了任何其他更改，而这些更改在主题禁用时应该被撤销，那么您的设置函数可能会调用
</p>
<div class="example">
<pre class="example-preformatted">prompt_cleanup <var class="var">command</var>
</pre></div>

<p>其中 <var class="var">command</var> 应适当加引号。 如果您的主题被禁用或被另一个替换，<var class="var">command</var> 将与 <code class="t">eval</code> 一起执行。
您可以声明多个这样的清理钩子。
</p>
</dd>
<dt>定义预览</dt>
<dd><p>定义或自动加载函数 <code class="t">prompt_</code><var class="var">name</var><code class="t">_preview</code>，以显示模拟版本的提示符。 <code class="t">promptinit</code>
为未定义预览器的主题定义了一个简单的默认预览器。 该预览函数由 &lsquo;<code class="t">prompt -p</code>&rsquo; 调用。
</p>
</dd>
<dt>提供帮助</dt>
<dd><p>定义或自动加载函数 <code class="t">prompt_</code><var class="var">name</var><code class="t">_help</code> ，以显示你主题的文档或帮助文本。 该帮助函数由 &lsquo;<code class="t">prompt
-h</code>&rsquo; 调用。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="ZLE-_51fd_6570">

<h3 class="section" id="ZLE-Han-Shu-"><span>26.7 ZLE 函数<a class="copiable-link" href="#ZLE-Han-Shu-"> &para;</a></span></h3>


<div class="subsection-level-extent" id="Xiao-Bu-Jian-">
<h4 class="subsection"><span>26.7.1 小部件<a class="copiable-link" href="#Xiao-Bu-Jian-"> &para;</a></span></h4>

<p>这些函数都实现了用户定义的 ZLE 小部件（请参阅 <a class="ref" href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a>），可与交互式 shell 中的按键绑定。 要使用它们，您的
<code class="t">.zshrc</code> 应包含以下格式的行
</p>
<div class="example">
<pre class="example-preformatted">autoload <var class="var">function</var>
zle -N <var class="var">function</var>
</pre></div>

<p>后接适当的 <code class="t">bindkey</code> 命令，将函数与按键序列关联起来。 建议的绑定说明如下。
</p>
<dl class="table">
<dt>bash 风格字函数</dt>
<dd><p>如果您正在寻找以 bash 的方式移动和编辑单词的函数（在 bash 中，只有字母数字字符才被视为单词字符），您可以使用下一节中描述的函数。
以下函数就足够了：
</p>
<div class="example">
<pre class="example-preformatted">autoload -U select-word-style
select-word-style bash
</pre></div>


</dd>
<dt><a class="index-entry-id" id="index-backward_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-kill_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-backward_002dkill_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-transpose_002dwords_002dmatch"></a>
<a class="index-entry-id" id="index-capitalize_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-up_002dcase_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-down_002dcase_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-delete_002dwhole_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-select_002dword_002dmatch"></a>
<a class="index-entry-id" id="index-select_002dword_002dstyle"></a>
<a class="index-entry-id" id="index-match_002dword_002dcontext"></a>
<a class="index-entry-id" id="index-match_002dwords_002dby_002dstyle"></a>
<a id="index-forward_002dword_002dmatch"></a><span><code class="t">forward-word-match</code>, <code class="t">backward-word-match</code><a class="copiable-link" href="#index-forward_002dword_002dmatch"> &para;</a></span></dt>
<dt><code class="t">kill-word-match</code>, <code class="t">backward-kill-word-match</code></dt>
<dt><code class="t">transpose-words-match</code>, <code class="t">capitalize-word-match</code></dt>
<dt><code class="t">up-case-word-match</code>, <code class="t">down-case-word-match</code></dt>
<dt><code class="t">delete-whole-word-match</code>, <code class="t">select-word-match</code></dt>
<dt><code class="t">select-word-style</code>, <code class="t">match-word-context</code>, <code class="t">match-words-by-style</code></dt>
<dd><p>前八个 &lsquo;<code class="t">-match</code>&rsquo; 函数可以直接替换不带后缀的内置小部件。 默认情况下，它们的行为方式类似。 不过，通过使用样式和函数
<code class="t">select-word-style</code>，可以改变单词的匹配方式。<code class="t">select-word-match</code>的目的是在 vi
模式下作为文本对象使用，但可自定义单词样式。相比之下，<a class="ref" href="#g_t_6587_672c_5bf9_8c61">文本对象</a> 中描述的小部件使用固定的单词定义，与 <code class="t">vim</code> 编辑器兼容。
</p>
<p>配置这些函数的最简单方法是使用
<code class="t">select-word-style</code>，它既可以作为一个普通函数与适当的参数一起调用，也可以作为一个用户定义的小部件调用，该部件会提示要使用的单词样式的第一个字符。
首次调用时，前八个 <code class="t">-match</code> 函数将自动替换内置版本，因此无需明确加载。
</p>
<p>可用的单词样式如下。 只检查第一个字符。
</p>
<dl class="table">
<dt><code class="t">bash</code></dt>
<dd><p>单词字符仅限字母数字字符。
</p>
</dd>
<dt><code class="t">normal</code></dt>
<dd><p>与正常的 shell 操作一样：单词字符是字母数字字符加上参数 <code class="t">$WORDCHARS</code> 给出的字符串中的任何字符。
</p>
</dd>
<dt><code class="t">shell</code></dt>
<dd><p>单词是完整的 shell 命令参数，可能包括完整的加引号字符串或 shell 特有的任何标记。
</p>
</dd>
<dt><code class="t">whitespace</code></dt>
<dd><p>单词是以空格分隔的任意一组字符。
</p>
</dd>
<dt><code class="t">default</code></dt>
<dd><p>恢复默认设置；通常与 &lsquo;<code class="t">normal</code>&rsquo;相同。
</p>
</dd>
</dl>

<p>除 &lsquo;<code class="t">default</code>&rsquo; 外，其他所有字符都可以作为大写字符输入，其效果与开启子字匹配时相同。
在这种情况下，带有大写字符的单词会被特殊处理：每一个单独的大写字符，或一个大写字符后跟任意数量的其他字符，都会被视为一个单词。 样式
<code class="t">subword-range</code> 可以为默认的 &lsquo;<code class="t">[:upper:]</code>&rsquo;
提供一个替代字符范围；该样式的值将被视为&lsquo;<code class="t">[</code><var class="var">...</var><code class="t">]</code>&rsquo; 模式的内容（注意，不应提供外层括号，只应提供围绕命名范围的括号）。
</p>
<p>如 <a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a> 所述，使用 <code class="t">zstyle</code> 命令可以获得更多控制权。 每种样式都在
<code class="t">:zle:</code><var class="var">widget</var> 上下文中查找，其中 <var class="var">widget</var> 是用户定义的
小部件的名称，而不是实现该小部件的函数的名称，因此在 <code class="t">select-word-style</code> 提供定义的情况下，相应的上下文是
<code class="t">:zle:forward-word</code>，以此类推。 函数 <code class="t">select-word-style</code> 本身总是为上下文 &lsquo;<code class="t">:zle:*</code>&rsquo;
定义样式，这些样式可以被更具体（更长）的模式和显式上下文覆盖。
</p>
<p>样式 <code class="t">word-style</code> 指定要使用的规则。 它可以有以下值。
</p>
<dl class="table">
<dt><code class="t">normal</code></dt>
<dd><p>使用标准 shell 规则，即字母数字和 <code class="t">$WORDCHARS</code>，除非被 <code class="t">word-chars</code> 或 <code class="t">word-class</code>
样式覆盖。
</p>
</dd>
<dt><code class="t">specified</code></dt>
<dd><p>与 <code class="t">normal</code>类似，但 <em class="emph">只</em> 将指定的字符（而不是字母数字）视为单词字符。
</p>
</dd>
<dt><code class="t">unspecified</code></dt>
<dd><p>指定的否定。 给出的字符将 <em class="emph">不</em> 被视为单词的一部分。
</p>
</dd>
<dt><code class="t">shell</code></dt>
<dd><p>单词是通过使用生成 shell 命令参数的语法规则获得的。 此外，诸如 &lsquo;<code class="t">()</code>&rsquo; 等从来都不是命令参数的特殊标记也会被视为单词。
</p>
</dd>
<dt><code class="t">whitespace</code></dt>
<dd><p>单词是以空白字符分隔的字符串。
</p>
</dd>
</dl>

<p>前三条规则通常使用 <code class="t">$WORDCHARS</code>，但参数中的值可以被样式 <code class="t">word-chars</code> 改写，其工作方式与 <code class="t">$WORDCHARS</code>
完全相同。 此外，<code class="t">word-class</code> 样式使用字符类语法对字符进行分组，如果同时设置了 <code class="t">word-chars</code> 和
<code class="t">word-class</code>，则 <code class="t">word-class</code>优先于 <code class="t">word-chars</code>。 <code class="t">word-class</code>
样式不包括字符类周围的括号；例如，&lsquo;<code class="t">-:[:alnum:]</code>&rsquo; 是一个有效的 <code class="t">word-class</code>，用以包括所有字母数字以及字符
&lsquo;<code class="t">-</code>&rsquo; 和 &lsquo;<code class="t">:</code>&rsquo;。 包含 &lsquo;<code class="t">]</code>&rsquo;, &lsquo;<code class="t">^</code>&rsquo; 和 &lsquo;<code class="t">-</code>&rsquo; 时要注意，因为它们是字符类内部的特殊字符。
</p>
<p>如上所述，<code class="t">word-style</code> 也可以附加 &lsquo;<code class="t">-subword</code>&rsquo; ，以开启子词匹配。
</p>
<p><code class="t">skip-chars</code> 样式主要用于 <code class="t">transpose-words</code> 和类似函数。
如果设置了该样式，它将给出从光标位置开始的字符计数，这些字符将不被视为单词的一部分，并被视为空格，而不管它们实际上是什么。 例如，如果
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':zle:transpose-words' skip-chars 1
</pre></div>

<p>已设置，且 <code class="t">transpose-words-match</code> 被调用时光标位于 <code class="t">foo</code><var class="var">X</var><code class="t">bar</code> 的 <var class="var">X</var>
上，其中 <var class="var">X</var> 可以是任何字符，那么结果表达式为 <code class="t">bar</code><var class="var">X</var><code class="t">foo</code>。
</p>
<p>通过将 <code class="t">word-context</code> 样式设置为成对条目的数组，可以实现更精细的控制。 每对条目由 <var class="var">pattern</var> 和
<var class="var">subcontext</var> 组成。 光标所在的 shell 参数依次与每个 <var class="var">pattern</var>
匹配，直到有一个匹配为止；如果匹配，则用冒号和相应的 <var class="var">subcontext</var> 扩展上下文。
请注意，测试是针对行中的原始单词进行的，不会去掉引号。 单词之间会进行特殊处理：检查当前上下文，如果其中包含字符串
<code class="t">between</code>，则将单词设置为单个空格；否则，如果其中包含字符串
<code class="t">back</code>，则考虑光标前的单词，否则考虑光标后的单词。下面给出了一些示例。
</p>
<p><code class="t">skip-whitespace-first</code> 样式仅用于 <code class="t">forward-word</code> 小部件。如果设置为 true，那么
<code class="t">forward-word</code>
将跳过任何非单词字符，然后跟着任何非单词字符：这类似于其他面向单词的小部件的行为，也类似于其他编辑器使用的行为，但与标准的 zsh
行为不同。这与其他以单词为导向的小部件以及其他编辑器的行为类似，但与标准的 zsh 行为不同。 使用 <code class="t">select-word-style</code>
时，如果单词样式为 <code class="t">bash</code>，则小部件在上下文 <code class="t">:zle:*</code> 中被设置为 <code class="t">true</code>，否则为 <code class="t">false</code>。
可以通过在更具体的上下文 <code class="t">:zle:forward-word*</code> 中进行设置来覆盖该设置。
</p>
<p>通过定义一个由相应泛型函数实现的新小部件，然后为特定小部件的上下文设置样式，就可以创建具有特定行为的小部件。 例如，下面使用
<code class="t">backward-kill-word-match</code>（实现 <code class="t">backward-kill-word</code> 行为的通用部件）定义了一个小部件
<code class="t">backward-kill-space-word</code> ，并确保新小部件始终实现空格分隔行为。
</p>
<div class="example">
<pre class="example-preformatted">zle -N backward-kill-space-word backward-kill-word-match
zstyle :zle:backward-kill-space-word word-style space
</pre></div>

<p>小部件 <code class="t">backward-kill-space-word</code> 现在可以与按键绑定。
</p>
<p>以下是一些更进一步的样式使用示例，实际上是从 <code class="t">select-word-style</code> 中简化的接口中提取的。
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':zle:*' word-style standard
zstyle ':zle:*' word-chars ''
</pre></div>

<p>为所有小部件实现类似于 Bash 风格的单词处理，即只有字母数字字符被视为单词字符；等效于在给定上下文中将参数 <code class="t">WORDCHARS</code> 设置为空。
</p>
<div class="example">
<pre class="example-preformatted">style ':zle:*kill*' word-style space
</pre></div>

<p>对名称中含有 &lsquo;kill&rsquo; 一词的小部件使用以空格分隔的单词。 在这种情况下，不会使用 <code class="t">word-chars</code> 或 <code class="t">word-class</code>
样式。
</p>
<p>下面是一些使用 <code class="t">word-context</code> 样式扩展上下文的示例。
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':zle:*' word-context \ 
       &quot;*/*&quot; filename &quot;[[:space:]]&quot; whitespace
zstyle ':zle:transpose-words:whitespace' word-style shell
zstyle ':zle:transpose-words:filename' word-style normal
zstyle ':zle:transpose-words:filename' word-chars ''
</pre></div>

<p>这提供了两种使用 <code class="t">transpose-words</code> 的不同方法，取决于光标是在单词之间的空白处还是在文件名上，这里是指包含 <code class="t">/</code>
的任何单词。 在空白处，标准 shell 规则定义的完整参数将被转置。 在文件名中，只有字母数字会被换码。 在其他地方，将使用
<code class="t">:zle:transpose-words</code> 的默认样式转置单词。
</p>
<p>词匹配和 <code class="t">zstyle</code> 设置的所有处理实际上都是通过函数 <code class="t">match-words-by-style</code> 实现的。
该函数可用于创建新的用户自定义小部件。 调用函数应将本地参数 <code class="t">curcontext</code> 设置为
<code class="t">:zle:</code><var class="var">widget</var>，创建本地参数 <code class="t">matched_words</code> 并调用 <code class="t">match-words-by-style</code>
(不带参数)。 返回时，<code class="t">matched_words</code> 将被设置为一个包含以下元素的数组：
(1）行的起始位置；（2）光标前的单词；（3）该单词与光标之间的任何非单词字符；（4）光标位置上的任何非单词字符以及下一个单词前的任何剩余非单词字符，包括
<code class="t">skip-chars</code> 样式指定的所有字符；（5）光标处或光标后的单词；（6）该单词后的任何非单词字符；（7）行的剩余部分。
其中任何一个元素都可能是空字符串；调用函数应对此进行测试，以决定是否可以执行其功能。
</p>
<p>如果 <code class="t">match-words-by-style</code> 的调用者将变量 <code class="t">matched_words</code> 定义为关联数组(<code class="t">local -A
matched_words</code>)，那么上面给出的七个值应当从这个数组中获取，元素名为
<code class="t">start</code>、<code class="t">word-before-cursor</code>、<code class="t">ws-before-cursor</code>、<code class="t">ws-after-cursor</code>、<code class="t">word-after-cursor</code>、<code class="t">ws-after-word</code>
和 <code class="t">end</code> 。 此外，如果光标位于单词或子单词的起始位置，或位于单词或子单词之前的空白处（可通过测试 <code class="t">ws-after-cursor</code>
元素来区分这两种情况），则 <code class="t">is-word-start</code> 元素的值为 1，否则为 0。 为了今后的兼容性，建议使用这种形式。
</p>
<p>可以将带参数的选项传递给 <code class="t">match-words-by-style</code>，以覆盖样式的使用。 选项包括：
</p><dl class="table">
<dt><code class="t">-w</code></dt>
<dd><p><var class="var">word-style</var>
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p><var class="var">skip-chars</var>
</p></dd>
<dt><code class="t">-c</code></dt>
<dd><p><var class="var">word-class</var>
</p></dd>
<dt><code class="t">-C</code></dt>
<dd><p><var class="var">word-chars</var>
</p></dd>
<dt><code class="t">-r</code></dt>
<dd><p><var class="var">subword-range</var>
</p></dd>
</dl>

<p>例如， <code class="t">match-words-by-style -w shell -c 0</code> 可用于提取光标周围的命令参数。
</p>
<p><code class="t">word-context</code> 样式由函数 <code class="t">match-word-context</code> 实现。 通常不需要直接调用该函数。
</p>
</dd>
<dt><a id="index-bracketed_002dpaste_002dmagic"></a><span><code class="t">bracketed-paste-magic</code><a class="copiable-link" href="#index-bracketed_002dpaste_002dmagic"> &para;</a></span></dt>
<dd><p><code class="t">bracketed-paste</code> 小部件（请参阅 <a class="ref" href="#g_t_6807_51c6_5c0f_90e8_4ef6">标准小部件</a> 中的
<a class="ref" href="#g_t_6742_9879">杂项</a>）会将粘贴的文本字面值直接插入编辑器缓冲区，而不是将其解释为按键。 这就禁用了一些常见的用法，即替换自插入部件以完成一些额外的处理。
下面介绍的 <code class="t">url-quote-magic</code> 小部件就是一个例子。
</p>
<p><code class="t">bracketed-paste-magic</code> 小部件旨在用一个封装器取代 <code class="t">bracketed-paste</code>，重新启用这些
self-insert 操作以及 zstyles 选择的其他操作。 因此，安装该小部件时应
</p>
<div class="example">
<pre class="example-preformatted">autoload -Uz bracketed-paste-magic
zle -N bracketed-paste bracketed-paste-magic
</pre></div>

<p>除了启用一些小部件处理外，<code class="t">bracketed-paste-magic</code> 尝试尽可能忠实地复制 <code class="t">bracketed-paste</code>。
</p>
<p>可以设置以下 zstyles 来控制粘贴文本的处理。 所有样式均在上下文 &lsquo;<code class="t">:bracketed-paste-magic</code>&rsquo; 中查找。
</p>
<dl class="table">
<dt><code class="t">active-widgets</code></dt>
<dd><p>与粘贴时应激活的小部件名称相匹配的模式列表。 所有其他按键序列都将作为 self-inert-unmeta 处理。 默认值为 &lsquo;<code class="t">self-*</code>&rsquo;
，因此任何以该前缀命名的用户自定义小部件都会与内置的 self-insert 一起激活。
</p>
<p>如果未设置此样式（显式删除）或设置为空值，则不会激活任何小部件，粘贴的文本将按字面意思插入。 如果值中包含
&lsquo;<code class="t">undefined-key</code>&rsquo;，粘贴文本中的未知序列将被丢弃。
</p>
</dd>
<dt><code class="t">inactive-keys</code></dt>
<dd><p><code class="t">active-widgets</code> 的反义词，是一个键序列列表，即使绑定到活动小部件上，也始终使用 <code class="t">self-insert-unmeta</code>。
请注意，这是一个字面键序列列表，而不是模式。
</p>
</dd>
<dt><code class="t">paste-init</code></dt>
<dd><p>函数名称列表，在小部件上下文中调用（但不作为小部件）。 这些函数按顺序调用，直到其中一个函数返回非零状态。 参数 &lsquo;<code class="t">PASTED</code>&rsquo;
包含粘贴文本的初始状态。 所有其他 ZLE 参数（如 &lsquo;<code class="t">BUFFER</code>&rsquo; ）都有其正常值和副作用，并且可以使用完整的历史记录，因此，例如，
<code class="t">paste-init</code> 函数可以将 <code class="t">BUFFER</code> 中的字词移动到 <code class="t">PASTED</code> 中，使 <code class="t">active-widgets</code>
可以看到这些字词。
</p>
<p>如果 <code class="t">paste-init</code> 函数的返回值为非 0，则 <em class="emph">不会</em> 阻止粘贴本身继续进行。
</p>
<p>加载 <code class="t">bracketed-paste-magic</code> 定义了 <code class="t">backward-extend-paste</code>，这是一个在
<code class="t">paste-init</code> 中使用的辅助函数。
</p>
<div class="example">
<pre class="example-preformatted">zstyle :bracketed-paste-magic paste-init \ 
       backward-extend-paste
</pre></div>

<p>当粘贴会插入到一个单词的中间或将文本附加到已在行上的单词时，<code class="t">backward-extend-paste</code> 会将 <code class="t">LBUFFER</code>
中的前缀移到 <code class="t">PASTED</code> 中，这样 <code class="t">active-widgets</code> 就能看到完整的单词了。 这与 <code class="t">url-quote-magic</code>
一起可能有用。
</p>
</dd>
<dt><code class="t">paste-finish</code></dt>
<dd><p>另一个按顺序调用的函数名列表，直到其中一个函数的返回值不为零。 在 <code class="t">active-widgets</code> 处理完粘贴的文本
<em class="emph">后</em>，但在将其插入 &lsquo;<code class="t">BUFFER</code>&rsquo; <em class="emph">之前</em>，<em class="emph">after</em> 会调用这些函数。 ZLE
参数具有正常值和副作用。
</p>
<p>如果 <code class="t">paste-finish</code> 函数的返回值非零，则 <em class="emph">不会</em> 阻止粘贴本身继续进行。
</p>
<p>加载 <code class="t">bracketed-paste-magic</code> 时还定义了 <code class="t">quote-paste</code>，这是一个用于 <code class="t">paste-finish</code>
的辅助函数。
</p>
<div class="example">
<pre class="example-preformatted">zstyle :bracketed-paste-magic paste-finish \ 
       quote-paste
zstyle :bracketed-paste-magic:finish quote-style \ 
       qqq
</pre></div>

<p>当粘贴的文本插入 <code class="t">BUFFER</code> 时，会根据 <code class="t">quote-style</code> 值进行加引号处理。 要强制关闭
<code class="t">bracketed-paste</code> 的内置数字前缀引号，请使用:
</p>
<div class="example">
<pre class="example-preformatted">zstyle :bracketed-paste-magic:finish quote-style \ 
       none
</pre></div>

</dd>
</dl>

<p><em class="emph">Important:</em> 在 <code class="t">active-widgets</code> 处理粘贴过程中（<code class="t">paste-init</code>
之后、<code class="t">paste-finish</code> 之前），<code class="t">BUFFER</code> 开始为空，且历史记录受到限制，因此光标移动等操作可能不会超出粘贴内容的范围。
活动小部件分配给 <code class="t">BUFFER</code> 的文本会在 <code class="t">paste-finish</code> 之前复制回 <code class="t">PASTED</code> 中。
</p>
</dd>
<dt><a id="index-copy_002dearlier_002dword"></a><span><code class="t">copy-earlier-word</code><a class="copiable-link" href="#index-copy_002dearlier_002dword"> &para;</a></span></dt>
<dd><p>该小部件的工作原理类似于 <code class="t">insert-last-word</code> 和 <code class="t">copy-prev-shell-word</code> 的组合。
重复调用该小部件可检索相关历史行中较早的字词。 通过数字参数 <var class="var">N</var>，插入历史行中第 <var class="var">N</var> 个字；<var class="var">N</var>
可以是负数，从行末开始计算。
</p>
<p>如果 <code class="t">insert-last-word</code> 已被用于检索上一行历史记录中的最后一个单词，则重复调用时将用同一行中较早的单词替换该单词。
</p>
<p>否则，小部件适用于当前正在编辑的行上的单词。 <code class="t">widget</code> 样式可以设置为另一个小部件的名称，该小部件应被调用来获取单词。 该小部件必须接受与
<code class="t">insert-last-word</code> 相同的三个参数。
</p>
</dd>
<dt><a id="index-cycle_002dcompletion_002dpositions"></a><span><code class="t">cycle-completion-positions</code><a class="copiable-link" href="#index-cycle_002dcompletion_002dpositions"> &para;</a></span></dt>
<dd><p>在命令行中插入一个无歧义的字符串后，新的基于函数的补全系统可能会知道这个字符串中有多个地方缺少字符或至少与一个可能的匹配字符不同。
然后，系统会将光标放在它认为最有趣的位置上，即可以用尽可能少的键入在尽可能多的匹配字符之间进行消歧的位置。
</p>
<p>通过这个小部件，可以轻松地将光标移动到其他感兴趣的位置。 可以反复调用它，在补全系统报告的所有位置之间循环。
</p>
</dd>
<dt><a id="index-delete_002dwhole_002dword_002dmatch-1"></a><span><code class="t">delete-whole-word-match</code><a class="copiable-link" href="#index-delete_002dwhole_002dword_002dmatch-1"> &para;</a></span></dt>
<dd><p>这是另一个函数，其工作原理与上文描述的 <code class="t">-match</code> 函数类似，即使用样式来决定单词边界。 不过，它不能替代任何现有函数。
</p>
<p>基本操作是删除光标周围的单词。 不处理数字参数；只考虑光标周围的单字。 如果小部件中包含字符串
<code class="t">kill</code>，则删除的文本将被放入剪切缓冲区，以便将来提取。 这可以通过定义 <code class="t">kill-whole-word-match</code> 来实现：
</p>
<div class="example">
<pre class="example-preformatted">zle -N kill-whole-word-match delete-whole-word-match
</pre></div>

<p>然后绑定小部件 <code class="t">kill-whole-word-match</code>。
</p>
</dd>
<dt><a class="index-entry-id" id="index-up_002dline_002dor_002dbeginning_002dsearch"></a>
<a id="index-down_002dline_002dor_002dbeginning_002dsearch"></a><span><code class="t">up-line-or-beginning-search</code>, <code class="t">down-line-or-beginning-search</code><a class="copiable-link" href="#index-down_002dline_002dor_002dbeginning_002dsearch"> &para;</a></span></dt>
<dd><p>这些小部件类似于内置函数 <code class="t">up-line-or-search</code> 和
<code class="t">down-line-or-search</code>：如果在多行缓冲区内，它们会在缓冲区内向上或向下移动，否则它们会搜索与当前行起始位置相匹配的历史行。
不过，在这种情况下，它们会按照 <code class="t">history-beginning-search-backward</code> 和 <code class="t">-forward</code>
的方式，搜索与当前行直至当前光标位置相匹配的行，而不是该行的第一个单词。
</p>
</dd>
<dt><a id="index-edit_002dcommand_002dline"></a><span><code class="t">edit-command-line</code><a class="copiable-link" href="#index-edit_002dcommand_002dline"> &para;</a></span></dt>
<dd><p>使用可视化编辑器编辑命令行，如在 <code class="t">ksh</code>。
</p>
<div class="example">
<pre class="example-preformatted">bindkey -M vicmd v edit-command-line
</pre></div>

<p>也可以在小部件的上下文中使用 <code class="t">editor</code> 样式指定要使用的编辑器。编辑器以命令和参数数组的形式指定：
</p>
<div class="example">
<pre class="example-preformatted">zstyle :zle:edit-command-line editor gvim -f
</pre></div>

</dd>
<dt><a id="index-expand_002dabsolute_002dpath"></a><span><code class="t">expand-absolute-path</code><a class="copiable-link" href="#index-expand_002dabsolute_002dpath"> &para;</a></span></dt>
<dd><p>将光标下的文件名扩展为绝对路径，解析符号链接。 在可能的情况下，将开头路径段转换为命名目录或用户主目录的引用。
</p>
</dd>
<dt><a class="index-entry-id" id="index-history_002dbeginning_002dsearch_002dforward_002dend"></a>
<a id="index-history_002dbeginning_002dsearch_002dbackward_002dend"></a><span><code class="t">history-search-end</code><a class="copiable-link" href="#index-history_002dbeginning_002dsearch_002dbackward_002dend"> &para;</a></span></dt>
<dd><p>该函数实现了小部件 <code class="t">history-beginning-search-backward-end</code> 和
<code class="t">history-beginning-search-forward-end</code>。 这些命令的工作方式是，首先调用相应的内置小部件（参见
<a class="ref" href="#g_t_5386_53f2_63a7_5236">历史控制</a>），然后将光标移动到行尾。
在第二次调用内置小部件之前，光标的原始位置会被记住并恢复，这样就可以重复同样的搜索，在历史记录中查找更远的位置。
</p>
<p>虽然只 <code class="t">autoload</code> 一个函数，但使用它的命令略有不同，因为它实现了两个小部件。
</p>
<div class="example">
<pre class="example-preformatted">zle -N history-beginning-search-backward-end \ 
       history-search-end
zle -N history-beginning-search-forward-end \ 
       history-search-end
bindkey '\e^P' history-beginning-search-backward-end
bindkey '\e^N' history-beginning-search-forward-end
</pre></div>

</dd>
<dt><a id="index-history_002dbeginning_002dsearch_002dmenu"></a><span><code class="t">history-beginning-search-menu</code><a class="copiable-link" href="#index-history_002dbeginning_002dsearch_002dmenu"> &para;</a></span></dt>
<dd><p>该函数实现了另一种形式的历史搜索。 光标前的文本用于从历史记录中选择行，与 <code class="t">history-beginning-search-backward</code>
相同，但所有匹配行都显示在一个编号菜单中。 输入相应的数字可插入完整的历史行。 请注意，必须输入前导零（只有在需要消除歧义时才会显示）。
整个历史记录都会被搜索；没有向前和向后之分。
</p>
<p>使用数字参数时，搜索不固定在行的起始位置；用户键入的字符串可以出现在历史记录行中的任何位置。
</p>
<p>如果小部件名称中包含 &lsquo;<code class="t">-end</code>&rsquo; ，光标就会移动到插入行的末尾。 如果小部件名称中包含 &lsquo;<code class="t">-space</code>&rsquo;
，则输入文本中的任何空格都将被视为通配符，可以匹配任何内容（因此前导空格等同于给出一个数字参数）。 两种形式可以结合使用，例如:
</p>
<div class="example">
<pre class="example-preformatted">zle -N history-beginning-search-menu-space-end \ 
       history-beginning-search-menu
</pre></div>

</dd>
<dt><a class="index-entry-id" id="index-history_002dpattern_002dsearch_002dbackward"></a>
<a class="index-entry-id" id="index-history_002dpattern_002dsearch_002dforward"></a>
<a id="index-history_002dpattern_002dsearch"></a><span><code class="t">history-pattern-search</code><a class="copiable-link" href="#index-history_002dpattern_002dsearch"> &para;</a></span></dt>
<dd><p>函数 <code class="t">history-pattern-search</code> 实现了一个小部件，可提示以前向或后向搜索历史记录的模式。 模式采用常用的 zsh
格式，但第一个字符可以是 <code class="t">^</code>，以便将搜索锚定到行的开始，最后一个字符可以是 <code class="t">$</code>，以便将搜索锚定到行的结束。
如果搜索没有锚定到行的末尾，光标就会定位在找到的模式之后。
</p>
<p>创建可绑定小部件的命令与上面例子中的命令类似：
</p>
<div class="example">
<pre class="example-preformatted">autoload -U history-pattern-search
zle -N history-pattern-search-backward history-pattern-search
zle -N history-pattern-search-forward history-pattern-search
</pre></div>

</dd>
<dt><a class="index-entry-id" id="index-incarg_002c-use-of"></a>
<a id="index-incarg"></a><span><code class="t">incarg</code><a class="copiable-link" href="#index-incarg"> &para;</a></span></dt>
<dd><p>在光标位于一个整数上或其左侧时输入该小部件的按键，会使该整数递增 1。
如果输入的是数字参数，则数字会按参数的大小递增（如果数字参数为负数，则数字会递减）。 可以设置 shell 参数 <code class="t">incarg</code>，将默认增量改为
1 以外的值。
</p>
<div class="example">
<pre class="example-preformatted">bindkey '^X+' incarg
</pre></div>

</dd>
<dt><a id="index-incremental_002dcomplete_002dword"></a><span><code class="t">incremental-complete-word</code><a class="copiable-link" href="#index-incremental_002dcomplete_002dword"> &para;</a></span></dt>
<dd><p>这样就可以递增补全一个单词。 启动此命令后，每输入一个字符后都会显示一个补全选项列表，您可以用 <code class="t">^H</code> 或 <code class="t">DEL</code> 删除这些选项。
按回车键可接受到目前为止的补全，并返回正常编辑状态（即命令行 <em class="emph">不会</em> 立即执行）。 您可以按 <code class="t">TAB</code> 进行正常补全，按 <code class="t">^G</code>
终止返回开始时的状态，按 <code class="t">^D</code> 列出匹配结果。
</p>
<p>这只适用于新的基于函数的补全系统。
</p>
<div class="example">
<pre class="example-preformatted">bindkey '^Xi' incremental-complete-word
</pre></div>

</dd>
<dt><a id="index-insert_002dcomposed_002dchar"></a><span><code class="t">insert-composed-char</code><a class="copiable-link" href="#index-insert_002dcomposed_002dchar"> &para;</a></span></dt>
<dd><p>使用该函数可以将键盘上没有的字符编辑插入命令行。 命令后面有两个与 ASCII 字符相对应的键（没有提示符）。
对于重音字符，这两个键是一个基本字符，后面是一个重音代码，而对于其他特殊字符，这两个字符共同构成要插入字符的助记符。 双字符代码是 RFC 1345
提供的代码的子集（例如 <code class="t"><a class="uref" href="http://www.faqs.org/rfcs/rfc1345.html">http://www.faqs.org/rfcs/rfc1345.html</a></code> 中的例子）。
</p>
<p>函数后面可以选择最多两个字符，用来替换从键盘读取的一个或两个字符；如果两个字符都有，则不读取输入。 例如，<code class="t">insert-composed-char
a:</code> 可以在小部件中使用，在命令行中插入带元音的 a。 与使用字面字符相比，这种方法的优点是更可移植。
</p>
<p>为达到最佳效果，zsh 应编译为支持多字节字符（使用 <code class="t">--enable-multibyte</code> 进行配置）；不过，该功能适用于 ISO-8859-1
等单字节字符集中的有限字符范围。
</p>
<p>该字符被转换为本地表示法，并插入光标位置的命令行中。 (转换在 shell 中进行，使用 C 库提供的任何功能）。
对于数字参数，字符及其代码将在状态行中预览
</p>
<p>这个函数可以在zle之外运行，在这种情况下，它会将字符（连同换行符）打印到标准输出。输入仍然来自按键输入。
</p>
<p>请参阅 <code class="t">insert-unicode-char</code>，了解使用十六进制字符编号插入 Unicode 字符的另一种方法。
</p>
<p>在 Unicode 字符 U+0180 之前，重音字符集相当完整，而特殊字符集则不那么完整。 不过，从那个位置起就非常零散了。
不过，添加新字符很容易，请参见函数 <code class="t">define-composed-chars</code>。 如有任何添加，请发送至
<code class="t">zsh-workers@zsh.org</code>。
</p>
<p>第二个字符与第一个字符重读时的代码如下。 请注意，并非每个字符都可以使用重音。
</p><dl class="table">
<dt><code class="t">!</code></dt>
<dd><p>重音符号（如 &quot;à&quot;）。
</p></dd>
<dt><code class="t">'</code></dt>
<dd><p>重音符号（如 &quot;á&quot;）。
</p></dd>
<dt><code class="t">&gt;</code></dt>
<dd><p>圆周率。
</p></dd>
<dt><code class="t">?</code></dt>
<dd><p>波浪符（如&quot;ñ&quot;）。 (这不是 <code class="t">~</code>，因为 RFC 1345 并不假定键盘上存在该字符）。
</p></dd>
<dt><code class="t">-</code></dt>
<dd><p>Macron（如&quot;ā&quot;）。(在基本字符上加一横杠）。
</p></dd>
<dt><code class="t">(</code></dt>
<dd><p>Breve（如&quot;ă&quot;）。(一个浅盘形状的底座上的字符）。
</p></dd>
<dt><code class="t">.</code></dt>
<dd><p>基本字符上方的点，或者 <code class="t">i</code> 中没有点，或者 <code class="t">L</code> 和 <code class="t">l</code> 中居中的点。
</p></dd>
<dt><code class="t">:</code></dt>
<dd><p>Umlaut，也称为 Diaeresis（两点）是一种放置在元音字母上方的双点符号，用于表示发音的变化或分隔两个相邻的元音。（如&quot;ä&quot;)
</p></dd>
<dt><code class="t">c</code></dt>
<dd><p>Cedilla（如&quot;ç&quot; ）。（放置在字符底部的小尾巴符号）
</p></dd>
<dt><code class="t">_</code></dt>
<dd><p>下划线，但目前没有下划线字符。
</p></dd>
<dt><code class="t">/</code></dt>
<dd><p>笔画贯穿基本字符。
</p></dd>
<dt><code class="t">&quot;</code></dt>
<dd><p>Double acute 是一种放置在字符上方的双重尖音符号，用于表示某些语言中特定字母的发音变化。(如ő）
</p></dd>
<dt><code class="t">;</code></dt>
<dd><p>Ogonek 是一种放置在字符底部右侧的小型前向挂钩符号，看起来像一个向前弯曲的小钩子。（如&quot;ǫ&quot;)
</p></dd>
<dt><code class="t">&lt;</code></dt>
<dd><p>Caron，是一种放置在字符上方的小型折线符号，看起来像一个小 V 字母。(如&quot;č&quot;)
</p></dd>
<dt><code class="t">0</code></dt>
<dd><p>在基本字符上画圆圈。
</p></dd>
<dt><code class="t">2</code></dt>
<dd><p>在基本字符上挂钩。
</p></dd>
<dt><code class="t">9</code></dt>
<dd><p>在基本字符上加 &quot;号角&quot;。
</p></dd>
</dl>

<p>阿拉伯文、西里尔文、希腊文和希伯来文字母中最常见的字符均可使用；有关适当的序列，请查阅 RFC 1345。 此外，还有一组 RFC 1345
中没有的双字母代码，可用于与 ASCII 字符 <code class="t">!</code> 至 <code class="t">~</code> （0x21 至 0x7e）相对应的双倍宽度字符，方法是在字符前加上
<code class="t">^</code>，例如 <code class="t">^A</code> 表示双倍宽度的 <code class="t">A</code>。
</p>
<p>还可以理解以下其他双字符序列。
</p>
<dl class="table">
<dt>ASCII 字符</dt>
<dd><p>这些大多数键盘上都有：
</p><dl class="table">
<dt><code class="t">&lt;(</code></dt>
<dd><p>左方括号
</p></dd>
<dt><code class="t">//</code></dt>
<dd><p>反斜线（实线）
</p></dd>
<dt><code class="t">)&gt;</code></dt>
<dd><p>右方括号
</p></dd>
<dt><code class="t">(!</code></dt>
<dd><p>左括号（大括号）
</p></dd>
<dt><code class="t">!!</code></dt>
<dd><p>竖条（管道符号）
</p></dd>
<dt><code class="t">!)</code></dt>
<dd><p>右括号（大括号）
</p></dd>
<dt><code class="t">'?</code></dt>
<dd><p>波浪号（ &lsquo;~&rsquo; ）
</p></dd>
</dl>

</dd>
<dt>特殊字母</dt>
<dd><p>拉丁字母的各种变体中出现的字符：
</p><dl class="table">
<dt><code class="t">ss</code></dt>
<dd><p>Eszett，又称为 &quot;scharfes S&quot;（尖的 S），是德语中的一种特殊字符
</p></dd>
<dt><code class="t">D-</code>, <code class="t">d-</code></dt>
<dd><p>Eth（Ɖ）是国际音标和一些非英语文字中使用的一个字符，表示发音为浊齿擦音的辅音。
</p></dd>
<dt><code class="t">TH</code>, <code class="t">th</code></dt>
<dd><p>Thorn（Þ，þ）是一种字母，最初出现在古英语和北欧语言中
</p></dd>
<dt><code class="t">kk</code></dt>
<dd><p>Kra
</p></dd>
<dt><code class="t">'n</code></dt>
<dd><p>&rsquo;n
</p></dd>
<dt><code class="t">NG</code>, <code class="t">ng</code></dt>
<dd><p>Ng
</p></dd>
<dt><code class="t">OI</code>, <code class="t">oi</code></dt>
<dd><p>Oi
</p></dd>
<dt><code class="t">yr</code></dt>
<dd><p>yr
</p></dd>
<dt><code class="t">ED</code></dt>
<dd><p>ezh
</p></dd>
</dl>

</dd>
<dt>货币符号</dt>
<dd><dl class="table">
<dt><code class="t">Ct</code></dt>
<dd><p>美分
</p></dd>
<dt><code class="t">Pd</code></dt>
<dd><p>英镑（也包括里拉和其他货币）
</p></dd>
<dt><code class="t">Cu</code></dt>
<dd><p>货币
</p></dd>
<dt><code class="t">Ye</code></dt>
<dd><p>日元
</p></dd>
<dt><code class="t">Eu</code></dt>
<dd><p>欧元（注：不在 RFC 1345 中）
</p></dd>
</dl>

</dd>
<dt>标点符号</dt>
<dd><p>指右引号，表示引号的形状（如 9 而不是 6），而不是语法用法。 (例如，在德语中，右 低双引号用于开始引用）。
</p><dl class="table">
<dt><code class="t">!I</code></dt>
<dd><p>倒置的感叹号
</p></dd>
<dt><code class="t">BB</code></dt>
<dd><p>断开的竖条
</p></dd>
<dt><code class="t">SE</code></dt>
<dd><p>部分
</p></dd>
<dt><code class="t">Co</code></dt>
<dd><p>版权
</p></dd>
<dt><code class="t">-a</code></dt>
<dd><p>西班牙文阴性序号指示符
</p></dd>
<dt><code class="t">&lt;&lt;</code></dt>
<dd><p>左栅栏
</p></dd>
<dt><code class="t">-</code><code class="t">-</code></dt>
<dd><p>软连字符
</p></dd>
<dt><code class="t">Rg</code></dt>
<dd><p>注册商标
</p></dd>
<dt><code class="t">PI</code></dt>
<dd><p>Pilcrow（¶）是一个标点符号，通常表示段落的开头或分隔不同段落。
</p></dd>
<dt><code class="t">-o</code></dt>
<dd><p>西班牙文阳性序号指示符
</p></dd>
<dt><code class="t">&gt;&gt;</code></dt>
<dd><p>右栅栏
</p></dd>
<dt><code class="t">?I</code></dt>
<dd><p>倒置问号
</p></dd>
<dt><code class="t">-1</code></dt>
<dd><p>连字符
</p></dd>
<dt><code class="t">-N</code></dt>
<dd><p>En dash是一个连字符，长度通常等于所用字体的字母 &quot;n&quot; 的宽度
</p></dd>
<dt><code class="t">-M</code></dt>
<dd><p>Em dash是一个长破折号，长度通常等于所用字体的字母 &quot;M&quot; 的宽度
</p></dd>
<dt><code class="t">-3</code></dt>
<dd><p>一种水平线条或横线
</p></dd>
<dt><code class="t">:3</code></dt>
<dd><p>垂直省略号
</p></dd>
<dt><code class="t">.3</code></dt>
<dd><p>水平中线省略号
</p></dd>
<dt><code class="t">!2</code></dt>
<dd><p>双竖线
</p></dd>
<dt><code class="t">=2</code></dt>
<dd><p>双下划线
</p></dd>
<dt><code class="t">'6</code></dt>
<dd><p>左单引号
</p></dd>
<dt><code class="t">'9</code></dt>
<dd><p>右单引号
</p></dd>
<dt><code class="t">.9</code></dt>
<dd><p>右低引
</p></dd>
<dt><code class="t">9'</code></dt>
<dd><p>反右引号
</p></dd>
<dt><code class="t">&quot;6</code></dt>
<dd><p>左双引号
</p></dd>
<dt><code class="t">&quot;9</code></dt>
<dd><p>右双引号
</p></dd>
<dt><code class="t">:9</code></dt>
<dd><p>&quot;Right&quot; low double quote
</p></dd>
<dt><code class="t">9&quot;</code></dt>
<dd><p>反右双引号
</p></dd>
<dt><code class="t">/-</code></dt>
<dd><p>一种印刷符号（†）
</p></dd>
<dt><code class="t">/=</code></dt>
<dd><p>一种印刷符号（‡）
</p></dd>
</dl>

</dd>
<dt>数学符号</dt>
<dd><dl class="table">
<dt><code class="t">DG</code></dt>
<dd><p>度
</p></dd>
<dt><code class="t">-2</code>, <code class="t">+-</code>, <code class="t">-+</code></dt>
<dd><p>- sign, +/- sign, -/+ sign
</p></dd>
<dt><code class="t">2S</code></dt>
<dd><p>上标2
</p></dd>
<dt><code class="t">Superscript 2</code></dt>
<dd><p>上标3
</p></dd>
<dt><code class="t">1S</code></dt>
<dd><p>上标1
</p></dd>
<dt><code class="t">My</code></dt>
<dd><p>微
</p></dd>
<dt><code class="t">.M</code></dt>
<dd><p>中点，&quot;·&quot;号
</p></dd>
<dt><code class="t">14</code></dt>
<dd><p>刻
</p></dd>
<dt><code class="t">12</code></dt>
<dd><p>半
</p></dd>
<dt><code class="t">34</code></dt>
<dd><p>3刻
</p></dd>
<dt><code class="t">*X</code></dt>
<dd><p>乘号
</p></dd>
<dt><code class="t">-:</code></dt>
<dd><p>除号
</p></dd>
<dt><code class="t">%0</code></dt>
<dd><p>千分号
</p></dd>
<dt><code class="t">FA</code>, <code class="t">TE</code>, <code class="t">/0</code></dt>
<dd><p>对所有, 存在的, 空集
</p></dd>
<dt><code class="t">dP</code>, <code class="t">DE</code>, <code class="t">NB</code></dt>
<dd><p>偏导数, delta（增量）, del（纳布拉）
</p></dd>
<dt><code class="t">(-</code>, <code class="t">-)</code></dt>
<dd><p>元素, 包含
</p></dd>
<dt><code class="t">*P</code>, <code class="t">+Z</code></dt>
<dd><p>产品, 总合
</p></dd>
<dt><code class="t">*-</code>, <code class="t">Ob</code>, <code class="t">Sb</code></dt>
<dd><p>星号, 圆环, 子弹
</p></dd>
<dt><code class="t">RT</code>, <code class="t">0(</code>, <code class="t">00</code></dt>
<dd><p>根号, 比例, 无穷大
</p></dd>
</dl>

</dd>
<dt>其它符号</dt>
<dd><dl class="table">
<dt><code class="t">cS</code>, <code class="t">cH</code>, <code class="t">cD</code>, <code class="t">cC</code></dt>
<dd><p>花色：黑桃, 红心, 方块, 梅花
</p></dd>
<dt><code class="t">Md</code>, <code class="t">M8</code>, <code class="t">M2</code>, <code class="t">Mb</code>, <code class="t">Mx</code>, <code class="t">MX</code></dt>
<dd><p>音乐符号：四分音符、八分音符、十六分音符、旗号、自然符号、升号符号
</p></dd>
<dt><code class="t">Fm</code>, <code class="t">Ml</code></dt>
<dd><p>女性, 男性
</p></dd>
</dl>

</dd>
<dt>重音</dt>
<dd><dl class="table">
<dt><code class="t">'&gt;</code></dt>
<dd><p>插入符号（与caret相同，<code class="t">^</code>）
</p></dd>
<dt><code class="t">'!</code></dt>
<dd><p>重音符号（与反引号相同，<code class="t">`</code>)
</p></dd>
<dt><code class="t">',</code></dt>
<dd><p>小尾巴符号Cedilla
</p></dd>
<dt><code class="t">':</code></dt>
<dd><p>分音符Diaeresis (Umlaut)
</p></dd>
<dt><code class="t">'m</code></dt>
<dd><p>长音符（Macron）
</p></dd>
<dt><code class="t">''</code></dt>
<dd><p>尖音符Acute
</p></dd>
</dl>

</dd>
</dl>

</dd>
<dt><a id="index-insert_002dfiles"></a><span><code class="t">insert-files</code><a class="copiable-link" href="#index-insert_002dfiles"> &para;</a></span></dt>
<dd><p>该函数允许您键入文件模式，并查看每一步的扩展结果。 按回车键后，所有扩展结果都会插入命令行。
</p>
<div class="example">
<pre class="example-preformatted">bindkey '^Xf' insert-files
</pre></div>

</dd>
<dt><a id="index-insert_002dunicode_002dchar"></a><span><code class="t">insert-unicode-char</code><a class="copiable-link" href="#index-insert_002dunicode_002dchar"> &para;</a></span></dt>
<dd><p>首次执行时，用户输入一组十六进制数字。 最后再调用 <code class="t">insert-unicode-char</code> 以终止。 然后，这些数字会被转换成相应的
Unicode 字符。 例如，如果小部件绑定到 <code class="t">^XU</code>，则字符序列 &lsquo;<code class="t">^XU 4 c ^XU</code>&rsquo; 会插入 <code class="t">L</code>（Unicode
U+004c）。
</p>
<p>有关使用双字符助记符插入字符的方法，请参阅 <code class="t">insert-composed-char</code>。
</p>
<a class="index-entry-id" id="index-narrow_002dto_002dregion"></a>
<a class="index-entry-id" id="index-narrow_002dto_002dregion_002dinvisible"></a>

</dd>
<dt><code class="t">narrow-to-region </code>[ <code class="t">-p</code> <var class="var">pre</var> ] [ <code class="t">-P</code> <var class="var">post</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-S</code> <var class="var">statepm</var> | <code class="t">-R</code> <var class="var">statepm</var> | [ <code class="t">-l</code> <var class="var">lbufvar</var> ] [ <code class="t">-r</code> <var class="var">rbufvar</var> ] ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>[ <code class="t">-n</code> ] [ <var class="var">start</var> <var class="var">end</var> ]</dt>
<dt><code class="t">narrow-to-region-invisible</code></dt>
<dd><p>将缓冲区的可编辑部分缩小到光标和标记之间的区域，该区域可以是任一顺序。 该区域不能为空。
</p>
<p><code class="t">narrow-to-region</code> 可以作为一个小部件使用，也可以作为用户定义的小部件中的函数调用；默认情况下，可编辑区域外的文字仍然可见。 执行
<code class="t">recursive-edit</code> 后，将恢复原来的加宽状态。 以函数形式调用时，有多种选项和参数可供选择。
</p>
<p>选项 <code class="t">-p</code> <var class="var">pretext</var> 和 <code class="t">-P</code> <var class="var">posttext</var>
可用于在函数执行期间替换显示前后的文本；任一选项或两个选项都可以是空字符串。
</p>
<p>如果同时给出选项 <code class="t">-n</code>，<var class="var">pretext</var> 或 <var class="var">posttext</var>
将仅在区域之前或之后有文本时插入，而这些文本将被隐藏(区域内文本）。
</p>
<p>可以给出两个数字参数，它们将代替光标和标记位置。
</p>
<p>选项 <code class="t">-S</code> <var class="var">statepm</var> 用于根据其他选项缩小范围，同时将原始状态保存在名称为 <var class="var">statepm</var> 的参数中，而选项
<code class="t">-R</code> <var class="var">statepm</var> 则用于从参数中恢复状态。而 <code class="t">-R</code> 选项则用于从参数中恢复状态；请注意，这两种情况下都需要使用参数的
<em class="emph">name</em>。 在第二种情况下，其他选项和参数无关紧要。 使用此方法时，不执行 <code class="t">recursive-edit</code> ；调用的小部件应使用选项
<code class="t">-S</code> 调用此函数，在命令行上执行自己的编辑或通过 &lsquo;<code class="t">zle recursive-edit</code>&rsquo; 将控制权传递给用户，然后使用选项
<code class="t">-R</code> 调用此函数。 参数 <var class="var">statepm</var> 必须是普通参数的合适名称，但以 <code class="t">_ntr_</code> 开头的参数被保留给
<code class="t">narrow-to-region</code> 使用。 通常情况下，该参数是调用函数的本地参数。
</p>
<p>选项 <code class="t">-l</code> <var class="var">lbufvar</var> 和 <code class="t">-r</code> <var class="var">rbufvar</var> 可用于指定参数，小部件将在其中存储操作产生的文本。 参数
<var class="var">lbufvar</var> 将包含 <code class="t">LBUFFER</code>，而 <var class="var">rbufvar</var> 将包含 <code class="t">RBUFFER</code>。 这两个选项都不能与
<code class="t">-S</code> 或 <code class="t">-R</code> 一起使用。
</p>
<p><code class="t">narrow-to-region-invisible</code> 是一个简单的小部件，它调用带有参数的 <code class="t">narrow-to-region</code>，用
&lsquo;<code class="t">...</code>&rsquo; 替换区域外的任何文本。 它不需要任何参数。
</p>
<p>任何 zle 命令通常都会导致该行被接受或终止，此时显示会恢复（小部件会返回）。 因此，要接受或终止当前行，还需要额外的此类命令。
</p>
<p>如果该行被接受，则两个小部件的返回状态都为 0，否则为非 0。
</p>
<p>下面是一个使用该功能的小部件的微不足道的例子。
</p><div class="example">
<pre class="example-preformatted">local state
narrow-to-region -p $'Editing restricted region\n' \ 
  -P '' -S state
zle recursive-edit
narrow-to-region -R state
</pre></div>

</dd>
<dt><a class="index-entry-id" id="index-predict_002doff"></a>
<a id="index-predict_002don"></a><span><code class="t">predict-on</code><a class="copiable-link" href="#index-predict_002don"> &para;</a></span></dt>
<dd><p>这个函数集使用历史搜索实现预测键入。 在 <code class="t">predict-on</code>
之后，键入字符会导致编辑器在历史记录中向后(backward)查找与迄今键入内容相同的第一行。
<code class="t">predict-off</code>后，编辑器会恢复正常，查找到哪一行就编辑哪一行。 事实上，很多时候甚至不需要使用
<code class="t">predict-off</code>，因为如果该行与历史记录中的内容不匹配，添加键就会执行标准补全，如果没有找到补全，就会插入其本身。
不过，在行中间编辑可能会混淆预测；请参阅下面的 <code class="t">toggle</code> 样式。
</p>
<p>有了基于函数的补全系统（这是需要的），你应该可以在几乎任何地方输入 <code class="t">TAB</code>，将光标推进到下一个
&ldquo;有趣的&rdquo; 字符位置（通常是当前单词的末尾，但有时也会在单词中间的某个地方）。
当然，只要整行都是您想要的，您就可以用回车接受，而无需先将光标移到末尾。
</p>
<p>首次使用 <code class="t">predict-on</code> 时，会创建几个额外的小部件函数：
</p>
<dl class="table">
<dt><code class="t">delete-backward-and-predict</code></dt>
<dd><p>替换 <code class="t">backward-delete-char</code> 小部件。 您无需自行绑定。
</p></dd>
<dt><code class="t">insert-and-predict</code></dt>
<dd><p>通过替换 <code class="t">self-insert</code> 小部件实现预测键入。 您无需自行绑定。
</p></dd>
<dt><code class="t">predict-off</code></dt>
<dd><p>关闭预测键入功能。
</p></dd>
</dl>

<p>虽然只 <code class="t">autoload</code> 了 <code class="t">predict-on</code> 函数，但也有必要为 <code class="t">predict-off</code> 创建一个按键绑定。
</p>
<div class="example">
<pre class="example-preformatted">zle -N predict-on
zle -N predict-off
bindkey '^X^Z' predict-on
bindkey '^Z' predict-off
</pre></div>

</dd>
<dt><a id="index-read_002dfrom_002dminibuffer"></a><span><code class="t">read-from-minibuffer</code><a class="copiable-link" href="#index-read_002dfrom_002dminibuffer"> &para;</a></span></dt>
<dd><p>当作为一个小部件内部的函数调用时最有用，但作为一个小部件本身也能正常工作。 它在当前命令行下方提示输入一个值；可以使用所有标准的 zle
操作（而不仅仅是在执行时所选的有限集合, 例如,<code class="t">execute-named-cmd</code> ）输入一个值。 然后，数值会通过参数 <code class="t">$REPLY</code>
返回给调用函数，编辑缓冲区也会恢复到之前的状态。 如果键盘中断（通常为 <code class="t">^G</code>）导致读取中止，函数将返回状态 1，且不设置 <code class="t">$REPLY</code>。
</p>
<p>如果为函数提供了一个参数，则将其作为提示符，否则使用 &lsquo;<code class="t">? </code>&rsquo; 。 如果提供两个参数，它们分别是提示符和 <code class="t">$LBUFFER</code>
的初始值，如果提供第三个参数，则是 <code class="t">$RBUFFER</code> 的初始值。 这提供了默认值和光标的起始位置。 返回时，整个缓冲区就是 <code class="t">$REPLY</code>
的值。
</p>
<p>有一个选项可用： &lsquo;<code class="t">-k</code> <var class="var">num</var>&rsquo; 指定读取 <var class="var">num</var> 个字符而不是整行。
在这种情况下，行编辑器不会递归调用，因此根据终端设置，输入可能不可见，而且只有输入键被放入 <code class="t">$REPLY</code>，而不是整个缓冲区。 需要注意的是，与
<code class="t">read</code> 内置函数不同的是，必须给出 <var class="var">num</var>；没有默认值。
</p>
<p>这个名字有点名不副实，因为事实上并没有使用 shell 自身的 minibuffer。 因此，在读取数值时，仍然可以调用
<code class="t">executed-named-cmd</code> 和类似函数。
</p>
</dd>
<dt><a class="index-entry-id" id="index-replace_002dargument_002dedit"></a>
<a id="index-replace_002dargument"></a><span><code class="t">replace-argument</code>, <code class="t">replace-argument-edit</code><a class="copiable-link" href="#index-replace_002dargument"> &para;</a></span></dt>
<dd><p>函数 <code class="t">replace-argument</code>可用于替换当前命令行中的命令行参数，如果当前命令行为空，则替换最后执行的命令行中的参数（新命令行不执行）。
参数按标准 shell 语法分隔、
</p>
<p>如果给出数字参数，则表示要替换的参数。 0 表示命令名称，如在历史扩展中。 负数参数从最后一个字开始倒数。
</p>
<p>如果没有给出数字参数，则替换当前参数；如果使用的是上一行历史记录，则替换最后一个参数。
</p>
<p>函数提示要求替换参数。
</p>
<p>如果小部件包含 <code class="t">edit</code> 字符串，例如定义为
</p>
<div class="example">
<pre class="example-preformatted">zle -N replace-argument-edit replace-argument
</pre></div>

<p>则函数会显示参数的当前值供编辑，否则替换的编辑缓冲区初始为空。
</p>
</dd>
<dt><a class="index-entry-id" id="index-replace_002dstring_002dagain"></a>
<a class="index-entry-id" id="index-replace_002dpattern"></a>
<a id="index-replace_002dstring"></a><span><code class="t">replace-string</code>, <code class="t">replace-pattern</code><a class="copiable-link" href="#index-replace_002dstring"> &para;</a></span></dt>
<dt><code class="t">replace-string-again</code>, <code class="t">replace-pattern-again</code></dt>
<dd><p>函数 <code class="t">replace-string</code> 实现了三个小部件。
如果与函数同名定义，它将提示两个字符串；第一个（源）字符串将在行编辑缓冲区中出现的任何地方被第二个字符串替换。
</p>
<p>如果小部件名称包含 &lsquo;<code class="t">pattern</code>&rsquo;，例如使用命令 &lsquo;<code class="t">zle -N replace-pattern replace-string</code>&rsquo;
定义小部件，那么匹配将使用 zsh 模式进行。 源字符串中可以使用所有 zsh 扩展的 globbing
模式；需要注意的是，与文件名生成不同，模式不需要匹配整个单词，glob 限定符也没有任何作用。 此外，替换字符串可以包含参数或命令替换。
另外，替换字符串中的 &lsquo;<code class="t">&amp;</code>&rsquo; 将被替换为匹配的源字符串，反引号数字 &lsquo;<code class="t">\</code><var class="var">N</var>&rsquo; 将被替换为匹配的第 <var class="var">N</var>
个带括号的表达式。 可以使用 &lsquo;<code class="t">\{</code><var class="var">N</var><code class="t">}</code>&rsquo; 形式来保护数字不受后面数字的影响。
</p>
<p>如果小部件中包含 &lsquo;<code class="t">regex</code>&rsquo; (或 &lsquo;<code class="t">regexp</code>&rsquo;)，则使用正则表达式进行匹配，并遵守选项 <code class="t">RE_MATCH_PCRE</code>
的设置（参见下文对函数 <code class="t">regexp-replace</code> 的描述）。 上述用于模式匹配的特殊替换功能也可以使用。
</p>
<p>默认情况下，前一个源字符串或替换字符串不会提供给编辑。 不过，可以通过将上下文 <code class="t">:zle:</code><var class="var">widget</var> （例如
<code class="t">:zle:replace-string</code>）中的 <code class="t">edit-previous</code> 样式设置为 <code class="t">true</code>，来激活这一功能。
此外，正数参数会强制提供前一个值，负数或零参数则不会。
</p>
<p>函数 <code class="t">replace-string-again</code> 可用于重复之前的替换；不做提示。 与 <code class="t">replace-string</code>
一样，如果小部件的名称包含 &lsquo;<code class="t">pattern</code>&rsquo; 或 &lsquo;<code class="t">regex</code>&rsquo;，则执行模式匹配或正则表达式匹配，否则执行字面字符串替换。
请注意，无论使用模式匹配、正则表达式匹配还是字符串匹配，前面的源文本和替换文本都是一样的。
</p>
<p>此外，只要在当前会话期间有替换，<code class="t">replace-string</code>
就会在提示符上方显示上一次的替换；如果源字符串为空，该替换将被重复，小部件不会替换字符串提示。
</p>
<p>例如，从这行开始
</p>
<div class="example">
<pre class="example-preformatted">print This line contains fan and fond
</pre></div>

<p>用源字符串 &lsquo;<code class="t">f(?)n</code>&rsquo; 调用 <code class="t">replace-pattern</code>，替换字符串为 &lsquo;<code class="t">c\1r</code>&rsquo; ，会产生一行不太有用的内容：
</p>
<div class="example">
<pre class="example-preformatted">print This line contains car and cord
</pre></div>

<p>可以使用 <code class="t">narrow-to-region-invisible</code> 小部件来限制替换字符串的范围。 当前版本的一个限制是，<code class="t">undo</code>
在撤销替换之前，会循环浏览替换和源字符串的更改。
</p>
</dd>
<dt><a id="index-send_002dinvisible"></a><span><code class="t">send-invisible</code><a class="copiable-link" href="#index-send_002dinvisible"> &para;</a></span></dt>
<dd><p>它与 read-from-minibuffer 类似，可以作为一个小部件中的函数或小部件本身来调用，并以交互方式读取键盘上的输入。
不过，输入的内容会被隐藏，取而代之的是显示一串星号（&lsquo;<code class="t">*</code>&rsquo;）。 该值将保存在参数 <code class="t">$INVISIBLE</code>
中，并在恢复的光标位置将其引用插入编辑缓冲区。 如果由于键盘中断（通常为 <code class="t">^G</code>）或其他退出编辑的操作（如
<code class="t">push-line</code>）而中止了读取，<code class="t">$INVISIBLE</code> 将被设置为空，并恢复原始缓冲区，保持不变。
</p>
<p>如果为函数提供了一个参数，则将其作为提示符，否则使用&lsquo;<code class="t">Non-echoed text: </code>&rsquo; （与 emacs 中相同）。
如果提供了第二个和第三个参数，它们将用于开始和结束插入缓冲区的 <code class="t">$INVISIBLE</code> 引用。 默认是以 <code class="t">${</code> 开始，然后是
<code class="t">INVISIBLE</code>，最后用 <code class="t">}</code> 关闭，但也可以实现其他多种效果。
</p>
</dd>
<dt><a id="index-smart_002dinsert_002dlast_002dword"></a><span><code class="t">smart-insert-last-word</code><a class="copiable-link" href="#index-smart_002dinsert_002dlast_002dword"> &para;</a></span></dt>
<dd><p>这个函数可以替代 <code class="t">insert-last-word</code> 小部件，就像这样：
</p>
<div class="example">
<pre class="example-preformatted">zle -N insert-last-word smart-insert-last-word
</pre></div>

<p>如果使用数字参数，或在调用其他小部件时传递命令行参数，其行为与 <code class="t">insert-last-word</code> 类似，但如果设置了
<code class="t">INTERACTIVE_COMMENTS</code>，注释中的单词将被忽略。
</p>
<p>否则，将查找并插入上一条命令中最右边的 &ldquo;interesting&rdquo; 字词。
&ldquo;interesting&rdquo; 的默认定义是，单词至少包含一个字母、斜线或反斜线字符。 使用 <code class="t">match</code>
样式可以覆盖这一定义。 用于查找样式的上下文是小部件名称，因此上下文通常是 <code class="t">:insert-last-word</code>。
不过，您可以将此函数绑定到不同的小部件，以使用不同的模式：
</p>
<div class="example">
<pre class="example-preformatted">zle -N insert-last-assignment smart-insert-last-word
zstyle :insert-last-assignment match '[[:alpha:]][][[:alnum:]]#=*'
bindkey '\e=' insert-last-assignment
</pre></div>

<p>如果未找到感兴趣的单词，且 <code class="t">auto-previous</code> 样式设置为 true 值，则搜索将继续在历史中向上进行。 如果
<code class="t">auto-previous</code> 未设置或设置为 false（默认值），则必须反复调用小部件才能搜索到更早的历史行。
</p>
</dd>
<dt><a id="index-transpose_002dlines"></a><span><code class="t">transpose-lines</code><a class="copiable-link" href="#index-transpose_002dlines"> &para;</a></span></dt>
<dd><p>仅对多行编辑缓冲区有用；此处的行是当前屏幕缓冲区内的行，而不是历史行。 其效果类似于 Emacs 中的同名函数。
</p>
<p>将当前行与上一行平移，并将光标移到下一行的开始位置。 重复上述操作（可以通过提供一个正数参数来实现）的效果是将光标上方的行向下移动若干行。
</p>
<p>如果参数为负数，则需要在光标上方的两行。 这两行将被移位，光标将移至上一行的起始位置。 使用小于-1
的数字参数的效果是将光标上方的行向上移动减去该数的行数。
</p>
</dd>
<dt><a id="index-url_002dquote_002dmagic"></a><span><code class="t">url-quote-magic</code><a class="copiable-link" href="#index-url_002dquote_002dmagic"> &para;</a></span></dt>
<dd><p>这个小部件取代了内置的 <code class="t">self-insert</code>，使输入 URL 作为命令行参数变得更容易。
输入时，系统会分析输入字符，如果需要加引号，则会检查当前单词是否包含 URI 方案。
如果发现有URI方案，且当前单词尚未加引号，则会在输入字符前插入反斜杠。
</p>
<p>控制引号行为的样式：
</p>
<dl class="table">
<dt><code class="t">url-metas</code></dt>
<dd><p>该样式在上下文&lsquo;<code class="t">:url-quote-magic:</code><var class="var">scheme</var>&rsquo; 中查找（其中 <var class="var">scheme</var> 是当前 URL
的模式，例如&quot;<code class="t">ftp</code>&quot;）。 值是一个字符串，其中列出了在使用该模式的 URL 中出现时应作为 globbing 元字符处理的字符。
默认引用(quote)所有 zsh 扩展 globbing 字符，不包括 &rsquo;<code class="t">&lt;</code>&rsquo; 和 &rsquo;<code class="t">&gt;</code>&rsquo; ，但包括大括号（如大括号扩展）。 另请参阅
<code class="t">url-seps</code>。
</p>
</dd>
<dt><code class="t">url-seps</code></dt>
<dd><p>与 <code class="t">url-metas</code> 类似，但列出了应视为命令分隔符、重定向、历史引用等的字符。 默认引用标准的 shell 分隔符集，不包括与扩展
globbing 字符重叠的字符，但包括 &rsquo;<code class="t">&lt;</code>&rsquo; 和 &rsquo;<code class="t">&gt;</code>&rsquo; 以及 <code class="t">$histchars</code> 的第一个字符。
</p>
</dd>
<dt><code class="t">url-globbers</code></dt>
<dd><p>该样式在上下文 &lsquo;<code class="t">:url-quote-magic</code>&rsquo; 中查找。 这些值构成了一个命令名称列表，这些命令名称应自行对 URL 字符串进行
globbing。 这意味着它们被别名为使用 &lsquo;<code class="t">noglob</code>&rsquo; 修饰符。 当一行中的第一个单词与这些值之一匹配, <em class="emph">并且</em> URL
指向本地文件（参见 <code class="t">url-local-schema</code>），只有 <code class="t">url-seps</code> 字符会被加引号；而 <code class="t">url-metas</code>
则不会被加引，允许它们影响命令行解析、补全等。 默认值是字面意义上的&lsquo;<code class="t">noglob</code>&rsquo; 加上（当 <code class="t">zsh/parameter</code>
模块可用时）别名到辅助函数 &lsquo;<code class="t">urlglobber</code>&rsquo; 或其别名 &lsquo;<code class="t">globurl</code>&rsquo; 的所有命令。
</p>
</dd>
<dt><code class="t">url-local-schema</code></dt>
<dd><p>尽管 url-quote-magic 和 urlglobber 都使用这种样式，但它总是在上下文 &lsquo;<code class="t">:urlglobber</code>&rsquo; 中查找。
这些值构成了一个 URI 模式(schema)列表，这些模式应被视为是指向本地文件的真实本地路径名，而不是指相对于网络服务器定义的文档根目录的文件。
默认值为 &quot;<code class="t">ftp</code>&quot; 和 &quot;<code class="t">file</code>&quot;。
</p>
</dd>
<dt><code class="t">url-other-schema</code></dt>
<dd><p>类似于 <code class="t">url-local-schema</code>，但列出了 <code class="t">urlglobber</code> 和 <code class="t">url-quote-magic</code> 应执行的所有其他
URI 模式(schema)。 如果命令行中的 URI 模式没有出现在该列表或 <code class="t">url-local-schema</code> 中，则不会被神奇地加引号。
默认值为&quot;<code class="t">http</code>&quot;、&quot;<code class="t">https</code>&quot;和&quot;<code class="t">ftp</code>&quot;。 当某一模式同时出现在此处和 <code class="t">url-local-schema</code>
中时，将根据命令名称是否出现在 <code class="t">url-globbers</code> 中，以不同方式加引号。
</p>
</dd>
</dl>

<p>加载 <code class="t">url-quote-magic</code> 还定义了一个辅助函数 &lsquo;<code class="t">urlglobber</code>&rsquo; ，并将 &lsquo;<code class="t">globurl</code>&rsquo; 别名为
&lsquo;<code class="t">noglob urlglobber</code>&rsquo;。 该函数拆分本地 URL，尝试对 URL 路径中的本地文件部分进行模式匹配，然后将结果重新放回 URL
格式。
</p>
</dd>
<dt><a id="index-vi_002dpipe"></a><span><code class="t">vi-pipe</code><a class="copiable-link" href="#index-vi_002dpipe"> &para;</a></span></dt>
<dd><p>此函数从键盘读取移动命令，然后提示外部命令。移动所覆盖的缓冲区部分被管道输送到外部命令，然后被命令的输出所取代。如果移动命令与 vi-
绑定，则使用当前行。
</p>
<p>该函数作为从用户定义的小部件中读取 vi 移动命令的示例。
</p>
</dd>
<dt><a id="index-which_002dcommand-1"></a><span><code class="t">which-command</code><a class="copiable-link" href="#index-which_002dcommand-1"> &para;</a></span></dt>
<dd><p>该函数可直接替换内置小部件 <code class="t">which-command</code>。
它的功能有所增强，能正确检测命令字是否需要扩展为别名；如果需要，则会从扩展后的别名继续追踪命令字，直到找到要执行的命令。
</p>
<p><code class="t">whence</code> 样式在上下文 <code class="t">:zle:$WIDGET</code> 中可用；可将其设置为数组，以给出用于调查找到的命令字的命令和选项。 默认值为
<code class="t">whence -c</code>。
</p>
</dd>
<dt><a id="index-zcalc_002dauto_002dinsert"></a><span><code class="t">zcalc-auto-insert</code><a class="copiable-link" href="#index-zcalc_002dauto_002dinsert"> &para;</a></span></dt>
<dd><p>该函数与 <a class="ref" href="#g_t_6570_5b66_51fd_6570">数学函数</a> 中描述的 <code class="t">zcalc</code> 函数一起使用很有用。 它应该绑定到一个代表二元运算符的键上，例如 &lsquo;<code class="t">+</code>&rsquo;,
&lsquo;<code class="t">-</code>&rsquo;, &lsquo;<code class="t">*</code>&rsquo; 或  &lsquo;<code class="t">/</code>&rsquo; 。 在 zcalc
中运行时，如果关键字出现在行的开头或紧跟在开括号之后，则在关键字本身的表示之前插入文本 <code class="t">&quot;ans&quot;</code>。
这样可以方便地在当前行中使用前一个计算的答案。 输入符号前插入的文本可以通过设置变量 <code class="t">ZCALC_AUTO_INSERT_PREFIX</code>
进行修改。
</p>
<p>因此，举例来说，输入 &lsquo;<code class="t">+12</code>&rsquo;，然后回车，就会在前面的结果上加上 12。
</p>
<p>如果 zcalc 处于 RPN 模式（<code class="t">-r</code> 选项），该绑定的效果将被自动抑制，因为一行中单独的运算符是有意义的。
</p>
<p>当不在 zcalc 中时，按键只是插入符号本身。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Shi-Yong-Han-Shu--2">
<h4 class="subsection"><span>26.7.2 实用函数<a class="copiable-link" href="#Shi-Yong-Han-Shu--2"> &para;</a></span></h4>

<p>这些函数在构建小部件时非常有用。 应使用 &lsquo;<code class="t">autoload -U</code> <var class="var">function</var>&rsquo; 加载这些函数，并根据用户自定义 widget
的指示调用它们。
</p>
<dl class="table">
<dt><a id="index-split_002dshell_002darguments"></a><span><code class="t">split-shell-arguments</code><a class="copiable-link" href="#index-split_002dshell_002darguments"> &para;</a></span></dt>
<dd><p>该函数将当前正在编辑的行分割为 shell 参数和空白。 结果存储在数组 <code class="t">reply</code> 中。
该数组按顺序包含该行的所有部分，从第一个参数之前的空白处开始，到最后一个参数之后的空白处结束。 因此（只要未设置 <code class="t">KSH_ARRAYS</code>
选项），数组中的奇数索引表示空白，偶数索引表示参数。 需要注意的是，数组中的引号不会被删除；将 <code class="t">reply</code>
中的所有元素按顺序连接在一起，可以保证产生原始行。
</p>
<p>参数 <code class="t">REPLY</code> 设置为 <code class="t">reply</code> 中包含光标后字符的字的索引，其中第一个元素的索引为 1。 参数 <code class="t">REPLY2</code>
将被设置为该字词中光标下字符的索引，其中第一个字符的索引为 1。
</p>
<p>因此，<code class="t">reply</code>、<code class="t">REPLY</code> 和 <code class="t">REPLY2</code> 都应本地化到封闭函数中。
</p>
<p>有关如何调用该函数的示例，请参阅下文介绍的函数 <code class="t">modify-current-argument</code>。
</p>
</dd>
<dt><a id="index-modify_002dcurrent_002dargument"></a><span><code class="t">modify-current-argument</code> [ <var class="var">expr-using-</var><code class="t">$ARG</code> | <var class="var">func</var> ]<a class="copiable-link" href="#index-modify_002dcurrent_002dargument"> &para;</a></span></dt>
<dd><p>该函数提供了一种简单的方法，允许用户定义的小部件修改光标下的命令行参数（如果光标位于参数之间，则紧靠光标左侧）。
</p>
<p>参数可以是一个表达式，该表达式在求值时，在 shell 参数 <code class="t">ARG</code> 上进行操作，而 shell 参数 <code class="t">ARG</code>
已被设置为光标下的命令行参数。 表达式应适当加引号，以防止过早求值。
</p>
<p>或者，如果参数不包含 <code class="t">ARG</code> 字符串，则假定它是一个 shell 函数，当前命令行参数是唯一的参数。 函数应将变量 <code class="t">REPLY</code>
设置为命令行参数的新值。 如果函数返回非零状态，则调用函数也返回非零状态。
</p>
<p>例如，包含以下代码的用户自定义小部件会将光标下参数中的字符转换为全大写：
</p>
<div class="example">
<pre class="example-preformatted">modify-current-argument '${(U)ARG}'
</pre></div>

<p>下面的命令会删除当前单词中的任何引号（无论是反斜线还是引号样式之一），代之以整个单引号：
</p>
<div class="example">
<pre class="example-preformatted">modify-current-argument '${(qq)${(Q)ARG}}'
</pre></div>

<p>下面的命令会对命令行参数执行目录扩展，并用绝对路径取而代之：
</p>
<div class="example">
<pre class="example-preformatted">expand-dir() {
  REPLY=${~1}
  REPLY=${REPLY:a}
}
modify-current-argument expand-dir
</pre></div>

<p>实际上，函数 <code class="t">expand-dir</code> 很可能不会在调用 <code class="t">modify-current-argument</code> 的小部件中定义。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Yang-Shi--1">
<h4 class="subsection"><span>26.7.3 样式<a class="copiable-link" href="#Yang-Shi--1"> &para;</a></span></h4>

<p>上述几个小部件的行为可以通过使用 <code class="t">zstyle</code> 机制来控制。 特别是，与补全系统交互的小部件会将它们的上下文传递给它们调用的任何补全。
</p>
<dl class="table">
<dt><a id="index-break_002dkeys_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">break-keys</code><a class="copiable-link" href="#index-break_002dkeys_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">incremental-complete-word</code>
小部件使用。它的值应该是一个模式，所有与该模式匹配的键都将导致小部件停止增量补全，而该键不会有任何进一步的影响。与
<code class="t">incremental-complete-word</code> 直接使用的所有样式一样，该样式通过上下文 &lsquo;<code class="t">:incremental</code>&rsquo; 进行查找。
</p>
</dd>
<dt><a id="index-completer_002c-Bu-Quan-Yang-Shi--1"></a><span><code class="t">completer</code><a class="copiable-link" href="#index-completer_002c-Bu-Quan-Yang-Shi--1"> &para;</a></span></dt>
<dd><p><code class="t">incremental-complete-word</code> 和 <code class="t">insert-and-predict</code>
小部件会在调用补全之前设置其顶级上下文名称。 这样就可以为普通补全和这些小部件定义不同的补全函数集。
例如，要在正常补全中使用补全、近似和修正，在增量补全中使用补全和修正，在预测中只使用补全，可以使用:
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':completion:*' completer \ 
        _complete _correct _approximate
zstyle ':completion:incremental:*' completer \ 
        _complete _correct
zstyle ':completion:predict:*' completer \ 
        _complete
</pre></div>

<p>限制预测中使用的补全器是个好主意，因为它们可能会在输入时自动调用。 <code class="t">_list</code> 和 <code class="t">_menu</code> 补全器绝对不能用于预测。 可以使用
<code class="t">_approximate</code>、<code class="t">_correct</code>、<code class="t">_expand</code> 和 <code class="t">_match</code>
补全器，但要注意它们可能会更改光标后单词中任何位置的字符，因此需要仔细观察结果是否与您的预期一致。
</p>
</dd>
<dt><a id="index-cursor_002c-Bu-Quan-Yang-Shi-"></a><span><code class="t">cursor</code><a class="copiable-link" href="#index-cursor_002c-Bu-Quan-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">insert-and-predict</code>小部件在上下文 &lsquo;<code class="t">:predict</code>&rsquo; 中使用这种样式，以决定在尝试补全后将光标置于何处。 值为:
</p>
<dl class="table">
<dt><code class="t">complete</code></dt>
<dd><p>光标会留在补全完成时的位置，但前提是光标必须位于与用户刚刚插入的字符相同的字符之后。 如果光标位于其他字符之后，则该值与 &lsquo;<code class="t">key</code>&rsquo; 相同。
</p>
</dd>
<dt><code class="t">key</code></dt>
<dd><p>光标会停留在刚刚插入的字符的第 <var class="var">n</var> 次出现之后，其中 <var class="var">n</var> 是尝试补全之前该字符在单词中出现的次数。
简而言之，这样做的效果是，即使补全代码发现在该位置不需要插入其他字符，光标也会留在刚刚输入的字符之后。
</p>
</dd>
</dl>

<p>该样式的任何其他值都会无条件地将光标停留在补全代码离开的位置。
</p>
</dd>
<dt><a id="index-list_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">list</code><a class="copiable-link" href="#index-list_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>当使用 <code class="t">incremental-complete-word</code> 小部件时，该样式表示是否应在每次按键时列出匹配项（如果它们适合显示在屏幕上）。
使用上下文前缀 &lsquo;<code class="t">:completion:incremental</code>&rsquo;。
</p>
<p><code class="t">insert-and-predict</code>小部件使用这种样式来决定是否显示补全，即使只有一种可能的补全。 如果该样式的值是字符串
<code class="t">always</code>，则会显示补全。 在这种情况下，上下文为&lsquo;<code class="t">:predict</code>&rsquo; （<em class="emph">不是</em>
&lsquo;<code class="t">:completion:predict</code>&rsquo;）。
</p>
</dd>
<dt><a id="index-match_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">match</code><a class="copiable-link" href="#index-match_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">smart-insert-last-word</code> 使用，用于提供与有趣的单词相匹配的模式（使用完整的 <code class="t">EXTENDED_GLOB</code>
语法）。 上下文是 <code class="t">smart-insert-last-word</code> 所绑定的小部件的名称（见上文）。
<code class="t">smart-insert-last-word</code> 的默认行为相当于:
</p>
<div class="example">
<pre class="example-preformatted">zstyle :insert-last-word match '*[[:alpha:]/\\]*'
</pre></div>

<p>但是，您可能希望包含含有空格的单词：
</p>
<div class="example">
<pre class="example-preformatted">zstyle :insert-last-word match '*[[:alpha:][:space:]/\\]*'
</pre></div>

<p>或者包含数字，只要单词至少有两个字符长：
</p>
<div class="example">
<pre class="example-preformatted">zstyle :insert-last-word match '*([[:digit:]]?|[[:alpha:]/\\])*'
</pre></div>

<p>上述示例会导致包含 &quot;2&gt;&quot; 等重定向。
</p>
</dd>
<dt><a id="index-prompt_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">prompt</code><a class="copiable-link" href="#index-prompt_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">incremental-complete-word</code> 小部件会在递增补全期间在状态行中显示该样式的值。 字符串值可以按照 <code class="t">PS1</code>
和其他提示符参数的方式包含以下任意子串：
</p>
<dl class="table">
<dt><code class="t">%c</code></dt>
<dd><p>替换为生成匹配的补全函数名称（不含前导下划线）。
</p>
</dd>
<dt><code class="t">%l</code></dt>
<dd><p>当 <code class="t">list</code> 样式被设置时，如果匹配列表太长而无法在屏幕上显示，则替换为 &lsquo;<code class="t">...</code>&rsquo; ，否则替换为空字符串。 如果 <code class="t">list</code>
样式为 &lsquo;false&rsquo; 或未设置，则始终删除 &lsquo;<code class="t">%l</code>&rsquo; 。
</p>
</dd>
<dt><code class="t">%n</code></dt>
<dd><p>用生成的匹配数代替。
</p>
</dd>
<dt><code class="t">%s</code></dt>
<dd><p>如果没有与该行单词匹配的补全，如果匹配的单词没有与该行单词不同的共同前缀，或者如果有这样的共同前缀，则分别用 &lsquo;<code class="t">-no match-</code>&rsquo;,
&lsquo;<code class="t">-no prefix-</code>&rsquo; 或空字符串替换。
</p>
</dd>
<dt><code class="t">%u</code></dt>
<dd><p>如果该部分与该行上的词不同，替换为所有匹配词中的不明确部分（如果有的话）。
</p>
</dd>
</dl>

<p>与 &lsquo;<code class="t">break-keys</code>&rsquo; 一样，它使用 &lsquo;<code class="t">:incremental</code>&rsquo; 上下文。
</p>
</dd>
<dt><a id="index-stop_002dkeys_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">stop-keys</code><a class="copiable-link" href="#index-stop_002dkeys_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该样式由 <code class="t">incremental-complete-word</code> 小部件使用。 其值的处理方式与 <code class="t">break-keys</code>
样式类似（并使用相同的上下文：&lsquo;<code class="t">:incremental</code>&rsquo;）。
不过，在这种情况下，所有与作为其值给出的模式匹配的键都将停止增量补全，然后执行它们的常规功能。
</p>
</dd>
<dt><a id="index-toggle_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">toggle</code><a class="copiable-link" href="#index-toggle_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该布尔样式由 <code class="t">predict-on</code> 及其相关小部件在上下文 &lsquo;<code class="t">:predict</code>&rsquo; 中使用。 如果将其设置为标准的 &lsquo;true&rsquo;
值之一，则预测键入功能会在不太可能有用的情况下自动关闭，例如编辑多行缓冲区时，或移动到行中间并删除一个字符后。 默认情况下，在明确调用
<code class="t">predict-off</code> 之前，预测键入都是打开的。
</p>
</dd>
<dt><a id="index-verbose_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">verbose</code><a class="copiable-link" href="#index-verbose_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>该布尔样式由 <code class="t">predict-on</code> 及其相关小部件在上下文 &lsquo;<code class="t">:predict</code>&rsquo; 中使用。 如果设置为标准的 &lsquo;true&rsquo;
值之一，这些小部件就会在切换预测状态时在提示符下方显示一条信息。 这在与 <code class="t">toggle</code> 样式结合使用时最为有用。 默认情况下不显示这些信息。
</p>
</dd>
<dt><a id="index-widget_002c-Xiao-Bu-Jian-Yang-Shi-"></a><span><code class="t">widget</code><a class="copiable-link" href="#index-widget_002c-Xiao-Bu-Jian-Yang-Shi-"> &para;</a></span></dt>
<dd><p>这种样式类似于 <code class="t">command</code> 样式： 对于使用 <code class="t">zle</code> 调用其他小部件的小部件函数，有时可以使用这种样式来覆盖被调用的小部件。
此样式的上下文是调用小部件的名称（<em class="emph">不</em>是调用函数的名称，因为一个函数可能绑定多个小部件名称）。
</p>
<div class="example">
<pre class="example-preformatted">zstyle :copy-earlier-word widget smart-insert-last-word
</pre></div>

<p>请查看调用的小部件或函数的文档，以确定是否使用 <code class="t">widget</code> 样式。
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="g_t_5f02_5e38_5904_7406">

<h3 class="section" id="Yi-Chang-Chu-Li-"><span>26.8 异常处理<a class="copiable-link" href="#Yi-Chang-Chu-Li-"> &para;</a></span></h3>

<p>提供了两个函数，使 zsh 能够以其他语言相熟的形式提供异常处理。
</p>
<dl class="table">
<dt><a id="index-throw"></a><span><code class="t">throw</code> <var class="var">exception</var><a class="copiable-link" href="#index-throw"> &para;</a></span></dt>
<dd><p>函数 <code class="t">throw</code> 会抛出名为 <var class="var">exception</var> 的异常。 该名称是一个任意字符串，仅用于 <code class="t">throw</code> 和
<code class="t">catch</code> 函数。 在大多数情况下，异常与 shell 错误的处理方式相同，即未处理的异常将导致 shell
中止函数或脚本中的所有处理，并返回交互式 shell 的顶层。
</p>
</dd>
<dt><code class="t">catch</code> <var class="var">exception-pattern</var></dt>
<dd><p>函数 <code class="t">catch</code> 的返回状态为 0，前提是有异常抛出，且模式 <var class="var">exception-pattern</var> 与异常名称相匹配。 否则返回状态
1。 <var class="var">exception-pattern</var> 是标准的 shell 模式，与 <code class="t">EXTENDED_GLOB</code> 选项的当前设置一致。
此外，还定义了一个别名 <code class="t">catch</code>，以防止函数参数匹配文件名，因此可以不加引号地使用模式。 需要注意的是，由于异常与其他 shell
错误没有本质区别，因此可以使用空字符串作为异常名称来捕获 shell 错误。 shell 变量 <code class="t">CAUGHT</code> 将被 <code class="t">catch</code>
设置为捕获的异常名称。 捕获异常后，可以再次调用 <code class="t">throw</code> 函数来重新抛出异常。
<a class="index-entry-id" id="index-catch"></a>
</p>
</dd>
</dl>

<p>这些函数旨在与 <a class="ref" href="#g_t_590d_6742_547d_4ee4">复杂命令</a> 中描述的 <code class="t">always</code> 结构一起使用。 这一点非常重要，因为只有这种结构才能为异常提供所需的支持。
下面是一个典型示例。
</p>
<div class="example">
<pre class="example-preformatted">{
  # &quot;try&quot; block
  # ... nested code here calls &quot;throw MyExcept&quot;
} always {
  # &quot;always&quot; block
  if catch MyExcept; then
    print &quot;Caught exception MyExcept&quot;
  elif catch ''; then
    print &quot;Caught a shell error.  Propagating...&quot;
    throw ''
  fi
  # Other exceptions are not handled but may be caught further
  # up the call stack.
}
</pre></div>

<p>如果所有异常都应被捕获，下面的习语可能更合适。
</p>
<div class="example">
<pre class="example-preformatted">{
  # ... nested code here throws an exception
} always {
  if catch *; then
    case $CAUGHT in
      (MyExcept)
      print &quot;Caught my own exception&quot;
      ;;
      (*)
      print &quot;Caught some other exception&quot;
      ;;
    esac
  fi
}
</pre></div>

<p>与其他语言的异常处理一样，异常也可以由深度嵌套在 &lsquo;try&rsquo; 代码块中的代码抛出。 但要注意的是，异常必须在当前 shell
中抛出，而不是在为管道、加括号的当前 shell 结构或某种形式的命令或进程替换而分叉的子 shell 中抛出。
</p>
<p>系统内部使用 shell 变量 <code class="t">EXCEPTION</code> 来记录抛出和捕获之间的异常名称。 这种方案的一个缺点是，如果异常未被处理，变量
<code class="t">EXCEPTION</code> 将保持设置，如果随后出现 shell 错误，可能会被错误地识别为异常名称。 在任何使用异常处理的代码的最外层开头添加
<code class="t">unset EXCEPTION</code> 就可以解决这个问题。
</p>
<hr>
</div>
<div class="section-level-extent" id="MIME-_51fd_6570">

<h3 class="section" id="MIME-Han-Shu-"><span>26.9 MIME 函数<a class="copiable-link" href="#MIME-Han-Shu-"> &para;</a></span></h3>

<p>有三个函数可用于处理扩展名识别的文件，例如，在作为命令执行时，将文件 <code class="t">text.ps</code> 分派给适当的查看器。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-zsh_002dmime_002dhandler"></a>
<a id="index-zsh_002dmime_002dsetup"></a><span><code class="t">zsh-mime-setup</code> [ <code class="t">-fv</code> ] [ <code class="t">-l</code> [ <var class="var">suffix</var> ... ] ]<a class="copiable-link" href="#index-zsh_002dmime_002dsetup"> &para;</a></span></dt>
<dt><code class="t">zsh-mime-handler</code> [ <code class="t">-l</code> ] <var class="var">command argument</var> ...</dt>
<dd><p>这两个函数使用 <code class="t">~/.mime.types</code> 和 <code class="t">/etc/mime.types</code> 文件，它们将类型和扩展名联系起来；还使用
<code class="t">~/.mailcap</code> 和 <code class="t">/etc/mailcap</code> 文件，它们将类型和处理这些类型的程序联系起来。
这些，通过多媒体互联网邮件扩展（Multimedia Internet Mail Extensions），在许多系统中都有提供。
</p>
<p>要启用该系统，应自动加载并运行函数 <code class="t">zsh-mime-setup</code>。 这样，带有扩展名的文件就会被视为可执行文件，并由函数补全系统补全。
用户无需调用 <code class="t">zsh-mime-handler</code> 函数。
</p>
<p>该系统通过使用 &lsquo;<code class="t">alias -s</code>&rsquo; 设置后缀别名来运行。 用户已安装的后缀别名不会被覆盖。
</p>
<p>对于以小写定义的后缀，大写变体也将自动得到处理（例如，如果定义了对后缀 <code class="t">pdf</code> 的处理，则 <code class="t">PDF</code> 将自动得到处理），但反之不成立。
</p>
<p>除非给出 <code class="t">-f</code> 选项，否则重复调用 <code class="t">zsh-mime-setup</code> 不会覆盖后缀和可执行文件之间的现有映射。 但请注意，这不会覆盖分配给
<code class="t">zsh-mime-handler</code> 以外的处理程序的现有后缀别名。
</p>
<p>使用选项 <code class="t">-l</code> 调用 <code class="t">zsh-mime-setup</code> 会列出现有的映射，但不会更改它们。
要列出的后缀（可能包含模式字符，在命令行中应加注引号以避免直接解释）可以作为附加参数给出，否则将列出所有后缀。
</p>
<p>使用选项 <code class="t">-v</code> 调用 <code class="t">zsh-mime-setup</code> 会在设置(setup)操作过程中显示冗长输出。
</p>
<p>系统尊守 <code class="t">mailcap</code> 标志 <code class="t">needsterminal</code> 和 <code class="t">copiousoutput</code>；请参阅 mailcap(4) 或
mailcap(5)（不同平台的手册页名称不同）。
</p>
<p>函数使用以下样式，这些样式通过 <code class="t">zstyle</code> 内置命令（<a class="ref" href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a>）定义。 它们应在
<code class="t">zsh-mime-setup</code> 运行前定义。 使用的上下文均以 <code class="t">:mime:</code> 开头，在某些情况下还会使用附加组件。 建议在样式模式后加上
<code class="t">*</code>（适当加引号），以防系统将来扩展。 下面给出了一些例子。
</p>
<p>对于有多个后缀的文件，例如 <code class="t">.pdf.gz</code>，如果上下文包含后缀，则将从可能的最长后缀开始查找，直到找到与样式匹配的后缀。 例如，如果
<code class="t">.pdf.gz</code> 产生了与处理程序匹配的后缀，则使用该后缀；否则将使用 <code class="t">.gz</code> 的处理程序。
需要注意的是，由于后缀别名的工作方式，总是要求为尽可能短的后缀提供处理程序， 因此在本例中，只有在 <code class="t">.gz</code>
也被处理（但处理方式不一定相同）的情况下，<code class="t">.pdf.gz</code> 才能被处理。 另外，如果不需要处理 <code class="t">.gz</code> 本身，只需添加命令
</p>
<div class="example">
<pre class="example-preformatted">alias -s gz=zsh-mime-handler
</pre></div>

<p>初始化代码已经足够了；<code class="t">.gz</code> 不会单独处理，但可能会与其他后缀一起处理。
</p>
<dl class="table">
<dt><a id="index-current_002dshell_002c-MIME-style"></a><span><code class="t">current-shell</code><a class="copiable-link" href="#index-current_002dshell_002c-MIME-style"> &para;</a></span></dt>
<dd><p>如果该布尔值为 true，相关上下文的 mailcap 处理程序将使用 <code class="t">eval</code> 内置程序运行，而不是启动一个新的 <code class="t">sh</code> 进程。
这种方式效率更高，但在 mailcap 处理程序使用严格 POSIX 语法的情况下偶尔可能无法运行。
</p>
</dd>
<dt><a id="index-disown_002c-MIME-style"></a><span><code class="t">disown</code><a class="copiable-link" href="#index-disown_002c-MIME-style"> &para;</a></span></dt>
<dd><p>如果该布尔样式为 true，那么在后台启动的mailcap处理程序将被从Shell的作业控制中移除，即不受父 shell 中作业的控制。
此类处理程序几乎总是产生自己的窗口，因此设置该样式唯一可能产生的有害副作用是，从Shell内部更难以终止这些作业。
</p>
</dd>
<dt><a id="index-execute_002das_002dis_002c-MIME-style"></a><span><code class="t">execute-as-is</code><a class="copiable-link" href="#index-execute_002das_002dis_002c-MIME-style"> &para;</a></span></dt>
<dd><p>该样式提供了一个模式列表，用于匹配与处理程序一起传递执行的文件。 如果文件与模式匹配，则整个命令行将以当前形式执行，不使用处理程序。
这对可能有后缀但本身仍可执行的文件非常有用。 如果未设置样式，则使用 <code class="t">*(*) *(/)</code>
模式；因此，可执行文件将直接执行，而不会传递给处理程序，并且可以使用选项 <code class="t">AUTO_CD</code> 来更改碰巧带有 MIME 后缀的目录。
</p>
</dd>
<dt><a id="index-execute_002dnever_002c-MIME-style"></a><span><code class="t">execute-never</code><a class="copiable-link" href="#index-execute_002dnever_002c-MIME-style"> &para;</a></span></dt>
<dd><p>该样式可与 <code class="t">execute-as-is</code> 结合使用。 它被设置为与文件全路径相对应的模式数组，即使传递给 MIME 处理程序的文件符合
<code class="t">execute-as-is</code>，这些文件也不应被视为可执行文件。 这对于不处理执行权限或包含来自其他操作系统的可执行文件的文件系统非常有用。
例如，如果 <code class="t">/mnt/windows</code> 是 Windows 挂载点，那么
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':mime:*' execute-never '/mnt/windows/*'
</pre></div>

<p>将确保在该区域找到的任何文件都将作为 MIME 类型执行，即使这些文件是可执行的。
如本例所示，完整的文件名将与模式相匹配，无论文件是如何传递给处理程序的。 文件将使用 <a class="ref" href="#g_t_4fee_9970_7b26">修饰符</a> 中描述的 <code class="t">:P</code>
修饰符解析为完整路径；这意味着尽可能解析符号链接，以便以正确的方式链接到其他文件系统。
</p>
</dd>
<dt><a id="index-file_002dpath_002c-MIME-style"></a><span><code class="t">file-path</code><a class="copiable-link" href="#index-file_002dpath_002c-MIME-style"> &para;</a></span></dt>
<dd><p>当 <code class="t">find-file-in-path</code> 样式在同样的上下文中为真时使用。 设置为用于搜索待处理文件的目录数组；默认为特殊参数 <code class="t">path</code>
指定的命令路径。shell 选项 <code class="t">PATH_DIRS</code> 会被遵从； 如果设置了 shell 选项
<code class="t">PATH_DIRS</code>，即使要处理的文件名在命令行中包含 &lsquo;<code class="t">/</code>&rsquo;，也会搜索相应的路径。 完整的上下文为
<code class="t">:mime:.</code><var class="var">suffix</var><code class="t">:</code>，如 <code class="t">handler</code> 样式所述。
</p>
</dd>
<dt><a id="index-find_002dfile_002din_002dpath_002c-MIME-style"></a><span><code class="t">find-file-in-path</code><a class="copiable-link" href="#index-find_002dfile_002din_002dpath_002c-MIME-style"> &para;</a></span></dt>
<dd><p>如果设置，则允许在命令路径或 <code class="t">file-path</code> 样式指定的路径中搜索名称不包含绝对路径的文件。
如果在路径中找不到文件，将在本地查找（无论当前目录是否在路径中）；如果在本地找不到文件，除非设置了 <code class="t">handle-nonexistent</code>
样式，否则处理程序将终止。 路径中找到的文件将按照 <code class="t">execute-as-is</code> 样式进行测试。 完整上下文为
<code class="t">:mime:.</code><var class="var">suffix</var><code class="t">:</code>，如 <code class="t">handler</code> 样式所述。
</p>
</dd>
<dt><a id="index-flags_002c-MIME-style"></a><span><code class="t">flags</code><a class="copiable-link" href="#index-flags_002c-MIME-style"> &para;</a></span></dt>
<dd><p>定义处理程序的标志；上下文与 <code class="t">handler</code> 样式相同，格式与 <code class="t">mailcap</code> 中的标志相同。
</p>
</dd>
<dt><a id="index-handle_002dnonexistent_002c-MIME-style"></a><span><code class="t">handle-nonexistent</code><a class="copiable-link" href="#index-handle_002dnonexistent_002c-MIME-style"> &para;</a></span></dt>
<dd><p>默认情况下，与文件不对应的参数不会传递给 MIME 处理程序，以防止它拦截路径中恰好有后缀的命令。 该样式可设置为一个扩展 glob
模式数组，用于将参数（即使不存在）传递给处理程序。 如果未明确设置，则默认为 <code class="t">[[:alpha:]]#:/*</code>，允许将 URL 传递给 MIME
处理程序，即使这些 URL 在文件系统中并不存在该格式。 完整的上下文为 <code class="t">:mime:.</code><var class="var">suffix</var><code class="t">:</code>，如
<code class="t">handler</code> 样式所述。
</p>
</dd>
<dt><a id="index-handler_002c-MIME-style"></a><span><code class="t">handler</code><a class="copiable-link" href="#index-handler_002c-MIME-style"> &para;</a></span></dt>
<dd><p>指定后缀的处理程序；后缀由上下文给出，如 <code class="t">:mime:.</code><var class="var">suffix</var><code class="t">:</code>，处理程序的格式与 <code class="t">mailcap</code>
中的格式完全相同。 请特别注意 &lsquo;<code class="t">.</code>&rsquo; 和后面的冒号，以区分这种上下文用法。 这将覆盖 <code class="t">mailcap</code> 文件指定的任何处理程序。
如果处理程序需要终端，则 <code class="t">flags</code> 样式应设置为包含 <code class="t">needsterminal</code>
字样；如果输出要通过分页程序显示（但如果处理程序本身就是分页程序，则不需要），则应包含 <code class="t">copiousoutput</code>。
</p>
</dd>
<dt><a id="index-mailcap_002c-MIME-style"></a><span><code class="t">mailcap</code><a class="copiable-link" href="#index-mailcap_002c-MIME-style"> &para;</a></span></dt>
<dd><p>在设置过程中读取的 <code class="t">~/.mailcap</code> 和 <code class="t">/etc/mailcap</code> 格式的文件列表，取代默认的由这两个文件组成的列表。 上下文为
<code class="t">:mime:</code>。 列表中的 <code class="t">+</code> 将被默认文件替换。
</p>
</dd>
<dt><a id="index-mailcap_002dpriorities_002c-MIME-style"></a><span><code class="t">mailcap-priorities</code><a class="copiable-link" href="#index-mailcap_002dpriorities_002c-MIME-style"> &para;</a></span></dt>
<dd><p>该样式用于解析同一 MIME 类型的多个 mailcap 条目。
它由下列元素组成的数组构成，按优先级降序排列；如果前面的条目无法解析正在比较的条目，后面的条目将被使用。
如果所有测试都无法解析条目，则保留遇到的第一个条目。
</p>
<dl class="table">
<dt><code class="t">files</code></dt>
<dd><p>读取文件（<code class="t">mailcap</code>样式中的条目）的顺序。较早的文件优先。 (请注意，这并不能解决[resolve]同一文件中的条目）。
</p>
</dd>
<dt><code class="t">priority</code></dt>
<dd><p>mailcap 条目中的优先级标志。 优先级是一个从 0 到 9 的整数，默认值为 5。
</p>
</dd>
<dt><code class="t">flags</code></dt>
<dd><p><code class="t">mailcap-prio-flags</code> 选项给出的测试用于解析条目。
</p>
</dd>
<dt><code class="t">place</code></dt>
<dd><p>较晚的条目优先；由于条目是严格有序的，因此该测试总是成功的。
</p>
</dd>
</dl>

<p>请注意，由于这种样式是在初始化过程中处理的，因此上下文总是 <code class="t">:mime:</code>，没有后缀区分。
</p>
</dd>
<dt><a id="index-mailcap_002dprio_002dflags_002c-MIME-style"></a><span><code class="t">mailcap-prio-flags</code><a class="copiable-link" href="#index-mailcap_002dprio_002dflags_002c-MIME-style"> &para;</a></span></dt>
<dd><p>当在 <code class="t">mailcap-priorities</code> 样式指定的测试列表中遇到关键字 <code class="t">flags</code> 时，就会使用这种样式。
应将其设置为一个模式列表，每个模式都要根据 mailcap 条目中指定的标志（换句话说，在 mailcap 文件的某些条目中发现的赋值集）进行测试。
列表中较早的模式优先于较晚的模式，匹配的模式优先于不匹配的模式。
</p>
</dd>
<dt><a id="index-mime_002dtypes_002c-MIME-style"></a><span><code class="t">mime-types</code><a class="copiable-link" href="#index-mime_002dtypes_002c-MIME-style"> &para;</a></span></dt>
<dd><p>在设置过程中读取的 <code class="t">~/.mime.types</code> 和 <code class="t">/etc/mime.types</code>
格式的文件列表，取代默认的由这两个文件组成的列表。上下文为 <code class="t">:mime:</code>。 列表中的 <code class="t">+</code> 将被默认文件替换。
</p>
</dd>
<dt><a id="index-never_002dbackground_002c-MIME-style"></a><span><code class="t">never-background</code><a class="copiable-link" href="#index-never_002dbackground_002c-MIME-style"> &para;</a></span></dt>
<dd><p>如果设置了这个布尔样式，给定上下文的处理程序将始终在前台运行，即使 mailcap 条目中提供的标志表明不需要这样做（例如，它不需要终端）。
</p>
</dd>
<dt><a id="index-pager_002c-MIME-style"></a><span><code class="t">pager</code><a class="copiable-link" href="#index-pager_002c-MIME-style"> &para;</a></span></dt>
<dd><p>如果设置，将代替 <code class="t">$PAGER</code> 或 <code class="t">more</code> 来处理设置了 <code class="t">copiousoutput</code> 标志的后缀。 上下文与
<code class="t">handler</code> 相同，即 <code class="t">:mime:.</code><var class="var">suffix</var><code class="t">:</code> 用于处理带有给定 <var class="var">suffix</var> 的文件。
</p>
</dd>
</dl>

<p>例如：
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':mime:*' mailcap ~/.mailcap /usr/local/etc/mailcap
zstyle ':mime:.txt:' handler less %s
zstyle ':mime:.txt:' flags needsterminal
</pre></div>

<p>随后运行 <code class="t">zsh-mime-setup</code> 时，它会在给出的两个文件中查找 <code class="t">mailcap</code> 条目。 后缀名为 <code class="t">.txt</code>
的文件将通过运行 &lsquo;<code class="t">less</code> <var class="var">file.txt</var>&rsquo;来处理。 设置 <code class="t">needsterminal</code>
标志是为了表明该程序必须连接终端运行。
</p>
<p>由于调度命令有多个步骤，如果尝试执行扩展名为 <code class="t">.</code><var class="var">ext</var> 的文件而没有达到预期效果，则应检查以下内容。
</p>
<p>命令 &lsquo;<code class="t">alias -s</code> <var class="var">ext</var>&rsquo; 应显示 &lsquo;<code class="t">ps=zsh-mime-handler</code>&rsquo;。
如果显示其他内容，则说明已安装了另一个后缀别名，且未被覆盖。 如果没有显示任何内容，则说明没有安装处理程序：这很可能是因为在
<code class="t">.mime.types</code> 和 <code class="t">mailcap</code> 组合中没有为 <code class="t">.ext</code> 文件找到处理程序。 在这种情况下，应在
<code class="t">~/.mime.types</code> 和 <code class="t">mailcap</code> 中添加适当的处理程序。
</p>
<p>如果扩展名由 <code class="t">zsh-mime-handler</code> 处理，但文件却无法正确打开，要么是为该类型定义的处理程序不正确，要么是与之相关的标志不合适。
运行 <code class="t">zsh-mime-setup -l</code> 将显示处理程序和标志（如果有）。 处理程序中的 <code class="t">%s</code> 将被文件替换（必要时适当加引号）。
检查列出的处理程序是否按所示方式运行。 如果处理程序需要在终端下运行，还应检查是否设置了 <code class="t">needsterminal</code> 或
<code class="t">copiousoutput</code> 标志；如果输出应发送到分页程序(pager)，则使用第二个标志。 以下是此类程序的适合 <code class="t">mailcap</code>
条目的示例：
</p>
<div class="example">
<pre class="example-preformatted">text/html; /usr/bin/lynx '%s'; needsterminal
</pre></div>

<p>运行 &lsquo;<code class="t">zsh-mime-handler -l</code> <var class="var">command line</var>&rsquo;
会打印出将要执行的命令行，经过简化以去除任何标志的影响，并加上引号，以便输出（内容）可以作为完整的 zsh 命令行运行。
补全系统使用此命令行来决定如何在 <code class="t">zsh-mime-setup</code> 处理文件后补全。
</p>
</dd>
<dt><a id="index-pick_002dweb_002dbrowser"></a><span><code class="t">pick-web-browser</code><a class="copiable-link" href="#index-pick_002dweb_002dbrowser"> &para;</a></span></dt>
<dd><p>该函数独立于上述两个 MIME 函数，可直接分配给后缀：
</p>
<div class="example">
<pre class="example-preformatted">autoload -U pick-web-browser
alias -s html=pick-web-browser
</pre></div>

<p>它是作为智能前端提供的，用于调度网络浏览器。它可以作为函数或 shell 脚本运行。 如果无法启动浏览器，则返回状态 255。
</p>
<p>有多种样式可供选择，以便自定义浏览器：
</p>
<dl class="table">
<dt><code class="t">browser-style</code></dt>
<dd><p>样式的值是一个数组，按照浏览器类型的递减顺序给出首选项。 元素的值可以是
</p>
<dl class="table">
<dt><code class="t">running</code></dt>
<dd><p>当 X 窗口显示可用时，使用已在运行的图形用户界面浏览器。 <code class="t">x-browsers</code>
样式中列出的浏览器将依次尝试，直到找到一个为止；如果找到了，文件将在该浏览器中显示，因此用户可能需要检查它是否已经出现。
如果没有找到正在运行的浏览器，则不会启动该浏览器。 除 Firefox、Opera 和 Konqueror 外，其他浏览器都被假定为能理解
Mozilla 远程打开 URL 的语法。
</p>
</dd>
<dt><code class="t">x</code></dt>
<dd><p>当 X 窗口显示可用时，启动一个新的图形用户界面浏览器。 搜索 <code class="t">x-browsers</code> 样式中列出的浏览器是否可用，然后启动找到的第一个浏览器。
不会检查是否有已运行的浏览器。
</p>
</dd>
<dt><code class="t">tty</code></dt>
<dd><p>启动终端浏览器 。搜索 <code class="t">tty-browsers</code> 样式中列出的浏览器是否可用，然后启动找到的第一个浏览器。
</p>
</dd>
</dl>

<p>如果未设置样式，则使用默认的 <code class="t">running x tty</code>。
</p>
</dd>
<dt><code class="t">x-browsers</code></dt>
<dd><p>在 X 窗口系统下运行时，按优先级递减的浏览器数组。 数组包括启动浏览器的命令名称。 它们是在 <code class="t">:mime:</code>
的上下文中查找的（将来可能会扩展，因此建议在 <code class="t">:mime:</code> 中添加 &lsquo;<code class="t">*</code>&rsquo; ）。 例如,
</p>
<div class="example">
<pre class="example-preformatted">zstyle ':mime:*' x-browsers opera konqueror firefox
</pre></div>

<p>指定 <code class="t">pick-web-browser</code>应首先依次查找 Opera、Konqueror 或 Firefox 的运行实例，如果未找到，则尝试启动
Opera。 默认值为 <code class="t">firefox mozilla netscape opera konqueror</code>。
</p>
</dd>
<dt><code class="t">tty-browsers</code></dt>
<dd><p>与 <code class="t">x-browsers</code> 类似的数组，但它提供了在没有 X 窗口显示时使用的浏览器。 默认值为 <code class="t">elinks links lynx</code>。
</p>
</dd>
<dt><code class="t">command</code></dt>
<dd><p>如果设置了该样式，就可以选择用于打开浏览器页面的命令。 上下文为  <code class="t">:mime:browser:new:$browser:</code>
，用于启动新浏览器；或  <code class="t">:mime:browser:running:$browser:</code> ，用于在当前 X 显示器上已运行的浏览器中打开
URL，其中 <code class="t">$browser</code> 是 <code class="t">x-browsers</code> 或 <code class="t">tty-browsers</code> 样式中匹配的值。 样式值中的转义序列
<code class="t">%b</code> 将被浏览器替换，而 <code class="t">%u</code> 将被 URL 替换。 如果未设置样式，所有新实例的默认值相当于 <code class="t">%b
%u</code>，而使用运行中浏览器的默认值相当于 Konqueror 的 <code class="t">kfmclient openURL %u</code>、Firefox 的
<code class="t">firefox -new-tab %u</code>、Opera 的 <code class="t">opera -newpage %u</code>，以及所有其他浏览器的 <code class="t">%b
-remote &quot;openUrl(%u)&quot;</code> 值。
</p>
</dd>
</dl>

</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_6570_5b66_51fd_6570">

<h3 class="section" id="Shu-XueHan-Shu--1"><span>26.10 数学函数<a class="copiable-link" href="#Shu-XueHan-Shu--1"> &para;</a></span></h3>

<dl class="table">
<dt><a id="index-zcalc"></a><span><code class="t">zcalc</code> [ <code class="t">-erf</code> ] [ <var class="var">expression</var> ... ]<a class="copiable-link" href="#index-zcalc"> &para;</a></span></dt>
<dd><p>一个基于 zsh 算术运算工具的相当强大的计算器。 其语法与大多数编程语言中的公式类似；详情请参见 <a class="ref" href="#g_t_7b97_672f_6c42_503c">算术求值</a>。
</p>
<p>非编程人员应注意，与许多其他编程语言一样，只涉及整数的表达式（无论是不带 &lsquo;<code class="t">.</code>&rsquo;
的常量、包含这样字符串常量的变量，还是声明为整数的变量）默认使用整数运算，这与普通台式计算器的操作方式不同。 要强制使用浮点运算，可通过选项
<code class="t">-f</code>；请参阅下面的进一步说明。
</p>
<p>如果 <code class="t">~/.zcalcrc</code> 文件存在，一旦函数建立并准备处理命令行，就会在函数内部引入该文件。 例如，这可以用来设置 shell
选项；<code class="t">emulate -L zsh</code> 和 <code class="t">setopt extendedglob</code> 此时生效。
任何在存在文件的情况下未能引入文件的失败都被视为致命的。与其他初始化文件一样，如果设置了目录 <code class="t">$ZDOTDIR</code>
，则使用该目录而不是<code class="t">$HOME</code>。
</p>
<p>如果数学库 <code class="t">zsh/mathfunc</code> 可用，它将被加载；请参阅 <a class="ref" href="#zsh_002fmathfunc-_6a21_5757">zsh/mathfunc 模块</a>。
数学函数与原始系统库相对应，因此三角函数使用弧度求值，等等。
</p>
<p>输入的每一行都作为一个表达式进行计算。 提示符会显示一个数字，该数字与存储计算结果的位置参数相对应。 例如，以 &lsquo;<code class="t">4&gt; </code>&rsquo;
开头的一行的计算结果以 <code class="t">$4</code> 的形式提供。 最后一个计算值以 <code class="t">ans</code> 的形式提供。
可以使用完整的命令行编辑功能，包括以前的计算历史；历史记录保存在 <code class="t">~/.zcalc_history</code> 文件中。 要退出，请输入空行或单独输入
&lsquo;<code class="t">:q</code>&rsquo;（为了历史兼容性，允许输入 &lsquo;<code class="t">q</code>&rsquo;）。
</p>
<p>以单个反斜杠结束的行的处理方式与命令行编辑相同：删除反斜杠，函数提示输入更多内容（提示符前有 &lsquo;<code class="t">...</code>&rsquo;
表示），然后将各行合并为一行，得到最终结果。 此外，如果目前输入的开括号多于闭括号，<code class="t">zcalc</code> 将提示要求输入更多内容。
</p>
<p>如果在 <code class="t">zcalc</code> 启动时给定了参数，那么这些参数将被用于初始化前几个位置参数。 计算器启动时会给出直观提示。
</p>
<p>提供常量 <code class="t">PI</code> (3.14159...) 和 <code class="t">E</code>  (2.71828...)。 可以进行参数赋值，但需要注意的是，除非使用
<code class="t">:local</code> 特殊命令，否则所有参数都将放入全局命名空间。 函数会创建名称以 <code class="t">_</code> 开头的局部变量，因此用户应避免这样做。 变量
<code class="t">ans</code>（最后一个回应）和 <code class="t">stack</code>（RPN 模式下的堆栈）可以直接引用；<code class="t">stack</code>
是一个数组，但其中的元素是数字。其他各种特殊变量在本地使用时都有其标准含义，例如
<code class="t">compcontext</code>、<code class="t">match</code>、<code class="t">mbegin</code>、<code class="t">mend</code>、<code class="t">psvar</code>。
</p>
<p>输出基数可以通过传递选项 &lsquo;<code class="t">-#</code><var class="var">base</var>&rsquo; 来初始化，例如 &lsquo;<code class="t">zcalc -#16</code>&rsquo;（ &lsquo;<code class="t">#</code>&rsquo;
可能需要加引号，取决于设置的 globbing 选项）。
</p>
<p>如果设置了选项 &lsquo;<code class="t">-e</code>&rsquo; ，函数将以非交互方式运行：参数被视为表达式，如同逐行交互输入一样进行计算。
</p>
<p>如果设置了选项 &lsquo;<code class="t">-f</code>&rsquo; ，所有数字都将被视为浮点数，因此例如表达式 &lsquo;<code class="t">3/4</code>&rsquo; 的值为 0.75，而不是 0。
选项必须以单独的词出现。
</p>
<p>如果设置了选项 &lsquo;<code class="t">-r</code>&rsquo; ，则会进入 RPN（反波兰语符号）模式。 该模式具有多种附加属性：
</p><dl class="table">
<dt>栈</dt>
<dd><p>计算值保存在一个堆栈中；堆栈包含在一个名为 <code class="t">stack</code> 的数组中，最新值保存在 <code class="t">${stack[1]}</code> 中。
</p>
</dd>
<dt>操作符和函数</dt>
<dd><p>如果输入的行与运算符（<code class="t">+</code>、<code class="t">-</code>、<code class="t">*</code>、<code class="t">/</code>、<code class="t">**</code>、<code class="t">^</code>、<code class="t">|</code> 或 <code class="t">&amp;</code>）或
<code class="t">zsh/mathfunc</code> 库提供的函数相匹配，则会弹出堆栈的底部元素作为参数。 堆栈中较高的元素（最近的元素）会被用作较早的参数。
然后将结果推入 <code class="t">${stack[1]}</code>。
</p>
</dd>
<dt>表达式</dt>
<dd><p>其他表达式将正常求值、打印并作为数值加入堆栈。 单行上的表达式语法是正常的 shell 运算（而不是 RPN）。
</p>
</dd>
<dt>栈列表</dt>
<dd><p>如果选项 <code class="t">-r</code> 后面的整数没有空格，那么在每次运算时，堆栈中的所有元素（如果有的话）都会被打印出来，而不是只打印最近的结果。因此，例如
<code class="t">zcalc -r4</code> 在每次打印结果时将 <code class="t">$stack[4]</code> 显示为 <code class="t">$stack[1]</code>。
</p>
</dd>
<dt>复制： <code class="t">=</code></dt>
<dd><p>伪操作符 <code class="t">=</code> 会将栈中最近的元素复制到栈上。
</p>
</dd>
<dt><code class="t">pop</code></dt>
<dd><p>伪函数 <code class="t">pop</code> 将弹出堆栈中最近的元素。 单独使用 &lsquo;<code class="t">&gt;</code>&rsquo; 也有同样的效果。
</p>
</dd>
<dt><code class="t">&gt;</code><var class="var">ident</var></dt>
<dd><p>表达式 <code class="t">&gt;</code>（不带空格）后跟 shell 标识符，会导致弹出堆栈中最近的元素，并赋值给该名称的变量。 该变量是 <code class="t">zcalc</code>
函数的局部变量。
</p>
</dd>
<dt><code class="t">&lt;</code><var class="var">ident</var></dt>
<dd><p>表达式 <code class="t">&lt;</code> 后面（没有空格）跟一个 shell 标识符，会将该标识符名的变量的值推入堆栈。 <var class="var">ident</var>
可以是一个整数，在这种情况下，带有该数字的前一个结果（如标准 <code class="t">zcalc</code> 提示符中 <code class="t">&gt;</code> 之前所示）会被放入堆栈。
</p>
</dd>
<dt>Exchange: <code class="t">xy</code></dt>
<dd><p>伪函数 <code class="t">xy</code> 会交换堆栈中最近的两个元素。 &lsquo;<code class="t">&lt;&gt;</code>&rsquo; 具有相同的效果。
</p>
</dd>
</dl>

<p>提示符可通过参数 <code class="t">ZCALCPROMPT</code> 进行配置，并进行标准的提示符扩展。 当前条目的索引存储在本地数组 <code class="t">psvar</code>
的第一个元素中，可在 <code class="t">ZCALCPROMPT</code> 中称为引用为 &lsquo;<code class="t">%1v</code>&rsquo;。 默认提示符为 &lsquo;<code class="t">%1v&gt; </code>&rsquo;。
</p>
<p>变量 <code class="t">ZCALC_ACTIVE</code> 在函数内部设置，可以通过嵌套函数进行测试；如果 RPN 模式处于激活状态，则变量值为 <code class="t">rpn</code>，否则为
1。
</p>
<p>有一些特殊命令可用；这些命令以冒号开头。 为了向后兼容，某些命令可以省略冒号。 如果运行了 <code class="t">compinit</code>，则可以进行。
</p>
<p>输出精度可以在 zcalc 中通过许多计算器常用的特殊命令来指定。
</p><dl class="table">
<dt><code class="t">:norm</code></dt>
<dd><p>默认输出格式。 它与 printf <code class="t">%g</code> 规范相对应。 通常显示六位小数。
</p>
</dd>
<dt><code class="t">:sci</code> <var class="var">digits</var></dt>
<dd><p>科学计数法，对应 printf <code class="t">%g</code> 输出格式，精度由 <var class="var">digits</var> 给定。 根据输出值的不同，会产生定点或指数符号。
</p>
</dd>
<dt><code class="t">:fix</code> <var class="var">digits</var></dt>
<dd><p>定点符号，对应 printf <code class="t">%f</code> 输出格式，精度由 <var class="var">digits</var> 给出。
</p>
</dd>
<dt><code class="t">:eng</code> <var class="var">digits</var></dt>
<dd><p>指数符号，对应 printf <code class="t">%E</code> 输出格式，精度由 <var class="var">digits</var> 给出。
</p>
</dd>
<dt><code class="t">:raw</code></dt>
<dd><p>原始输出：这是数学运算输出的默认形式。 它显示的精度可能高于实际数字。
</p>
</dd>
</dl>

<p>其他特殊命令：
</p><dl class="table">
<dt><code class="t">:!</code><var class="var">line...</var></dt>
<dd><p>将 <var class="var">line...</var> 作为普通 shell 命令行执行。 请注意，它是在函数的上下文中执行的，即与局部变量一起执行。 <code class="t">:!</code>
后面的空格是可选项。
</p>
</dd>
<dt><code class="t">:local</code> <var class="var">arg</var> ...</dt>
<dd><p>声明函数的局部变量。 也可以使用其他变量，但这些变量将从全局作用域中获取或放到全局作用域中。
</p>
</dd>
<dt><code class="t">:function</code> <var class="var">name</var> [ <var class="var">body</var> ]</dt>
<dd><p>定义一个数学函数，或（在没有 <var class="var">body</var> 的情况下）删除该函数。 <code class="t">:function</code> 可以缩写为 <code class="t">:func</code>，或简化为
<code class="t">:f</code>。 <var class="var">name</var> 可以包含与 shell 函数名相同的字符。 函数使用 <code class="t">zmathfuncdef</code> 进行定义，见下文。
</p>
<p>请注意，<code class="t">zcalc</code> 会处理所有引号。 因此，举例来说
</p>
<div class="example">
<pre class="example-preformatted">:f cube $1 * $1 * $1
</pre></div>

<p>定义的函数的唯一参数。 如此定义的函数，或者任何直接或间接使用 <code class="t">functions -M</code> 定义的函数，在 RPN
模式下只需在行上键入名称即可执行；这将从堆栈中弹出适当数量的参数传递给函数，例如,在 <code class="t">cube</code> 函数的示例中为 1。
如果有可选参数，则只提供必选参数。
</p>
</dd>
<dt><code class="t">[#</code><var class="var">base</var><code class="t">]</code></dt>
<dd><p>这不是一条特殊的命令，而是正常算术语法的一部分；不过，当该形式单独出现在一行中时，默认输出基数(radix)将设置为 <var class="var">base</var>。 例如，使用
&lsquo;<code class="t">[#16]</code>&rsquo; 显示十六进制输出，并在前面标明基数，或使用&lsquo;<code class="t">[##16]</code>&rsquo; 只显示以给定基数表示的原始数字。
基数本身总是以十进制指定。&lsquo;<code class="t">[#]</code>&rsquo; 则恢复正常的输出格式。 注意，设置输出基数会抑制浮点输出；使用 &lsquo;<code class="t">[#]</code>&rsquo; 可恢复正常操作。
</p>
</dd>
<dt><code class="t">$</code><var class="var">var</var></dt>
<dd><p>按字面意思打印 var 的值，不影响计算。 要使用 var 的值，请省略前导句 &lsquo;<code class="t">$</code>&rsquo;。
</p>
</dd>
</dl>

<p>请参阅函数中的注释，了解一些额外的提示。
</p>
</dd>
<dt><a class="index-entry-id" id="index-min"></a>
<a class="index-entry-id" id="index-sum"></a>
<a class="index-entry-id" id="index-zmathfunc"></a>
<a id="index-max"></a><span><code class="t">min(</code><var class="var">arg</var><code class="t">, ...)</code><a class="copiable-link" href="#index-max"> &para;</a></span></dt>
<dt><code class="t">max(</code><var class="var">arg</var><code class="t">, ...)</code></dt>
<dt><code class="t">sum(</code><var class="var">arg</var><code class="t">, ...)</code></dt>
<dt><code class="t">zmathfunc</code></dt>
<dd><p>函数 <code class="t">zmathfunc</code> 定义了三个数学函数 <code class="t">min</code>、<code class="t">max</code> 和 <code class="t">sum</code>。 函数 <code class="t">min</code> 和 <code class="t">max</code>
接受一个或多个参数。 函数 <code class="t">sum</code> 接受 0 个或多个参数。 参数可以是不同类型（整数和浮点数）。
</p>
<p>不要与 <code class="t">zsh/mathfunc</code> 模块混淆，该模块在 <a class="ref" href="#zsh_002fmathfunc-_6a21_5757">zsh/mathfunc 模块</a> 中有所描述。
</p>
</dd>
<dt><a id="index-zmathfuncdef"></a><span><code class="t">zmathfuncdef</code> [ <var class="var">mathfunc</var> [ <var class="var">body</var> ] ]<a class="copiable-link" href="#index-zmathfuncdef"> &para;</a></span></dt>
<dd><p><code class="t">functions -M</code> 的便捷前端。
</p>
<p>使用两个参数，定义一个名为 <var class="var">mathfunc</var> 的数学函数，该函数可用于任何形式的算术运算。 <var class="var">body</var> 是实现函数的数学表达式。
它可以引用位置参数 <code class="t">$1</code>、<code class="t">$2</code>, ... 来表示必选参数， <code class="t">${1:-</code><var class="var">defvalue</var><code class="t">}</code>
... 来表示可选参数。请注意，必须严格遵守这些形式，函数才能计算出正确的参数数目。 函数的实现被保存在一个名为
<code class="t">zsh_math_func_</code><var class="var">mathfunc</var> 的 shell 函数中；通常用户不需要直接引用 shell 函数。
任何现有的同名函数都会被静默替换。
</p>
<p>使用一个参数，删除数学函数 <var class="var">mathfunc</var> 以及 shell 函数的实现。
</p>
<p>在没有参数的情况下，以适合还原定义的形式列出所有 <var class="var">mathfunc</var> 函数。 这些函数不一定由 <code class="t">zmathfuncdef</code> 定义。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_7528_6237_914d_7f6e_51fd_6570">

<h3 class="section" id="Yong-Hu-Pei-Zhi-Han-Shu-"><span>26.11 用户配置函数<a class="copiable-link" href="#Yong-Hu-Pei-Zhi-Han-Shu-"> &para;</a></span></h3>

<p><code class="t">zsh/newuser</code> 模块自带一个函数，用于帮助新用户配置 shell 选项。 如果安装了该模块，也可以手动运行该函数。
即使模块的默认行为（即为没有启动文件的新用户登录运行该函数）被禁止，也可以使用该函数。
</p>
<dl class="table">
<dt><code class="t">zsh-newuser-install</code> [ <code class="t">-f</code> ]</dt>
<dd><p>该函数为用户提供了多种自定义初始化脚本的选项。 目前只处理 <code class="t">~/.zshrc</code>。 如果设置了参数 <code class="t">ZDOTDIR</code>，则会使用
<code class="t">$ZDOTDIR/.zshrc</code>；这为用户提供了一种无需更改现有 <code class="t">.zshrc</code> 即可配置文件的方法。
</p>
<p>默认情况下，如果在相应目录中找到 <code class="t">.zshenv</code>、<code class="t">.zprofile</code>、<code class="t">.zshrc</code> 或
<code class="t">.zlogin</code>，则函数会立即退出。 需要使用选项 <code class="t">-f</code> 才能强制函数继续执行。 请注意，即使 <code class="t">.zshrc</code>
本身不存在，也可能出现这种情况。
</p>
<p>按照目前的配置，如果用户拥有 root 权限，函数将立即退出；该行为不可重写。
</p>
<p>一旦激活，函数的行为应该是不言自明的。 菜单出现以允许用户更改选项和参数的值。 欢迎提出改进建议。
</p>
<p>脚本退出时，用户有机会选择是否保存新文件；在此之前，更改并不是不可逆的。 不过，脚本会注意把更改限制在 &lsquo;<code class="t"># Lines configured
by zsh-newuser-install</code>&rsquo; 和 &lsquo;<code class="t"># End of lines configured by
zsh-newuser-install</code>&rsquo; 这两行标记的组内。 此外，旧版本的 <code class="t">.zshrc</code> 会保存到一个后缀名为 <code class="t">.zni</code> 的文件中。
</p>
<p>如果函数编辑了现有的 <code class="t">.zshrc</code>，用户必须确保所做的更改会生效。 例如，如果控制权通常会提前从现有的 <code class="t">.zshrc</code>
中返回，那么这些行将不会被执行；或者稍后的初始化文件可能会覆盖选项或参数，等等。 函数本身并不试图检测任何此类冲突。
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="g_t_5176_5b83_51fd_6570">

<h3 class="section" id="Qi-Ta-Han-Shu--1"><span>26.12 其它函数<a class="copiable-link" href="#Qi-Ta-Han-Shu--1"> &para;</a></span></h3>

<p>在 zsh 发行版的 <code class="t">Functions/Misc</code> 目录中有大量有用的函数。
大多数函数都非常简单，不需要在此提供文档，但有几个函数值得特别一提。
</p>

<div class="subsection-level-extent" id="Shuo-Ming--10">
<h4 class="subsection"><span>26.12.1 说明<a class="copiable-link" href="#Shuo-Ming--10"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-colors"></a><span><code class="t">colors</code><a class="copiable-link" href="#index-colors"> &para;</a></span></dt>
<dd><p>该函数初始化多个关联数组，用于将颜色名称映射到（或从）ANSI 标准八色终端代码。 提示符主题系统（<a class="ref" href="#g_t_63d0_793a_7b26_4e3b_9898">提示符主题</a>）将使用这些颜色。
您很少需要多次运行 <code class="t">colors</code>。
</p>
<p>八种基础色是<code class="t">black</code>, <code class="t">red</code>, <code class="t">green</code>, <code class="t">yellow</code>, <code class="t">blue</code>, <code class="t">magenta</code>,
<code class="t">cyan</code>和 <code class="t">white</code>。 每个属性都有前景和背景代码。 此外，还有七个强度属性： <code class="t">bold</code>, <code class="t">faint</code>,
<code class="t">standout</code>, <code class="t">underline</code>, <code class="t">blink</code>, <code class="t">reverse</code>, 和 <code class="t">conceal</code>。
最后，有七个代码用于否定属性： <code class="t">none</code>
（将所有属性重置为默认值）、<code class="t">normal</code>（既不加粗也不模糊）、<code class="t">no-standout</code>、<code class="t">no-underline</code>、<code class="t">no-blink</code>、<code class="t">no-reverse</code>和
<code class="t">no-conceal</code>。
</p>
<p>某些终端不支持所有颜色和强度组合。
</p>
<p>关联数组是:
</p>
<dl class="table">
<dt><code class="t">color</code></dt>
<dt><code class="t">colour</code></dt>
<dd><p>将所有颜色名称映射到其整数代码，并将整数代码映射到颜色名称。 八个基本名称映射到前景色代码，名称的前缀为 &lsquo;<code class="t">fg-</code>&rsquo; ，如
&lsquo;<code class="t">fg-red</code>&rsquo;。 名称前缀为 &lsquo;<code class="t">bg-</code>&rsquo; 的，如 &lsquo;<code class="t">bg-blue</code>&rsquo; ，则表示背景颜色代码。
从代码到颜色的反向映射产生前景代码的基本名称和背景代码的 <code class="t">bg-</code> 形式。
</p>
<p>虽然将它们称为 &lsquo;颜色&rsquo; 有些名不副实，但这些数组也将其他 14 个属性从名称映射到代码，并将代码映射到名称。
</p>
</dd>
<dt><code class="t">fg</code></dt>
<dt><code class="t">fg_bold</code></dt>
<dt><code class="t">fg_no_bold</code></dt>
<dd><p>将八种基本颜色名称映射到 ANSI 终端转义序列，以设置相应的前景文本属性。 <code class="t">fg</code> 序列在不改变八个强度属性的情况下改变颜色。
</p>
</dd>
<dt><code class="t">bg</code></dt>
<dt><code class="t">bg_bold</code></dt>
<dt><code class="t">bg_no_bold</code></dt>
<dd><p>将八种基本颜色名称映射到设置相应背景属性的 ANSI 终端转义序列。 <code class="t">bg</code> 序列可在不改变八个强度属性的情况下改变颜色。
</p>
</dd>
</dl>

<p>此外，标量参数 <code class="t">reset_color</code> 和 <code class="t">bold_color</code> 被设置为 ANSI 终端转义符，分别用于关闭所有属性和打开粗体强度。
</p>
</dd>
<dt><a id="index-fned"></a><span><code class="t">fned</code> [ <code class="t">-x</code> <var class="var">num</var> ] <var class="var">name</var><a class="copiable-link" href="#index-fned"> &para;</a></span></dt>
<dd><p>与 <code class="t">zed -f</code> 相同。 此函数未出现在 zsh 发行版中，但可以通过将 <code class="t">zed</code> 链接到 <code class="t">fpath</code> 中某个目录下的
<code class="t">fned</code> 来创建。
</p>
</dd>
<dt><a id="index-histed"></a><span><code class="t">histed</code> [ [ <var class="var">name</var> ] <var class="var">size</var> ]<a class="copiable-link" href="#index-histed"> &para;</a></span></dt>
<dd><p>与 <code class="t">zed -h</code> 相同。 此函数未出现在 zsh 发行版中，但可以通过将 <code class="t">zed</code> 链接到 <code class="t">fpath</code> 中某个目录下的
<code class="t">histed</code> 名称来创建。
</p>
</dd>
<dt><a id="index-is_002dat_002dleast"></a><span><code class="t">is-at-least</code> <var class="var">needed</var> [ <var class="var">present</var> ]<a class="copiable-link" href="#index-is_002dat_002dleast"> &para;</a></span></dt>
<dd><p>对两个字符串进行 &lsquo;大于等于&rsquo; 比较，这两个字符串的格式为 zsh 版本号，即由数字和文本组成的字符串，以点或破折号分隔。 如果未提供
<var class="var">present</var> 字符串，则使用 <code class="t">$ZSH_VERSION</code>。 两个字符串中的段落从左到右配对，忽略前导的非数字部分。
如果一个字符串的段数少于另一个字符串，则缺失的段视为零。
</p>
<p>这在启动文件中非常有用，可用于设置选项和其他状态（这些选项和状态在所有版本的 zsh 中都不可用）。
</p>
<div class="example">
<pre class="example-preformatted">is-at-least 3.1.6-15 &amp;&amp; setopt NO_GLOBAL_RCS
is-at-least 3.1.0 &amp;&amp; setopt HIST_REDUCE_BLANKS
is-at-least 2.6-17 || print &quot;You can't use is-at-least here.&quot;
</pre></div>

</dd>
<dt><a id="index-nslookup"></a><span><code class="t">nslookup</code> [ <var class="var">arg</var> ... ]<a class="copiable-link" href="#index-nslookup"> &para;</a></span></dt>
<dd><p><code class="t">nslookup</code> 命令的封装函数需要 <code class="t">zsh/zpty</code> 模块（参见 <a class="ref" href="#zsh_002fzpty-_6a21_5757">zsh/zpty 模块</a>）。
除了提供可定制的提示符（包括右侧提示符）和 nslookup 命令、主机名等的补全（如果使用基于函数的补全系统）外，它的行为与标准
<code class="t">nslookup</code> 完全相同。 可以使用上下文前缀 &lsquo;<code class="t">:completion:nslookup</code>&rsquo; 设置补全样式。
</p>
<p>另请参阅下面的 <code class="t">pager</code>、<code class="t">prompt</code> 和 <code class="t">rprompt</code> 样式。
</p>
</dd>
<dt><a id="index-regexp_002dreplace"></a><span><code class="t">regexp-replace</code> <var class="var">var</var> <var class="var">regexp</var> <var class="var">replace</var><a class="copiable-link" href="#index-regexp_002dreplace"> &para;</a></span></dt>
<dd><p>使用正则表达式对变量执行全局搜索和替换操作。 使用 POSIX 扩展正则表达式（ERE），除非设置了 <code class="t">RE_MATCH_PCRE</code>
选项，这时将使用 Perl 兼容的正则表达式（这要求 shell 与 <code class="t">pcre</code> 库链接）。
</p>
<p><var class="var">var</var> 是包含要匹配字符串的变量名。 函数将直接修改该变量。 应避免使用变量
<code class="t">MATCH</code>、<code class="t">MBEGIN</code>、<code class="t">MEND</code>、<code class="t">match</code>、<code class="t">mbegin</code>、<code class="t">mend</code>，因为这些变量会被正则表达式使用。
</p>
<p><var class="var">regexp</var> 是要与字符串匹配的正则表达式。
</p>
<p><var class="var">replace</var> 是替换文本。 它可以包含将被替换的参数、命令和算术表达式：特别是，对 <code class="t">$MATCH</code> 的引用将被模式匹配的文本替换。
</p>
<p>如果至少进行了一次匹配，则返回状态为 0，否则为 1。
</p>
<p>请注意，如果使用 POSIX EREs，<code class="t">^</code> 或字边界运算符（如果有）可能无法正常工作。
</p>
</dd>
<dt><a id="index-run_002dhelp"></a><span><code class="t">run-help</code> <var class="var">cmd</var><a class="copiable-link" href="#index-run_002dhelp"> &para;</a></span></dt>
<dd><p>该函数可由 <code class="t">run-help</code> ZLE 小部件调用，以取代默认的别名。有关设置说明，请参阅 &lsquo;获取在线帮助&rsquo;（<a class="ref" href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a>）。
</p>
<p>在接下来的讨论中，如果 <var class="var">cmd</var> 是一个文件系统路径，则首先将其简化为最右边的部分（文件名）。
</p>
<p>首先会在 <code class="t">HELPDIR</code> 参数指定的目录下查找名为 <var class="var">cmd</var> 的文件，以获得帮助。 如果没有找到文件，则会查找名为
<code class="t">run-help-<var class="var">cmd</var></code> 的辅助函数、别名或命令。 如果找到，将以当前命令行的其余部分（命令名 <var class="var">cmd</var>
后面的所有内容）作为参数执行该辅助函数。 如果既未找到文件也未找到辅助函数，则执行外部命令 &lsquo;<code class="t">man</code> <var class="var">cmd</var>&rsquo; 。
</p>
<p>&quot;ssh&quot; 命令的助手示例：
</p>
<div class="example">
<pre class="example-preformatted">run-help-ssh() {
    emulate -LR zsh
    local -a args
    # Delete the &quot;-l username&quot; option
    zparseopts -D -E -a args l:
    # Delete other options, leaving: host command
    args=(${@:#-*})
    if [[ ${#args} -lt 2 ]]; then
        man ssh
    else
        run-help $args[2]
    fi
}
</pre></div>

<p><code class="t">Functions/Misc</code> 目录中提供了多个此类助手。 这些辅助工具必须自动加载，或作为可执行脚本放在搜索路径中，以便
<code class="t">run-help</code> 查找和使用。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-run_002dhelp_002dgit"></a>
<a class="index-entry-id" id="index-run_002dhelp_002dip"></a>
<a class="index-entry-id" id="index-run_002dhelp_002dopenssl"></a>
<a class="index-entry-id" id="index-run_002dhelp_002dp4"></a>
<a class="index-entry-id" id="index-run_002dhelp_002dsudo"></a>
<a class="index-entry-id" id="index-run_002dhelp_002dsvk"></a>
<a class="index-entry-id" id="index-run_002dhelp_002dsvn"></a>
<a id="index-run_002dhelp_002dbtrfs"></a><span><code class="t">run-help-btrfs</code><a class="copiable-link" href="#index-run_002dhelp_002dbtrfs"> &para;</a></span></dt>
<dt><code class="t">run-help-git</code></dt>
<dt><code class="t">run-help-ip</code></dt>
<dt><code class="t">run-help-openssl</code></dt>
<dt><code class="t">run-help-p4</code></dt>
<dt><code class="t">run-help-sudo</code></dt>
<dt><code class="t">run-help-svk</code></dt>
<dt><code class="t">run-help-svn</code></dt>
<dd><p><code class="t">btrfs</code>, <code class="t">git</code>, <code class="t">ip</code>, <code class="t">openssl</code>, <code class="t">p4</code>, <code class="t">sudo</code>, <code class="t">svk</code>, 和
<code class="t">svn</code> 命令的辅助函数.
</p>
</dd>
</dl>

</dd>
<dt><code class="t">tetris</code></dt>
<dd><p>Zsh 曾被指责不如 Emacs 完整，因为它缺少俄罗斯方块游戏。 编写这个函数就是为了驳斥这种恶毒的诽谤。
</p>
<p>该功能必须作为 ZLE 小部件使用：
</p>
<div class="example">
<pre class="example-preformatted">autoload -U tetris
zle -N tetris
bindkey <var class="var">keys</var> tetris
</pre></div>

<p>要开始游戏，请输入 <var class="var">keys</var> 执行小部件。 你正在编辑的命令行会暂时消失，你的键映射也会被俄罗斯方块控制键暂时取代。 退出游戏（按下
&lsquo;<code class="t">q</code>&rsquo; ）或输掉游戏后，编辑器将恢复之前的状态。
</p>
<p>如果您在游戏中途退出，下一次调用 <code class="t">tetris</code> 小部件时，游戏将继续进行。 如果输了，则会重新开始游戏。
</p>
</dd>
<dt><code class="t">tetriscurses</code></dt>
<dd><p>这是上面内容的 zcurses 移植版。 输入处理稍微改进了一点，这样移动方块时不会自动推进一个时间步，并且图形使用了 Unicode 方块图形。
</p>
<p>该版本不会在两次调用之间保存游戏状态，也不会以小部件的形式调用，而是以：
</p>
<div class="example">
<pre class="example-preformatted">autoload -U tetriscurses
tetriscurses
</pre></div>

</dd>
<dt><a id="index-zargs"></a><span><code class="t">zargs</code> [ <var class="var">option</var> ... <code class="t">-</code><code class="t">-</code> ] [ <var class="var">input</var> ... ] [ <code class="t">-</code><code class="t">-</code> <var class="var">command</var> [ <var class="var">arg</var> ... ] ]<a class="copiable-link" href="#index-zargs"> &para;</a></span></dt>
<dd><p>该函数的作用与 GNU xargs 类似。 它不是从标准输入中读取参数行，而是从命令行中获取参数。 这很有用，因为 zsh（尤其是使用递归 glob
操作符时）经常可以为 shell 函数构造出比外部命令所能接受的更长的命令行。
</p>
<p><var class="var">option</var> 列表代表 <code class="t">zargs</code> 命令本身的选项，与 <code class="t">xargs</code> 的选项相同。 <var class="var">input</var>
列表是字符串（通常是文件名）的集合，它们将成为 <code class="t">command</code> 的参数，类似于 <code class="t">xargs</code> 的标准输入。 最后，<var class="var">arg</var>
列表包含每次运行 <var class="var">command</var> 时传递给它的参数（通常是选项）。 每次运行时，<var class="var">arg</var> 列表都位于 <code class="t">input</code>
列表元素之前。如果没有提供 <var class="var">command</var>，则不能提供 <var class="var">arg</var> 列表。在这种情况下，默认命令是带有参数 &lsquo;<code class="t">-r
-</code><code class="t">-</code>&rsquo; 的 &lsquo;<code class="t">print</code>&rsquo; 。
</p>
<p>例如，要获取当前目录或其子目录中所有非隐藏普通（plain）文件的 <code class="t">ls</code> 长列表：
</p>
<div class="example">
<pre class="example-preformatted">autoload -U zargs
zargs -- **/*(.) -- ls -ld --
</pre></div>

<p>第一和第三次出现的 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 分别用来标记 <code class="t">zargs</code> 和 <code class="t">ls</code> 的选项的末尾，以防止文件名以 &lsquo;<code class="t">-</code>&rsquo;
开头，而第二次出现的 &lsquo;<code class="t">-</code>&rsquo; 则用来分隔文件列表和要运行的命令（&lsquo;<code class="t">ls -ld --</code>&rsquo;）。
</p>
<p>如果列表有可能是空的，也需要第一个 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; ：
</p>
<div class="example">
<pre class="example-preformatted">zargs -r -- ./*.back(#qN) -- rm -f
</pre></div>

<p>如果字符串 &lsquo;<code class="t">-</code><code class="t">-</code>&rsquo; 是或可能是 <var class="var">input</var>（输入），可以使用 <code class="t">-e</code> 选项来更改输入结束标记。
需要注意的是，这<em class="emph">不会</em> 改变选项结束标记。 例如，使用 &lsquo;<code class="t">..</code>&rsquo; 作为标记：
</p>
<div class="example">
<pre class="example-preformatted">zargs -e.. -- **/*(.) .. ls -ld --
</pre></div>

<p>在该示例中，这是一个不错的选择，因为任何普通文件都不能命名为  &lsquo;<code class="t">..</code>&rsquo;，但最佳的结束标记取决于具体情况。
</p>
<p>选项 <code class="t">-i</code>、<code class="t">-I</code>、<code class="t">-l</code>、<code class="t">-L</code> 和 <code class="t">-n</code> 与 <code class="t">xargs</code> 中的用法略有不同。 <code class="t">zargs</code>
没有输入行可供计数，因此 <code class="t">-l</code> 和 <code class="t">-L</code> 会对 <var class="var">input</var> 列表进行计数，而 <code class="t">-n</code> 则会对
<var class="var">command</var> 的每次执行所传递的参数进行计数，<em class="emph">包括</em> 任何 <var class="var">arg</var> 列表。 此外，在使用 <code class="t">-i</code> 或
<code class="t">-I</code> 时，每个 <var class="var">input</var> 都会被单独处理，就像使用 &lsquo;<code class="t">-L</code> <code class="t">1</code>&rsquo; 一样。
</p>
<p>有关其他 <code class="t">zargs</code> 选项的详情，请参阅 xargs(1) 手册（但请注意 <code class="t">zargs</code> 和 <code class="t">xargs</code> 在功能上的区别），或使用
<code class="t">-</code><code class="t">-help</code> 选项运行 <code class="t">zargs</code>。
</p>
</dd>
<dt><a id="index-zed"></a><span><code class="t">zed</code> [ <code class="t">-f</code> [ <code class="t">-x</code> <var class="var">num</var> ] ] <var class="var">name</var><a class="copiable-link" href="#index-zed"> &para;</a></span></dt>
<dt><code class="t">zed</code> [ <code class="t">-h</code> [ <var class="var">name</var> ] <var class="var">size</var> ]</dt>
<dt><code class="t">zed -b</code></dt>
<dd><p>该函数使用 ZLE 编辑器编辑文件或函数。
</p>
<p>只允许使用一个 <var class="var">name</var> 参数。 如果给出 <code class="t">-f</code> 选项，名称将被视为函数名称；如果函数被标记为自动加载，<code class="t">zed</code> 将在
<code class="t">fpath</code> 中搜索并加载该函数。 请注意，以这种方式编辑的函数会安装到当前 shell 中，但 <em class="emph">不</em> 会写回自动加载文件。
在这种情况下，<code class="t">-x</code> 选项指定将根据语法对函数进行缩进，前导制表符转换为给定数量的空格；&lsquo;<code class="t">-x 2</code>&rsquo; 与 shell 随附的函数布局一致。
</p>
<p>在没有 <code class="t">-f</code> 的情况下，<var class="var">name</var> 是要编辑的文件的路径名，该文件不一定存在；如有必要，会在写入时创建。 如果使用
<code class="t">-h</code>，则假定文件包含历史事件。
</p>
<p>如果没有为 <code class="t">-h</code> 提供文件名，当前的 shell 历史记录将被编辑(in place)。 当 zed 成功退出后，历史记录将重新编号。
</p>
<p>编辑历史记录时，多行事件在最后一行之前的每一行都必须有一个尾部反斜线。
</p>
<p>编辑时，函数会将主键映射设置为 <code class="t">zed</code>，将 vi 命令键映射设置为 <code class="t">zed-vicmd</code>。 如果首次运行 <code class="t">zed</code> 时
<code class="t">main</code> 和 <code class="t">vicmd</code> 键映射不存在，则将从现有的 <code class="t">main</code> 和 <code class="t">vicmd</code> 键映射中复制这些映射。
它们可用于提供仅在 zed 中使用的特殊按键绑定。
</p>
<p>如果创建了键映射，<code class="t">zed</code> 会重新绑定回车键以插入换行符，并绑定 &lsquo;<code class="t">^X^W</code>&rsquo; 以接受 <code class="t">zed</code> 键映射中的编辑，同时绑定
&lsquo;<code class="t">ZZ</code>&rsquo; 以接受 <code class="t">zed-vicmd</code> 键映射中的编辑。
</p>
<p>运行 &lsquo;<code class="t">zed -b</code>&rsquo; 可单独安装绑定。 这适合放入启动文件。 请注意，如果重新运行，将覆盖现有的 <code class="t">zed</code> 和
<code class="t">zed-vicmd</code> 键映射。
</p>
<p>可使用补全功能，并可使用上下文前缀 &lsquo;<code class="t">:completion:zed:</code>&rsquo; 设置样式。
</p>
<a class="index-entry-id" id="index-zed_002dset_002dfile_002dname"></a>
<p>可使用一个 zle 小部件 <code class="t">zed-set-file-name</code>。你可以在 zed 内部使用&lsquo;<code class="t">\ex zed-set-file-name</code>&rsquo;
调用它，也可以在运行 &lsquo;<code class="t">zed -b</code>&rsquo; 后将它绑定到 <code class="t">zed</code> 或 <code class="t">zed-vicmd</code> 键映射中的某个键上。
调用该小部件时，它会提示为正在编辑的文件取一个新名称。 当 zed 退出时，文件将以该名称写入，而原始文件将保持不变。 从 &lsquo;<code class="t">zed -f</code>&rsquo;
调用时，该小部件无效。 补全上下文更改为 &lsquo;<code class="t">:completion:zed-set-file-name:</code>&rsquo;。 使用&lsquo;<code class="t">zed -h</code>&rsquo;
编辑当前历史时，首先更新历史，然后写入文件，但 <code class="t">HISTFILE</code> 的全局设置不会改变。
</p>
<p>当 <code class="t">zed-set-file-name</code> 运行时，zed 会使用 <code class="t">zed-normal-keymap</code> 的键映射，该键映射与 zed
初始化绑定时有效的主键映射相连。 (这是为了让返回键正常工作。）这样做的结果是，如果主键映射发生变化，小部件不会察觉。 这对大多数用户来说并不重要。
</p>
</dd>
<dt><a class="index-entry-id" id="index-zln"></a>
<a id="index-zcp"></a><span><code class="t">zcp</code> [ <code class="t">-finqQvwW</code> ] <var class="var">srcpat</var> <var class="var">dest</var><a class="copiable-link" href="#index-zcp"> &para;</a></span></dt>
<dt><code class="t">zln</code> [ <code class="t">-finqQsvwW</code> ] <var class="var">srcpat</var> <var class="var">dest</var></dt>
<dd><p>分别与 <code class="t">zmv -C</code> 和 <code class="t">zmv -L</code> 相同。 这些函数并未出现在 zsh 发行版中，但可以通过将 <code class="t">zmv</code> 链接到
<code class="t">fpath</code> 中的某个目录里的<code class="t">zcp</code> 和 <code class="t">zln</code> 来创建。
</p>
</dd>
<dt><code class="t">zkbd</code></dt>
<dd><p>请参阅 &lsquo;键盘定义&rsquo;（<a class="ref" href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a>）。
</p>
<a class="index-entry-id" id="index-zmv"></a>

</dd>
<dt><code class="t">zmv</code> [ <code class="t">-finqQsvwW</code> ] [ <code class="t">-C</code> | <code class="t">-L</code> | <code class="t">-M</code> | -{<code class="t">p</code>|<code class="t">P</code>} <var class="var">program</var> ] [ <code class="t">-o</code> <var class="var">optstring</var> ]</dt>
<dt><code class="t">&nbsp;&nbsp;&nbsp;&nbsp;</code><var class="var">srcpat</var> <var class="var">dest</var></dt>
<dd><p>移动（通常是重命名）与 <var class="var">srcpat</var> 模式匹配的文件，到名称与 <var class="var">dest</var> 所给形式相同的相应文件，其中 <var class="var">srcpat</var>
包含围绕模式的括号，这些模式将依次被 <var class="var">dest</var> 中的 <code class="t">$1</code>、<code class="t">$2</code>...替换。 例如
</p>
<div class="example">
<pre class="example-preformatted">zmv '(*).lis' '$1.txt'
</pre></div>

<p>将 &lsquo;<code class="t">foo.lis</code>&rsquo; 重命名为 &lsquo;<code class="t">foo.txt</code>&rsquo; ，将&lsquo;<code class="t">my.old.stuff.lis</code>&rsquo;
重命名为&lsquo;<code class="t">my.old.stuff.lis</code>&rsquo; ，以此类推。
</p>
<p>该模式始终被视为 <code class="t">EXTENDED_GLOB</code> 模式。 任何文件,名称未通过替换而改变的，都会被忽略。
任何错误（一次替换结果为空字符串、两次替换结果相同、目标文件为现有常规文件且未给出 <code class="t">-f</code>）都会导致整个函数终止，不会执行任何操作。
</p>
<p>除了模式替换外，还可以在第二个（替换）参数中引用变量 <code class="t">$f</code>。 这使得使用变量替换来更改参数成为可能；请参阅下面的示例。
</p>
<p>选项:
</p>
<dl class="table">
<dt><code class="t">-f</code></dt>
<dd><p>强制覆盖目标文件。 由于实现方式的不同，目前还不能向 <code class="t">mv</code>/<code class="t">cp</code>/<code class="t">ln</code> 命令传递（但可以使用 <code class="t">-o-f</code> 来实现）。
</p></dd>
<dt><code class="t">-i</code></dt>
<dd><p>交互式：显示要执行的每一行，并询问用户是否执行。  &lsquo;<code class="t">Y</code>&rsquo; 或 &lsquo;<code class="t">y</code>&rsquo; 将执行该行，否则将跳过该行。 请注意，您只需键入一个字符即可。
</p></dd>
<dt><code class="t">-n</code></dt>
<dd><p>不执行：打印会发生的事情，但不要去做。
</p></dd>
<dt><code class="t">-q</code></dt>
<dd><p>关闭裸 glob 限定符：现在默认为关闭，因此没有影响。
</p></dd>
<dt><code class="t">-Q</code></dt>
<dd><p>强制开启裸 glob 限定符。 除非您真的要在模式中使用 glob 限定符，否则不要打开它。
</p></dd>
<dt><code class="t">-s</code></dt>
<dd><p>符号，向下传递至 <code class="t">ln</code>；仅适用于 <code class="t">-L</code>。
</p></dd>
<dt><code class="t">-v</code></dt>
<dd><p>详细：执行每条命令时打印执行的命令。
</p></dd>
<dt><code class="t">-w</code></dt>
<dd><p>如上文所述，挑出模式中的通配符部分，并隐式添加括号用于引用它们。
</p></dd>
<dt><code class="t">-W</code></dt>
<dd><p>就像 <code class="t">-w</code>一样，只是把替换模式中的通配符变成了连续的 <code class="t">${1}</code> .. <code class="t">${N}</code> 引用。
</p></dd>
<dt><code class="t">-C</code></dt>
<dt><code class="t">-L</code></dt>
<dt><code class="t">-M</code></dt>
<dd><p>分别强制执行 <code class="t">cp</code>、<code class="t">ln</code> 或 <code class="t">mv</code>，与函数名称无关。
</p></dd>
<dt><code class="t">-p</code> <var class="var">program</var></dt>
<dd><p>调用 <var class="var">program</var> 而不是 <code class="t">cp</code>、<code class="t">ln</code> 或 <code class="t">mv</code>。 无论它做什么，至少应该理解以下形式
</p><div class="example">
<pre class="example-preformatted"><var class="var">program</var> <code class="t">-</code><code class="t">-</code> <var class="var">oldname</var> <var class="var">newname</var>
</pre></div>
<p>其中 <var class="var">oldname</var> 和 <var class="var">newname</var> 是 <code class="t">zmv</code> 生成的文件名。 <var class="var">program</var>
将被分割成单词，因此可能是归档工具的名称加上复制或重命名子命令。
</p></dd>
<dt><code class="t">-P</code> <var class="var">program</var></dt>
<dd><p><code class="t">-p</code> <var class="var">program</var> 除了 <var class="var">program</var> 不接受后面的 <code class="t">-</code><code class="t">-</code> 来表示选项的结束外，其他都与
<var class="var">program</var> 相同。 在这种情况下，文件名必须已经是相关程序的正常形式。
</p></dd>
<dt><code class="t">-o</code> <var class="var">optstring</var></dt>
<dd><p><var class="var">optstring</var> 会被分割成单词，并逐字传给 <code class="t">cp</code>、<code class="t">ln</code> 或 <code class="t">mv</code> 命令来执行工作。
这也许应该以&lsquo;<code class="t">-</code>&rsquo;开头。
</p></dd>
</dl>

<p>更多例子:
</p>
<div class="example">
<pre class="example-preformatted">zmv -v '(* *)' '${1// /_}'
</pre></div>

<p>对于当前目录中名称中至少有一个空格的文件，用下划线替换每个空格，并显示执行的命令。
</p>
<div class="example">
<pre class="example-preformatted">zmv -v '* *' '${f// /_}'
</pre></div>

<p>通过引用 <code class="t">$f</code> 中存储的文件名，可以实现完全相同的功能。
</p>
<p>有关更完整的示例和其他实现细节，请参阅 <code class="t">zmv</code> 源文件，该文件通常位于 <code class="t">fpath</code> 中命名的某个目录中，或 zsh 发行版中的
<code class="t">Functions/Misc/zmv</code> 中。
</p>
</dd>
<dt><code class="t">zrecompile</code></dt>
<dd><p>请参阅 &lsquo;重新编译函数&rsquo;（<a class="ref" href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a>）。
</p>
</dd>
<dt><a id="index-zstyle_002b"></a><span><code class="t">zstyle+</code> <var class="var">context</var> <var class="var">style</var> <var class="var">value</var> [ <code class="t">+</code> <var class="var">subcontext</var> <var class="var">style</var> <var class="var">value</var> ... ]<a class="copiable-link" href="#index-zstyle_002b"> &para;</a></span></dt>
<dd><p>通过使用单个 &lsquo;<code class="t">+</code>&rsquo; 作为特殊标记，可以将上下文名称追加到之前使用的上下文名称中，从而使样式定义变得更加简单。 就像这样
</p>
<div class="example">
<pre class="example-preformatted">zstyle+ ':foo:bar' <var class="var">style1</var> <var class="var">value1</var> \ 
       +':baz'     <var class="var">style2</var> <var class="var">value2</var> \ 
       +':frob'    <var class="var">style3</var> <var class="var">value3</var>
</pre></div>

<p>与往常一样，这里为上下文 <code class="t">:foo:bar</code> 定义了 <var class="var">style1</var> 和 <var class="var">value1</var>，但同时也为上下文
<code class="t">:foo:bar:baz</code> 定义了 <var class="var">style2</var> 和 <var class="var">value2</var>，并为 <code class="t">:foo:bar:frob</code> 定义了
<var class="var">style3</var> 和 <var class="var">value3</var>。 任何 <var class="var">subcontext</var>
都可以是空字符串，以便在不改变上下文的情况下重新使用第一个上下文。
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Yang-Shi--2">
<h4 class="subsection"><span>26.12.2 样式<a class="copiable-link" href="#Yang-Shi--2"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-insert_002dtab_002c-Bu-Quan-Yang-Shi--1"></a><span><code class="t">insert-tab</code><a class="copiable-link" href="#index-insert_002dtab_002c-Bu-Quan-Yang-Shi--1"> &para;</a></span></dt>
<dd><p><code class="t">zed</code> 函数 在&lsquo;<code class="t">:completion:zed:*</code>&rsquo;中<em class="emph">设置</em> 了该样式，以便在行首键入 <code class="t">TAB</code> 时关闭补全功能。
您可以为该上下文和样式设置自己的值，从而覆盖该设置。
</p>
</dd>
<dt><a id="index-pager_002c-nslookup-Yang-Shi-"></a><span><code class="t">pager</code><a class="copiable-link" href="#index-pager_002c-nslookup-Yang-Shi-"> &para;</a></span></dt>
<dd><p><code class="t">nslookup</code> 函数在上下文&lsquo;<code class="t">:nslookup</code>&rsquo;中查找这种样式，以确定用于显示无法在单个屏幕上显示的输出的程序。
</p>
</dd>
<dt><a class="index-entry-id" id="index-rprompt_002c-nslookup-Yang-Shi-"></a>
<a id="index-prompt_002c-nslookup-Yang-Shi-"></a><span><code class="t">prompt</code><a class="copiable-link" href="#index-prompt_002c-nslookup-Yang-Shi-"> &para;</a></span></dt>
<dt><code class="t">rprompt</code></dt>
<dd><p><code class="t">nslookup</code> 函数在上下文&lsquo;<code class="t">:nslookup</code>&rsquo;中查找此样式，分别设置提示符和右侧提示符。 可以使用 <code class="t">PS1</code> 和
<code class="t">RPS1</code> 参数的常规扩展（参见 <a class="ref" href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a>）。
</p>
</dd>
</dl>
<hr>
</div>
</div>
</div>
<div class="unnumbered-level-extent" id="g_t_6982_5ff5_7d22_5f15">
<h2 class="unnumbered" id="Gai-Nian-Suo-Yin-"><span>概念索引<a class="copiable-link" href="#Gai-Nian-Suo-Yin-"> &para;</a></span></h2>

<div class="printindex cp-printindex">
<table class="cp-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-1"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-2"><b>.</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-3"><b>$</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-4"><b>8</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-下"><b>下</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-不"><b>不</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-事"><b>事</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-什"><b>什</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-从"><b>从</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-优"><b>优</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-作"><b>作</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-使"><b>使</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-保"><b>保</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-信"><b>信</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-修"><b>修</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-克"><b>克</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-全"><b>全</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-八"><b>八</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-共"><b>共</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-关"><b>关</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-兼"><b>兼</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-内"><b>内</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-冒"><b>冒</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-函"><b>函</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-别"><b>别</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-前"><b>前</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-功"><b>功</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-加"><b>加</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-动"><b>动</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-匹"><b>匹</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-区"><b>区</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-匿"><b>匿</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-十"><b>十</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-单"><b>单</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-历"><b>历</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-参"><b>参</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-受"><b>受</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-变"><b>变</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-叠"><b>叠</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-可"><b>可</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-后"><b>后</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-启"><b>启</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-命"><b>命</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-哈"><b>哈</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-基"><b>基</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-复"><b>复</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-多"><b>多</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-大"><b>大</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-套"><b>套</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-字"><b>字</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-定"><b>定</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-对"><b>对</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-导"><b>导</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-小"><b>小</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-嵌"><b>嵌</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-帮"><b>帮</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-异"><b>异</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-引"><b>引</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-强"><b>强</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-循"><b>循</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-慢"><b>慢</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-执"><b>执</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-扩"><b>扩</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-找"><b>找</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-把"><b>把</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-括"><b>括</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-拼"><b>拼</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-挂"><b>挂</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-捕"><b>捕</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-描"><b>描</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-提"><b>提</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-摒"><b>摒</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-操"><b>操</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-散"><b>散</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-数"><b>数</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-整"><b>整</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-文"><b>文</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-斜"><b>斜</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-日"><b>日</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-暂"><b>暂</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-更"><b>更</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-替"><b>替</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-最"><b>最</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-未"><b>未</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-本"><b>本</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-杀"><b>杀</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-条"><b>条</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-标"><b>标</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-栈"><b>栈</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-模"><b>模</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-正"><b>正</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-求"><b>求</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-没"><b>没</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-注"><b>注</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-流"><b>流</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-浮"><b>浮</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-烦"><b>烦</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-版"><b>版</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-特"><b>特</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-状"><b>状</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-环"><b>环</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-用"><b>用</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-登"><b>登</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-目"><b>目</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-禁"><b>禁</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-私"><b>私</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-空"><b>空</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-窗"><b>窗</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-符"><b>符</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-等"><b>等</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-简"><b>简</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-算"><b>算</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-管"><b>管</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-组"><b>组</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-终"><b>终</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-绑"><b>绑</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-继"><b>继</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-编"><b>编</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-能"><b>能</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-自"><b>自</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-蜂"><b>蜂</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-行"><b>行</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-补"><b>补</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-表"><b>表</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-覆"><b>覆</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-观"><b>观</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-规"><b>规</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-计"><b>计</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-语"><b>语</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-读"><b>读</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-调"><b>调</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-资"><b>资</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-赋"><b>赋</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-跟"><b>跟</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-路"><b>路</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-转"><b>转</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-输"><b>输</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-运"><b>运</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-近"><b>近</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-进"><b>进</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-退"><b>退</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-选"><b>选</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-递"><b>递</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-通"><b>通</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-邮"><b>邮</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-重"><b>重</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-钩"><b>钩</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-链"><b>链</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-错"><b>错</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-键"><b>键</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-长"><b>长</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-限"><b>限</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-陷"><b>陷</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-静"><b>静</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-高"><b>高</b></a>
 &nbsp; 
</td></tr></table>
<table class="cp-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_symbol-1">-</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dhelp">&ndash;help</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dversion">&ndash;version</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_symbol-2">.</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002ezwc-WenJian-_002c-Chuang-Jian-">.zwc 文件, 创建</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_symbol-3">$</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_00240_002c-Shi-Yong-">$0, 使用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_00240_002c-She-Zhi-">$0, 设置</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_symbol-4">8</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-8-bit-Zi-Fu-_002c-Da-Yin-">8 bit 字符, 打印</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-aliases_002c-global">aliases, global</a></td><td class="printindex-index-section"><a href="#g_t_522b_540d">别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-always-Kuai-">always 块</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-autocd_002c-Jing-Mo-">autocd, 静默</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bash_002c-BASH_005fREMATCH-Bian-Liang-">bash, BASH_REMATCH 变量</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-beep_002c-Bu-Ming-Que-De-Bu-Quan-">beep, 不明确的补全</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bg_002c-Yi-POSIX-Ge-Shi-Shu-Chu-">bg, 以 POSIX 格式输出</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-break_002c-Zai-Han-Shu-Nei-Bu-">break, 在函数内部</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-case-Xuan-Ze-">case 选择</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cd_002c-to-parameter">cd, to parameter</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cd_002c-Xiang-pushd-YiYang-">cd, 像 pushd 一样</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cd_002c-Zai-Can-Shu-ZhongShi-Yong-_002e_002e">cd, 在参数中使用..</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cd_002c-Zi-Dong-">cd, 自动</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cd_002c-Jing-Mo-">cd, 静默</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CDPATH_002c-Jian-Cha-De-Shun-Xu-">CDPATH, 检查的顺序</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-clobbering_002c-WenJian-">clobbering, 文件</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-clobbering_002c-Kong-WenJian-">clobbering, 空文件</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compdef_002c-use-of-by-compinit">compdef, use of by compinit</a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-continue_002c-Zai-Han-Shu-Nei-Bu-">continue, 在函数内部</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-coprocess">coprocess</a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Jian-Rong-Xing-">csh, 兼容性</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Li-Shi-Feng-Ge-">csh, 历史风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Yin-Hao-Feng-Ge-">csh, 引号风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Xun-Huan-Feng-Ge-">csh, 循环风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-">csh, 没有命令的重定向</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Kong-globbing-Feng-Ge-">csh, 空 globbing 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh_002c-Kong-Ming-Ling-Yang-Shi-">csh, 空命令样式</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DEBUG-Xian-Jing-_002c-Zai-Ming-Ling-Qian-Huo-Hou-">DEBUG 陷井, 在命令前或后</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disowning-jobs">disowning jobs</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-echo_002c-BSD-Jian-Rong-">echo, BSD 兼容</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EOF_002c-Hu-Lue-">EOF, 忽略</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-errors_002c-handling-of">errors, handling of</a></td><td class="printindex-index-section"><a href="#g_t_9519_8bef">错误</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export">export</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fg_002c-Yi-POSIX-Ge-Shi-Shu-Chu-">fg, 以 POSIX 格式输出</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-for-loops">for loops</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FTP">FTP</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FTP_002c-Kai-Shi-YiGeHui-Hua-">FTP, 开始一个会话</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FTP_002cShi-Yong-shell-Zuo-Wei-Ke-Hu-Duan-De-Han-Shu-">FTP，使用 shell 作为客户端的函数</a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570_7cfb_7edf">Zftp 函数系统</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Glob-Cao-Zuo-Fu-">Glob 操作符</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-glob-Cao-Zuo-Fu-De-You-Xian-Ji-">glob 操作符的优先级</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-glob-Biao-Zhi-">glob 标志</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing-Biao-Zhi-">globbing 标志</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing-Xian-Ding-Fu-_002c-Qi-Yong-">globbing 限定符, 启用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing-Feng-Ge-_002c-sh">globbing 风格, sh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-_002a_002a-special">globbing, ** special</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-of-_002e-files">globbing, of . files</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Qi-Yong-">globbing, 启用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Pi-Mo-Shi-">globbing, 坏模式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Kuo-Zhan-De-">globbing, 扩展的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-An-Shu-Zhi-Pai-Xu-">globbing, 按数值排序</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Mei-You-Pi-Pei-">globbing, 没有匹配</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Mei-You-Pi-Pei--1">globbing, 没有匹配</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Kong-_002c-Feng-Ge-_002c-csh">globbing, 空, 风格, csh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Jian-Duan-Xing-Shi-">globbing, 简短形式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Di-Gui-Di-Gui-">globbing, 递归递归</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbing_002c-Xian-Ding-Fu-">globbing, 限定符</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history">history</a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_6269_5c55">历史扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history-beeping">history beeping</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-if-construct">if construct</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-J">J</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-jobs_002c-disowning">jobs, disowning</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-jobs_002c-disowning-1">jobs, disowning</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh-Jian-Rong-Xing-">ksh 兼容性</a></td><td class="printindex-index-section"><a href="#g_t_517c_5bb9_6027">兼容性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Jian-Rong-Xing-">ksh, 兼容性</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Dan-Zi-Mu-Xuan-Xiang-Feng-Ge-">ksh, 单字母选项风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Shu-Zu-Feng-Ge-">ksh, 数组风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-">ksh, 没有命令的重定向</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Yong-typeset-Fen-Ge-Can-Shu-">ksh, 用 typeset 分割参数</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Kong-Ming-Ling-Yang-Shi-">ksh, 空命令样式</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Bian-Ji-Qi-Mo-Shi-">ksh, 编辑器模式</a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ksh_002c-Xuan-Xiang-Da-Yin-Feng-Ge-">ksh, 选项打印风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list">list</a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-loops_002c-for">loops, for</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-modules">modules</a></td><td class="printindex-index-section"><a href="#Zsh-_6a21_5757">Zsh 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-multios">multios</a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PCRE_002c-regexp">PCRE, regexp</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pushd_002c-Shi-Yong-cd-Xiang-">pushd, 使用 cd 像</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pushd_002c-Dao-home">pushd, 到 home</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quoting">quoting</a></td><td class="printindex-index-section"><a href="#g_t_5f15_7528">引用</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rc_002c-Can-Shu-Kuo-Zhan-Feng-Ge-">rc, 参数扩展风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rc_002c-Yin-Hao-Feng-Ge-">rc, 引号风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rc_002c-Shu-Zu-Kuo-Zhan-Feng-Ge-">rc, 数组扩展风格</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regex">regex</a></td><td class="printindex-index-section"><a href="#zsh_002fregex-_6a21_5757">zsh/regex 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regexp_002c-bash-BASH_005fREMATCH-Bian-Liang-">regexp, bash BASH_REMATCH 变量</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regexp_002c-PCRE">regexp, PCRE</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-repeat-Xun-Huan-">repeat 循环</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reporter-Shi-Yong-Gong-Ju-">reporter 实用工具</a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rm-_002a-Zhi-Qian-Deng-Dai-">rm * 之前等待</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rm-_002a-Zhi-Qian-Xun-Wen-">rm * 之前询问</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rm-_002a_002c-Zhi-Qian-Deng-Dai-">rm *, 之前等待</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rm-_002a_002c-Zhi-Qian-Xun-Wen-">rm *, 之前询问</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002c-Xi-Tong-Diao-Yong-">select, 系统调用</a></td><td class="printindex-index-section"><a href="#zsh_002fzselect-_6a21_5757">zsh/zselect 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-selection_002c-user">selection, user</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh-Jian-Rong-Xing-">sh 兼容性</a></td><td class="printindex-index-section"><a href="#g_t_517c_5bb9_6027">兼容性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-globbing-Feng-Ge-">sh, globbing 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-Jian-Rong-Xing-">sh, 兼容性</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-Dan-Zi-Mu-Xuan-Xiang-Feng-Ge-">sh, 单字母选项风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-Zi-Duan-Fen-Ge-Yang-Shi-_002c-Can-Shu-">sh, 字段分割样式, 参数</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-Zi-Duan-Fen-Ge-Feng-Ge-">sh, 字段分割风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-Kuo-Zhan-Feng-Ge-">sh, 扩展风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh_002c-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-">sh, 没有命令的重定向</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shell-Biao-Zhi-">shell 标志</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shell-Yu-Fa-">shell 语法</a></td><td class="printindex-index-section"><a href="#Shell-_8bed_6cd5">Shell 语法</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shell-Xuan-Xiang-">shell 选项</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shell_002c-Ke-Long-">shell, 克隆</a></td><td class="printindex-index-section"><a href="#zsh_002fclone-_6a21_5757">zsh/clone 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shell_002c-Gua-Qi-">shell, 挂起</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shell_002c-Ji-Shi-">shell, 计时</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sublist">sublist</a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-subshell">subshell</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sun-Jian-Pan-_002c-Fan-Ren-De-">sun 键盘, 烦人的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP">TCP</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP-Han-Shu-Xi-Tong-">TCP 函数系统</a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570_7cfb_7edf">TCP 函数系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_002c-LiZi-">TCP, 例子</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-termcap-Zhi-_002c-Da-Yin-">termcap 值, 打印</a></td><td class="printindex-index-section"><a href="#zsh_002ftermcap-_6a21_5757">zsh/termcap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-terminfo-Zhi-_002c-Da-Yin-">terminfo 值, 打印</a></td><td class="printindex-index-section"><a href="#zsh_002fterminfo-_6a21_5757">zsh/terminfo 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-try-Kuai-">try 块</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tty_002c-Dong-Jie-">tty, 冻结</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-umask">umask</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Unicode-Zu-He-Zi-Fu-">Unicode 组合字符</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-until-Xun-Huan-">until 循环</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-user-selection">user selection</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-while-Xun-Huan-">while 循环</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-Z">Z</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp-Han-Shu-ZhongDe-Yang-Shi-">zftp 函数中的样式</a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp-Han-Shu-Xi-Tong-">zftp 函数系统</a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570_7cfb_7edf">Zftp 函数系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp-Han-Shu-Xi-Tong-_002c-Yang-Shi-">zftp 函数系统, 样式</a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp-Han-Shu-Xi-Tong-_002c-Zi-Dong-Zhong-Xin-Da-Kai-">zftp 函数系统, 自动重新打开</a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp-Han-Shu-Xi-Tong-_002c-Yuan-Cheng-globbing">zftp 函数系统, 远程 globbing</a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp-Han-Shu-Xi-Tong-_002c-Pei-Zhi-">zftp 函数系统, 配置</a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_002c-Han-Shu-">zftp, 函数</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_002c-Can-Shu-">zftp, 参数</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_002c-Zi-Ming-Ling-">zftp, 子命令</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_002c-Wen-Ti-">zftp, 问题</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE">ZLE</a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002c-Nei-Zhi-Ming-Ling-">zle, 内置命令</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zlogin">zlogin</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zlogout">zlogout</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zprofile">zprofile</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zrecompile-Shi-Yong-Gong-Ju-">zrecompile 实用工具</a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh-De-FTP-Zhan-Dian-">zsh 的 FTP 站点</a></td><td class="printindex-index-section"><a href="#g_t_53ef_7528_6027">可用性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh-De-Ke-Yong-Xing-">zsh 的可用性</a></td><td class="printindex-index-section"><a href="#g_t_53ef_7528_6027">可用性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_002fdatetime_002cHan-Shu-Xi-Tong-Ji-Yu-">zsh/datetime，函数系统基于</a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_51fd_6570_7cfb_7edf">日历函数系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zshenv">zshenv</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zshrc">zshrc</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ztcp_002c-Han-Shu-Xi-Tong-Ji-Yu-">ztcp, 函数系统基于</a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570_7cfb_7edf">TCP 函数系统</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-下">下</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xia-Biao-">下标</a></td><td class="printindex-index-section"><a href="#g_t_6570_7ec4_53c2_6570">数组参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xia-Biao-Biao-Zhi-">下标标志</a></td><td class="printindex-index-section"><a href="#g_t_6570_7ec4_53c2_6570">数组参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-不">不</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Zuo-Ren-He-Shi-_002c-Bu-Cheng-Gong-">不做任何事, 不成功</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Zuo-Ren-He-Shi-_002c-Zong-Shi-Cheng-Gong-">不做任何事, 总是成功</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Qu-Fen-Da-Xiao-Xie-De-globbing_002c-Xuan-Xiang-">不区分大小写的 globbing, 选项</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Qu-Fen-Da-Xiao-Xie-De-Zheng-Ze-Biao-Da-Shi-Pi-Pei-_002c-Xuan-Xiang-">不区分大小写的正则表达式匹配, 选项</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Ming-Que-De-Bu-Quan-">不明确的补全</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Fu-Gai-_002c-POSIX-Jian-Rong-Xing-">不覆盖, POSIX 兼容性</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-事">事</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shi-Jian-Zhi-ShiQi-_002c-Li-Shi-">事件指示器, 历史</a></td><td class="printindex-index-section"><a href="#g_t_4e8b_4ef6_6307_793a_5668">事件指示器</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-什">什</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shi-Yao-Ye-Bu-Zuo-">什么也不做</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-从">从</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Cong-Han-Shu-Fan-Hui-_002c-Cuo-Wu-Shi-">从函数返回, 错误时</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Cong-Guan-Dao-ZhongTui-Chu-De-Zhuang-Tai-">从管道中退出的状态</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-优">优</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-You-Xian-Ji-_002c-Cao-Zuo-Fu-">优先级, 操作符</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-作">作</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-HUP">作业, HUP</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Lie-Biao-Ge-Shi-">作业, 列表格式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Qian-Tai-">作业, 前台</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Hou-Tai-">作业, 后台</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Hou-Tai-_002c-I_002fO">作业, 后台, I/O</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Hou-Tai-You-Xian-Ji-">作业, 后台优先级</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Zi-shell-ZhongShu-Chu-">作业, 子 shell 中输出</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Yi-Bu-_002c-Tui-Chu-shell">作业, 异步, 退出 shell</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Yin-Yong-">作业, 引用</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Hui-Fu-">作业, 恢复</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Zan-Ting-">作业, 暂停</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Sha-Si-">作业, 杀死</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Deng-Dai-">作业, 等待</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Zi-Dong-Hui-Fu-">作业, 自动恢复</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-_002c-Zi-Dong-Ji-Xu-">作业, 自动继续</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-Kong-Zhi-_002c-Yun-Xu-">作业控制, 允许</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Ye-Kong-Zhi-_002c-Zi-shell-Zhong">作业控制, 子 shell 中</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zuo-Zhe-">作者</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_8005">作者</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-使">使</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shi-Yong-De-WenJian-">使用的文件</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-保">保</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bao-Liu-Zi-">保留字</a></td><td class="printindex-index-section"><a href="#g_t_4fdd_7559_5b57">保留字</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-信">信</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xin-Hao-_002c-Bu-Huo-">信号, 捕获</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xin-Hao-_002c-Bu-Huo--1">信号, 捕获</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-修">修</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiu-Shi-Fu-">修饰符</a></td><td class="printindex-index-section"><a href="#g_t_4fee_9970_7b26">修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiu-Shi-Fu-_002c-Qian-Zhi-Ming-Ling-">修饰符, 前置命令</a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-克">克</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ke-Long-shell">克隆 shell</a></td><td class="printindex-index-section"><a href="#zsh_002fclone-_6a21_5757">zsh/clone 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-全">全</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Quan-Ju-Xiu-Shi-Fu-">全局修饰符</a></td><td class="printindex-index-section"><a href="#g_t_4fee_9970_7b26">修饰符</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-八">八</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ba-Jin-Zhi-_002c-Yi-C-Ge-Shi-Shu-Chu-">八进制, 以 C 格式输出</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ba-Jin-Zhi-_002c-Suan-Zhu-Biao-Da-Shi-">八进制, 算术表达式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-共">共</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gong-Xiang-Li-Shi-Ji-Lu-">共享历史记录</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-关">关</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Guan-Bi-WenJian-">关闭文件</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-兼">兼</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Rong-Xing-">兼容性</a></td><td class="printindex-index-section"><a href="#g_t_517c_5bb9_6027">兼容性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Rong-Xing-_002c-csh">兼容性, csh</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Rong-Xing-_002c-ksh">兼容性, ksh</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Rong-Xing-_002c-sh">兼容性, sh</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-内">内</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Nei-Zhi-Ming-Ling-">内置命令</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Nei-Zhi-Ming-Ling-_002c-Shi-Yong-Cheng-Xu-">内置命令, 实用程序</a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-冒">冒</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mou-Hao-Xiu-Shi-Fu-">冒号修饰符</a></td><td class="printindex-index-section"><a href="#g_t_4fee_9970_7b26">修饰符</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-函">函</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-">函数</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-break-He-continue-De-Fan-Wei-">函数, break 和 continue 的范围</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Shan-Chu-">函数, 删除</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Ni-Ming-">函数, 匿名</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Ding-Yi-Shu-XueDe-">函数, 定义数学的</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Xing-Neng-Fen-Xi-">函数, 性能分析</a></td><td class="printindex-index-section"><a href="#zsh_002fzprof-_6a21_5757">zsh/zprof 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Shu-Xue">函数, 数学</a></td><td class="printindex-index-section"><a href="#zsh_002fmathfunc-_6a21_5757">zsh/mathfunc 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Shu-Xue_002c-use-of">函数, 数学, use of</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Yong-Kuo-Zhan-De-Bie-Ming-Ding-Yi-De-">函数, 用扩展的别名定义的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Zi-Dong-Jia-Zai-">函数, 自动加载</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Zi-Dong-Jia-Zai--1">函数, 自动加载</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Fan-Hui-">函数, 返回</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Zhong-Xin-Bian-Yi-">函数, 重新编译</a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-Fan-Hui-_002c-Cuo-Wu-Shi-">函数返回, 错误时</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-别">别</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-">别名</a></td><td class="printindex-index-section"><a href="#g_t_522b_540d">别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-_002c-Zai-Han-Shu-Ding-Yi-ZhongKuo-Zhan-De-">别名,  在函数定义中扩展的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-_002c-Lie-Chu-">别名, 列出</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-_002c-Shan-Chu-">别名, 删除</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-_002c-Ding-Yi-">别名, 定义</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-_002c-Kuo-Zhan-">别名, 扩展</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bie-Ming-_002c-Bu-Quan-">别名, 补全</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-前">前</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qian-Zhi-Ming-Ling-Xiu-Shi-Fu-">前置命令修饰符</a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-功">功</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gong-Neng-_002c-Cong-WenJian-ZhongHuo-Qu-">功能, 从文件中获取</a></td><td class="printindex-index-section"><a href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gong-Neng-_002c-Zai-WenJian-Shang-She-Zhi-">功能, 在文件上设置</a></td><td class="printindex-index-section"><a href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-加">加</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jia-Zai-Mo-Kuai-">加载模块</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-动">动</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dong-Tai-Ming-Ming-Mu-Lu-">动态命名目录</a></td><td class="printindex-index-section"><a href="#g_t_52a8_6001_547d_540d_76ee_5f55">动态命名目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dong-Tai-Mu-Lu-Ming-Ming-_002c-Fu-Zhu-Han-Shu-">动态目录命名, 辅助函数</a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_76ee_5f55_51fd_6570">其它目录函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-匹">匹</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Pi-Pei-_002c-Jin-Si-">匹配, 近似</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-区">区</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qu-Yu-_002c-Gao-Liang-">区域, 高亮</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-匿">匿</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ni-Ming-Han-Shu-">匿名函数</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-十">十</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shi-Liu-Jin-Zhi-_002c-Yi-C-Ge-Shi-Shu-Chu-">十六进制, 以 C 格式输出</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-单">单</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dan-YiMing-Ling-">单一命令</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dan-Zi-Mu-Xuan-Xiang-">单字母选项</a></td><td class="printindex-index-section"><a href="#g_t_5355_5b57_6bcd_9009_9879">单字母选项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dan-Zi-Mu-Xuan-Xiang-_002c-ksh-Feng-Ge-">单字母选项, ksh 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dan-Ci-Zhi-ShiQi-_002c-Li-Shi-">单词指示器, 历史</a></td><td class="printindex-index-section"><a href="#g_t_5355_8bcd_6307_793a_5668">单词指示器</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-历">历</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Ji-Jiang-Dao-Qi-De-Fu-Ben-">历史, 即将到期的副本</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Qi-Yong-Ti-Huan-">历史, 启用替换</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Zeng-Liang-Zhui-Jia-Dao-WenJian-">历史, 增量追加到文件</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Hu-Lue-Suo-You-Zhong-Fu-">历史, 忽略所有重复</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Hu-Lue-Kong-Ge-">历史, 忽略空格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Hu-Lue-Zhong-Fu-">历史, 忽略重复</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Sou-Suo-ZhongHu-Lue-Zhong-Fu-">历史, 搜索中忽略重复</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-WenJian-">历史, 文件</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Shi-Jian-Chuo-">历史, 时间戳</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Zhan-">历史, 栈</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Bian-Ji-">历史, 编辑</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Xing-Bao-Cun-Shi-Gua-Gou-">历史, 行保存时挂勾</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Zhui-Jia-Dao-WenJian-">历史, 追加到文件</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-_002c-Yan-Zheng-Ti-Huan-">历史, 验证替换</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Shi-Jian-Zhi-ShiQi-">历史事件指示器</a></td><td class="printindex-index-section"><a href="#g_t_4e8b_4ef6_6307_793a_5668">事件指示器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Xiu-Shi-Fu-">历史修饰符</a></td><td class="printindex-index-section"><a href="#g_t_4fee_9970_7b26">修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Dan-Ci-Zhi-ShiQi-">历史单词指示器</a></td><td class="printindex-index-section"><a href="#g_t_5355_8bcd_6307_793a_5668">单词指示器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Kuo-Zhan-">历史扩展</a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_6269_5c55">历史扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Ji-Lu-_002c-Gong-Xiang-">历史记录, 共享</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Ji-Lu-_002cDui-WenJian-Jin-Xing-Zeng-Liang-Zhui-Jia-_0028Fu-Jia-Shi-Jian-_0029">历史记录，对文件进行增量追加(附加时间）</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Li-Shi-Feng-Ge-_002c-csh">历史风格, csh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-参">参</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-">参数</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-zle">参数, zle</a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Wei-Zhi-De-">参数, 位置的</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Wei-Zhi-De--1">参数, 位置的</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Quan-Ju-Chuang-Jian-Shi-Fa-Chu-Jing-Gao-">参数, 全局创建时发出警告</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Guan-Lian-Shu-Zu-">参数, 关联数组</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Lie-Chu-">参数, 列出</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Qu-Xiao-She-Zhi-">参数, 取消设置</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Zhi-Du-Biao-Ji-">参数, 只读标记</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Zai-Bi-He-Zuo-Yong-Yu-ZhongShe-Zhi-Shi-Fa-Chu-Jing-Gao-">参数, 在闭合作用域中设置时发出警告</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Sheng-Ming-">参数, 声名</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Kuo-Zhan-">参数, 扩展</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Shu-Zu-">参数, 数组</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Zheng-Xing-">参数, 整形</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-WenJian-Fang-Wen-Tong-Guo-">参数, 文件访问通过</a></td><td class="printindex-index-section"><a href="#zsh_002fmapfile-_6a21_5757">zsh/mapfile 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Biao-Liang-">参数, 标量</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Fu-Dian-">参数, 浮点</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Te-Shu-">参数, 特殊</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Te-Shu--1">参数, 特殊</a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Te-Shu--2">参数, 特殊</a></td><td class="printindex-index-section"><a href="#zsh_002fzleparameter-_6a21_5757">zsh/zleparameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Yong-Yu-Shi-Yong-WenJian-Miao-Shu-Fu-">参数, 用于使用文件描述符</a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Bian-Ji-">参数, 编辑</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-Bian-Ji-Qi-">参数, 编辑器</a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-She-Zhi-">参数, 设置</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002c-She-Zhi-Shu-Zu-">参数, 设置数组</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-_002cYong-Wei-She-Zhi-Dai-Ti-">参数，用未设置代替</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Xiu-Shi-Fu-">参数修饰符</a></td><td class="printindex-index-section"><a href="#g_t_4fee_9970_7b26">修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Fen-Ge-_002c-Yong-typesetDeng-_002e-">参数分割, 用typeset等。</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Ming-_002c-Fei-Ke-Yi-Zhi-Zi-Fu-">参数名, 非可移植字符</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Kuo-Zhan-">参数扩展</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Kuo-Zhan-_002c-ShiLi">参数扩展, 示例</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Kuo-Zhan-Biao-Zhi-">参数扩展标志</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Kuo-Zhan-Gui-Ze-">参数扩展规则</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu-Kuo-Zhan-Feng-Ge-_002c-rc">参数扩展风格, rc</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-受">受</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shou-Xian-De-shell">受限的 shell</a></td><td class="printindex-index-section"><a href="#g_t_53d7_9650_7684-Shell">受限的 Shell</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shou-Xian-De-shell-1">受限的 shell</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-变">变</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Liang-">变量</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Liang-_002c-Huan-Jing-">变量, 环境</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-叠">叠</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Die-Jia-Mo-Shi-_002c-Bian-Ji-Qi-De-">叠加模式, 编辑器的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-可">可</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ke-Shan-Chu-Hou-Zhui-_002c-Zai-Bu-Quan-ZhongGao-Liang-">可删除后缀, 在补全中高亮</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ke-Zhi-Xing-De-_002c-Ha-Xi-">可执行的, 哈希</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-后">后</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Tai-Zuo-Ye-_002c-I_002fO">后台作业, I/O</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Tai-Zuo-Ye-_002c-You-Xian-Ji-">后台作业, 优先级</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Tai-Zuo-Ye-_002c-Tong-Zhi-">后台作业, 通知</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Tai-Zuo-Ye-De-You-Xian-Ji-">后台作业的优先级</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Tai-Zuo-Ye-Tong-Zhi-">后台作业通知</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Zhui-_002c-Gao-Liang-Ke-Shan-Chu-_002c-Zai-Bu-Quan-Zhong">后缀, 高亮可删除, 在补全中</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-启">启</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Dong-WenJian-">启动文件</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Dong-WenJian-_002c-Quan-Ju-_002c-Yi-Zhi-">启动文件, 全局, 抑制</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Dong-WenJian-_002c-Yin-Ru-">启动文件, 引入</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-globbing">启用 globbing</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-globbing-Xian-Ding-Fu-">启用 globbing 限定符</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-Li-Shi-Ti-Huan-">启用历史替换</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-Ming-Ling-">启用命令</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-Gua-Hao-Nian-Tie-">启用括号粘贴</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-Bian-Ji-Qi-">启用编辑器</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qi-Yong-Feng-Ming-Qi-">启用蜂鸣器</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-命">命</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Nei-Zhi-">命令, 内置</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Qi-Yong-">命令, 启用</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Fu-Za-">命令， 复杂</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-">命令, 复杂命令的替代形式</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4_7684_66ff_4ee3_5f62_5f0f">复杂命令的替代形式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Jin-Yong-">命令, 禁用</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Jian-Dan-">命令, 简单</a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-_002c-Gen-Zong-">命令, 跟踪</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-Ha-Xi-">命令哈希</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-Zhi-Xing-">命令执行</a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_6267_884c">命令执行</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-Zhi-Xing-_002c-Qi-Yong-">命令执行, 启用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ling-Ti-Huan-">命令替换</a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_66ff_6362">命令替换</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ming-Mu-Lu-_002c-Dong-Tai-">命名目录, 动态</a></td><td class="printindex-index-section"><a href="#g_t_52a8_6001_547d_540d_76ee_5f55">动态命名目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ming-Mu-Lu-_002c-Dong-Tai-_002c-Fu-Zhu-Han-Shu-">命名目录, 动态, 辅助函数</a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_76ee_5f55_51fd_6570">其它目录函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ming-Ming-Mu-Lu-_002c-Jing-Tai-">命名目录, 静态</a></td><td class="printindex-index-section"><a href="#g_t_9759_6001_547d_540d_76ee_5f55">静态命名目录</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-哈">哈</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ha-Xi-_002c-Ke-Zhi-Xing-De-">哈希, 可执行的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ha-Xi-_002c-Ming-Ling-De-">哈希, 命令的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ha-Xi-_002c-Mu-Lu-De-">哈希, 目录的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-基">基</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ji-Shu-_002c-Yi-C-Ge-Shi-Shu-Chu-">基数, 以 C 格式输出</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ji-Shu-_002c-Suan-Zhu-">基数, 算术</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-复">复</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Za-Ming-Ling-">复杂命令</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Za-Ming-Ling-De-Ti-Dai-Xing-Shi-">复杂命令的替代形式</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4_7684_66ff_4ee3_5f62_5f0f">复杂命令的替代形式</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-多">多</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Duo-Zi-Jie-Zi-Fu-_002c-Zai-Kuo-Zhan-He-globbing-Zhong">多字节字符, 在扩展和 globbing 中</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-大">大</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Da-Xiao-Xie-Min-Gan-De-globbing_002c-Xuan-Xiang-">大小写敏感的 globbing, 选项</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-套">套</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-">套接字</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002fsocket-_6a21_5757">zsh/net/socket 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002c-TCP">套接字, TCP</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002c-Unix-Yu-">套接字, Unix 域</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002fsocket-_6a21_5757">zsh/net/socket 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002c-Unix-Yu-Ru-Zhan-">套接字, Unix 域入站</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002fsocket-_6a21_5757">zsh/net/socket 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002c-Chuan-Ru-TCP">套接字, 传入 TCP</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002c-Chuan-Chu-TCP">套接字, 传出 TCP</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002c-Guan-Bi-TCP">套接字, 关闭 TCP</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tao-Jie-Zi-_002cUnix-Yu-Chu-Zhan-">套接字，Unix 域出站</a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002fsocket-_6a21_5757">zsh/net/socket 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-字">字</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Duan-Fen-Ge-_002c-sh-Yang-Shi-_002c-Can-Shu-">字段分割, sh 样式, 参数</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Duan-Fen-Ge-_002c-sh-Feng-Ge-">字段分割, sh 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Fu-_002c-_0028Unicode_0029-Zu-He-">字符, (Unicode) 组合</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Fu-_002c-Duo-Zi-Jie-_002c-Zai-Kuo-Zhan-He-globbing-Zhong">字符, 多字节, 在扩展和 globbing 中</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Fu-Lei-">字符类</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-定">定</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ding-Yi-Xiao-Bu-Jian-">定义小部件</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ding-Yi-Shu-XueHan-Shu-">定义数学函数</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ding-Shi-Zhi-Xing-_0028timed-execution_0029">定时执行(timed execution)</a></td><td class="printindex-index-section"><a href="#zsh_002fsched-_6a21_5757">zsh/sched 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-对">对</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dui-shell-Jin-Xing-Ji-Shi-">对 shell 进行计时</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-导">导</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dao-Chu-_002c-He-Ben-Di-Can-Shu-">导出, 和本地参数</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dao-Chu-_002c-Zi-Dong-">导出, 自动</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Dao-Yan-">导言</a></td><td class="printindex-index-section"><a href="#g_t_7b80_4ecb">简介</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-小">小</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-">小部件</a></td><td class="printindex-index-section"><a href="#Zle-_5c0f_90e8_4ef6">Zle 小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Ding-Yi-">小部件, 定义</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Biao-Zhun-">小部件, 标准</a></td><td class="printindex-index-section"><a href="#g_t_6807_51c6_5c0f_90e8_4ef6">标准小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Yong-Hu-Ding-Yi-De-">小部件, 用户定义的</a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Bang-Ding-">小部件, 绑定</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Diao-Yong-">小部件, 调用</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Diao-Yong--1">小部件, 调用</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian-_002c-Zhong-Xin-Bang-Ding-">小部件, 重新绑定</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-嵌">嵌</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qian-Ru-De-Kong-Zhi-_002c-_0024_0027_002e_002e_002e_0027-Zhong">嵌入的空值, $&rsquo;...&rsquo; 中</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-帮">帮</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bang-Zhu-WenJian-Shi-Yong-Gong-Ju-">帮助文件实用工具</a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-异">异</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yi-Bu-Zuo-Ye-_002c-Tui-Chu-shell">异步作业, 退出 shell</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-引">引</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yin-Hao-Feng-Ge-_002c-csh">引号风格, csh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yin-Hao-Feng-Ge-_002c-rc">引号风格, rc</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yin-Yong-Zuo-Ye-">引用作业</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-强">强</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qiang-Zhi-Shi-Yong-Fu-Dian-">强制使用浮点</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-循">循</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xun-Huan-_002c-repeat">循环, repeat</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xun-Huan-_002c-until">循环, until</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xun-Huan-_002c-while">循环, while</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xun-Huan-_002c-Ji-Xu-">循环, 继续</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xun-Huan-_002c-Tui-Chu-">循环, 退出</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xun-Huan-Feng-Ge-_002c-csh">循环风格, csh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-慢">慢</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Man-Su-Lian-Jie-_002c-Bian-Ji-">慢速连接, 编辑</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-执">执</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhi-Xing-_002c-of-commands">执行, of commands</a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_6267_884c">命令执行</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhi-Xing-_002c-Ding-Shi-">执行, 定时</a></td><td class="printindex-index-section"><a href="#zsh_002fsched-_6a21_5757">zsh/sched 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-扩">扩</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-">扩展</a></td><td class="printindex-index-section"><a href="#g_t_6269_5c55">扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Li-Shi-">扩展, 历史</a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_6269_5c55">历史扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Can-Shu-">扩展, 参数</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Gua-Hao-">扩展, 括号</a></td><td class="printindex-index-section"><a href="#g_t_62ec_53f7_6269_5c55">括号扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Gua-Hao-_002c-Kuo-Zhan-_0028extending_0029">扩展, 括号, 扩展（extending）</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Gua-Hao-_002c-Jin-Yong-">扩展, 括号, 禁用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Ti-ShiFu-">扩展, 提示符</a></td><td class="printindex-index-section"><a href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-WenJian-Ming-">扩展, 文件名</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-_002c-Suan-Zhu-">扩展, 算术</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6269_5c55">算术扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-Can-Shu-">扩展参数</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-Shu-Xing-_002c-xattr_002c-Cong-WenJian-ZhongHuo-Qu-">扩展属性, xattr, 从文件中获取</a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-Shu-Xing-_002c-xattr_002c-Zai-WenJian-Shang-De-She-Zhi-">扩展属性, xattr, 在文件上的设置</a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-Shu-Xing-_002c-xattr_002c-Yi-Chu-_002c-Shan-Chu-">扩展属性, xattr, 移除, 删除</a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-De-Shu-Xing-_002c-xattr_002c-Lie-Biao-">扩展的属性, xattr, 列表</a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kuo-Zhan-Feng-Ge-_002c-sh">扩展风格, sh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-找">找</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhao-Bu-Dao-Ming-Ling-_002c-handling-of">找不到命令, handling of</a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_6267_884c">命令执行</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-把">把</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ba-Can-Shu-Dang-Ming-Ling-Zhi-Xing-">把参数当命令执行</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-括">括</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gua-Hao-Kuo-Zhan-">括号扩展</a></td><td class="printindex-index-section"><a href="#g_t_62ec_53f7_6269_5c55">括号扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gua-Hao-Kuo-Zhan-_002c-Kuo-Zhan-_0028extending_0029">括号扩展, 扩展（extending）</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gua-Hao-Kuo-Zhan-_002c-Jin-Yong-">括号扩展, 禁用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gua-Hao-Nian-Tie-">括号粘贴</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-拼">拼</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Pin-Xie-Geng-Zheng-">拼写更正</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-挂">挂</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gua-Qi-shell">挂起 shell</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-捕">捕</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Huo-Xin-Hao-">捕获信号</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Huo-Xin-Hao--1">捕获信号</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-描">描</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Miao-Shu-Fu-_002c-WenJian-">描述符, 文件</a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-提">提</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-ShiFu-_002c-_0021-Kuo-Zhan-">提示符, ! 扩展</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-ShiFu-_002c-_0025-Kuo-Zhan-">提示符, % 扩展</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-ShiFu-_002c-Bao-Cun-Bu-Fen-Xing-">提示符, 保存部分行</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-ShiFu-_002c-Can-Shu-Kuo-Zhan-">提示符, 参数扩展</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-ShiFu-_002c-Dai-You-CR">提示符, 带有 CR</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-ShiFu-Kuo-Zhan-">提示符扩展</a></td><td class="printindex-index-section"><a href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-摒">摒</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bing-Qi-_0024_0027_002e_002e_002e_0027-ZhongQian-Ru-De-Kong-Zhi-">摒弃 $&rsquo;...&rsquo; 中嵌入的空值</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-操">操</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Cao-Zuo-Fu-You-Xian-Ji-">操作符优先级</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-散">散</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-San-Lie-_0028hash_0029">散列(hash)</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-数">数</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-XueHan-Shu-">数学函数</a></td><td class="printindex-index-section"><a href="#zsh_002fmathfunc-_6a21_5757">zsh/mathfunc 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-XueHan-Shu-_002c-use-of">数学函数, use of</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Ju-Ku-WenJian-Lu-Jing-_002c-Du-Qu-">数据库文件路径, 读取</a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Ju-Ku-Bang-Ding-Shu-Zu-_002c-Chuang-Jian-">数据库绑定数组, 创建</a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Ju-Ku-Bang-Ding-De-Shu-Zu-_002c-Mei-Ju-">数据库绑定的数组, 枚举</a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Zu-_002c-0Suo-Yin-De-Xing-Wei-">数组, 0索引的行为</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Zu-_002c-ksh-Feng-Ge-">数组, ksh 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Zu-Can-Shu-_002c-She-Zhi-">数组参数, 设置</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Zu-Kuo-Zhan-Feng-Ge-_002c-rc">数组扩展风格, rc</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Zu-Fu-Zhi-">数组赋值</a></td><td class="printindex-index-section"><a href="#g_t_6570_7ec4_53c2_6570">数组参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Zu-Feng-Ge-_002c-ksh">数组风格, ksh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-整">整</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zheng-Xing-Can-Shu-">整形参数</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-文">文</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-clobbering_002c-Yun-Xu-">文件 clobbering, 允许</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-clobbering_002c-Kong-WenJian-">文件 clobbering, 空文件</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Chuan-Shu-">文件, 传输</a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Quan-Ju-Qi-Dong-_002c-Yi-Zhi-">文件, 全局启动, 抑制</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Guan-Bi-">文件, 关闭</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Lie-Biao-">文件, 列表</a></td><td class="printindex-index-section"><a href="#zsh_002fstat-_6a21_5757">zsh/stat 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Li-Shi-">文件, 历史</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Qi-Dong-">文件, 启动</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Cao-Zuo-">文件, 操作</a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Biao-Ji-Lei-Xing-">文件, 标记类型</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-_002c-Ce-Shi-">文件, 测试</a></td><td class="printindex-index-section"><a href="#zsh_002fstat-_6a21_5757">zsh/stat 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Ming-Kuo-Zhan-">文件名扩展</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Ming-Kuo-Zhan-_002c-_003d">文件名扩展, =</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Ming-Kuo-Zhan-_002c-Zhu-Yi-">文件名扩展, 注意</a></td><td class="printindex-index-section"><a href="#g_t_6ce8_610f">注意</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Ming-Sheng-Cheng-">文件名生成</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Ming-Sheng-Cheng-_002c-Pi-Mo-Shi-">文件名生成, 坏模式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Miao-Shu-Fu-">文件描述符</a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Miao-Shu-Fu-_002c-Shi-Yong-Can-Shu-De-">文件描述符, 使用参数的</a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Miao-Shu-Fu-_002c-Deng-Dai-">文件描述符, 等待</a></td><td class="printindex-index-section"><a href="#zsh_002fzselect-_6a21_5757">zsh/zselect 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenJian-Fu-Gai-_0028clobbering_0029_002c-POSIX-Jian-Rong-Xing-">文件覆盖(clobbering), POSIX 兼容性</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WenBen-Dui-Xiang-">文本对象</a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-斜">斜</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xie-Xian-_002c-Qu-Diao-Wei-Bu-De-">斜线, 去掉尾部的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-日">日</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ri-Li-Han-Shu-Xi-Tong-">日历函数系统</a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_51fd_6570_7cfb_7edf">日历函数系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ri-Qi-Zi-Fu-Chuan-_002c-Da-Yin-">日期字符串, 打印</a></td><td class="printindex-index-section"><a href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-暂">暂</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zan-Ting-Zuo-Ye-">暂停作业</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-更">更</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Geng-Zheng-_002c-Pin-Xie-">更正, 拼写</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-替">替</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-Huan-_002c-Can-Shu-_002c-Biao-Zhi-">替换, 参数, 标志</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-Huan-_002c-Can-Shu-_002c-Gui-Ze-">替换, 参数, 规则</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-Huan-_002c-Ming-Ling-">替换, 命令</a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_66ff_6362">命令替换</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-Huan-_002c-Jin-Cheng-">替换, 进程</a></td><td class="printindex-index-section"><a href="#g_t_8fdb_7a0b_66ff_6362">进程替换</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-最">最</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zui-Jin-De-Mu-Lu-_002c-Wei-Hu-Lie-Biao-">最近的目录, 维护列表</a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-未">未</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Wei-She-Zhi-Can-Shu-_002c-Ti-Huan-">未设置参数, 替换</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-本">本</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ben-Di-Jian-Ying-She-">本地键映射</a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-杀">杀</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Sha-Si-Zuo-Ye-">杀死作业</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-条">条</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tiao-Jian-Biao-Da-Shi-">条件表达式</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tiao-Jian-Biao-Da-Shi--1">条件表达式</a></td><td class="printindex-index-section"><a href="#g_t_6761_4ef6_8868_8fbe_5f0f">条件表达式</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-标">标</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Zhi-_002c-shell">标志, shell</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Zhi-_002c-Can-Shu-Kuo-Zhan-">标志, 参数扩展</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Ji-WenJian-Lei-Xing-">标记文件类型</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Ji-Mu-Lu-">标记目录</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Shi-Fu-_002c-Fei-Ke-Yi-Zhi-Zi-Fu-">标识符, 非可移植字符</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Liang-">标量</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-栈">栈</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhan-_002c-Li-Shi-">栈, 历史</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-模">模</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mo-Kuai-_002c-example">模块, example</a></td><td class="printindex-index-section"><a href="#zsh_002fexample-_6a21_5757">zsh/example 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mo-Kuai-_002c-Jia-Zai-">模块, 加载</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mo-Kuai-_002c-Bian-Xie-">模块, 编写</a></td><td class="printindex-index-section"><a href="#zsh_002fexample-_6a21_5757">zsh/example 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mo-Shi-_002c-Te-Quan-">模式, 特权</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-正">正</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zheng-Ze-Biao-Da-Shi-_002c-perl-Jian-Rong-De-">正则表达式, perl 兼容的</a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zheng-Ze-Biao-Da-Shi-_002c-Bu-Qu-Fen-Da-Xiao-Xie-Pi-Pei-_002c-Xuan-Xiang-">正则表达式, 不区分大小写匹配, 选项</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zheng-Ze-Biao-Da-Shi">正则表达示</a></td><td class="printindex-index-section"><a href="#zsh_002fregex-_6a21_5757">zsh/regex 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-求">求</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Qiu-Zhi-_002c-Suan-Zhu-">求值, 算术</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-没">没</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-_002c-csh">没有命令的重定向, csh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-_002c-ksh">没有命令的重定向, ksh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mei-You-Ming-Ling-De-Zhong-Ding-Xiang-_002c-sh">没有命令的重定向, sh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-注">注</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhu-Shi-">注释</a></td><td class="printindex-index-section"><a href="#g_t_6ce8_91ca">注释</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhu-Shi-_002c-Zai-Jiao-Hu-shell-Zhong">注释, 在交互 shell 中</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-流">流</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Liu-Kong-Zhi-">流控制</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-浮">浮</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Dian-_002c-Qiang-Zhi-Shi-Yong-">浮点, 强制使用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Dian-Can-Shu-">浮点参数</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-烦">烦</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fan-Ren-De-Jian-Pan-_002c-sun">烦人的键盘, sun</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-版">版</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ban-Ben-Kong-Zhi-Shi-Yong-Cheng-Xu-">版本控制实用程序</a></td><td class="printindex-index-section"><a href="#g_t_7248_672c_63a7_5236_4fe1_606f">版本控制信息</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-特">特</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Te-Quan-Mo-Shi-">特权模式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Te-Shu-Can-Shu-">特殊参数</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Te-Shu-Zi-Fu-_002c-Gao-Liang-">特殊字符, 高亮</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-状">状</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhuang-Tai-_002c-Cong-Guan-Dao-Tui-Chu-De-">状态, 从管道退出的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-环">环</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Huan-Jing-">环境</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Huan-Jing-_002c-He-Ben-Di-Can-Shu-">环境, 和本地参数</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Huan-Jing-Bian-Liang-">环境变量</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-用">用</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yong-Yu-Gao-Liang-De-Zhong-Duan-Zhuan-Yi-Xu-Lie-">用于高亮的终端转义序列</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yong-Hu-_002c-Guan-Cha-">用户, 观察</a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yong-Hu-Gong-Xian-">用户贡献</a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_8d21_732e">用户贡献</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-登">登</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Deng-Chu-Shi-_002c-Jian-Cha-Zuo-Ye-">登出时, 检查作业</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Deng-Chu-Shi-_002c-Jian-Cha-Yun-Xing-ZhongDe-Zuo-Ye-">登出时, 检查运行中的作业</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-目">目</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Ming-Ming-_002c-Dong-Tai-">目录, 命名, 动态</a></td><td class="printindex-index-section"><a href="#g_t_52a8_6001_547d_540d_76ee_5f55">动态命名目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Ming-Ming-_002c-Dong-Tai-_002c-Fu-Zhu-Han-Shu-">目录, 命名, 动态, 辅助函数</a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_76ee_5f55_51fd_6570">其它目录函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Ming-Ming-_002c-Jing-Tai-">目录, 命名, 静态</a></td><td class="printindex-index-section"><a href="#g_t_9759_6001_547d_540d_76ee_5f55">静态命名目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Ming-Ming-De-">目录, 命名的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Ha-Xi-">目录, 哈希</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Gai-Bian-">目录, 改变</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Biao-Ji-">目录, 标记</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Wei-Hu-Zui-Jin-De-">目录, 维护最近的</a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-Zhan-_002c-Hu-Lue-Zhong-Fu-">目录栈, 忽略重复</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-Zhan-_002c-Da-Yin-">目录栈, 打印</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-Zhan-_002c-Kong-Zhi-Yu-Fa-">目录栈, 控制语法</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-Zhan-_002c-Jing-Mo-">目录栈, 静默</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-禁">禁</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jin-Yong-Ming-Ling-">禁用命令</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jin-Yong-Gua-Hao-Kuo-Zhan-">禁用括号扩展</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-私">私</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Si-You-Can-Shu-_002c-Chuang-Jian-">私有参数, 创建</a></td><td class="printindex-index-section"><a href="#zsh_002fparam_002fprivate-_6a21_5757">zsh/param/private 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-空">空</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kong-globbing-Feng-Ge-_002c-csh">空 globbing 风格, csh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kong-Zhi-_002c-Qian-Ru-_0024_0027_002e_002e_002e_0027">空值, 嵌入 $&rsquo;...&rsquo;</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Kong-Ming-Ling-Yang-Shi-">空命令样式</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-窗">窗</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Chuang-Kou-_002c-curses">窗口, curses</a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-符">符</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Hao-Lian-Jie-">符号链接</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-等">等</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Deng-Dai-Zuo-Ye-">等待作业</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-简">简</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Dan-Ming-Ling-">简单命令</a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-算">算</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Suan-Zhu-Ji-Shu-">算术基数</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Suan-Zhu-Kuo-Zhan-">算术扩展</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6269_5c55">算术扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Suan-Zhu-Qiu-Zhi-">算术求值</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Suan-Zhu-Qiu-Zhi--1">算术求值</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Suan-Zhu-Yun-Suan-Fu-">算术运算符</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-管">管</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Guan-Dao-">管道</a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Guan-Dao-_002c-Tui-Chu-Zhuang-Tai-">管道, 退出状态</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-组">组</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zu-He-Zi-Fu-_0028Unicode_0029">组合字符(Unicode)</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-终">终</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhong-Duan-">终端</a></td><td class="printindex-index-section"><a href="#zsh_002fclone-_6a21_5757">zsh/clone 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-绑">绑</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bang-Ding-_002c-Jian-">绑定, 键</a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bang-Ding-Dao-Shu-Ju-Ku-De-Shu-Zu-_002c-Cui-Hui-">绑定到数据库的数组, 摧毁</a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bang-Ding-Xiao-Bu-Jian-">绑定小部件</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bang-Ding-Jian-">绑定键</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-继">继</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ji-Xu-Xun-Huan-">继续循环</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-编">编</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Xie-Mo-Kuai-">编写模块</a></td><td class="printindex-index-section"><a href="#zsh_002fexample-_6a21_5757">zsh/example 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Yi-">编译</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Li-Shi-">编辑历史</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Can-Shu-">编辑参数</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Qi-ksh-Feng-Ge-">编辑器 ksh 风格</a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Qi-_002c-Dan-Xing-Mo-Shi-">编辑器, 单行模式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Qi-_002c-Die-Jia-Mo-Shi-">编辑器, 叠加模式</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Qi-_002c-Qi-Yong-">编辑器, 启用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bian-Ji-Qi-_002c-Xing-">编辑器, 行</a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-能">能</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Neng-Li-_002c-She-Zhi-">能力, 设置</a></td><td class="printindex-index-section"><a href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-自">自</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Dong-Jia-Zai-Han-Shu-">自动加载函数</a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Dong-Jia-Zai-Han-Shu--1">自动加载函数</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Dong-Hui-Fu-Zuo-Ye-">自动恢复作业</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Dong-Ji-Xu-Zuo-Ye-">自动继续作业</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-蜂">蜂</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Feng-Ming-_002c-Li-Shi-">蜂鸣, 历史</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Feng-Ming-Qi-_002c-Qi-Yong-">蜂鸣器, 启用</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-行">行</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xing-_002c-Du-Qu-">行, 读取</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xing-Hao-_002c-Zai-Yi-Ji-Suan-De-Biao-Da-Shi-Zhong">行号, 在已计算的表达式中</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xing-Bian-Ji-Qi-">行编辑器</a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-补">补</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Bu-Ming-Que-Shi-beep">补全, 不明确时 beep</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Bu-Ming-Que-De-">补全, 不明确的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Lie-Chu-Xuan-Ze-">补全, 列出选择</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Lie-Chu-Xuan-Ze-_002c-bash-Feng-Ge-">补全, 列出选择, bash 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Lie-Biao-">补全, 列表</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Lie-Biao--1">补全, 列表</a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Lie-Biao-Shun-Xu-">补全, 列表顺序</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Ke-Bian-Cheng-">补全, 可编程</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Ke-Bian-Cheng--1">补全, 可编程</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf">补全系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Ke-Bian-Cheng--2">补全, 可编程</a></td><td class="printindex-index-section"><a href="#g_t_7528-compctl-_8865_5168">用 compctl 补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Shi-Yong-Gong-Ju-">补全, 实用工具</a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Xiao-Bu-Jian-">补全, 小部件</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Cai-Se-Lie-Biao-">补全, 彩色列表</a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Kong-Zhi-">补全, 控制</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5c0f_90e8_4ef6">补全小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Kong-Zhi--1">补全, 控制</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf">补全系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Kong-Zhi--2">补全, 控制</a></td><td class="printindex-index-section"><a href="#g_t_7528-compctl-_8865_5168">用 compctl 补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Gun-Dong-Lie-Biao-">补全, 滚动列表</a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Yong-Guang-Biao-Xuan-Ze-">补全, 用光标选择</a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Jing-Que-Pi-Pei-">补全, 精确匹配</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Cai-Dan-">补全, 菜单</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-_002c-Cai-Dan--1">补全, 菜单</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Ke-Shan-Chu-Hou-Zhui-_002c-Gao-Liang-">补全可删除后缀, 高亮</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xiao-Bu-Jian-_002c-Xiu-Gai-Te-Shu-Can-Shu-">补全小部件, 修改特殊参数</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5185_7f6e_547d_4ee4">补全内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xiao-Bu-Jian-_002c-Chuang-Jian-">补全小部件, 创建</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xiao-Bu-Jian-_002c-Zeng-Jia-Zhi-Ding-De-Pi-Pei-">补全小部件, 增加指定的匹配</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5185_7f6e_547d_4ee4">补全内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xiao-Bu-Jian-_002c-Tiao-Jian-Dai-Ma-">补全小部件, 条件代码</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_6761_4ef6_4ee3_7801">补全条件代码</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xiao-Bu-Jian-_002c-ShiLi">补全小部件, 示例</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5c0f_90e8_4ef6_4e3e_4f8b">补全小部件举例</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xiao-Bu-Jian-_002cCe-Shi-He-She-Zhi-Zhuang-Tai-Wei-">补全小部件，测试和设置状态为</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-">补全系统</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf">补全系统</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Chu-Shi-Hua-">补全系统, 初始化</a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Bian-Liang-">补全系统, 变量</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_53d8_91cf">补全系统变量</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Ke-Bang-Ding-Ming-Ling-">补全系统, 可绑定命令</a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Zeng-Jia-Ding-Yi-">补全系统, 增加定义</a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-An-Zhuang-">补全系统, 安装</a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Shi-Yong-Han-Shu-">补全系统, 实用函数</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Biao-Ji-">补全系统, 标记</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Yang-Shi-">补全系统, 样式</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Mu-Lu-Jie-Gou-">补全系统, 目录结构</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_76ee_5f55">补全目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Zi-Dong-Jia-Zai-De-Han-Shu-">补全系统, 自动加载的函数</a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Bu-Quan-Qi-">补全系统, 补全器</a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Xuan-Ze-Bu-Quan-Qi-">补全系统, 选择补全器</a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Bu-Quan-Xi-Tong-_002c-Pei-Zhi-">补全系统, 配置</a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-表">表</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Da-Shi-_002c-Tiao-Jian-">表达式, 条件</a></td><td class="printindex-index-section"><a href="#g_t_6761_4ef6_8868_8fbe_5f0f">条件表达式</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-覆">覆</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Gai-_0028clobbering_0029_002c-POSIX-Jian-Rong-Xing-">覆盖(clobbering), POSIX 兼容性</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-观">观</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Guan-Cha-Yong-Hu-">观察用户</a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-规">规</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gui-Ze-_002c-Can-Shu-Kuo-Zhan-">规则, 参数扩展</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-计">计</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ji-Shi-">计时</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-语">语</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yu-Fa-_002c-shell">语法, shell</a></td><td class="printindex-index-section"><a href="#Shell-_8bed_6cd5">Shell 语法</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-读">读</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Du-Qu-YiXing-">读取一行</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-调">调</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Diao-Yong-">调用</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Diao-Yong-Xiao-Bu-Jian-">调用小部件</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Diao-Yong-Xiao-Bu-Jian--1">调用小部件</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-资">资</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Yuan-Xian-Zhi-">资源限制</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Yuan-Xian-Zhi--1">资源限制</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Yuan-Xian-Zhi--2">资源限制</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-赋">赋</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Fu-Zhi-">赋值</a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-跟">跟</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gen-Zong-_002c-Ming-Ling-">跟踪, 命令</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gen-Zong-_002c-Shu-Ru-Xing-">跟踪, 输入行</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-路">路</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Lu-Jing-Sou-Suo-_002c-shell-De-Jiao-Ben-Can-Shu-">路径搜索, shell 的脚本参数</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Lu-Jing-Sou-Suo-_002c-Kuo-Zhan-De-">路径搜索, 扩展的</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Lu-Xian-Tu-">路线图</a></td><td class="printindex-index-section"><a href="#g_t_8def_7ebf_56fe">路线图</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-转">转</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhuan-Yi-Xu-Lie-_002c-Zhong-Duan-_002c-Yong-Yu-Gao-Liang-">转义序列, 终端, 用于高亮</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-输">输</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shu-Ru-_002c-Gen-Zong-">输入, 跟踪</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-运">运</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yun-Suan-Fu-_002c-Suan-Zhu-">运算符, 算术</a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-近">近</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jin-Si-Pi-Pei-">近似匹配</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-进">进</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jin-Cheng-Ti-Huan-">进程替换</a></td><td class="printindex-index-section"><a href="#g_t_8fdb_7a0b_66ff_6362">进程替换</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-退">退</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tui-Chu-shell_002c-Yi-Bu-Zuo-Ye-">退出 shell, 异步作业</a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tui-Chu-Xun-Huan-">退出循环</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tui-Chu-Shi-_002c-Jian-Cha-Zuo-Ye-">退出时, 检查作业</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tui-Chu-Shi-_002c-Jian-Cha-Yun-Xing-ZhongDe-Zuo-Ye-">退出时, 检查运行中的作业</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tui-Chu-Zhuang-Tai-_002c-Da-Yin-">退出状态, 打印</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tui-Chu-Zhuang-Tai-_002c-Xian-Jing-Bu-Huo-">退出状态, 陷井捕获</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-选">选</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Ze-_002c-case">选择, case</a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-">选项</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879">选项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-shell">选项, shell</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Bie-Ming-">选项, 别名</a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Dan-Zi-Mu-">选项, 单字母</a></td><td class="printindex-index-section"><a href="#g_t_5355_5b57_6bcd_9009_9879">单字母选项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Dan-Zi-Mu-_002c-ksh-Feng-Ge-">选项, 单字母, ksh 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Qu-Xiao-She-Zhi-">选项, 取消设置</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Chu-Li-">选项, 处理</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Zhi-Ding-">选项, 指定</a></td><td class="printindex-index-section"><a href="#g_t_6307_5b9a_9009_9879">指定选项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-Miao-Shu-">选项, 描述</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-_002c-She-Zhi-">选项, 设置</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-Da-Yin-_002c-ksh-Feng-Ge-">选项打印, ksh 风格</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang-Da-Yin-Feng-Ge-_002c-ksh">选项打印风格, ksh</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-递">递</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Di-Gui-globbing">递归 globbing</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-通">通</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tong-Guo-FTP-Huo-Qu-zsh">通过 FTP 获取 zsh</a></td><td class="printindex-index-section"><a href="#g_t_53ef_7528_6027">可用性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tong-Guo-Man-Su-Lian-Jie-Jin-Xing-Bian-Ji-">通过慢速连接进行编辑</a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tong-Pei-">通配</a></td><td class="printindex-index-section"><a href="#g_t_6269_5c55">扩展</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-邮">邮</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-You-Jian-_002c-Du-Jing-Gao-">邮件, 读警告</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-You-Jian-Lie-Biao-">邮件列表</a></td><td class="printindex-index-section"><a href="#g_t_90ae_4ef6_5217_8868">邮件列表</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-重">重</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhong-Ding-Xiang-">重定向</a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhong-Ding-Xiang-_002c-Dang-Qian-shell-De-I_002fO">重定向, 当前 shell 的 I/O</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhong-Xin-Bang-Ding-Xiao-Bu-Jian-">重新绑定小部件</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhong-Xin-Bang-Ding-Jian-">重新绑定键</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-钩">钩</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gou-Zi-Han-Shu-Shi-Yong-Gong-Ju-">钩子函数实用工具</a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-链">链</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Lian-Jie-_002c-Fu-Hao-">链接, 符号</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-错">错</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Cuo-Wu-_002c-Ji-Xu-Jiao-Ben-De-Xuan-Xiang-">错误, 继续脚本的选项</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-键">键</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-_002c-Bang-Ding-">键, 绑定</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-_002c-Zhong-Xin-Bang-Ding-">键, 重新绑定</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Ying-She-">键映射</a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Ying-She--1">键映射</a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Pan-Ding-Yi-">键盘定义</a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Bang-Ding-">键绑定</a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-长">长</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Chang-Xuan-Xiang-">长选项</a></td><td class="printindex-index-section"><a href="#g_t_8c03_7528">调用</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-限">限</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Zhi-_002c-Zi-Yuan-">限制, 资源</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Zhi-_002c-Zi-Yuan--1">限制, 资源</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Zhi-_002c-Zi-Yuan--2">限制, 资源</a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Ding-Fu-_002c-globbing">限定符, globbing</a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-陷">陷</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Jing-_002c-DEBUG_002c-Zai-Ming-Ling-Qian-Huo-Hou-">陷井, DEBUG, 在命令前或后</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Jing-_002c-POSIX-Jian-Rong-Xing-">陷井, POSIX 兼容性</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Jing-_002c-Han-Shu-Tui-Chu-Shi-">陷井, 函数退出时</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-Jing-_002c-Yi-Bu-">陷井, 异步</a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-静">静</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jing-Tai-Ming-Ming-Mu-Lu-">静态命名目录</a></td><td class="printindex-index-section"><a href="#g_t_9759_6001_547d_540d_76ee_5f55">静态命名目录</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6982_5ff5_7d22_5f15_cp_letter-高">高</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gao-Liang-_002c-Qu-Yu-">高亮, 区域</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gao-Liang-_002c-Te-Shu-Zi-Fu-">高亮, 特殊字符</a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="cp-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-1"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-2"><b>.</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-3"><b>$</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_symbol-4"><b>8</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-下"><b>下</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-不"><b>不</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-事"><b>事</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-什"><b>什</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-从"><b>从</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-优"><b>优</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-作"><b>作</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-使"><b>使</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-保"><b>保</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-信"><b>信</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-修"><b>修</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-克"><b>克</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-全"><b>全</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-八"><b>八</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-共"><b>共</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-关"><b>关</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-兼"><b>兼</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-内"><b>内</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-冒"><b>冒</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-函"><b>函</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-别"><b>别</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-前"><b>前</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-功"><b>功</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-加"><b>加</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-动"><b>动</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-匹"><b>匹</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-区"><b>区</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-匿"><b>匿</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-十"><b>十</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-单"><b>单</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-历"><b>历</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-参"><b>参</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-受"><b>受</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-变"><b>变</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-叠"><b>叠</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-可"><b>可</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-后"><b>后</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-启"><b>启</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-命"><b>命</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-哈"><b>哈</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-基"><b>基</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-复"><b>复</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-多"><b>多</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-大"><b>大</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-套"><b>套</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-字"><b>字</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-定"><b>定</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-对"><b>对</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-导"><b>导</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-小"><b>小</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-嵌"><b>嵌</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-帮"><b>帮</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-异"><b>异</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-引"><b>引</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-强"><b>强</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-循"><b>循</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-慢"><b>慢</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-执"><b>执</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-扩"><b>扩</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-找"><b>找</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-把"><b>把</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-括"><b>括</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-拼"><b>拼</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-挂"><b>挂</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-捕"><b>捕</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-描"><b>描</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-提"><b>提</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-摒"><b>摒</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-操"><b>操</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-散"><b>散</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-数"><b>数</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-整"><b>整</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-文"><b>文</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-斜"><b>斜</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-日"><b>日</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-暂"><b>暂</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-更"><b>更</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-替"><b>替</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-最"><b>最</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-未"><b>未</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-本"><b>本</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-杀"><b>杀</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-条"><b>条</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-标"><b>标</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-栈"><b>栈</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-模"><b>模</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-正"><b>正</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-求"><b>求</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-没"><b>没</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-注"><b>注</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-流"><b>流</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-浮"><b>浮</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-烦"><b>烦</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-版"><b>版</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-特"><b>特</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-状"><b>状</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-环"><b>环</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-用"><b>用</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-登"><b>登</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-目"><b>目</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-禁"><b>禁</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-私"><b>私</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-空"><b>空</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-窗"><b>窗</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-符"><b>符</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-等"><b>等</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-简"><b>简</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-算"><b>算</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-管"><b>管</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-组"><b>组</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-终"><b>终</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-绑"><b>绑</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-继"><b>继</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-编"><b>编</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-能"><b>能</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-自"><b>自</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-蜂"><b>蜂</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-行"><b>行</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-补"><b>补</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-表"><b>表</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-覆"><b>覆</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-观"><b>观</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-规"><b>规</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-计"><b>计</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-语"><b>语</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-读"><b>读</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-调"><b>调</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-资"><b>资</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-赋"><b>赋</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-跟"><b>跟</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-路"><b>路</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-转"><b>转</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-输"><b>输</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-运"><b>运</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-近"><b>近</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-进"><b>进</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-退"><b>退</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-选"><b>选</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-递"><b>递</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-通"><b>通</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-邮"><b>邮</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-重"><b>重</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-钩"><b>钩</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-链"><b>链</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-错"><b>错</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-键"><b>键</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-长"><b>长</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-限"><b>限</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-陷"><b>陷</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-静"><b>静</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6982_5ff5_7d22_5f15_cp_letter-高"><b>高</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="g_t_53d8_91cf_7d22_5f15">
<h2 class="unnumbered" id="Bian-Liang-Suo-Yin-"><span>变量索引<a class="copiable-link" href="#Bian-Liang-Suo-Yin-"> &para;</a></span></h2>

<div class="printindex vr-printindex">
<table class="vr-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-1"><b>_</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-2"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-3"><b>!</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-4"><b>?</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-5"><b>@</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-6"><b>*</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-7"><b>#</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-8"><b>$</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-9"><b>0</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-Y"><b>Y</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-函"><b>函</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-参"><b>参</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-小"><b>小</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-选"><b>选</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-键"><b>键</b></a>
 &nbsp; 
</td></tr></table>
<table class="vr-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-1">_</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005f"><code>_</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-2">-</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d-1"><code>-</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-3">!</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0021"><code>!</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-4">?</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_003f"><code>?</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-5">@</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0040"><code>@</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-6">*</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002a"><code>*</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-7">#</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0023"><code>#</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-8">$</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_0024"><code>$</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_symbol-9">0</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-0"><code>0</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-aliases"><code>aliases</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-all_005fquotes_002c-compstate"><code>all_quotes, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ARGC"><code>ARGC</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-argv"><code>argv</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ARGV0"><code>ARGV0</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BAUD"><code>BAUD</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BAUD_002c-use-of"><code>BAUD, use of</code></a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BUFFER"><code>BUFFER</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BUFFERLINES"><code>BUFFERLINES</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-builtins"><code>builtins</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cdpath"><code>cdpath</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CDPATH"><code>CDPATH</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chpwd_005ffunctions"><code>chpwd_functions</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COLUMNS"><code>COLUMNS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COLUMNS_002c-use-of"><code>COLUMNS, use of</code></a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-commands"><code>commands</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-comppostfuncs_002c-use-of"><code>comppostfuncs, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_53d8_91cf">补全系统变量</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compprefuncs_002c-use-of"><code>compprefuncs, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_53d8_91cf">补全系统变量</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compstate"><code>compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CONTEXT"><code>CONTEXT</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-context_002c-compstate"><code>context, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-context_002c-use-of"><code>context, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CORRECT_005fIGNORE"><code>CORRECT_IGNORE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CORRECT_005fIGNORE_005fFILE"><code>CORRECT_IGNORE_FILE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CPUTYPE"><code>CPUTYPE</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CURRENT"><code>CURRENT</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CURSOR"><code>CURSOR</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CUTBUFFER"><code>CUTBUFFER</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirstack"><code>dirstack</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DIRSTACKSIZE"><code>DIRSTACKSIZE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005faliases"><code>dis_aliases</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005fbuiltins"><code>dis_builtins</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005ffunctions"><code>dis_functions</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005ffunctions_005fsource"><code>dis_functions_source</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005fgaliases"><code>dis_galiases</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005fpatchars"><code>dis_patchars</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005freswords"><code>dis_reswords</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dis_005fsaliases"><code>dis_saliases</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EDITOR"><code>EDITOR</code></a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EGID"><code>EGID</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ENV"><code>ENV</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ENV_002c-use-of"><code>ENV, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_517c_5bb9_6027">兼容性</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EPOCHREALTIME"><code>EPOCHREALTIME</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EPOCHSECONDS"><code>EPOCHSECONDS</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-epochtime"><code>epochtime</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ERRNO"><code>ERRNO</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-errnos"><code>errnos</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EUID"><code>EUID</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exact_005fstring_002c-compstate"><code>exact_string, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exact_002c-compstate"><code>exact, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expl_002c-use-of"><code>expl, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FCEDIT"><code>FCEDIT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fignore"><code>fignore</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FIGNORE"><code>FIGNORE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fpath"><code>fpath</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FPATH"><code>FPATH</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fpath_002c-use-of"><code>fpath, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fpath_002c-Sou-Suo-"><code>fpath, 搜索</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fpath_002c-Yong-zcompile"><code>fpath, 用 zcompile</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-funcfiletrace"><code>funcfiletrace</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FUNCNEST"><code>FUNCNEST</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-funcsourcetrace"><code>funcsourcetrace</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-funcstack"><code>funcstack</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-functions_005fsource"><code>functions_source</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-functrace"><code>functrace</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-galiases"><code>galiases</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GID"><code>GID</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HELPDIR"><code>HELPDIR</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-histchars"><code>histchars</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTCHARS"><code>HISTCHARS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-histchars_002c-use-of"><code>histchars, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6ce8_91ca">注释</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-histchars_002c-use-of-1"><code>histchars, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6982_8ff0">概述</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTCMD"><code>HISTCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTFILE"><code>HISTFILE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTNO"><code>HISTNO</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history-2"><code>history</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTORY_005fIGNORE"><code>HISTORY_IGNORE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-historywords"><code>historywords</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTSIZE"><code>HISTSIZE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTSIZE_002c-use-of"><code>HISTSIZE, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_6269_5c55">历史扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HOME"><code>HOME</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HOME_002c-use-of"><code>HOME, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HOST"><code>HOST</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IFS"><code>IFS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IFS_002c-use-of"><code>IFS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IFS_002c-use-of-1"><code>IFS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_66ff_6362">命令替换</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IFS_002c-use-of-2"><code>IFS, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignored_002c-compstate"><code>ignored, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-incarg_002c-use-of"><code>incarg, use of</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_005fpositions_002c-compstate"><code>insert_positions, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002c-compstate"><code>insert, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IPREFIX"><code>IPREFIX</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ISEARCHMATCH_005fACTIVE"><code>ISEARCHMATCH_ACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ISEARCHMATCH_005fEND"><code>ISEARCHMATCH_END</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ISEARCHMATCH_005fSTART"><code>ISEARCHMATCH_START</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ISUFFIX"><code>ISUFFIX</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-J">J</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-jobdirs"><code>jobdirs</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-jobstates"><code>jobstates</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-jobtexts"><code>jobtexts</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KEYBOARD_005fHACK"><code>KEYBOARD_HACK</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KEYMAP"><code>KEYMAP</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KEYS"><code>KEYS</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KEYS_005fQUEUED_005fCOUNT"><code>KEYS_QUEUED_COUNT</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KEYTIMEOUT"><code>KEYTIMEOUT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-killring"><code>killring</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LANG"><code>LANG</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-langinfo"><code>langinfo</code></a></td><td class="printindex-index-section"><a href="#zsh_002flanginfo-_6a21_5757">zsh/langinfo 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-last_005fprompt_002c-compstate"><code>last_prompt, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LASTABORTEDSEARCH"><code>LASTABORTEDSEARCH</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LASTSEARCH"><code>LASTSEARCH</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LASTWIDGET"><code>LASTWIDGET</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LBUFFER"><code>LBUFFER</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fALL"><code>LC_ALL</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fCOLLATE"><code>LC_COLLATE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fCTYPE"><code>LC_CTYPE</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fMESSAGES"><code>LC_MESSAGES</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fNUMERIC"><code>LC_NUMERIC</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fTIME"><code>LC_TIME</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-line_002c-use-of"><code>line, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LINENO"><code>LINENO</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LINES"><code>LINES</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LINES_002c-use-of"><code>LINES, use of</code></a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_005flines_002c-compstate"><code>list_lines, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_005fmax_002c-compstate"><code>list_max, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002c-compstate"><code>list, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LISTMAX"><code>LISTMAX</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOGCHECK"><code>LOGCHECK</code></a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOGNAME"><code>LOGNAME</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MACHTYPE"><code>MACHTYPE</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAIL"><code>MAIL</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAILCHECK"><code>MAILCHECK</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mailpath"><code>mailpath</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAILPATH"><code>MAILPATH</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-manpath"><code>manpath</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MANPATH"><code>MANPATH</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mapfile"><code>mapfile</code></a></td><td class="printindex-index-section"><a href="#zsh_002fmapfile-_6a21_5757">zsh/mapfile 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MARK"><code>MARK</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-match"><code>match</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MATCH"><code>MATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mbegin"><code>mbegin</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MBEGIN"><code>MBEGIN</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mend"><code>mend</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MEND"><code>MEND</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MENUSELECT"><code>MENUSELECT</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-module_005fpath"><code>module_path</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MODULE_005fPATH"><code>MODULE_PATH</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-modules-1"><code>modules</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nameddirs"><code>nameddirs</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nmatches_002c-compstate"><code>nmatches, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULLCMD"><code>NULLCMD</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULLCMD_002c-use-of"><code>NULLCMD, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULLCMD_002c-Hu-Lue-"><code>NULLCMD, 忽略</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULLCMD_002c-Hu-Lue--1"><code>NULLCMD, 忽略</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NUMERIC"><code>NUMERIC</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-old_005finsert_002c-compstate"><code>old_insert, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-old_005flist_002c-compstate"><code>old_list, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OLDPWD"><code>OLDPWD</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-opt_005fargs_002c-use-of"><code>opt_args, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OPTARG"><code>OPTARG</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OPTARG_002c-use-of"><code>OPTARG, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OPTIND"><code>OPTIND</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OPTIND_002c-use-of"><code>OPTIND, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OSTYPE"><code>OSTYPE</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-parameter_002c-compstate"><code>parameter, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-patchars"><code>patchars</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-path"><code>path</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PATH"><code>PATH</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-path_002c-use-of"><code>path, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_6267_884c">命令执行</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pattern_005finsert_002c-compstate"><code>pattern_insert, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pattern_005fmatch_002c-compstate"><code>pattern_match, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PENDING"><code>PENDING</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PERIOD"><code>PERIOD</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-periodic_005ffunctions"><code>periodic_functions</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pid_002c-sysparams"><code>pid, sysparams</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pipestatus"><code>pipestatus</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSTDISPLAY"><code>POSTDISPLAY</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSTEDIT"><code>POSTEDIT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PPID"><code>PPID</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ppid_002c-sysparams"><code>ppid, sysparams</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PREBUFFER"><code>PREBUFFER</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-precmd_005ffunctions"><code>precmd_functions</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PREDISPLAY"><code>PREDISPLAY</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-preexec_005ffunctions"><code>preexec_functions</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PREFIX"><code>PREFIX</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT"><code>PROMPT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prompt"><code>prompt</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fEOL_005fMARK"><code>PROMPT_EOL_MARK</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT2"><code>PROMPT2</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT3"><code>PROMPT3</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT4"><code>PROMPT4</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PS1"><code>PS1</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PS2"><code>PS2</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PS3"><code>PS3</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PS4"><code>PS4</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-psvar"><code>psvar</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PSVAR"><code>PSVAR</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-psvar_002c-use-of"><code>psvar, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PWD"><code>PWD</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-QIPREFIX"><code>QIPREFIX</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-QISUFFIX"><code>QISUFFIX</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quote_002c-compstate"><code>quote, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quoting_002c-compstate"><code>quoting, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RANDOM"><code>RANDOM</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RBUFFER"><code>RBUFFER</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-READNULLCMD"><code>READNULLCMD</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-READNULLCMD_002c-use-of"><code>READNULLCMD, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-READNULLCMD_002c-Hu-Lue-"><code>READNULLCMD, 忽略</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-READNULLCMD_002c-Hu-Lue--1"><code>READNULLCMD, 忽略</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-redirect_002c-compstate"><code>redirect, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REGION_005fACTIVE"><code>REGION_ACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-region_005fhighlight"><code>region_highlight</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-registers"><code>registers</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REPLY"><code>REPLY</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reply"><code>reply</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REPLY_002c-use-of"><code>REPLY, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REPLY_002c-use-of-1"><code>REPLY, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reply_002c-use-of"><code>reply, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REPLY_002c-use-of-2"><code>REPLY, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reply_002c-use-of-1"><code>reply, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reply_002c-use-of-2"><code>reply, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_5e26_53c2_6570_7684_6807_5fd7">带参数的标志</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reply_002c-use-of-3"><code>reply, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_6807_5fd7">控制标志</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reply_002c-use-of-4"><code>reply, use of</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REPORTMEMORY"><code>REPORTMEMORY</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REPORTTIME"><code>REPORTTIME</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-restore_002c-compstate"><code>restore, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reswords"><code>reswords</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RPROMPT"><code>RPROMPT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RPROMPT2"><code>RPROMPT2</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RPS1"><code>RPS1</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RPS2"><code>RPS2</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-saliases"><code>saliases</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SAVEHIST"><code>SAVEHIST</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SECONDS"><code>SECONDS</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHLVL"><code>SHLVL</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-signals"><code>signals</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SPROMPT"><code>SPROMPT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status"><code>status</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-STTY"><code>STTY</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SUFFIX"><code>SUFFIX</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SUFFIX_005fACTIVE"><code>SUFFIX_ACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SUFFIX_005fEND"><code>SUFFIX_END</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SUFFIX_005fSTART"><code>SUFFIX_START</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sysparams"><code>sysparams</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fexpect_005flines"><code>tcp_expect_lines</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005ffilter"><code>tcp_filter</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fHANDLER_005fACTIVE"><code>TCP_HANDLER_ACTIVE</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fLINE"><code>TCP_LINE</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fLINE_005fFD"><code>TCP_LINE_FD</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005flines"><code>tcp_lines</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fLOG"><code>TCP_LOG</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fno_005fspam_005flist"><code>tcp_no_spam_list</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005fread"><code>tcp_on_read</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fOUTPUT"><code>TCP_OUTPUT</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fPROMPT"><code>TCP_PROMPT</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fREAD_005fDEBUG"><code>TCP_READ_DEBUG</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fSECONDS_005fSTART"><code>TCP_SECONDS_START</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fSESS"><code>TCP_SESS</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fSILENT"><code>TCP_SILENT</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fspam_005flist"><code>tcp_spam_list</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fTALK_005fESCAPE"><code>TCP_TALK_ESCAPE</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fTIMEOUT"><code>TCP_TIMEOUT</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TERM"><code>TERM</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-termcap"><code>termcap</code></a></td><td class="printindex-index-section"><a href="#zsh_002ftermcap-_6a21_5757">zsh/termcap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TERMINFO"><code>TERMINFO</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-terminfo"><code>terminfo</code></a></td><td class="printindex-index-section"><a href="#zsh_002fterminfo-_6a21_5757">zsh/terminfo 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TERMINFO_005fDIRS"><code>TERMINFO_DIRS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TIMEFMT"><code>TIMEFMT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TMOUT"><code>TMOUT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TMPPREFIX"><code>TMPPREFIX</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TMPSUFFIX"><code>TMPSUFFIX</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-to_005fend_002c-compstate"><code>to_end, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRY_005fBLOCK_005fERROR"><code>TRY_BLOCK_ERROR</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRY_005fBLOCK_005fINTERRUPT"><code>TRY_BLOCK_INTERRUPT</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TTY"><code>TTY</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TTYIDLE"><code>TTYIDLE</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-UID"><code>UID</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unambiguous_005fcursor_002c-compstate"><code>unambiguous_cursor, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unambiguous_005fpositions_002c-compstate"><code>unambiguous_positions, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unambiguous_002c-compstate"><code>unambiguous, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-UNDO_005fCHANGE_005fNO"><code>UNDO_CHANGE_NO</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-UNDO_005fLIMIT_005fNO"><code>UNDO_LIMIT_NO</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-userdirs"><code>userdirs</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-usergroups"><code>usergroups</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-USERNAME"><code>USERNAME</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vared_002c-compstate"><code>vared, compstate</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-VENDOR"><code>VENDOR</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-VISUAL"><code>VISUAL</code></a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-watch"><code>watch</code></a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WATCH"><code>WATCH</code></a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-watch_002c-use-of"><code>watch, use of</code></a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WATCHFMT"><code>WATCHFMT</code></a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WIDGET"><code>WIDGET</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WIDGET_002c-Gou-Zi-Zhong"><code>WIDGET, 勾子中</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WIDGETFUNC"><code>WIDGETFUNC</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WIDGETSTYLE"><code>WIDGETSTYLE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WORDCHARS"><code>WORDCHARS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-words"><code>words</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7279_6b8a_53c2_6570">补全特殊参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-Y">Y</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-YANK_005fACTIVE"><code>YANK_ACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-YANK_005fEND"><code>YANK_END</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-YANK_005fSTART"><code>YANK_START</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-Z">Z</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZBEEP"><code>ZBEEP</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcurses_005fattrs"><code>zcurses_attrs</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZCURSES_005fCOLOR_005fPAIRS"><code>ZCURSES_COLOR_PAIRS</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZCURSES_005fCOLORS"><code>ZCURSES_COLORS</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcurses_005fcolors"><code>zcurses_colors</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcurses_005fkeycodes"><code>zcurses_keycodes</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcurses_005fwindows"><code>zcurses_windows</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZDOTDIR"><code>ZDOTDIR</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZDOTDIR_002c-use-of"><code>ZDOTDIR, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fACCOUNT"><code>ZFTP_ACCOUNT</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fCODE"><code>ZFTP_CODE</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fCOUNT"><code>ZFTP_COUNT</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fFILE"><code>ZFTP_FILE</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fHOST"><code>ZFTP_HOST</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fIP"><code>ZFTP_IP</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fPORT"><code>ZFTP_PORT</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fPREFS"><code>ZFTP_PREFS</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fPWD"><code>ZFTP_PWD</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fREPLY"><code>ZFTP_REPLY</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fSESSION"><code>ZFTP_SESSION</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fSIZE"><code>ZFTP_SIZE</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fSYSTEM"><code>ZFTP_SYSTEM</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fTMOUT"><code>ZFTP_TMOUT</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fTRANSFER"><code>ZFTP_TRANSFER</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fTYPE"><code>ZFTP_TYPE</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fUSER"><code>ZFTP_USER</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZFTP_005fVERBOSE"><code>ZFTP_VERBOSE</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_005fbracketed_005fpaste"><code>zle_bracketed_paste</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_005fhighlight"><code>zle_highlight</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_005fhighlight_002c-setting"><code>zle_highlight, setting</code></a></td><td class="printindex-index-section"><a href="#g_t_5b57_7b26_9ad8_4eae">字符高亮</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_005fhighlight_002c-use-of"><code>zle_highlight, use of</code></a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_005fLINE_005fABORTED"><code>ZLE_LINE_ABORTED</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_005fRECURSIVE"><code>ZLE_RECURSIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_005fREMOVE_005fSUFFIX_005fCHARS"><code>ZLE_REMOVE_SUFFIX_CHARS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_005fRPROMPT_005fINDENT"><code>ZLE_RPROMPT_INDENT</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_005fSPACE_005fSUFFIX_005fCHARS"><code>ZLE_SPACE_SUFFIX_CHARS</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_005fSTATE"><code>ZLE_STATE</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLS_005fCOLORS"><code>ZLS_COLORS</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLS_005fCOLOURS"><code>ZLS_COLOURS</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fARGZERO"><code>ZSH_ARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_005feval_005fcontext"><code>zsh_eval_context</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fEVAL_005fCONTEXT"><code>ZSH_EVAL_CONTEXT</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fEXECUTION_005fSTRING"><code>ZSH_EXECUTION_STRING</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fNAME"><code>ZSH_NAME</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fPATCHLEVEL"><code>ZSH_PATCHLEVEL</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_005fscheduled_005fevents"><code>zsh_scheduled_events</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsched-_6a21_5757">zsh/sched 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fSCRIPT"><code>ZSH_SCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fSUBSHELL-_003cS_003e"><code>ZSH_SUBSHELL &lt;S&gt;</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZSH_005fVERSION"><code>ZSH_VERSION</code></a></td><td class="printindex-index-section"><a href="#g_t_7531-Shell-_8bbe_7f6e_7684_53c2_6570">由 Shell 设置的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zshaddhistory_005ffunctions"><code>zshaddhistory_functions</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zshexit_005ffunctions"><code>zshexit_functions</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-函">函</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu--2"><code>函数</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-参">参</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Can-Shu--1"><code>参数</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-小">小</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiao-Bu-Jian--1"><code>小部件</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzleparameter-_6a21_5757">zsh/zleparameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-选">选</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xuan-Xiang--1"><code>选项</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparameter-_6a21_5757">zsh/parameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_53d8_91cf_7d22_5f15_vr_letter-键">键</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Jian-Ying-She--2"><code>键映射</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzleparameter-_6a21_5757">zsh/zleparameter 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="vr-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-1"><b>_</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-2"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-3"><b>!</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-4"><b>?</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-5"><b>@</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-6"><b>*</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-7"><b>#</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-8"><b>$</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_symbol-9"><b>0</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-Y"><b>Y</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-函"><b>函</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-参"><b>参</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-小"><b>小</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-选"><b>选</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_53d8_91cf_7d22_5f15_vr_letter-键"><b>键</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="g_t_9009_9879_7d22_5f15">
<h2 class="unnumbered" id="Xuan-Xiang-Suo-Yin-"><span>选项索引<a class="copiable-link" href="#Xuan-Xiang-Suo-Yin-"> &para;</a></span></h2>

<div class="printindex pg-printindex">
<table class="pg-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-X"><b>X</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-Z"><b>Z</b></a>
 &nbsp; 
</td></tr></table>
<table class="pg-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALIAS_005fFUNC_005fDEF"><code>ALIAS_FUNC_DEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALIASES"><code>ALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALIASFUNCDEF"><code>ALIASFUNCDEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALL_005fEXPORT"><code>ALL_EXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALLEXPORT"><code>ALLEXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALWAYS_005fLAST_005fPROMPT"><code>ALWAYS_LAST_PROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALWAYS_005fTO_005fEND"><code>ALWAYS_TO_END</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALWAYSLASTPROMPT"><code>ALWAYSLASTPROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ALWAYSTOEND"><code>ALWAYSTOEND</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-APPEND_005fCREATE"><code>APPEND_CREATE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-APPEND_005fHISTORY"><code>APPEND_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-APPENDCREATE"><code>APPENDCREATE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-APPENDHISTORY"><code>APPENDHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fCD"><code>AUTO_CD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fCONTINUE"><code>AUTO_CONTINUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fLIST"><code>AUTO_LIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fMENU"><code>AUTO_MENU</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fNAME_005fDIRS"><code>AUTO_NAME_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fPARAM_005fKEYS"><code>AUTO_PARAM_KEYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fPARAM_005fSLASH"><code>AUTO_PARAM_SLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fPUSHD"><code>AUTO_PUSHD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fPUSHD_002c-use-of"><code>AUTO_PUSHD, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_4f7f_7528_7684_53c2_6570">Shell 使用的参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fREMOVE_005fSLASH"><code>AUTO_REMOVE_SLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTO_005fRESUME"><code>AUTO_RESUME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOCD"><code>AUTOCD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOCONTINUE"><code>AUTOCONTINUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOLIST"><code>AUTOLIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOMENU"><code>AUTOMENU</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTONAMEDIRS"><code>AUTONAMEDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOPARAMKEYS"><code>AUTOPARAMKEYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOPARAMSLASH"><code>AUTOPARAMSLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOPUSHD"><code>AUTOPUSHD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTOREMOVESLASH"><code>AUTOREMOVESLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-AUTORESUME"><code>AUTORESUME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BAD_005fPATTERN"><code>BAD_PATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BADPATTERN"><code>BADPATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BANG_005fHIST"><code>BANG_HIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BANGHIST"><code>BANGHIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BARE_005fGLOB_005fQUAL"><code>BARE_GLOB_QUAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BARE_005fGLOB_005fQUAL_002c-use-of"><code>BARE_GLOB_QUAL, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BAREGLOBQUAL"><code>BAREGLOBQUAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BASH_005fAUTO_005fLIST"><code>BASH_AUTO_LIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BASH_005fREMATCH"><code>BASH_REMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BASHAUTOLIST"><code>BASHAUTOLIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BASHREMATCH"><code>BASHREMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BEEP"><code>BEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BG_005fNICE"><code>BG_NICE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BGNICE"><code>BGNICE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BRACE_005fCCL"><code>BRACE_CCL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BRACE_005fCCL_002c-use-of"><code>BRACE_CCL, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_62ec_53f7_6269_5c55">括号扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BRACE_005fEXPAND"><code>BRACE_EXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BRACECCL"><code>BRACECCL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BRACEEXPAND"><code>BRACEEXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BSD_005fECHO"><code>BSD_ECHO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BSD_005fECHO_002c-use-of"><code>BSD_ECHO, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-BSDECHO"><code>BSDECHO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-C_005fBASES"><code>C_BASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-C_005fBASES_002c-use-of"><code>C_BASES, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-C_005fPRECEDENCES"><code>C_PRECEDENCES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CASE_005fGLOB"><code>CASE_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CASE_005fMATCH"><code>CASE_MATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CASE_005fPATHS"><code>CASE_PATHS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CASEGLOB"><code>CASEGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CASEMATCH"><code>CASEMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CASEPATHS"><code>CASEPATHS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CBASES"><code>CBASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CD_005fSILENT"><code>CD_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CDABLE_005fVARS"><code>CDABLE_VARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CDABLE_005fVARS_002c-use-of"><code>CDABLE_VARS, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CDABLEVARS"><code>CDABLEVARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CDSILENT"><code>CDSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHASE_005fDOTS"><code>CHASE_DOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHASE_005fLINKS"><code>CHASE_LINKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHASE_005fLINKS_002c-use-of"><code>CHASE_LINKS, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHASEDOTS"><code>CHASEDOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHASELINKS"><code>CHASELINKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHECK_005fJOBS"><code>CHECK_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHECK_005fRUNNING_005fJOBS"><code>CHECK_RUNNING_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHECKJOBS"><code>CHECKJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CHECKRUNNINGJOBS"><code>CHECKRUNNINGJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CLOBBER"><code>CLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CLOBBER_005fEMPTY"><code>CLOBBER_EMPTY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CLOBBEREMPTY"><code>CLOBBEREMPTY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COMBINING_005fCHARS"><code>COMBINING_CHARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COMBININGCHARS"><code>COMBININGCHARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COMPLETE_005fALIASES"><code>COMPLETE_ALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COMPLETE_005fIN_005fWORD"><code>COMPLETE_IN_WORD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COMPLETEALIASES"><code>COMPLETEALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COMPLETEINWORD"><code>COMPLETEINWORD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CONTINUE_005fON_005fERROR"><code>CONTINUE_ON_ERROR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CONTINUEONERROR"><code>CONTINUEONERROR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CORRECT"><code>CORRECT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CORRECT_005fALL"><code>CORRECT_ALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CORRECTALL"><code>CORRECTALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CPRECEDENCES"><code>CPRECEDENCES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fJUNKIE_005fHISTORY"><code>CSH_JUNKIE_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fJUNKIE_005fHISTORY_002c-use-of"><code>CSH_JUNKIE_HISTORY, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6982_8ff0">概述</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fJUNKIE_005fLOOPS"><code>CSH_JUNKIE_LOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fJUNKIE_005fQUOTES"><code>CSH_JUNKIE_QUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fNULL_005fGLOB"><code>CSH_NULL_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fNULLCMD"><code>CSH_NULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSH_005fNULLCMD_002c-use-of"><code>CSH_NULLCMD, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSHJUNKIEHISTORY"><code>CSHJUNKIEHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSHJUNKIELOOPS"><code>CSHJUNKIELOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSHJUNKIEQUOTES"><code>CSHJUNKIEQUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSHNULLCMD"><code>CSHNULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-CSHNULLGLOB"><code>CSHNULLGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DEBUG_005fBEFORE_005fCMD"><code>DEBUG_BEFORE_CMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DEBUGBEFORECMD"><code>DEBUGBEFORECMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DOT_005fGLOB"><code>DOT_GLOB</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DOTGLOB"><code>DOTGLOB</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DVORAK"><code>DVORAK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EMACS"><code>EMACS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EQUALS"><code>EQUALS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ERR_005fEXIT"><code>ERR_EXIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ERR_005fRETURN"><code>ERR_RETURN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ERREXIT"><code>ERREXIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ERRRETURN"><code>ERRRETURN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EVAL_005fLINENO"><code>EVAL_LINENO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EVALLINENO"><code>EVALLINENO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXEC"><code>EXEC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXTENDED_005fGLOB"><code>EXTENDED_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXTENDED_005fGLOB_002c-use-of"><code>EXTENDED_GLOB, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXTENDED_005fGLOB_002c-Qi-Yong-"><code>EXTENDED_GLOB, 启用</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXTENDED_005fHISTORY"><code>EXTENDED_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXTENDEDGLOB"><code>EXTENDEDGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-EXTENDEDHISTORY"><code>EXTENDEDHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FLOW_005fCONTROL"><code>FLOW_CONTROL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FLOWCONTROL"><code>FLOWCONTROL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FORCE_005fFLOAT"><code>FORCE_FLOAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FORCEFLOAT"><code>FORCEFLOAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FUNCTION_005fARGZERO"><code>FUNCTION_ARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-FUNCTIONARGZERO"><code>FUNCTIONARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB"><code>GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fASSIGN"><code>GLOB_ASSIGN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fCOMPLETE"><code>GLOB_COMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fDOTS"><code>GLOB_DOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fDOTS_002c-use-of"><code>GLOB_DOTS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fDOTS_002c-Zai-Mo-Shi-ZhongShe-Zhi-"><code>GLOB_DOTS, 在模式中设置</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fSTAR_005fSHORT"><code>GLOB_STAR_SHORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fSUBST"><code>GLOB_SUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_005fSUBST_002c-Qie-Huan-"><code>GLOB_SUBST, 切换</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOB_002c-use-of"><code>GLOB, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBAL_005fEXPORT"><code>GLOBAL_EXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBAL_005fRCS"><code>GLOBAL_RCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBAL_005fRCS_002c-use-of"><code>GLOBAL_RCS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBALEXPORT"><code>GLOBALEXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBALRCS"><code>GLOBALRCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBASSIGN"><code>GLOBASSIGN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBCOMPLETE"><code>GLOBCOMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBDOTS"><code>GLOBDOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBSTARSHORT"><code>GLOBSTARSHORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GLOBSUBST"><code>GLOBSUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASH_005fALL"><code>HASH_ALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASH_005fCMDS"><code>HASH_CMDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASH_005fDIRS"><code>HASH_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASH_005fEXECUTABLES_005fONLY"><code>HASH_EXECUTABLES_ONLY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASH_005fLIST_005fALL"><code>HASH_LIST_ALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASHALL"><code>HASHALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASHCMDS"><code>HASHCMDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASHDIRS"><code>HASHDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASHEXECUTABLESONLY"><code>HASHEXECUTABLESONLY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HASHLISTALL"><code>HASHLISTALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fALLOW_005fCLOBBER"><code>HIST_ALLOW_CLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fAPPEND"><code>HIST_APPEND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fBEEP"><code>HIST_BEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fEXPAND"><code>HIST_EXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fEXPIRE_005fDUPS_005fFIRST"><code>HIST_EXPIRE_DUPS_FIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fFCNTL_005fLOCK"><code>HIST_FCNTL_LOCK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fFIND_005fNO_005fDUPS"><code>HIST_FIND_NO_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fIGNORE_005fALL_005fDUPS"><code>HIST_IGNORE_ALL_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fIGNORE_005fDUPS"><code>HIST_IGNORE_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fIGNORE_005fSPACE"><code>HIST_IGNORE_SPACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fLEX_005fWORDS"><code>HIST_LEX_WORDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fNO_005fFUNCTIONS"><code>HIST_NO_FUNCTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fNO_005fSTORE"><code>HIST_NO_STORE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fREDUCE_005fBLANKS"><code>HIST_REDUCE_BLANKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fSAVE_005fBY_005fCOPY"><code>HIST_SAVE_BY_COPY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fSAVE_005fNO_005fDUPS"><code>HIST_SAVE_NO_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fSUBST_005fPATTERN"><code>HIST_SUBST_PATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HIST_005fVERIFY"><code>HIST_VERIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTALLOWCLOBBER"><code>HISTALLOWCLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTAPPEND"><code>HISTAPPEND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTBEEP"><code>HISTBEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTEXPAND"><code>HISTEXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTEXPIREDUPSFIRST"><code>HISTEXPIREDUPSFIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTFCNTLLOCK"><code>HISTFCNTLLOCK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTFINDNODUPS"><code>HISTFINDNODUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTIGNOREALLDUPS"><code>HISTIGNOREALLDUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTIGNOREDUPS"><code>HISTIGNOREDUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTIGNORESPACE"><code>HISTIGNORESPACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTLEXWORDS"><code>HISTLEXWORDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTNOFUNCTIONS"><code>HISTNOFUNCTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTNOSTORE"><code>HISTNOSTORE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTREDUCEBLANKS"><code>HISTREDUCEBLANKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTSAVEBYCOPY"><code>HISTSAVEBYCOPY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTSAVENODUPS"><code>HISTSAVENODUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTSUBSTPATTERN"><code>HISTSUBSTPATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HISTVERIFY"><code>HISTVERIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HUP"><code>HUP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HUP_002c-use-of"><code>HUP, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNORE_005fBRACES"><code>IGNORE_BRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNORE_005fCLOSE_005fBRACES"><code>IGNORE_CLOSE_BRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNORE_005fEOF"><code>IGNORE_EOF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNORE_005fEOF_002c-use-of"><code>IGNORE_EOF, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNOREBRACES"><code>IGNOREBRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNORECLOSEBRACES"><code>IGNORECLOSEBRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-IGNOREEOF"><code>IGNOREEOF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INC_005fAPPEND_005fHISTORY"><code>INC_APPEND_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INC_005fAPPEND_005fHISTORY_005fTIME"><code>INC_APPEND_HISTORY_TIME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INCAPPENDHISTORY"><code>INCAPPENDHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INCAPPENDHISTORYTIME"><code>INCAPPENDHISTORYTIME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INTERACTIVE"><code>INTERACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INTERACTIVE_005fCOMMENTS"><code>INTERACTIVE_COMMENTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INTERACTIVE_005fCOMMENTS_002c-use-of"><code>INTERACTIVE_COMMENTS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6ce8_91ca">注释</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INTERACTIVE_002c-use-of"><code>INTERACTIVE, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-INTERACTIVECOMMENTS"><code>INTERACTIVECOMMENTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fARRAYS"><code>KSH_ARRAYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fARRAYS_002c-use-of"><code>KSH_ARRAYS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_7ec4_53c2_6570">数组参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fARRAYS_002c-use-of-1"><code>KSH_ARRAYS, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fAUTOLOAD"><code>KSH_AUTOLOAD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fAUTOLOAD_002c-use-of"><code>KSH_AUTOLOAD, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fGLOB"><code>KSH_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fGLOB_002c-use-of"><code>KSH_GLOB, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fOPTION_005fPRINT"><code>KSH_OPTION_PRINT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fTYPESET"><code>KSH_TYPESET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSH_005fZERO_005fSUBSCRIPT"><code>KSH_ZERO_SUBSCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSHARRAYS"><code>KSHARRAYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSHAUTOLOAD"><code>KSHAUTOLOAD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSHGLOB"><code>KSHGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSHOPTIONPRINT"><code>KSHOPTIONPRINT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSHTYPESET"><code>KSHTYPESET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-KSHZEROSUBSCRIPT"><code>KSHZEROSUBSCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LIST_005fAMBIGUOUS"><code>LIST_AMBIGUOUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LIST_005fBEEP"><code>LIST_BEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LIST_005fPACKED"><code>LIST_PACKED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LIST_005fROWS_005fFIRST"><code>LIST_ROWS_FIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LIST_005fTYPES"><code>LIST_TYPES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LISTAMBIGUOUS"><code>LISTAMBIGUOUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LISTBEEP"><code>LISTBEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LISTPACKED"><code>LISTPACKED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LISTROWSFIRST"><code>LISTROWSFIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LISTTYPES"><code>LISTTYPES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCAL_005fLOOPS"><code>LOCAL_LOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCAL_005fOPTIONS"><code>LOCAL_OPTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCAL_005fPATTERNS"><code>LOCAL_PATTERNS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCAL_005fTRAPS"><code>LOCAL_TRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCALLOOPS"><code>LOCALLOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCALOPTIONS"><code>LOCALOPTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCALPATTERNS"><code>LOCALPATTERNS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOCALTRAPS"><code>LOCALTRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOG"><code>LOG</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOGIN"><code>LOGIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LOGIN_002c-use-of"><code>LOGIN, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LONG_005fLIST_005fJOBS"><code>LONG_LIST_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LONGLISTJOBS"><code>LONGLISTJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAGIC_005fEQUAL_005fSUBST"><code>MAGIC_EQUAL_SUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAGICEQUALSUBST"><code>MAGICEQUALSUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAIL_005fWARN"><code>MAIL_WARN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAIL_005fWARNING"><code>MAIL_WARNING</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAILWARN"><code>MAILWARN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MAILWARNING"><code>MAILWARNING</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MARK_005fDIRS"><code>MARK_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MARK_005fDIRS_002c-Zai-Mo-Shi-ZhongShe-Zhi-"><code>MARK_DIRS, 在模式中设置</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MARKDIRS"><code>MARKDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MENU_005fCOMPLETE"><code>MENU_COMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MENU_005fCOMPLETE_002c-use-of"><code>MENU_COMPLETE, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MENUCOMPLETE"><code>MENUCOMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MONITOR"><code>MONITOR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MONITOR_002c-use-of"><code>MONITOR, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MULTI_005fFUNC_005fDEF"><code>MULTI_FUNC_DEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MULTIBYTE"><code>MULTIBYTE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MULTIFUNCDEF"><code>MULTIFUNCDEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MULTIOS"><code>MULTIOS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-MULTIOS_002c-use-of"><code>MULTIOS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fALIAS_005fFUNC_005fDEF"><code>NO_ALIAS_FUNC_DEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fALIASES"><code>NO_ALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fALL_005fEXPORT"><code>NO_ALL_EXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fALWAYS_005fLAST_005fPROMPT"><code>NO_ALWAYS_LAST_PROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fALWAYS_005fTO_005fEND"><code>NO_ALWAYS_TO_END</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAPPEND_005fCREATE"><code>NO_APPEND_CREATE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAPPEND_005fHISTORY"><code>NO_APPEND_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fCD"><code>NO_AUTO_CD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fCONTINUE"><code>NO_AUTO_CONTINUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fLIST"><code>NO_AUTO_LIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fMENU"><code>NO_AUTO_MENU</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fNAME_005fDIRS"><code>NO_AUTO_NAME_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fPARAM_005fKEYS"><code>NO_AUTO_PARAM_KEYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fPARAM_005fSLASH"><code>NO_AUTO_PARAM_SLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fPUSHD"><code>NO_AUTO_PUSHD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fREMOVE_005fSLASH"><code>NO_AUTO_REMOVE_SLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fAUTO_005fRESUME"><code>NO_AUTO_RESUME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBAD_005fPATTERN"><code>NO_BAD_PATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBANG_005fHIST"><code>NO_BANG_HIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBARE_005fGLOB_005fQUAL"><code>NO_BARE_GLOB_QUAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBASH_005fAUTO_005fLIST"><code>NO_BASH_AUTO_LIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBASH_005fREMATCH"><code>NO_BASH_REMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBEEP"><code>NO_BEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBG_005fNICE"><code>NO_BG_NICE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBRACE_005fCCL"><code>NO_BRACE_CCL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBRACE_005fEXPAND"><code>NO_BRACE_EXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fBSD_005fECHO"><code>NO_BSD_ECHO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fC_005fBASES"><code>NO_C_BASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fC_005fPRECEDENCES"><code>NO_C_PRECEDENCES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCASE_005fGLOB"><code>NO_CASE_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCASE_005fMATCH"><code>NO_CASE_MATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCASE_005fMATCH-1"><code>NO_CASE_MATCH</code></a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCASE_005fPATHS"><code>NO_CASE_PATHS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCD_005fSILENT"><code>NO_CD_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCDABLE_005fVARS"><code>NO_CDABLE_VARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCHASE_005fDOTS"><code>NO_CHASE_DOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCHASE_005fLINKS"><code>NO_CHASE_LINKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCHECK_005fJOBS"><code>NO_CHECK_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCHECK_005fRUNNING_005fJOBS"><code>NO_CHECK_RUNNING_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCLOBBER"><code>NO_CLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCLOBBER_005fEMPTY"><code>NO_CLOBBER_EMPTY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCOMBINING_005fCHARS"><code>NO_COMBINING_CHARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCOMPLETE_005fALIASES"><code>NO_COMPLETE_ALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCOMPLETE_005fIN_005fWORD"><code>NO_COMPLETE_IN_WORD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCONTINUE_005fON_005fERROR"><code>NO_CONTINUE_ON_ERROR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCORRECT"><code>NO_CORRECT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCORRECT_005fALL"><code>NO_CORRECT_ALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCSH_005fJUNKIE_005fHISTORY"><code>NO_CSH_JUNKIE_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCSH_005fJUNKIE_005fLOOPS"><code>NO_CSH_JUNKIE_LOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCSH_005fJUNKIE_005fQUOTES"><code>NO_CSH_JUNKIE_QUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCSH_005fNULL_005fGLOB"><code>NO_CSH_NULL_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fCSH_005fNULLCMD"><code>NO_CSH_NULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fDEBUG_005fBEFORE_005fCMD"><code>NO_DEBUG_BEFORE_CMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fDOT_005fGLOB"><code>NO_DOT_GLOB</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fDVORAK"><code>NO_DVORAK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fEMACS"><code>NO_EMACS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fEQUALS"><code>NO_EQUALS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fERR_005fEXIT"><code>NO_ERR_EXIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fERR_005fRETURN"><code>NO_ERR_RETURN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fEVAL_005fLINENO"><code>NO_EVAL_LINENO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fEXEC"><code>NO_EXEC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fEXTENDED_005fGLOB"><code>NO_EXTENDED_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fEXTENDED_005fHISTORY"><code>NO_EXTENDED_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fFLOW_005fCONTROL"><code>NO_FLOW_CONTROL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fFORCE_005fFLOAT"><code>NO_FORCE_FLOAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fFUNCTION_005fARGZERO"><code>NO_FUNCTION_ARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOB"><code>NO_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOB_005fASSIGN"><code>NO_GLOB_ASSIGN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOB_005fCOMPLETE"><code>NO_GLOB_COMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOB_005fDOTS"><code>NO_GLOB_DOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOB_005fSTAR_005fSHORT"><code>NO_GLOB_STAR_SHORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOB_005fSUBST"><code>NO_GLOB_SUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOBAL_005fEXPORT"><code>NO_GLOBAL_EXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOBAL_005fRCS"><code>NO_GLOBAL_RCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fGLOBAL_005fRCS_002c-use-of"><code>NO_GLOBAL_RCS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHASH_005fALL"><code>NO_HASH_ALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHASH_005fCMDS"><code>NO_HASH_CMDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHASH_005fDIRS"><code>NO_HASH_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHASH_005fEXECUTABLES_005fONLY"><code>NO_HASH_EXECUTABLES_ONLY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHASH_005fLIST_005fALL"><code>NO_HASH_LIST_ALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fALLOW_005fCLOBBER"><code>NO_HIST_ALLOW_CLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fAPPEND"><code>NO_HIST_APPEND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fBEEP"><code>NO_HIST_BEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fEXPAND"><code>NO_HIST_EXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fEXPIRE_005fDUPS_005fFIRST"><code>NO_HIST_EXPIRE_DUPS_FIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fFCNTL_005fLOCK"><code>NO_HIST_FCNTL_LOCK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fFIND_005fNO_005fDUPS"><code>NO_HIST_FIND_NO_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fIGNORE_005fALL_005fDUPS"><code>NO_HIST_IGNORE_ALL_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fIGNORE_005fDUPS"><code>NO_HIST_IGNORE_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fIGNORE_005fSPACE"><code>NO_HIST_IGNORE_SPACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fLEX_005fWORDS"><code>NO_HIST_LEX_WORDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fNO_005fFUNCTIONS"><code>NO_HIST_NO_FUNCTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fNO_005fSTORE"><code>NO_HIST_NO_STORE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fREDUCE_005fBLANKS"><code>NO_HIST_REDUCE_BLANKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fSAVE_005fBY_005fCOPY"><code>NO_HIST_SAVE_BY_COPY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fSAVE_005fNO_005fDUPS"><code>NO_HIST_SAVE_NO_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fSUBST_005fPATTERN"><code>NO_HIST_SUBST_PATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHIST_005fVERIFY"><code>NO_HIST_VERIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fHUP"><code>NO_HUP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fIGNORE_005fBRACES"><code>NO_IGNORE_BRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fIGNORE_005fCLOSE_005fBRACES"><code>NO_IGNORE_CLOSE_BRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fIGNORE_005fEOF"><code>NO_IGNORE_EOF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fINC_005fAPPEND_005fHISTORY"><code>NO_INC_APPEND_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fINC_005fAPPEND_005fHISTORY_005fTIME"><code>NO_INC_APPEND_HISTORY_TIME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fINTERACTIVE"><code>NO_INTERACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fINTERACTIVE_005fCOMMENTS"><code>NO_INTERACTIVE_COMMENTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fKSH_005fARRAYS"><code>NO_KSH_ARRAYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fKSH_005fAUTOLOAD"><code>NO_KSH_AUTOLOAD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fKSH_005fGLOB"><code>NO_KSH_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fKSH_005fOPTION_005fPRINT"><code>NO_KSH_OPTION_PRINT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fKSH_005fTYPESET"><code>NO_KSH_TYPESET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fKSH_005fZERO_005fSUBSCRIPT"><code>NO_KSH_ZERO_SUBSCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLIST_005fAMBIGUOUS"><code>NO_LIST_AMBIGUOUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLIST_005fBEEP"><code>NO_LIST_BEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLIST_005fPACKED"><code>NO_LIST_PACKED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLIST_005fROWS_005fFIRST"><code>NO_LIST_ROWS_FIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLIST_005fTYPES"><code>NO_LIST_TYPES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLOCAL_005fLOOPS"><code>NO_LOCAL_LOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLOCAL_005fOPTIONS"><code>NO_LOCAL_OPTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLOCAL_005fPATTERNS"><code>NO_LOCAL_PATTERNS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLOCAL_005fTRAPS"><code>NO_LOCAL_TRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLOG"><code>NO_LOG</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLOGIN"><code>NO_LOGIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fLONG_005fLIST_005fJOBS"><code>NO_LONG_LIST_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMAGIC_005fEQUAL_005fSUBST"><code>NO_MAGIC_EQUAL_SUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMAIL_005fWARN"><code>NO_MAIL_WARN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMAIL_005fWARNING"><code>NO_MAIL_WARNING</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMARK_005fDIRS"><code>NO_MARK_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMENU_005fCOMPLETE"><code>NO_MENU_COMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMONITOR"><code>NO_MONITOR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMULTI_005fFUNC_005fDEF"><code>NO_MULTI_FUNC_DEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMULTIBYTE"><code>NO_MULTIBYTE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fMULTIOS"><code>NO_MULTIOS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fNOMATCH"><code>NO_NOMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fNOTIFY"><code>NO_NOTIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fNULL_005fGLOB"><code>NO_NULL_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fNUMERIC_005fGLOB_005fSORT"><code>NO_NUMERIC_GLOB_SORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fOCTAL_005fZEROES"><code>NO_OCTAL_ZEROES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fONE_005fCMD"><code>NO_ONE_CMD</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fOVERSTRIKE"><code>NO_OVERSTRIKE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPATH_005fDIRS"><code>NO_PATH_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPATH_005fSCRIPT"><code>NO_PATH_SCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPHYSICAL"><code>NO_PHYSICAL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPIPE_005fFAIL"><code>NO_PIPE_FAIL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fALIASES"><code>NO_POSIX_ALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fARGZERO"><code>NO_POSIX_ARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fBUILTINS"><code>NO_POSIX_BUILTINS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fCD"><code>NO_POSIX_CD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fIDENTIFIERS"><code>NO_POSIX_IDENTIFIERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fJOBS"><code>NO_POSIX_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fSTRINGS"><code>NO_POSIX_STRINGS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPOSIX_005fTRAPS"><code>NO_POSIX_TRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPRINT_005fEIGHT_005fBIT"><code>NO_PRINT_EIGHT_BIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPRINT_005fEXIT_005fVALUE"><code>NO_PRINT_EXIT_VALUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPRIVILEGED"><code>NO_PRIVILEGED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPROMPT_005fBANG"><code>NO_PROMPT_BANG</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPROMPT_005fCR"><code>NO_PROMPT_CR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPROMPT_005fPERCENT"><code>NO_PROMPT_PERCENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPROMPT_005fSP"><code>NO_PROMPT_SP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPROMPT_005fSUBST"><code>NO_PROMPT_SUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPROMPT_005fVARS"><code>NO_PROMPT_VARS</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPUSHD_005fIGNORE_005fDUPS"><code>NO_PUSHD_IGNORE_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPUSHD_005fMINUS"><code>NO_PUSHD_MINUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPUSHD_005fSILENT"><code>NO_PUSHD_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fPUSHD_005fTO_005fHOME"><code>NO_PUSHD_TO_HOME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRC_005fEXPAND_005fPARAM"><code>NO_RC_EXPAND_PARAM</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRC_005fQUOTES"><code>NO_RC_QUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRCS"><code>NO_RCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRCS_002c-use-of"><code>NO_RCS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fREC_005fEXACT"><code>NO_REC_EXACT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fREMATCH_005fPCRE"><code>NO_REMATCH_PCRE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRESTRICTED"><code>NO_RESTRICTED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRM_005fSTAR_005fSILENT"><code>NO_RM_STAR_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fRM_005fSTAR_005fWAIT"><code>NO_RM_STAR_WAIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSH_005fFILE_005fEXPANSION"><code>NO_SH_FILE_EXPANSION</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSH_005fGLOB"><code>NO_SH_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSH_005fNULLCMD"><code>NO_SH_NULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSH_005fOPTION_005fLETTERS"><code>NO_SH_OPTION_LETTERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSH_005fWORD_005fSPLIT"><code>NO_SH_WORD_SPLIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSHARE_005fHISTORY"><code>NO_SHARE_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSHIN_005fSTDIN"><code>NO_SHIN_STDIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSHORT_005fLOOPS"><code>NO_SHORT_LOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSHORT_005fREPEAT"><code>NO_SHORT_REPEAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSINGLE_005fCOMMAND"><code>NO_SINGLE_COMMAND</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSINGLE_005fLINE_005fZLE"><code>NO_SINGLE_LINE_ZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSOURCE_005fTRACE"><code>NO_SOURCE_TRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSTDIN"><code>NO_STDIN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fSUN_005fKEYBOARD_005fHACK"><code>NO_SUN_KEYBOARD_HACK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fTRACK_005fALL"><code>NO_TRACK_ALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fTRANSIENT_005fRPROMPT"><code>NO_TRANSIENT_RPROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fTRAPS_005fASYNC"><code>NO_TRAPS_ASYNC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fTYPESET_005fSILENT"><code>NO_TYPESET_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fTYPESET_005fTO_005fUNSET"><code>NO_TYPESET_TO_UNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fUNSET"><code>NO_UNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fVERBOSE"><code>NO_VERBOSE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fVI"><code>NO_VI</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fWARN_005fCREATE_005fGLOBAL"><code>NO_WARN_CREATE_GLOBAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fWARN_005fNESTED_005fVAR"><code>NO_WARN_NESTED_VAR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fWARNNESTEDVAR"><code>NO_WARNNESTEDVAR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fXTRACE"><code>NO_XTRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NO_005fZLE"><code>NO_ZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOALIASES"><code>NOALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOALIASFUNCDEF"><code>NOALIASFUNCDEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOALLEXPORT"><code>NOALLEXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOALWAYSLASTPROMPT"><code>NOALWAYSLASTPROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOALWAYSTOEND"><code>NOALWAYSTOEND</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAPPENDCREATE"><code>NOAPPENDCREATE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAPPENDHISTORY"><code>NOAPPENDHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOCD"><code>NOAUTOCD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOCONTINUE"><code>NOAUTOCONTINUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOLIST"><code>NOAUTOLIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOMENU"><code>NOAUTOMENU</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTONAMEDIRS"><code>NOAUTONAMEDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOPARAMKEYS"><code>NOAUTOPARAMKEYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOPARAMSLASH"><code>NOAUTOPARAMSLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOPUSHD"><code>NOAUTOPUSHD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTOREMOVESLASH"><code>NOAUTOREMOVESLASH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOAUTORESUME"><code>NOAUTORESUME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBADPATTERN"><code>NOBADPATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBANGHIST"><code>NOBANGHIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBAREGLOBQUAL"><code>NOBAREGLOBQUAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBASHAUTOLIST"><code>NOBASHAUTOLIST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBASHREMATCH"><code>NOBASHREMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBEEP"><code>NOBEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBGNICE"><code>NOBGNICE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBRACECCL"><code>NOBRACECCL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBRACEEXPAND"><code>NOBRACEEXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOBSDECHO"><code>NOBSDECHO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCASEGLOB"><code>NOCASEGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCASEMATCH"><code>NOCASEMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCASEPATHS"><code>NOCASEPATHS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCBASES"><code>NOCBASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCDABLEVARS"><code>NOCDABLEVARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCDSILENT"><code>NOCDSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCHASEDOTS"><code>NOCHASEDOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCHASELINKS"><code>NOCHASELINKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCHECKJOBS"><code>NOCHECKJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCHECKRUNNINGJOBS"><code>NOCHECKRUNNINGJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCLOBBER"><code>NOCLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCLOBBEREMPTY"><code>NOCLOBBEREMPTY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCOMBININGCHARS"><code>NOCOMBININGCHARS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCOMPLETEALIASES"><code>NOCOMPLETEALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCOMPLETEINWORD"><code>NOCOMPLETEINWORD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCONTINUEONERROR"><code>NOCONTINUEONERROR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCORRECT"><code>NOCORRECT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCORRECTALL"><code>NOCORRECTALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCPRECEDENCES"><code>NOCPRECEDENCES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCSHJUNKIEHISTORY"><code>NOCSHJUNKIEHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCSHJUNKIELOOPS"><code>NOCSHJUNKIELOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCSHJUNKIEQUOTES"><code>NOCSHJUNKIEQUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCSHNULLCMD"><code>NOCSHNULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOCSHNULLGLOB"><code>NOCSHNULLGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NODEBUGBEFORECMD"><code>NODEBUGBEFORECMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NODOTGLOB"><code>NODOTGLOB</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NODVORAK"><code>NODVORAK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOEMACS"><code>NOEMACS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOEQUALS"><code>NOEQUALS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOERREXIT"><code>NOERREXIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOERRRETURN"><code>NOERRRETURN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOEVALLINENO"><code>NOEVALLINENO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOEXEC"><code>NOEXEC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOEXTENDEDGLOB"><code>NOEXTENDEDGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOEXTENDEDHISTORY"><code>NOEXTENDEDHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOFLOWCONTROL"><code>NOFLOWCONTROL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOFORCEFLOAT"><code>NOFORCEFLOAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOFUNCTIONARGZERO"><code>NOFUNCTIONARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOB"><code>NOGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBALEXPORT"><code>NOGLOBALEXPORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBALRCS"><code>NOGLOBALRCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBASSIGN"><code>NOGLOBASSIGN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBCOMPLETE"><code>NOGLOBCOMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBDOTS"><code>NOGLOBDOTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBSTARSHORT"><code>NOGLOBSTARSHORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOGLOBSUBST"><code>NOGLOBSUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHASHALL"><code>NOHASHALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHASHCMDS"><code>NOHASHCMDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHASHDIRS"><code>NOHASHDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHASHEXECUTABLESONLY"><code>NOHASHEXECUTABLESONLY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHASHLISTALL"><code>NOHASHLISTALL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTALLOWCLOBBER"><code>NOHISTALLOWCLOBBER</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTAPPEND"><code>NOHISTAPPEND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTBEEP"><code>NOHISTBEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTEXPAND"><code>NOHISTEXPAND</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTEXPIREDUPSFIRST"><code>NOHISTEXPIREDUPSFIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTFCNTLLOCK"><code>NOHISTFCNTLLOCK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTFINDNODUPS"><code>NOHISTFINDNODUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTIGNOREALLDUPS"><code>NOHISTIGNOREALLDUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTIGNOREDUPS"><code>NOHISTIGNOREDUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTIGNORESPACE"><code>NOHISTIGNORESPACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTLEXWORDS"><code>NOHISTLEXWORDS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTNOFUNCTIONS"><code>NOHISTNOFUNCTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTNOSTORE"><code>NOHISTNOSTORE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTREDUCEBLANKS"><code>NOHISTREDUCEBLANKS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTSAVEBYCOPY"><code>NOHISTSAVEBYCOPY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTSAVENODUPS"><code>NOHISTSAVENODUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTSUBSTPATTERN"><code>NOHISTSUBSTPATTERN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHISTVERIFY"><code>NOHISTVERIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOHUP"><code>NOHUP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOIGNOREBRACES"><code>NOIGNOREBRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOIGNORECLOSEBRACES"><code>NOIGNORECLOSEBRACES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOIGNOREEOF"><code>NOIGNOREEOF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOINCAPPENDHISTORY"><code>NOINCAPPENDHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOINCAPPENDHISTORYTIME"><code>NOINCAPPENDHISTORYTIME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOINTERACTIVE"><code>NOINTERACTIVE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOINTERACTIVECOMMENTS"><code>NOINTERACTIVECOMMENTS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOKSHARRAYS"><code>NOKSHARRAYS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOKSHAUTOLOAD"><code>NOKSHAUTOLOAD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOKSHGLOB"><code>NOKSHGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOKSHOPTIONPRINT"><code>NOKSHOPTIONPRINT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOKSHTYPESET"><code>NOKSHTYPESET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOKSHZEROSUBSCRIPT"><code>NOKSHZEROSUBSCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLISTAMBIGUOUS"><code>NOLISTAMBIGUOUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLISTBEEP"><code>NOLISTBEEP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLISTPACKED"><code>NOLISTPACKED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLISTROWSFIRST"><code>NOLISTROWSFIRST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLISTTYPES"><code>NOLISTTYPES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLOCALLOOPS"><code>NOLOCALLOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLOCALOPTIONS"><code>NOLOCALOPTIONS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLOCALPATTERNS"><code>NOLOCALPATTERNS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLOCALTRAPS"><code>NOLOCALTRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLOG"><code>NOLOG</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLOGIN"><code>NOLOGIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOLONGLISTJOBS"><code>NOLONGLISTJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMAGICEQUALSUBST"><code>NOMAGICEQUALSUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMAILWARN"><code>NOMAILWARN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMAILWARNING"><code>NOMAILWARNING</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMARKDIRS"><code>NOMARKDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMATCH"><code>NOMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMATCH_002c-use-of"><code>NOMATCH, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMENUCOMPLETE"><code>NOMENUCOMPLETE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMONITOR"><code>NOMONITOR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMULTIBYTE"><code>NOMULTIBYTE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMULTIFUNCDEF"><code>NOMULTIFUNCDEF</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOMULTIOS"><code>NOMULTIOS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NONOMATCH"><code>NONOMATCH</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NONOTIFY"><code>NONOTIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NONULLGLOB"><code>NONULLGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NONUMERICGLOBSORT"><code>NONUMERICGLOBSORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOOCTALZEROES"><code>NOOCTALZEROES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOONECMD"><code>NOONECMD</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOOVERSTRIKE"><code>NOOVERSTRIKE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPATHDIRS"><code>NOPATHDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPATHSCRIPT"><code>NOPATHSCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPHYSICAL"><code>NOPHYSICAL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPIPEFAIL"><code>NOPIPEFAIL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXALIASES"><code>NOPOSIXALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXARGZERO"><code>NOPOSIXARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXBUILTINS"><code>NOPOSIXBUILTINS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXCD"><code>NOPOSIXCD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXIDENTIFIERS"><code>NOPOSIXIDENTIFIERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXJOBS"><code>NOPOSIXJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXSTRINGS"><code>NOPOSIXSTRINGS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPOSIXTRAPS"><code>NOPOSIXTRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPRINTEIGHTBIT"><code>NOPRINTEIGHTBIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPRINTEXITVALUE"><code>NOPRINTEXITVALUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPRIVILEGED"><code>NOPRIVILEGED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPROMPTBANG"><code>NOPROMPTBANG</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPROMPTCR"><code>NOPROMPTCR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPROMPTPERCENT"><code>NOPROMPTPERCENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPROMPTSP"><code>NOPROMPTSP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPROMPTSUBST"><code>NOPROMPTSUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPROMPTVARS"><code>NOPROMPTVARS</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPUSHDIGNOREDUPS"><code>NOPUSHDIGNOREDUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPUSHDMINUS"><code>NOPUSHDMINUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPUSHDSILENT"><code>NOPUSHDSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOPUSHDTOHOME"><code>NOPUSHDTOHOME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORCEXPANDPARAM"><code>NORCEXPANDPARAM</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORCQUOTES"><code>NORCQUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORCS"><code>NORCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORECEXACT"><code>NORECEXACT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOREMATCHPCRE"><code>NOREMATCHPCRE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORESTRICTED"><code>NORESTRICTED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORMSTARSILENT"><code>NORMSTARSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NORMSTARWAIT"><code>NORMSTARWAIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHAREHISTORY"><code>NOSHAREHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHFILEEXPANSION"><code>NOSHFILEEXPANSION</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHGLOB"><code>NOSHGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHINSTDIN"><code>NOSHINSTDIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHNULLCMD"><code>NOSHNULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHOPTIONLETTERS"><code>NOSHOPTIONLETTERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHORTLOOPS"><code>NOSHORTLOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHORTREPEAT"><code>NOSHORTREPEAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSHWORDSPLIT"><code>NOSHWORDSPLIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSINGLECOMMAND"><code>NOSINGLECOMMAND</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSINGLELINEZLE"><code>NOSINGLELINEZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSOURCETRACE"><code>NOSOURCETRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSTDIN"><code>NOSTDIN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOSUNKEYBOARDHACK"><code>NOSUNKEYBOARDHACK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTIFY"><code>NOTIFY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTIFY_002c-use-of"><code>NOTIFY, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTRACKALL"><code>NOTRACKALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTRANSIENTRPROMPT"><code>NOTRANSIENTRPROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTRAPSASYNC"><code>NOTRAPSASYNC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTYPESETSILENT"><code>NOTYPESETSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOTYPESETTOUNSET"><code>NOTYPESETTOUNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOUNSET"><code>NOUNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOVERBOSE"><code>NOVERBOSE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOVI"><code>NOVI</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOWARNCREATEGLOBAL"><code>NOWARNCREATEGLOBAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOXTRACE"><code>NOXTRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NOZLE"><code>NOZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULL_005fGLOB"><code>NULL_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULL_005fGLOB_002c-use-of"><code>NULL_GLOB, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULL_005fGLOB_002c-Zai-Mo-Shi-ZhongShe-Zhi-"><code>NULL_GLOB, 在模式中设置</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NULLGLOB"><code>NULLGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NUMERIC_005fGLOB_005fSORT"><code>NUMERIC_GLOB_SORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NUMERIC_005fGLOB_005fSORT_002c-Zai-Mo-Shi-ZhongShe-Zhi-"><code>NUMERIC_GLOB_SORT, 在模式中设置</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_751f_6210">文件名生成</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-NUMERICGLOBSORT"><code>NUMERICGLOBSORT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OCTAL_005fZEROES"><code>OCTAL_ZEROES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OCTAL_005fZEROES_002c-use-of"><code>OCTAL_ZEROES, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OCTALZEROES"><code>OCTALZEROES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ONE_005fCMD"><code>ONE_CMD</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ONECMD"><code>ONECMD</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-OVERSTRIKE"><code>OVERSTRIKE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PATH_005fDIRS"><code>PATH_DIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PATH_005fSCRIPT"><code>PATH_SCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PATHDIRS"><code>PATHDIRS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PATHSCRIPT"><code>PATHSCRIPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PHYSICAL"><code>PHYSICAL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PIPE_005fFAIL"><code>PIPE_FAIL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PIPEFAIL"><code>PIPEFAIL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fALIASES"><code>POSIX_ALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fARGZERO"><code>POSIX_ARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fBUILTINS"><code>POSIX_BUILTINS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fCD"><code>POSIX_CD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fIDENTIFIERS"><code>POSIX_IDENTIFIERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fJOBS"><code>POSIX_JOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fSTRINGS"><code>POSIX_STRINGS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIX_005fTRAPS"><code>POSIX_TRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXALIASES"><code>POSIXALIASES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXARGZERO"><code>POSIXARGZERO</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXBUILTINS"><code>POSIXBUILTINS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXCD"><code>POSIXCD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXIDENTIFIERS"><code>POSIXIDENTIFIERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXJOBS"><code>POSIXJOBS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXSTRINGS"><code>POSIXSTRINGS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-POSIXTRAPS"><code>POSIXTRAPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PRINT_005fEIGHT_005fBIT"><code>PRINT_EIGHT_BIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PRINT_005fEXIT_005fVALUE"><code>PRINT_EXIT_VALUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PRINTEIGHTBIT"><code>PRINTEIGHTBIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PRINTEXITVALUE"><code>PRINTEXITVALUE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PRIVILEGED"><code>PRIVILEGED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fBANG"><code>PROMPT_BANG</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fBANG_002c-use-of"><code>PROMPT_BANG, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fCR"><code>PROMPT_CR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fPERCENT"><code>PROMPT_PERCENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fPERCENT_002c-use-of"><code>PROMPT_PERCENT, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fSP"><code>PROMPT_SP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fSUBST"><code>PROMPT_SUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fSUBST_002c-use-of"><code>PROMPT_SUBST, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_63d0_793a_7b26_6269_5c55">提示符扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPT_005fVARS"><code>PROMPT_VARS</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPTBANG"><code>PROMPTBANG</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPTCR"><code>PROMPTCR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPTPERCENT"><code>PROMPTPERCENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPTSP"><code>PROMPTSP</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPTSUBST"><code>PROMPTSUBST</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PROMPTVARS"><code>PROMPTVARS</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fIGNORE_005fDUPS"><code>PUSHD_IGNORE_DUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fMINUS"><code>PUSHD_MINUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fMINUS_002c-use-of"><code>PUSHD_MINUS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6_540d_6269_5c55">文件名扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fMINUS_002c-use-of-1"><code>PUSHD_MINUS, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fMINUS_002c-use-of-2"><code>PUSHD_MINUS, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fSILENT"><code>PUSHD_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fSILENT_002c-use-of"><code>PUSHD_SILENT, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fTO_005fHOME"><code>PUSHD_TO_HOME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHD_005fTO_005fHOME_002c-use-of"><code>PUSHD_TO_HOME, use of</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHDIGNOREDUPS"><code>PUSHDIGNOREDUPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHDMINUS"><code>PUSHDMINUS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHDSILENT"><code>PUSHDSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PUSHDTOHOME"><code>PUSHDTOHOME</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RC_005fEXPAND_005fPARAM"><code>RC_EXPAND_PARAM</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RC_005fEXPAND_005fPARAM_002c-Qie-Huan-"><code>RC_EXPAND_PARAM, 切换</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RC_005fQUOTES"><code>RC_QUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RC_005fQUOTES_002c-use-of"><code>RC_QUOTES, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_5f15_7528">引用</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RCEXPANDPARAM"><code>RCEXPANDPARAM</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RCQUOTES"><code>RCQUOTES</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RCS"><code>RCS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RCS_002c-use-of"><code>RCS, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_4ef6">文件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REC_005fEXACT"><code>REC_EXACT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RECEXACT"><code>RECEXACT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REMATCH_005fPCRE"><code>REMATCH_PCRE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REMATCH_005fPCRE-1"><code>REMATCH_PCRE</code></a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-REMATCHPCRE"><code>REMATCHPCRE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RESTRICTED"><code>RESTRICTED</code></a></td><td class="printindex-index-section"><a href="#g_t_53d7_9650_7684-Shell">受限的 Shell</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RESTRICTED-1"><code>RESTRICTED</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RM_005fSTAR_005fSILENT"><code>RM_STAR_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RM_005fSTAR_005fWAIT"><code>RM_STAR_WAIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RMSTARSILENT"><code>RMSTARSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-RMSTARWAIT"><code>RMSTARWAIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fFILE_005fEXPANSION"><code>SH_FILE_EXPANSION</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fGLOB"><code>SH_GLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fNULLCMD"><code>SH_NULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fNULLCMD_002c-use-of"><code>SH_NULLCMD, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_91cd_5b9a_5411">重定向</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fOPTION_005fLETTERS"><code>SH_OPTION_LETTERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fWORD_005fSPLIT"><code>SH_WORD_SPLIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fWORD_005fSPLIT_002c-use-of"><code>SH_WORD_SPLIT, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SH_005fWORD_005fSPLIT_002c-Qie-Huan-"><code>SH_WORD_SPLIT, 切换</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570_6269_5c55">参数扩展</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHARE_005fHISTORY"><code>SHARE_HISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHAREHISTORY"><code>SHAREHISTORY</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHFILEEXPANSION"><code>SHFILEEXPANSION</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHGLOB"><code>SHGLOB</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHIN_005fSTDIN"><code>SHIN_STDIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHINSTDIN"><code>SHINSTDIN</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHNULLCMD"><code>SHNULLCMD</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHOPTIONLETTERS"><code>SHOPTIONLETTERS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHORT_005fLOOPS"><code>SHORT_LOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHORT_005fREPEAT"><code>SHORT_REPEAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHORTLOOPS"><code>SHORTLOOPS</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHORTREPEAT"><code>SHORTREPEAT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHWORDSPLIT"><code>SHWORDSPLIT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SINGLE_005fCOMMAND"><code>SINGLE_COMMAND</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SINGLE_005fLINE_005fZLE"><code>SINGLE_LINE_ZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SINGLE_005fLINE_005fZLE_002c-use-of"><code>SINGLE_LINE_ZLE, use of</code></a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SINGLECOMMAND"><code>SINGLECOMMAND</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SINGLELINEZLE"><code>SINGLELINEZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SOURCE_005fTRACE"><code>SOURCE_TRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SOURCETRACE"><code>SOURCETRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-STDIN"><code>STDIN</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SUN_005fKEYBOARD_005fHACK"><code>SUN_KEYBOARD_HACK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SUNKEYBOARDHACK"><code>SUNKEYBOARDHACK</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRACK_005fALL"><code>TRACK_ALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRACKALL"><code>TRACKALL</code></a></td><td class="printindex-index-section"><a href="#Option-_522b_540d">Option 别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRANSIENT_005fRPROMPT"><code>TRANSIENT_RPROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRANSIENTRPROMPT"><code>TRANSIENTRPROMPT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRAPS_005fASYNC"><code>TRAPS_ASYNC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRAPSASYNC"><code>TRAPSASYNC</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TYPESET_005fSILENT"><code>TYPESET_SILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TYPESET_005fTO_005fUNSET"><code>TYPESET_TO_UNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TYPESETSILENT"><code>TYPESETSILENT</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TYPESETTOUNSET"><code>TYPESETTOUNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-UNSET"><code>UNSET</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-VERBOSE"><code>VERBOSE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-VI"><code>VI</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WARN_005fCREATE_005fGLOBAL"><code>WARN_CREATE_GLOBAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WARN_005fNESTED_005fVAR"><code>WARN_NESTED_VAR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WARNCREATEGLOBAL"><code>WARNCREATEGLOBAL</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-WARNNESTEDVAR"><code>WARNNESTEDVAR</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-X">X</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-XTRACE"><code>XTRACE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_9009_9879_7d22_5f15_pg_letter-Z">Z</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE-1"><code>ZLE</code></a></td><td class="printindex-index-section"><a href="#g_t_9009_9879_8bf4_660e">选项说明</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ZLE_002c-use-of"><code>ZLE, use of</code></a></td><td class="printindex-index-section"><a href="#Zsh-_884c_7f16_8f91_5668">Zsh 行编辑器</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="pg-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-X"><b>X</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_9009_9879_7d22_5f15_pg_letter-Z"><b>Z</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="g_t_51fd_6570_7d22_5f15">
<h2 class="unnumbered" id="Han-Shu-Suo-Yin-"><span>函数索引<a class="copiable-link" href="#Han-Shu-Suo-Yin-"> &para;</a></span></h2>

<div class="printindex fn-printindex">
<table class="fn-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-1"><b>_</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-2"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-3"><b>:</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-4"><b>.</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-5"><b>[</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-函"><b>函</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-在"><b>在</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-天"><b>天</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-散"><b>散</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-算"><b>算</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-钩"><b>钩</b></a>
 &nbsp; 
</td></tr></table>
<table class="fn-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_symbol-1">_</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fabsolute_005fcommand_005fpaths"><code>_absolute_command_paths</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fall_005flabels"><code>_all_labels</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fall_005fmatches"><code>_all_matches</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005falternative"><code>_alternative</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fapproximate"><code>_approximate</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005farguments"><code>_arguments</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fbash_005fcompletions"><code>_bash_completions</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcache_005finvalid"><code>_cache_invalid</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcall_005ffunction"><code>_call_function</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcall_005fprogram"><code>_call_program</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcanonical_005fpaths"><code>_canonical_paths</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcdr"><code>_cdr</code></a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcmdambivalent"><code>_cmdambivalent</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcmdstring"><code>_cmdstring</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcombination"><code>_combination</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcommand_005fnames"><code>_command_names</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcomp_005flocale"><code>_comp_locale</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcomplete"><code>_complete</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcomplete_005fdebug-_0028_005eX_003f_0029"><code>_complete_debug (^X?)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcomplete_005fhelp-_0028_005eXh_0029"><code>_complete_help (^Xh)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcomplete_005fhelp_005fgeneric"><code>_complete_help_generic</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcomplete_005ftag-_0028_005eXt_0029"><code>_complete_tag (^Xt)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcompleters"><code>_completers</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcorrect"><code>_correct</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcorrect_005ffilename-_0028_005eXC_0029"><code>_correct_filename (^XC)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fcorrect_005fword-_0028_005eXc_0029"><code>_correct_word (^Xc)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fdefault"><code>_default</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fdescribe"><code>_describe</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fdescription"><code>_description</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fdir_005flist"><code>_dir_list</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fdispatch"><code>_dispatch</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005femail_005faddresses"><code>_email_addresses</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fexpand"><code>_expand</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fexpand_005falias"><code>_expand_alias</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fexpand_005falias-_0028_005eXa_0029"><code>_expand_alias (^Xa)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fexpand_005fword-_0028_005eXe_0029"><code>_expand_word (^Xe)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fextensions"><code>_extensions</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fexternal_005fpwds"><code>_external_pwds</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005ffiles"><code>_files</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fgeneric"><code>_generic</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fgnu_005fgeneric"><code>_gnu_generic</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fguard"><code>_guard</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fhistory"><code>_history</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fhistory_005fcomplete_005fword-_0028_005ce_002f_0029"><code>_history_complete_word (\e/)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fignored"><code>_ignored</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005flist"><code>_list</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fmatch"><code>_match</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fmenu"><code>_menu</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fmessage"><code>_message</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fmost_005frecent_005ffile-_0028_005eXm_0029"><code>_most_recent_file (^Xm)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fmulti_005fparts"><code>_multi_parts</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fnext_005flabel"><code>_next_label</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fnext_005ftags-_0028_005eXn_0029"><code>_next_tags (^Xn)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fnormal"><code>_normal</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fnumbers"><code>_numbers</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005foldlist"><code>_oldlist</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005foptions"><code>_options</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005foptions_005fset"><code>_options_set</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005foptions_005funset"><code>_options_unset</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fparameters"><code>_parameters</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fpath_005ffiles"><code>_path_files</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fpick_005fvariant"><code>_pick_variant</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fprecommand"><code>_precommand</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fprefix"><code>_prefix</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fread_005fcomp-_0028_005eX_005eR_0029"><code>_read_comp (^X^R)</code></a></td><td class="printindex-index-section"><a href="#g_t_53ef_7ed1_5b9a_547d_4ee4">可绑定命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fregex_005farguments"><code>_regex_arguments</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fregex_005fwords-_005b-_002dt-term-_005d"><code>_regex_words [ <code class="t">-t</code> <var class="var">term</var> ]</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005frequested"><code>_requested</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fretrieve_005fcache"><code>_retrieve_cache</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fsep_005fparts"><code>_sep_parts</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fsequence"><code>_sequence</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fsetup"><code>_setup</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fstore_005fcache"><code>_store_cache</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005ftags"><code>_tags</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005ftilde_005ffiles"><code>_tilde_files</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fuser_005fexpand"><code>_user_expand</code></a></td><td class="printindex-index-section"><a href="#g_t_63a7_5236_51fd_6570">控制函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fvalues"><code>_values</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fwanted"><code>_wanted</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005fwidgets"><code>_widgets</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_51fd_6570">补全函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_symbol-2">-</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d"><code>-</code></a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_symbol-3">:</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_003a"><code>:</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_symbol-4">.</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002e"><code>.</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_symbol-5">[</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_005b_005b"><code>[[</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-add_002dzle_002dhook_002dwidget"><code>add-zle-hook-widget</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-add_002dzsh_002dhook"><code>add-zsh-hook</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-after"><code>after</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-age"><code>age</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-alias"><code>alias</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-alias_002c-use-of"><code>alias, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_522b_540d">别名</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-always"><code>always</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-autoload"><code>autoload</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-autoload_002c-use-of"><code>autoload, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bashcompinit"><code>bashcompinit</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-before"><code>before</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bg"><code>bg</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bg_002c-use-of"><code>bg, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bindkey"><code>bindkey</code></a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bindkey_002c-use-of"><code>bindkey, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_952e_6620_5c04">键映射</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-break"><code>break</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-builtin"><code>builtin</code></a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-builtin-1"><code>builtin</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bye"><code>bye</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar"><code>calendar</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fadd"><code>calendar_add</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fedit"><code>calendar_edit</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005flockfiles"><code>calendar_lockfiles</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_5b9e_7528_51fd_6570">日历实用函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fparse"><code>calendar_parse</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fread"><code>calendar_read</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_5b9e_7528_51fd_6570">日历实用函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fscandate"><code>calendar_scandate</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_5b9e_7528_51fd_6570">日历实用函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fshow"><code>calendar_show</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_5b9e_7528_51fd_6570">日历实用函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fshowdate"><code>calendar_showdate</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_005fsort"><code>calendar_sort</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_7cfb_7edf_7528_6237_51fd_6570">日历系统用户函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cap"><code>cap</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-case"><code>case</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-catch"><code>catch</code></a></td><td class="printindex-index-section"><a href="#g_t_5f02_5e38_5904_7406">异常处理</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cd"><code>cd</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cdr"><code>cdr</code></a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chdir"><code>chdir</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chgrp"><code>chgrp</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chmod"><code>chmod</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chown"><code>chown</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chpwd"><code>chpwd</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chpwd_005frecent_005fadd"><code>chpwd_recent_add</code></a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chpwd_005frecent_005fdirs"><code>chpwd_recent_dirs</code></a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chpwd_005frecent_005ffilehandler"><code>chpwd_recent_filehandler</code></a></td><td class="printindex-index-section"><a href="#g_t_6700_65b0_76ee_5f55">最新目录</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-clone"><code>clone</code></a></td><td class="printindex-index-section"><a href="#zsh_002fclone-_6a21_5757">zsh/clone 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-colors"><code>colors</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command"><code>command</code></a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-1"><code>command</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command_005fnot_005ffound_005fhandler"><code>command_not_found_handler</code></a></td><td class="printindex-index-section"><a href="#g_t_547d_4ee4_6267_884c">命令执行</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compadd"><code>compadd</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5185_7f6e_547d_4ee4">补全内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-comparguments"><code>comparguments</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compaudit"><code>compaudit</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compctl"><code>compctl</code></a></td><td class="printindex-index-section"><a href="#g_t_7528-compctl-_8865_5168">用 compctl 补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compdef"><code>compdef</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compdescribe"><code>compdescribe</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compfiles"><code>compfiles</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compgroups"><code>compgroups</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compinit"><code>compinit</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compinstall"><code>compinstall</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compquote"><code>compquote</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compset"><code>compset</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_5185_7f6e_547d_4ee4">补全内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-comptags"><code>comptags</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-comptry"><code>comptry</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compvalues"><code>compvalues</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomputil-_6a21_5757">zsh/computil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-continue"><code>continue</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-coproc"><code>coproc</code></a></td><td class="printindex-index-section"><a href="#g_t_7b80_5355_547d_4ee4_548c_7ba1_9053">简单命令和管道</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cube"><code>cube</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-declare"><code>declare</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirs"><code>dirs</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable"><code>disable</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002c-use-of"><code>disable, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4fdd_7559_5b57">保留字</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disown"><code>disown</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disown_002c-use-of"><code>disown, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-echo"><code>echo</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-echotc"><code>echotc</code></a></td><td class="printindex-index-section"><a href="#zsh_002ftermcap-_6a21_5757">zsh/termcap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-echoti"><code>echoti</code></a></td><td class="printindex-index-section"><a href="#zsh_002fterminfo-_6a21_5757">zsh/terminfo 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-emulate"><code>emulate</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable"><code>enable</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-eval"><code>eval</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-example"><code>example</code></a></td><td class="printindex-index-section"><a href="#zsh_002fexample-_6a21_5757">zsh/example 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exec"><code>exec</code></a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exit"><code>exit</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export-1"><code>export</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-false"><code>false</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fc"><code>fc</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fc_002c-use-of"><code>fc, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6982_8ff0">概述</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fg"><code>fg</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fg_002c-use-of"><code>fg, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_4f5c_4e1a_548c_4fe1_53f7">作业和信号</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-float"><code>float</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-float_002c-use-of"><code>float, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fned"><code>fned</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-for"><code>for</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-foreach"><code>foreach</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4_7684_66ff_4ee3_5f62_5f0f">复杂命令的替代形式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-function"><code>function</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-functions_002c-use-of"><code>functions, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-getcap"><code>getcap</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-getln"><code>getln</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-getopts"><code>getopts</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-histed"><code>histed</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history-1"><code>history</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-if"><code>if</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-integer"><code>integer</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-integer_002c-use-of"><code>integer, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-is_002dat_002dleast"><code>is-at-least</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill"><code>kill</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-let"><code>let</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-let_002c-use-of"><code>let, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_7b97_672f_6c42_503c">算术求值</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-limit"><code>limit</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-local"><code>local</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log"><code>log</code></a></td><td class="printindex-index-section"><a href="#zsh_002fwatch-_6a21_5757">zsh/watch 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-logout"><code>logout</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max"><code>max</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_5b66_51fd_6570">数学函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-min"><code>min</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_5b66_51fd_6570">数学函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mkdir"><code>mkdir</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mv"><code>mv</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nocorrect"><code>nocorrect</code></a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-noglob"><code>noglob</code></a></td><td class="printindex-index-section"><a href="#g_t_524d_7f6e_547d_4ee4_4fee_9970_7b26">前置命令修饰符</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nslookup"><code>nslookup</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pcre_005fcompile"><code>pcre_compile</code></a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pcre_005fmatch"><code>pcre_match</code></a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pcre_005fstudy"><code>pcre_study</code></a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pcre_002dmatch"><code>pcre-match</code></a></td><td class="printindex-index-section"><a href="#zsh_002fpcre-_6a21_5757">zsh/pcre 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-periodic"><code>periodic</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pick_002dweb_002dbrowser"><code>pick-web-browser</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-popd"><code>popd</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-precmd"><code>precmd</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-preexec"><code>preexec</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-print"><code>print</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-printf"><code>printf</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-private"><code>private</code></a></td><td class="printindex-index-section"><a href="#zsh_002fparam_002fprivate-_6a21_5757">zsh/param/private 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pushd"><code>pushd</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pushln"><code>pushln</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pwd"><code>pwd</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-r"><code>r</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-read"><code>read</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regex_002dmatch"><code>regex-match</code></a></td><td class="printindex-index-section"><a href="#zsh_002fregex-_6a21_5757">zsh/regex 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regexp_002dreplace"><code>regexp-replace</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rehash"><code>rehash</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-repeat"><code>repeat</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reporter"><code>reporter</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-return"><code>return</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-return_002c-use-of"><code>return, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rm"><code>rm</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rmdir"><code>rmdir</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp"><code>run-help</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dbtrfs"><code>run-help-btrfs</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dgit"><code>run-help-git</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dip"><code>run-help-ip</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dopenssl"><code>run-help-openssl</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dp4"><code>run-help-p4</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dsudo"><code>run-help-sudo</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dsvk"><code>run-help-svk</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002dsvn"><code>run-help-svn</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp_002c-use-of"><code>run-help, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sched"><code>sched</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsched-_6a21_5757">zsh/sched 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select"><code>select</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set"><code>set</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002c-use-of"><code>set, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_7ec4_53c2_6570">数组参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-setcap"><code>setcap</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcap-_6a21_5757">zsh/cap 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-setopt"><code>setopt</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shift"><code>shift</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-source"><code>source</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-stat"><code>stat</code></a></td><td class="printindex-index-section"><a href="#zsh_002fstat-_6a21_5757">zsh/stat 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-strftime"><code>strftime</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdatetime-_6a21_5757">zsh/datetime 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sum"><code>sum</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_5b66_51fd_6570">数学函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-suspend"><code>suspend</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sync"><code>sync</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-syserror"><code>syserror</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sysopen"><code>sysopen</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sysread"><code>sysread</code></a></td><td class="printindex-index-section"><a href="#zsh_002fsystem-_6a21_5757">zsh/system 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005falias"><code>tcp_alias</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005faliases"><code>tcp_aliases</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fby_005ffd"><code>tcp_by_fd</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fby_005fname"><code>tcp_by_name</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fclose"><code>tcp_close</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fcommand"><code>tcp_command</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fexpect"><code>tcp_expect</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005ffd_005fhandler"><code>tcp_fd_handler</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005flog"><code>tcp_log</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TCP_005fLOG_005fSESS"><code>TCP_LOG_SESS</code></a></td><td class="printindex-index-section"><a href="#TCP-_53c2_6570">TCP 参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005falias"><code>tcp_on_alias</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005fawol"><code>tcp_on_awol</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005fclose"><code>tcp_on_close</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005fopen"><code>tcp_on_open</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005frename"><code>tcp_on_rename</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005fspam"><code>tcp_on_spam</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fon_005funalias"><code>tcp_on_unalias</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fopen"><code>tcp_open</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005foutput"><code>tcp_output</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fproxy"><code>tcp_proxy</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fread"><code>tcp_read</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005frename"><code>tcp_rename</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fsend"><code>tcp_send</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fsess"><code>tcp_sess</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fspam"><code>tcp_spam</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005ftalk"><code>tcp_talk</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tcp_005fwait"><code>tcp_wait</code></a></td><td class="printindex-index-section"><a href="#TCP-_51fd_6570">TCP 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-test"><code>test</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-throw"><code>throw</code></a></td><td class="printindex-index-section"><a href="#g_t_5f02_5e38_5904_7406">异常处理</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-time"><code>time</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-times"><code>times</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trap"><code>trap</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trap_002c-use-of"><code>trap, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRAPDEBUG"><code>TRAPDEBUG</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRAPERR"><code>TRAPERR</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRAPEXIT"><code>TRAPEXIT</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TRAPZERR"><code>TRAPZERR</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-true"><code>true</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ttyctl"><code>ttyctl</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-type"><code>type</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-typeset"><code>typeset</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-typeset_002c-use-of"><code>typeset, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_53c2_6570">参数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-typeset_002c-use-of-1"><code>typeset, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_7ec4_53c2_6570">数组参数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ulimit"><code>ulimit</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-umask-1"><code>umask</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unfunction"><code>unfunction</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unfunction_002c-use-of"><code>unfunction, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unhash"><code>unhash</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unlimit"><code>unlimit</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unset"><code>unset</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unsetopt"><code>unsetopt</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-until"><code>until</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vared"><code>vared</code></a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vcs_005finfo"><code>vcs_info</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-API">vcs_info API</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vcs_005finfo_005fhookadd"><code>vcs_info_hookadd</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-API">vcs_info API</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vcs_005finfo_005fhookdel"><code>vcs_info_hookdel</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-API">vcs_info API</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vcs_005finfo_005flastmsg"><code>vcs_info_lastmsg</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-API">vcs_info API</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vcs_005finfo_005fprintsys"><code>vcs_info_printsys</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-API">vcs_info API</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vcs_005finfo_005fsetsys"><code>vcs_info_setsys</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-API">vcs_info API</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-wait"><code>wait</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-whence"><code>whence</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-where"><code>where</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-which"><code>which</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-while"><code>while</code></a></td><td class="printindex-index-section"><a href="#g_t_590d_6742_547d_4ee4">复杂命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-Z">Z</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zargs"><code>zargs</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcalc"><code>zcalc</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_5b66_51fd_6570">数学函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcompile"><code>zcompile</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcompile_002c-use-of"><code>zcompile, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcp"><code>zcp</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcurses"><code>zcurses</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcurses-_6a21_5757">zsh/curses 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zdelattr"><code>zdelattr</code></a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zed"><code>zed</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zed_002dset_002dfile_002dname"><code>zed-set-file-name</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfanon"><code>zfanon</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfautocheck"><code>zfautocheck</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfcd"><code>zfcd</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfcd_005fmatch"><code>zfcd_match</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfcget"><code>zfcget</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfclose"><code>zfclose</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfcput"><code>zfcput</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfdir"><code>zfdir</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zffcache"><code>zffcache</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfgcp"><code>zfgcp</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfget"><code>zfget</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfget_005fmatch"><code>zfget_match</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfgoto"><code>zfgoto</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfhere"><code>zfhere</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfinit"><code>zfinit</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfls"><code>zfls</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfmark"><code>zfmark</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfopen"><code>zfopen</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zformat"><code>zformat</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfparams"><code>zfparams</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfpcp"><code>zfpcp</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfput"><code>zfput</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfrglob"><code>zfrglob</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfrtime"><code>zfrtime</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfsession"><code>zfsession</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfstat"><code>zfstat</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp"><code>zftp</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_005fchpwd_002c-Ti-Gong-De-Ban-Ben-"><code>zftp_chpwd, 提供的版本</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_005fchpwd_002c-Gui-Fan-"><code>zftp_chpwd, 规范</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_005fprogress_002c-Ti-Gong-De-Ban-Ben-"><code>zftp_progress, 提供的版本</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftp_005fprogress_002c-Gui-Fan-"><code>zftp_progress, 规范</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzftp-_6a21_5757">zsh/zftp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftransfer"><code>zftransfer</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zftype"><code>zftype</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfuget"><code>zfuget</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zfuput"><code>zfuput</code></a></td><td class="printindex-index-section"><a href="#Zftp-_51fd_6570">Zftp 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zgdbm_005ftied"><code>zgdbm_tied</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zgdbmpath"><code>zgdbmpath</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zgetattr"><code>zgetattr</code></a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zkbd"><code>zkbd</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle"><code>zle</code></a></td><td class="printindex-index-section"><a href="#Zle-_5185_7f6e_547d_4ee4">Zle 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zlistattr"><code>zlistattr</code></a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zln"><code>zln</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zmath_005fcube"><code>zmath_cube</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zmathfunc"><code>zmathfunc</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_5b66_51fd_6570">数学函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zmathfuncdef"><code>zmathfuncdef</code></a></td><td class="printindex-index-section"><a href="#g_t_6570_5b66_51fd_6570">数学函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zmodload"><code>zmodload</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zmv"><code>zmv</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zparseopts"><code>zparseopts</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zprof"><code>zprof</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzprof-_6a21_5757">zsh/zprof 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zpty"><code>zpty</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzpty-_6a21_5757">zsh/zpty 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zrecompile"><code>zrecompile</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_7528_7a0b_5e8f">实用程序</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zregexparse"><code>zregexparse</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zselect"><code>zselect</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzselect-_6a21_5757">zsh/zselect 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsetattr"><code>zsetattr</code></a></td><td class="printindex-index-section"><a href="#zsh_002fattr-_6a21_5757">zsh/attr 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_005fdirectory_005fname_005fgeneric"><code>zsh_directory_name_generic</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_76ee_5f55_51fd_6570">其它目录函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_002dmime_002dhandler"><code>zsh-mime-handler</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_002dmime_002dsetup"><code>zsh-mime-setup</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zshaddhistory"><code>zshaddhistory</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zshexit"><code>zshexit</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsocket"><code>zsocket</code></a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002fsocket-_6a21_5757">zsh/net/socket 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zstat"><code>zstat</code></a></td><td class="printindex-index-section"><a href="#zsh_002fstat-_6a21_5757">zsh/stat 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zstyle"><code>zstyle</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zstyle_002b"><code>zstyle+</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ztcp"><code>ztcp</code></a></td><td class="printindex-index-section"><a href="#zsh_002fnet_002ftcp-_6a21_5757">zsh/net/tcp 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ztie"><code>ztie</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zuntie"><code>zuntie</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdb_002fgdbm-_6a21_5757">zsh/db/gdbm 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-函">函</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu--1"><code>函数</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-use-of"><code>函数, use of</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Han-Shu-_002c-Gou-Zi-"><code>函数, 钩子</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-在">在</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zai-Xia-Mian-"><code>在下面</code></a></td><td class="printindex-index-section"><a href="#zsh_002ffiles-_6a21_5757">zsh/files 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-天">天</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Tian-Qi-_002c-ShiLiHan-Shu-"><code>天气, 示例函数</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-散">散</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-San-Lie-_0028hash_0029-1"><code>散列(hash)</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-算">算</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Suan-Zhu-Qiu-Zhi--2"><code>算术求值</code></a></td><td class="printindex-index-section"><a href="#Shell-_5185_7f6e_547d_4ee4">Shell 内置命令</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_51fd_6570_7d22_5f15_fn_letter-钩">钩</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Gou-Zi-Han-Shu-"><code>钩子函数</code></a></td><td class="printindex-index-section"><a href="#g_t_51fd_6570">函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="fn-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-1"><b>_</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-2"><b>-</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-3"><b>:</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-4"><b>.</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_symbol-5"><b>[</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-函"><b>函</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-在"><b>在</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-天"><b>天</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-散"><b>散</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-算"><b>算</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_51fd_6570_7d22_5f15_fn_letter-钩"><b>钩</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15">
<h2 class="unnumbered" id="Bian-Ji-Qi-Han-Shu-Suo-Yin-"><span>编辑器函数索引<a class="copiable-link" href="#Bian-Ji-Qi-Han-Shu-Suo-Yin-"> &para;</a></span></h2>

<div class="printindex tp-printindex">
<table class="tp-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Y"><b>Y</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Z"><b>Z</b></a>
 &nbsp; 
</td></tr></table>
<table class="tp-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dand_002dhold"><code>accept-and-hold</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dand_002dinfer_002dnext_002dhistory"><code>accept-and-infer-next-history</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dand_002dmenu_002dcomplete"><code>accept-and-menu-complete</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dline"><code>accept-line</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dline_002dand_002ddown_002dhistory"><code>accept-line-and-down-history</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-argument_002dbase"><code>argument-base</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_53c2">实参</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dsuffix_002dremove"><code>auto-suffix-remove</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dsuffix_002dretain"><code>auto-suffix-retain</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002dchar"><code>backward-char</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002ddelete_002dchar"><code>backward-delete-char</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002ddelete_002dword"><code>backward-delete-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002dkill_002dline"><code>backward-kill-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002dkill_002dword"><code>backward-kill-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002dkill_002dword_002dmatch"><code>backward-kill-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002dword"><code>backward-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-backward_002dword_002dmatch"><code>backward-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-beep"><code>beep</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-beginning_002dof_002dbuffer_002dor_002dhistory"><code>beginning-of-buffer-or-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-beginning_002dof_002dhistory"><code>beginning-of-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-beginning_002dof_002dline"><code>beginning-of-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-beginning_002dof_002dline_002dhist"><code>beginning-of-line-hist</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bracketed_002dpaste"><code>bracketed-paste</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bracketed_002dpaste_002dmagic"><code>bracketed-paste-magic</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-capitalize_002dword"><code>capitalize-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-capitalize_002dword_002dmatch"><code>capitalize-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-clear_002dscreen"><code>clear-screen</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-complete_002dword"><code>complete-word</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-copy_002dearlier_002dword"><code>copy-earlier-word</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-copy_002dprev_002dshell_002dword"><code>copy-prev-shell-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-copy_002dprev_002dword"><code>copy-prev-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-copy_002dregion_002das_002dkill"><code>copy-region-as-kill</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cycle_002dcompletion_002dpositions"><code>cycle-completion-positions</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-deactivate_002dregion"><code>deactivate-region</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dchar"><code>delete-char</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dchar_002dor_002dlist"><code>delete-char-or-list</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dto_002dchar"><code>delete-to-char</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdeltochar-_6a21_5757">zsh/deltochar 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dwhole_002dword_002dmatch"><code>delete-whole-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dwhole_002dword_002dmatch-1"><code>delete-whole-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dword"><code>delete-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-describe_002dkey_002dbriefly"><code>describe-key-briefly</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-digit_002dargument"><code>digit-argument</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_53c2">实参</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dcase_002dword"><code>down-case-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dcase_002dword_002dmatch"><code>down-case-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dhistory"><code>down-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dline"><code>down-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dline_002dor_002dbeginning_002dsearch"><code>down-line-or-beginning-search</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dline_002dor_002dhistory"><code>down-line-or-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-down_002dline_002dor_002dsearch"><code>down-line-or-search</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-edit_002dcommand_002dline"><code>edit-command-line</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-emacs_002dbackward_002dword"><code>emacs-backward-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-emacs_002dforward_002dword"><code>emacs-forward-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-end_002dof_002dbuffer_002dor_002dhistory"><code>end-of-buffer-or-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-end_002dof_002dhistory"><code>end-of-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-end_002dof_002dline"><code>end-of-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-end_002dof_002dline_002dhist"><code>end-of-line-hist</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-end_002dof_002dlist"><code>end-of-list</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exchange_002dpoint_002dand_002dmark"><code>exchange-point-and-mark</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-execute_002dlast_002dnamed_002dcmd"><code>execute-last-named-cmd</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-execute_002dnamed_002dcmd"><code>execute-named-cmd</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002dabsolute_002dpath"><code>expand-absolute-path</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002dcmd_002dpath"><code>expand-cmd-path</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002dhistory"><code>expand-history</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002dor_002dcomplete"><code>expand-or-complete</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002dor_002dcomplete_002dprefix"><code>expand-or-complete-prefix</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002dword"><code>expand-word</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-forward_002dchar"><code>forward-char</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-forward_002dword"><code>forward-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-forward_002dword_002dmatch"><code>forward-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-get_002dline"><code>get-line</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gosmacs_002dtranspose_002dchars"><code>gosmacs-transpose-chars</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dbeginning_002dsearch_002dbackward"><code>history-beginning-search-backward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dbeginning_002dsearch_002dbackward_002dend"><code>history-beginning-search-backward-end</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dbeginning_002dsearch_002dforward"><code>history-beginning-search-forward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dbeginning_002dsearch_002dforward_002dend"><code>history-beginning-search-forward-end</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dbeginning_002dsearch_002dmenu"><code>history-beginning-search-menu</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dincremental_002dpattern_002dsearch_002dbackward"><code>history-incremental-pattern-search-backward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dincremental_002dpattern_002dsearch_002dforward"><code>history-incremental-pattern-search-forward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dincremental_002dsearch_002dbackward"><code>history-incremental-search-backward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dincremental_002dsearch_002dforward"><code>history-incremental-search-forward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dpattern_002dsearch"><code>history-pattern-search</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dpattern_002dsearch_002dbackward"><code>history-pattern-search-backward</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dpattern_002dsearch_002dforward"><code>history-pattern-search-forward</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dsearch_002dbackward"><code>history-search-backward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dsearch_002dforward"><code>history-search-forward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-incarg"><code>incarg</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-incremental_002dcomplete_002dword"><code>incremental-complete-word</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-infer_002dnext_002dhistory"><code>infer-next-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dcomposed_002dchar"><code>insert-composed-char</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dfiles"><code>insert-files</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dlast_002dword"><code>insert-last-word</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dunicode_002dchar"><code>insert-unicode-char</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill_002dbuffer"><code>kill-buffer</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill_002dline"><code>kill-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill_002dregion"><code>kill-region</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill_002dwhole_002dline"><code>kill-whole-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill_002dword"><code>kill-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill_002dword_002dmatch"><code>kill-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dchoices"><code>list-choices</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dexpand"><code>list-expand</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-magic_002dspace"><code>magic-space</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-match_002dword_002dcontext"><code>match-word-context</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-match_002dwords_002dby_002dstyle"><code>match-words-by-style</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-menu_002dcomplete"><code>menu-complete</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-menu_002dexpand_002dor_002dcomplete"><code>menu-expand-or-complete</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-menu_002dselect"><code>menu-select</code></a></td><td class="printindex-index-section"><a href="#zsh_002fcomplist-_6a21_5757">zsh/complist 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-modify_002dcurrent_002dargument"><code>modify-current-argument</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-narrow_002dto_002dregion"><code>narrow-to-region</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-narrow_002dto_002dregion_002dinvisible"><code>narrow-to-region-invisible</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-neg_002dargument"><code>neg-argument</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_53c2">实参</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-overwrite_002dmode"><code>overwrite-mode</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pound_002dinsert"><code>pound-insert</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-predict_002doff"><code>predict-off</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-predict_002don"><code>predict-on</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-push_002dinput"><code>push-input</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-push_002dline"><code>push-line</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-push_002dline_002dor_002dedit"><code>push-line-or-edit</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-put_002dreplace_002dselection"><code>put-replace-selection</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quote_002dline"><code>quote-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quote_002dregion"><code>quote-region</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quoted_002dinsert"><code>quoted-insert</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-read_002dcommand"><code>read-command</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-read_002dfrom_002dminibuffer"><code>read-from-minibuffer</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recursive_002dedit"><code>recursive-edit</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-redisplay"><code>redisplay</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-redo"><code>redo</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-replace_002dargument"><code>replace-argument</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-replace_002dargument_002dedit"><code>replace-argument-edit</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-replace_002dpattern"><code>replace-pattern</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-replace_002dstring"><code>replace-string</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-replace_002dstring_002dagain"><code>replace-string-again</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reset_002dprompt"><code>reset-prompt</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reverse_002dmenu_002dcomplete"><code>reverse-menu-complete</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168">补全</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run_002dhelp-1"><code>run-help</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002da_002dblank_002dword"><code>select-a-blank-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002da_002dshell_002dword"><code>select-a-shell-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002da_002dword"><code>select-a-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002din_002dblank_002dword"><code>select-in-blank-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002din_002dshell_002dword"><code>select-in-shell-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002din_002dword"><code>select-in-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6587_672c_5bf9_8c61">文本对象</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002dword_002dmatch"><code>select-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002dword_002dstyle"><code>select-word-style</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-self_002dinsert"><code>self-insert</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-self_002dinsert_002dunmeta"><code>self-insert-unmeta</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-send_002dbreak"><code>send-break</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-send_002dinvisible"><code>send-invisible</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dlocal_002dhistory"><code>set-local-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dmark_002dcommand"><code>set-mark-command</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-smart_002dinsert_002dlast_002dword"><code>smart-insert-last-word</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-spell_002dword"><code>spell-word</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-split_002dshell_002darguments"><code>split-shell-arguments</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-split_002dundo"><code>split-undo</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-transpose_002dchars"><code>transpose-chars</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-transpose_002dlines"><code>transpose-lines</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-transpose_002dwords"><code>transpose-words</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-transpose_002dwords_002dmatch"><code>transpose-words-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-undefined_002dkey"><code>undefined-key</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-undo"><code>undo</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-universal_002dargument"><code>universal-argument</code></a></td><td class="printindex-index-section"><a href="#g_t_5b9e_53c2">实参</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dcase_002dword"><code>up-case-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dcase_002dword_002dmatch"><code>up-case-word-match</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dhistory"><code>up-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dline"><code>up-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dline_002dor_002dbeginning_002dsearch"><code>up-line-or-beginning-search</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dline_002dor_002dhistory"><code>up-line-or-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-up_002dline_002dor_002dsearch"><code>up-line-or-search</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-url_002dquote_002dmagic"><code>url-quote-magic</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dadd_002deol"><code>vi-add-eol</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dadd_002dnext"><code>vi-add-next</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002dblank_002dword"><code>vi-backward-blank-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002dblank_002dword_002dend"><code>vi-backward-blank-word-end</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002dchar"><code>vi-backward-char</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002ddelete_002dchar"><code>vi-backward-delete-char</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002dkill_002dword"><code>vi-backward-kill-word</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002dword"><code>vi-backward-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbackward_002dword_002dend"><code>vi-backward-word-end</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dbeginning_002dof_002dline"><code>vi-beginning-of-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dcaps_002dlock_002dpanic"><code>vi-caps-lock-panic</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dchange"><code>vi-change</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dchange_002deol"><code>vi-change-eol</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dchange_002dwhole_002dline"><code>vi-change-whole-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dcmd_002dmode"><code>vi-cmd-mode</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002ddelete"><code>vi-delete</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002ddelete_002dchar"><code>vi-delete-char</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002ddigit_002dor_002dbeginning_002dof_002dline"><code>vi-digit-or-beginning-of-line</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002ddown_002dcase"><code>vi-down-case</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002ddown_002dline_002dor_002dhistory"><code>vi-down-line-or-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dend_002dof_002dline"><code>vi-end-of-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dfetch_002dhistory"><code>vi-fetch-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dfind_002dnext_002dchar"><code>vi-find-next-char</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dfind_002dnext_002dchar_002dskip"><code>vi-find-next-char-skip</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dfind_002dprev_002dchar"><code>vi-find-prev-char</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dfind_002dprev_002dchar_002dskip"><code>vi-find-prev-char-skip</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dfirst_002dnon_002dblank"><code>vi-first-non-blank</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dforward_002dblank_002dword"><code>vi-forward-blank-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dforward_002dblank_002dword_002dend"><code>vi-forward-blank-word-end</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dforward_002dchar"><code>vi-forward-char</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dforward_002dword"><code>vi-forward-word</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dforward_002dword_002dend"><code>vi-forward-word-end</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dgoto_002dcolumn"><code>vi-goto-column</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dgoto_002dmark"><code>vi-goto-mark</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dgoto_002dmark_002dline"><code>vi-goto-mark-line</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dhistory_002dsearch_002dbackward"><code>vi-history-search-backward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dhistory_002dsearch_002dforward"><code>vi-history-search-forward</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dindent"><code>vi-indent</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dinsert"><code>vi-insert</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dinsert_002dbol"><code>vi-insert-bol</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002djoin"><code>vi-join</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dkill_002deol"><code>vi-kill-eol</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dkill_002dline"><code>vi-kill-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dmatch_002dbracket"><code>vi-match-bracket</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dopen_002dline_002dabove"><code>vi-open-line-above</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dopen_002dline_002dbelow"><code>vi-open-line-below</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002doper_002dswap_002dcase"><code>vi-oper-swap-case</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dpipe"><code>vi-pipe</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dpound_002dinsert"><code>vi-pound-insert</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dput_002dafter"><code>vi-put-after</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dput_002dbefore"><code>vi-put-before</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dquoted_002dinsert"><code>vi-quoted-insert</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002drepeat_002dchange"><code>vi-repeat-change</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002drepeat_002dfind"><code>vi-repeat-find</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002drepeat_002dsearch"><code>vi-repeat-search</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dreplace"><code>vi-replace</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dreplace_002dchars"><code>vi-replace-chars</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002drev_002drepeat_002dfind"><code>vi-rev-repeat-find</code></a></td><td class="printindex-index-section"><a href="#g_t_79fb_52a8">移动</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002drev_002drepeat_002dsearch"><code>vi-rev-repeat-search</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dset_002dbuffer"><code>vi-set-buffer</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dset_002dmark"><code>vi-set-mark</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dsubstitute"><code>vi-substitute</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dswap_002dcase"><code>vi-swap-case</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dundo_002dchange"><code>vi-undo-change</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dunindent"><code>vi-unindent</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dup_002dcase"><code>vi-up-case</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dup_002dline_002dor_002dhistory"><code>vi-up-line-or-history</code></a></td><td class="printindex-index-section"><a href="#g_t_5386_53f2_63a7_5236">历史控制</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dyank"><code>vi-yank</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dyank_002deol"><code>vi-yank-eol</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-vi_002dyank_002dwhole_002dline"><code>vi-yank-whole-line</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-visual_002dline_002dmode"><code>visual-line-mode</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-visual_002dmode"><code>visual-mode</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-what_002dcursor_002dposition"><code>what-cursor-position</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-where_002dis"><code>where-is</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-which_002dcommand"><code>which-command</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879">杂项</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-which_002dcommand-1"><code>which-command</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Y">Y</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-yank"><code>yank</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-yank_002dpop"><code>yank-pop</code></a></td><td class="printindex-index-section"><a href="#g_t_4fee_6539_6587_672c">修改文本</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Z">Z</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zap_002dto_002dchar"><code>zap-to-char</code></a></td><td class="printindex-index-section"><a href="#zsh_002fdeltochar-_6a21_5757">zsh/deltochar 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zcalc_002dauto_002dinsert"><code>zcalc-auto-insert</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002dhistory_002dline_002dset"><code>zle-history-line-set</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002disearch_002dexit"><code>zle-isearch-exit</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002disearch_002dupdate"><code>zle-isearch-update</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002dkeymap_002dselect"><code>zle-keymap-select</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002dline_002dfinish"><code>zle-line-finish</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002dline_002dinit"><code>zle-line-init</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zle_002dline_002dpre_002dredraw"><code>zle-line-pre-redraw</code></a></td><td class="printindex-index-section"><a href="#g_t_7528_6237_5b9a_4e49_5c0f_90e8_4ef6">用户定义小部件</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="tp-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Y"><b>Y</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_7f16_8f91_5668_51fd_6570_7d22_5f15_tp_letter-Z"><b>Z</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15">
<h2 class="unnumbered" id="Yang-Shi-He-Biao-Qian-Suo-Yin-"><span>样式和标签索引<a class="copiable-link" href="#Yang-Shi-He-Biao-Qian-Suo-Yin-"> &para;</a></span></h2>

<div class="printindex ky-printindex">
<table class="ky-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_symbol-1"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-会"><b>会</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-信"><b>信</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-修"><b>修</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-匹"><b>匹</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-后"><b>后</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-字"><b>字</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-帐"><b>帐</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-时"><b>时</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-显"><b>显</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-替"><b>替</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-标"><b>标</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-样"><b>样</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-目"><b>目</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-类"><b>类</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-设"><b>设</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-说"><b>说</b></a>
 &nbsp; 
</td></tr></table>
<table class="ky-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_symbol-1">-</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002darray_002dvalue_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-array-value-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dassign_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-assign-parameter-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dbrace_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-brace-parameter-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dcommand_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-command-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dcondition_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-condition-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002ddefault_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-default-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dequal_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-equal-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dfirst_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-first-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dmath_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-math-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dparameter_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-parameter-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dredirect_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-redirect-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dsubscript_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-subscript-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dtilde_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-tilde-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002dvalue_002d_002c-Bu-Quan-Shang-Xia-Wen"><code>-value-, 补全上下文</code></a></td><td class="printindex-index-section"><a href="#g_t_521d_59cb_5316">初始化</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dexact_002ddirs_002c-Bu-Quan-Yang-Shi-"><code>accept-exact-dirs, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-accept_002dexact_002c-Bu-Quan-Yang-Shi-"><code>accept-exact, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-actionformats"><code>actionformats</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-add_002dspace_002c-Bu-Quan-Yang-Shi-"><code>add-space, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-all_002dexpansions_002c-Bu-Quan-Biao-Ji-"><code>all-expansions, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-all_002dfiles_002c-Bu-Quan-Biao-Ji-"><code>all-files, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ambiguous_002c-Bu-Quan-Yang-Shi-"><code>ambiguous, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-arguments_002c-Bu-Quan-Biao-Ji-"><code>arguments, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-arrays_002c-Bu-Quan-Biao-Ji-"><code>arrays, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assign_002dlist_002c-Bu-Quan-Yang-Shi-"><code>assign-list, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-association_002dkeys_002c-Bu-Quan-Biao-Ji-"><code>association-keys, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002ddescription_002c-Bu-Quan-Yang-Shi-"><code>auto-description, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-avoid_002dcompleter_002c-Bu-Quan-Yang-Shi-"><code>avoid-completer, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bookmarks_002c-Bu-Quan-Biao-Ji-"><code>bookmarks, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-branchformat"><code>branchformat</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-break_002dkeys_002c-Xiao-Bu-Jian-Yang-Shi-"><code>break-keys, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-builtins_002c-Bu-Quan-Biao-Ji-"><code>builtins, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cache_002dpath_002c-Bu-Quan-Yang-Shi-"><code>cache-path, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cache_002dpolicy_002c-Bu-Quan-Yang-Shi-"><code>cache-policy, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-calendar_002dfile"><code>calendar-file</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_6837_5f0f">日历样式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-call_002dcommand_002c-Bu-Quan-Yang-Shi-"><code>call-command, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-characters_002c-Bu-Quan-Biao-Ji-"><code>characters, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dfor_002dchanges"><code>check-for-changes</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dfor_002dstaged_002dchanges"><code>check-for-staged-changes</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chpwd_002c-zftp-Yang-Shi-"><code>chpwd, zftp 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-colormapids_002c-Bu-Quan-Biao-Ji-"><code>colormapids, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-colors_002c-Bu-Quan-Biao-Ji-"><code>colors, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-2"><code>command</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command_002dpath_002c-Bu-Quan-Yang-Shi-"><code>command-path, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command_002c-Bu-Quan-Yang-Shi-"><code>command, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-commands_002c-Bu-Quan-Biao-Ji-"><code>commands, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-commands_002c-Bu-Quan-Yang-Shi-"><code>commands, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-complete_002doptions_002c-Bu-Quan-Yang-Shi-"><code>complete-options, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-complete_002c-Bu-Quan-Yang-Shi-"><code>complete, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-completer_002c-Bu-Quan-Yang-Shi-"><code>completer, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-completer_002c-Bu-Quan-Yang-Shi--1"><code>completer, 补全样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-condition_002c-Bu-Quan-Yang-Shi-"><code>condition, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-contexts_002c-Bu-Quan-Biao-Ji-"><code>contexts, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-corrections_002c-Bu-Quan-Biao-Ji-"><code>corrections, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-current_002dshell_002c-MIME-style"><code>current-shell, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cursor_002c-Bu-Quan-Yang-Shi-"><code>cursor, 补全样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cursors_002c-Bu-Quan-Biao-Ji-"><code>cursors, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-date_002dformat"><code>date-format</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_6837_5f0f">日历样式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug"><code>debug</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002c-Bu-Quan-Biao-Ji-"><code>default, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delimiters_002c-Bu-Quan-Yang-Shi-"><code>delimiters, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable-1"><code>disable</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dpatterns"><code>disable-patterns</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disabled_002c-Bu-Quan-Yang-Shi-"><code>disabled, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disown_002c-MIME-style"><code>disown, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-domains_002c-Bu-Quan-Biao-Ji-"><code>domains, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-domains_002c-Bu-Quan-Yang-Shi-"><code>domains, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-done_002dfile"><code>done-file</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_6837_5f0f">日历样式</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-email_002d_002a_002c-Bu-Quan-Biao-Ji-"><code>email-*, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable-1"><code>enable</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-environ_002c-Bu-Quan-Yang-Shi-"><code>environ, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-execute_002das_002dis_002c-MIME-style"><code>execute-as-is, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-execute_002dnever_002c-MIME-style"><code>execute-never, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expand_002c-Bu-Quan-Yang-Shi-"><code>expand, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expansions_002c-Bu-Quan-Biao-Ji-"><code>expansions, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-extensions_002c-Bu-Quan-Biao-Ji-"><code>extensions, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-extra_002dverbose_002c-Bu-Quan-Yang-Shi-"><code>extra-verbose, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fake_002dalways_002c-Bu-Quan-Yang-Shi-"><code>fake-always, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fake_002dfiles_002c-Bu-Quan-Yang-Shi-"><code>fake-files, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fake_002dparameters_002c-Bu-Quan-Yang-Shi-"><code>fake-parameters, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fake_002c-Bu-Quan-Yang-Shi-"><code>fake, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file_002ddescriptors_002c-Bu-Quan-Biao-Ji-"><code>file-descriptors, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file_002dlist_002c-Bu-Quan-Yang-Shi-"><code>file-list, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file_002dpath_002c-MIME-style"><code>file-path, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file_002dpatterns_002c-Bu-Quan-Yang-Shi-"><code>file-patterns, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file_002dsort_002c-Bu-Quan-Yang-Shi-"><code>file-sort, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-file_002dsplit_002dchars_002c-Bu-Quan-Yang-Shi-"><code>file-split-chars, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-files_002c-Bu-Quan-Biao-Ji-"><code>files, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-filter_002c-Bu-Quan-Yang-Shi-"><code>filter, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-find_002dfile_002din_002dpath_002c-MIME-style"><code>find-file-in-path, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-flags_002c-MIME-style"><code>flags, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fonts_002c-Bu-Quan-Biao-Ji-"><code>fonts, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002dlist_002c-Bu-Quan-Yang-Shi-"><code>force-list, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-format_002c-Bu-Quan-Yang-Shi-"><code>format, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-formats"><code>formats</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fstypes_002c-Bu-Quan-Biao-Ji-"><code>fstypes, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-functions_002c-Bu-Quan-Biao-Ji-"><code>functions, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gain_002dprivileges_002c-Bu-Quan-Yang-Shi-"><code>gain-privileges, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-get_002dbookmarks"><code>get-bookmarks</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-get_002dmq"><code>get-mq</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-get_002drevision"><code>get-revision</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-get_002dunapplied"><code>get-unapplied</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-glob_002c-Bu-Quan-Yang-Shi-"><code>glob, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-global_002c-Bu-Quan-Yang-Shi-"><code>global, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-globbed_002dfiles_002c-Bu-Quan-Biao-Ji-"><code>globbed-files, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-group_002dname_002c-Bu-Quan-Yang-Shi-"><code>group-name, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-group_002dorder_002c-Bu-Quan-Yang-Shi-"><code>group-order, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-groups_002c-Bu-Quan-Biao-Ji-"><code>groups, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-groups_002c-Bu-Quan-Yang-Shi-"><code>groups, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-handle_002dnonexistent_002c-MIME-style"><code>handle-nonexistent, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-handler_002c-MIME-style"><code>handler, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hgrevformat"><code>hgrevformat</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hidden_002c-Bu-Quan-Yang-Shi-"><code>hidden, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-history_002dwords_002c-Bu-Quan-Biao-Ji-"><code>history-words, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hooks"><code>hooks</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hosts_002dports_002c-Bu-Quan-Yang-Shi-"><code>hosts-ports, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hosts_002c-Bu-Quan-Biao-Ji-"><code>hosts, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hosts_002c-Bu-Quan-Yang-Shi-"><code>hosts, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dline_002c-Bu-Quan-Yang-Shi-"><code>ignore-line, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dparents_002c-Bu-Quan-Yang-Shi-"><code>ignore-parents, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignored_002dpatterns_002c-Bu-Quan-Yang-Shi-"><code>ignored-patterns, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-indexes_002c-Bu-Quan-Biao-Ji-"><code>indexes, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dids_002c-Bu-Quan-Yang-Shi-"><code>insert-ids, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dsections_002c-Bu-Quan-Yang-Shi-"><code>insert-sections, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dtab_002c-Bu-Quan-Yang-Shi-"><code>insert-tab, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dtab_002c-Bu-Quan-Yang-Shi--1"><code>insert-tab, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002dunambiguous_002c-Bu-Quan-Yang-Shi-"><code>insert-unambiguous, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-insert_002c-Bu-Quan-Yang-Shi-"><code>insert, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-interfaces_002c-Bu-Quan-Biao-Ji-"><code>interfaces, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-J">J</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-jobs_002c-Bu-Quan-Biao-Ji-"><code>jobs, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keep_002dprefix_002c-Bu-Quan-Yang-Shi-"><code>keep-prefix, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keymaps_002c-Bu-Quan-Biao-Ji-"><code>keymaps, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keysyms_002c-Bu-Quan-Biao-Ji-"><code>keysyms, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-known_002dhosts_002dfiles"><code>known-hosts-files</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-last_002dprompt_002c-Bu-Quan-Yang-Shi-"><code>last-prompt, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-libraries_002c-Bu-Quan-Biao-Ji-"><code>libraries, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-limits_002c-Bu-Quan-Biao-Ji-"><code>limits, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dcolors_002c-Bu-Quan-Yang-Shi-"><code>list-colors, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002ddirs_002dfirst_002c-Bu-Quan-Yang-Shi-"><code>list-dirs-first, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dgrouped_002c-Bu-Quan-Yang-Shi-"><code>list-grouped, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dpacked_002c-Bu-Quan-Yang-Shi-"><code>list-packed, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dprompt_002c-Bu-Quan-Yang-Shi-"><code>list-prompt, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002drows_002dfirst_002c-Bu-Quan-Yang-Shi-"><code>list-rows-first, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dseparator_002c-Bu-Quan-Yang-Shi-"><code>list-separator, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dsuffixes_002c-Bu-Quan-Yang-Shi-"><code>list-suffixes, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002c-Xiao-Bu-Jian-Yang-Shi-"><code>list, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002c-Bu-Quan-Yang-Shi-"><code>list, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-local_002ddirectories_002c-Bu-Quan-Biao-Ji-"><code>local-directories, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-local_002c-Bu-Quan-Yang-Shi-"><code>local, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mail_002ddirectory_002c-Bu-Quan-Yang-Shi-"><code>mail-directory, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mailboxes_002c-Bu-Quan-Biao-Ji-"><code>mailboxes, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mailcap_002dprio_002dflags_002c-MIME-style"><code>mailcap-prio-flags, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mailcap_002dpriorities_002c-MIME-style"><code>mailcap-priorities, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mailcap_002c-MIME-style"><code>mailcap, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-manuals_002c-Bu-Quan-Biao-Ji-"><code>manuals, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-maps_002c-Bu-Quan-Biao-Ji-"><code>maps, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-match_002doriginal_002c-Bu-Quan-Yang-Shi-"><code>match-original, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-match_002c-Xiao-Bu-Jian-Yang-Shi-"><code>match, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-matcher_002dlist_002c-Bu-Quan-Yang-Shi-"><code>matcher-list, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002derrors_002c-Bu-Quan-Yang-Shi-"><code>max-errors, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dexports"><code>max-exports</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dmatches_002dwidth_002c-Bu-Quan-Yang-Shi-"><code>max-matches-width, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-menu_002c-Bu-Quan-Yang-Shi-"><code>menu, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-messages_002c-Bu-Quan-Biao-Ji-"><code>messages, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mime_002dtypes_002c-MIME-style"><code>mime-types, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-modules_002c-Bu-Quan-Biao-Ji-"><code>modules, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-muttrc_002c-Bu-Quan-Yang-Shi-"><code>muttrc, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-my_002daccounts_002c-Bu-Quan-Biao-Ji-"><code>my-accounts, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-named_002ddirectories_002c-Bu-Quan-Biao-Ji-"><code>named-directories, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-names_002c-Bu-Quan-Biao-Ji-"><code>names, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-never_002dbackground_002c-MIME-style"><code>never-background, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-newsgroups_002c-Bu-Quan-Biao-Ji-"><code>newsgroups, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nicknames_002c-Bu-Quan-Biao-Ji-"><code>nicknames, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nopatch_002dformat"><code>nopatch-format</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-numbers_002c-Bu-Quan-Yang-Shi-"><code>numbers, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nvcsformats"><code>nvcsformats</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-old_002dlist_002c-Bu-Quan-Yang-Shi-"><code>old-list, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-old_002dmatches_002c-Bu-Quan-Yang-Shi-"><code>old-matches, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-old_002dmenu_002c-Bu-Quan-Yang-Shi-"><code>old-menu, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options_002c-Bu-Quan-Biao-Ji-"><code>options, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-original_002c-Bu-Quan-Biao-Ji-"><code>original, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-original_002c-Bu-Quan-Yang-Shi-"><code>original, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-other_002daccounts_002c-Bu-Quan-Biao-Ji-"><code>other-accounts, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-packages_002c-Bu-Quan-Biao-Ji-"><code>packages, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-packageset_002c-Bu-Quan-Yang-Shi-"><code>packageset, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pager_002c-MIME-style"><code>pager, MIME style</code></a></td><td class="printindex-index-section"><a href="#MIME-_51fd_6570">MIME 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pager_002c-nslookup-Yang-Shi-"><code>pager, nslookup 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-parameters_002c-Bu-Quan-Biao-Ji-"><code>parameters, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-patch_002dformat"><code>patch-format</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-path_002dcompletion_002c-Bu-Quan-Yang-Shi-"><code>path-completion, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-path_002ddirectories_002c-Bu-Quan-Biao-Ji-"><code>path-directories, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-path_002c-Bu-Quan-Yang-Shi-"><code>path, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-paths_002c-Bu-Quan-Biao-Ji-"><code>paths, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pine_002ddirectory_002c-Bu-Quan-Yang-Shi-"><code>pine-directory, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pods_002c-Bu-Quan-Biao-Ji-"><code>pods, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ports_002c-Bu-Quan-Biao-Ji-"><code>ports, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ports_002c-Bu-Quan-Yang-Shi-"><code>ports, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-preferred_002dprecipitation_002c-ShiLiYang-Shi-"><code>preferred-precipitation, 示例样式</code></a></td><td class="printindex-index-section"><a href="#zsh_002fzutil-_6a21_5757">zsh/zutil 模块</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prefix_002dhidden_002c-Bu-Quan-Yang-Shi-"><code>prefix-hidden, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prefix_002dneeded_002c-Bu-Quan-Yang-Shi-"><code>prefix-needed, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prefixes_002c-Bu-Quan-Biao-Ji-"><code>prefixes, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-preserve_002dprefix_002c-Bu-Quan-Yang-Shi-"><code>preserve-prefix, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-printers_002c-Bu-Quan-Biao-Ji-"><code>printers, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-processes_002dnames_002c-Bu-Quan-Biao-Ji-"><code>processes-names, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-processes_002c-Bu-Quan-Biao-Ji-"><code>processes, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-progress_002c-zftp-Yang-Shi-"><code>progress, zftp 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prompt_002c-nslookup-Yang-Shi-"><code>prompt, nslookup 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prompt_002c-Xiao-Bu-Jian-Yang-Shi-"><code>prompt, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quilt_002dpatch_002ddir"><code>quilt-patch-dir</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quilt_002dstandalone"><code>quilt-standalone</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiltcommand"><code>quiltcommand</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-range_002c-Bu-Quan-Yang-Shi-"><code>range, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recursive_002dfiles_002c-Bu-Quan-Yang-Shi-"><code>recursive-files, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reformat_002ddate"><code>reformat-date</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_6837_5f0f">日历样式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-regular_002c-Bu-Quan-Yang-Shi-"><code>regular, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rehash_002c-Bu-Quan-Yang-Shi-"><code>rehash, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-remote_002daccess_002c-Bu-Quan-Yang-Shi-"><code>remote-access, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-remote_002dglob_002c-zftp-Yang-Shi-"><code>remote-glob, zftp 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-remove_002dall_002ddups_002c-Bu-Quan-Yang-Shi-"><code>remove-all-dups, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rprompt_002c-nslookup-Yang-Shi-"><code>rprompt, nslookup 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_5176_5b83_51fd_6570">其它函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002dprompt_002c-Bu-Quan-Yang-Shi-"><code>select-prompt, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-select_002dscroll_002c-Bu-Quan-Yang-Shi-"><code>select-scroll, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-separate_002dsections_002c-Bu-Quan-Yang-Shi-"><code>separate-sections, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sequences_002c-Bu-Quan-Biao-Ji-"><code>sequences, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dambiguity_002c-Bu-Quan-Yang-Shi-"><code>show-ambiguity, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dcompleter_002c-Bu-Quan-Yang-Shi-"><code>show-completer, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dprog"><code>show-prog</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_6837_5f0f">日历样式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-single_002dignored_002c-Bu-Quan-Yang-Shi-"><code>single-ignored, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sort_002c-Bu-Quan-Yang-Shi-"><code>sort, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-special_002ddirs_002c-Bu-Quan-Yang-Shi-"><code>special-dirs, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-squeeze_002dslashes_002c-Bu-Quan-Yang-Shi-"><code>squeeze-slashes, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-stagedstr"><code>stagedstr</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-stop_002dkeys_002c-Xiao-Bu-Jian-Yang-Shi-"><code>stop-keys, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-stop_002c-Bu-Quan-Yang-Shi-"><code>stop, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-strip_002dcomments_002c-Bu-Quan-Yang-Shi-"><code>strip-comments, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-subst_002dglobs_002donly_002c-Bu-Quan-Yang-Shi-"><code>subst-globs-only, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tag_002dorder_002c-Bu-Quan-Yang-Shi-"><code>tag-order, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-titlebar_002c-zftp-Yang-Shi-"><code>titlebar, zftp 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-toggle_002c-Xiao-Bu-Jian-Yang-Shi-"><code>toggle, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unstagedstr"><code>unstagedstr</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-update_002c-zftp-Yang-Shi-"><code>update, zftp 样式</code></a></td><td class="printindex-index-section"><a href="#g_t_6742_9879_529f_80fd">杂项功能</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-urls_002c-Bu-Quan-Biao-Ji-"><code>urls, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-urls_002c-Bu-Quan-Yang-Shi-"><code>urls, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dcache_002c-Bu-Quan-Yang-Shi-"><code>use-cache, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dcompctl_002c-Bu-Quan-Yang-Shi-"><code>use-compctl, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dip_002c-Bu-Quan-Yang-Shi-"><code>use-ip, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dprompt_002descapes"><code>use-prompt-escapes</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dquilt"><code>use-quilt</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dserver"><code>use-server</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dsimple"><code>use-simple</code></a></td><td class="printindex-index-section"><a href="#vcs_005finfo-_914d_7f6e">vcs_info 配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-users_002dhosts_002dports_002c-Bu-Quan-Yang-Shi-"><code>users-hosts-ports, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-users_002dhosts_002c-Bu-Quan-Yang-Shi-"><code>users-hosts, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-users_002c-Bu-Quan-Biao-Ji-"><code>users, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-users_002c-Bu-Quan-Yang-Shi-"><code>users, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-values_002c-Bu-Quan-Biao-Ji-"><code>values, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-variant_002c-Bu-Quan-Biao-Ji-"><code>variant, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose_002c-Xiao-Bu-Jian-Yang-Shi-"><code>verbose, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose_002c-Bu-Quan-Yang-Shi-"><code>verbose, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-visuals_002c-Bu-Quan-Biao-Ji-"><code>visuals, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-warn_002dtime"><code>warn-time</code></a></td><td class="printindex-index-section"><a href="#g_t_65e5_5386_6837_5f0f">日历样式</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-warnings_002c-Bu-Quan-Biao-Ji-"><code>warnings, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-widget_002c-Xiao-Bu-Jian-Yang-Shi-"><code>widget, 小部件样式</code></a></td><td class="printindex-index-section"><a href="#ZLE-_51fd_6570">ZLE 函数</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-widgets_002c-Bu-Quan-Biao-Ji-"><code>widgets, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-windows_002c-Bu-Quan-Biao-Ji-"><code>windows, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-word_002c-Bu-Quan-Yang-Shi-"><code>word, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-Z">Z</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-zsh_002doptions_002c-Bu-Quan-Biao-Ji-"><code>zsh-options, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-会">会</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hui-Hua-_002c-Bu-Quan-Biao-Ji-"><code>会话, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-信">信</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xin-Hao-_002c-Bu-Quan-Biao-Ji-"><code>信号, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-修">修</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xiu-Shi-Fu-_002c-Bu-Quan-Biao-Ji-"><code>修饰符, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-匹">匹</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Pi-Pei-Qi-_002cBu-Quan-Yang-Shi-"><code>匹配器，补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-后">后</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Zhui-_002c-Bu-Quan-Biao-Ji-"><code>后缀, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Hou-Zhui-_002c-Bu-Quan-Yang-Shi-"><code>后缀, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-字">字</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zi-Fu-Chuan-_002c-Bu-Quan-Biao-Ji-"><code>字符串, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-帐">帐</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Zhang-Hu-_002c-Bu-Quan-Biao-Ji-"><code>帐户, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-时">时</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shi-Qu-_002c-Bu-Quan-Biao-Ji-"><code>时区, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-显">显</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Xian-ShiQi-_002c-Bu-Quan-Biao-Ji-"><code>显示器, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-替">替</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Ti-Huan-_002c-Bu-Quan-Yang-Shi-"><code>替换, 补全样式</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-标">标</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Biao-Ji-_002c-Bu-Quan-Biao-Ji-"><code>标记, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-样">样</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Yang-Shi-_002c-Bu-Quan-Biao-Ji-"><code>样式, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-目">目</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-_002c-Bu-Quan-Biao-Ji-"><code>目录, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Lu-Zhan-_002c-Bu-Quan-Biao-Ji-"><code>目录栈, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Mu-Biao-_002c-Bu-Quan-Biao-Ji-"><code>目标, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-类">类</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Lei-Xing-_002c-Bu-Quan-Biao-Ji-"><code>类型, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-设">设</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-She-Bei-_002c-Bu-Quan-Biao-Ji-"><code>设备, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-说">说</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-Shuo-Ming-_002c-Bu-Quan-Biao-Ji-"><code>说明, 补全标记</code></a></td><td class="printindex-index-section"><a href="#g_t_8865_5168_7cfb_7edf_914d_7f6e">补全系统配置</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="ky-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_symbol-1"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-Z"><b>Z</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-会"><b>会</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-信"><b>信</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-修"><b>修</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-匹"><b>匹</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-后"><b>后</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-字"><b>字</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-帐"><b>帐</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-时"><b>时</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-显"><b>显</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-替"><b>替</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-标"><b>标</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-样"><b>样</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-目"><b>目</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-类"><b>类</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-设"><b>设</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#g_t_6837_5f0f_548c_6807_7b7e_7d22_5f15_ky_letter-说"><b>说</b></a>
 &nbsp; 
</td></tr></table>
</div>

</div>
</div>



</body>
</html>
